/* * Licensed to the Apache Software Foundation (ASF) under one * or more contributor license agreements. See the NOTICE file * distributed with this work for additional information * regarding copyright ownership. The ASF licenses this file * to you under the Apache License, Version 2.0 (the "License"); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to you under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
/* * $Id: Mode.java 468650 2006-10-28 07:03:30Z minchau $ */	TokenNameCOMMENT_BLOCK	 $Id: Mode.java 468650 2006-10-28 07:03:30Z minchau $ 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
compiler	TokenNameIdentifier	 compiler
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Enumeration	TokenNameIdentifier	 Enumeration
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Hashtable	TokenNameIdentifier	 Hashtable
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Iterator	TokenNameIdentifier	 Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Vector	TokenNameIdentifier	 Vector
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Instruction	TokenNameIdentifier	 Instruction
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
BranchHandle	TokenNameIdentifier	 Branch Handle
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
ConstantPoolGen	TokenNameIdentifier	 Constant Pool Gen
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
DUP	TokenNameIdentifier	 DUP
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
GOTO_W	TokenNameIdentifier	 GOTO  W
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
IFLT	TokenNameIdentifier	 IFLT
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
ILOAD	TokenNameIdentifier	 ILOAD
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
INVOKEINTERFACE	TokenNameIdentifier	 INVOKEINTERFACE
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
INVOKEVIRTUAL	TokenNameIdentifier	 INVOKEVIRTUAL
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
ISTORE	TokenNameIdentifier	 ISTORE
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
InstructionList	TokenNameIdentifier	 Instruction List
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
LocalVariableGen	TokenNameIdentifier	 Local Variable Gen
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
SWITCH	TokenNameIdentifier	 SWITCH
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
TargetLostException	TokenNameIdentifier	 Target Lost Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
InstructionFinder	TokenNameIdentifier	 Instruction Finder
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
DOM	TokenNameIdentifier	 DOM
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
compiler	TokenNameIdentifier	 compiler
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ClassGenerator	TokenNameIdentifier	 Class Generator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
compiler	TokenNameIdentifier	 compiler
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
MethodGenerator	TokenNameIdentifier	 Method Generator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
compiler	TokenNameIdentifier	 compiler
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
NamedMethodGenerator	TokenNameIdentifier	 Named Method Generator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
compiler	TokenNameIdentifier	 compiler
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Util	TokenNameIdentifier	 Util
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
dtm	TokenNameIdentifier	 dtm
.	TokenNameDOT	
Axis	TokenNameIdentifier	 Axis
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
dtm	TokenNameIdentifier	 dtm
.	TokenNameDOT	
DTM	TokenNameIdentifier	 DTM
;	TokenNameSEMICOLON	
/** * Mode gathers all the templates belonging to a given mode; * it is responsible for generating an appropriate * applyTemplates + (mode name) method in the translet. * @author Jacek Ambroziak * @author Santiago Pericas-Geertsen * @author Morten Jorgensen * @author Erwin Bolwidt <ejb@klomp.org> * @author G. Todd Miller */	TokenNameCOMMENT_JAVADOC	 Mode gathers all the templates belonging to a given mode; it is responsible for generating an appropriate applyTemplates + (mode name) method in the translet. @author Jacek Ambroziak @author Santiago Pericas-Geertsen @author Morten Jorgensen @author Erwin Bolwidt <ejb@klomp.org> @author G. Todd Miller 
final	TokenNamefinal	
class	TokenNameclass	
Mode	TokenNameIdentifier	 Mode
implements	TokenNameimplements	
Constants	TokenNameIdentifier	 Constants
{	TokenNameLBRACE	
/** * The name of this mode as defined in the stylesheet. */	TokenNameCOMMENT_JAVADOC	 The name of this mode as defined in the stylesheet. 
private	TokenNameprivate	
final	TokenNamefinal	
QName	TokenNameIdentifier	 Q Name
_name	TokenNameIdentifier	 name
;	TokenNameSEMICOLON	
/** * A reference to the stylesheet object that owns this mode. */	TokenNameCOMMENT_JAVADOC	 A reference to the stylesheet object that owns this mode. 
private	TokenNameprivate	
final	TokenNamefinal	
Stylesheet	TokenNameIdentifier	 Stylesheet
_stylesheet	TokenNameIdentifier	 stylesheet
;	TokenNameSEMICOLON	
/** * The name of the method in which this mode is compiled. */	TokenNameCOMMENT_JAVADOC	 The name of the method in which this mode is compiled. 
private	TokenNameprivate	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
_methodName	TokenNameIdentifier	 method Name
;	TokenNameSEMICOLON	
/** * A vector of all the templates in this mode. */	TokenNameCOMMENT_JAVADOC	 A vector of all the templates in this mode. 
private	TokenNameprivate	
Vector	TokenNameIdentifier	 Vector
_templates	TokenNameIdentifier	 templates
;	TokenNameSEMICOLON	
/** * Group for patterns with node()-type kernel and child axis. */	TokenNameCOMMENT_JAVADOC	 Group for patterns with node()-type kernel and child axis. 
private	TokenNameprivate	
Vector	TokenNameIdentifier	 Vector
_childNodeGroup	TokenNameIdentifier	 child Node Group
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * Test sequence for patterns with node()-type kernel and child axis. */	TokenNameCOMMENT_JAVADOC	 Test sequence for patterns with node()-type kernel and child axis. 
private	TokenNameprivate	
TestSeq	TokenNameIdentifier	 Test Seq
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * Group for patterns with node()-type kernel and attribute axis. */	TokenNameCOMMENT_JAVADOC	 Group for patterns with node()-type kernel and attribute axis. 
private	TokenNameprivate	
Vector	TokenNameIdentifier	 Vector
_attribNodeGroup	TokenNameIdentifier	 attrib Node Group
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * Test sequence for patterns with node()-type kernel and attribute axis. */	TokenNameCOMMENT_JAVADOC	 Test sequence for patterns with node()-type kernel and attribute axis. 
private	TokenNameprivate	
TestSeq	TokenNameIdentifier	 Test Seq
_attribNodeTestSeq	TokenNameIdentifier	 attrib Node Test Seq
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * Group for patterns with id() or key()-type kernel. */	TokenNameCOMMENT_JAVADOC	 Group for patterns with id() or key()-type kernel. 
private	TokenNameprivate	
Vector	TokenNameIdentifier	 Vector
_idxGroup	TokenNameIdentifier	 idx Group
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * Test sequence for patterns with id() or key()-type kernel. */	TokenNameCOMMENT_JAVADOC	 Test sequence for patterns with id() or key()-type kernel. 
private	TokenNameprivate	
TestSeq	TokenNameIdentifier	 Test Seq
_idxTestSeq	TokenNameIdentifier	 idx Test Seq
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * Group for patterns with any other kernel type. */	TokenNameCOMMENT_JAVADOC	 Group for patterns with any other kernel type. 
private	TokenNameprivate	
Vector	TokenNameIdentifier	 Vector
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
_patternGroups	TokenNameIdentifier	 pattern Groups
;	TokenNameSEMICOLON	
/** * Test sequence for patterns with any other kernel type. */	TokenNameCOMMENT_JAVADOC	 Test sequence for patterns with any other kernel type. 
private	TokenNameprivate	
TestSeq	TokenNameIdentifier	 Test Seq
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
_testSeq	TokenNameIdentifier	 test Seq
;	TokenNameSEMICOLON	
/** * A mapping between templates and test sequences. */	TokenNameCOMMENT_JAVADOC	 A mapping between templates and test sequences. 
private	TokenNameprivate	
Hashtable	TokenNameIdentifier	 Hashtable
_neededTemplates	TokenNameIdentifier	 needed Templates
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * A mapping between named templates and Mode objects. */	TokenNameCOMMENT_JAVADOC	 A mapping between named templates and Mode objects. 
private	TokenNameprivate	
Hashtable	TokenNameIdentifier	 Hashtable
_namedTemplates	TokenNameIdentifier	 named Templates
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * A mapping between templates and instruction handles. */	TokenNameCOMMENT_JAVADOC	 A mapping between templates and instruction handles. 
private	TokenNameprivate	
Hashtable	TokenNameIdentifier	 Hashtable
_templateIHs	TokenNameIdentifier	 template I Hs
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * A mapping between templates and instruction lists. */	TokenNameCOMMENT_JAVADOC	 A mapping between templates and instruction lists. 
private	TokenNameprivate	
Hashtable	TokenNameIdentifier	 Hashtable
_templateILs	TokenNameIdentifier	 template I Ls
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * A reference to the pattern matching the root node. */	TokenNameCOMMENT_JAVADOC	 A reference to the pattern matching the root node. 
private	TokenNameprivate	
LocationPathPattern	TokenNameIdentifier	 Location Path Pattern
_rootPattern	TokenNameIdentifier	 root Pattern
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * Stores ranges of template precendences for the compilation * of apply-imports (a Hashtable for historical reasons). */	TokenNameCOMMENT_JAVADOC	 Stores ranges of template precendences for the compilation of apply-imports (a Hashtable for historical reasons). 
private	TokenNameprivate	
Hashtable	TokenNameIdentifier	 Hashtable
_importLevels	TokenNameIdentifier	 import Levels
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * A mapping between key names and keys. */	TokenNameCOMMENT_JAVADOC	 A mapping between key names and keys. 
private	TokenNameprivate	
Hashtable	TokenNameIdentifier	 Hashtable
_keys	TokenNameIdentifier	 keys
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * Variable index for the current node used in code generation. */	TokenNameCOMMENT_JAVADOC	 Variable index for the current node used in code generation. 
private	TokenNameprivate	
int	TokenNameint	
_currentIndex	TokenNameIdentifier	 current Index
;	TokenNameSEMICOLON	
/** * Creates a new Mode. * * @param name A textual representation of the mode's QName * @param stylesheet The Stylesheet in which the mode occured * @param suffix A suffix to append to the method name for this mode * (normally a sequence number - still in a String). */	TokenNameCOMMENT_JAVADOC	 Creates a new Mode. * @param name A textual representation of the mode's QName @param stylesheet The Stylesheet in which the mode occured @param suffix A suffix to append to the method name for this mode (normally a sequence number - still in a String). 
public	TokenNamepublic	
Mode	TokenNameIdentifier	 Mode
(	TokenNameLPAREN	
QName	TokenNameIdentifier	 Q Name
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
Stylesheet	TokenNameIdentifier	 Stylesheet
stylesheet	TokenNameIdentifier	 stylesheet
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
suffix	TokenNameIdentifier	 suffix
)	TokenNameRPAREN	
{	TokenNameLBRACE	
_name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
name	TokenNameIdentifier	 name
;	TokenNameSEMICOLON	
_stylesheet	TokenNameIdentifier	 stylesheet
=	TokenNameEQUAL	
stylesheet	TokenNameIdentifier	 stylesheet
;	TokenNameSEMICOLON	
_methodName	TokenNameIdentifier	 method Name
=	TokenNameEQUAL	
APPLY_TEMPLATES	TokenNameIdentifier	 APPLY  TEMPLATES
+	TokenNamePLUS	
suffix	TokenNameIdentifier	 suffix
;	TokenNameSEMICOLON	
_templates	TokenNameIdentifier	 templates
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_patternGroups	TokenNameIdentifier	 pattern Groups
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
[	TokenNameLBRACKET	
32	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns the name of the method (_not_ function) that will be * compiled for this mode. Normally takes the form 'applyTemplates()' * or * 'applyTemplates2()'. * * @return Method name for this mode */	TokenNameCOMMENT_JAVADOC	 Returns the name of the method (_not_ function) that will be compiled for this mode. Normally takes the form 'applyTemplates()' or 'applyTemplates2()'. * @return Method name for this mode 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
functionName	TokenNameIdentifier	 function Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
_methodName	TokenNameIdentifier	 method Name
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
functionName	TokenNameIdentifier	 function Name
(	TokenNameLPAREN	
int	TokenNameint	
min	TokenNameIdentifier	 min
,	TokenNameCOMMA	
int	TokenNameint	
max	TokenNameIdentifier	 max
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
_importLevels	TokenNameIdentifier	 import Levels
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
_importLevels	TokenNameIdentifier	 import Levels
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
_importLevels	TokenNameIdentifier	 import Levels
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
new	TokenNamenew	
Integer	TokenNameIdentifier	 Integer
(	TokenNameLPAREN	
max	TokenNameIdentifier	 max
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
Integer	TokenNameIdentifier	 Integer
(	TokenNameLPAREN	
min	TokenNameIdentifier	 min
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
_methodName	TokenNameIdentifier	 method Name
+	TokenNamePLUS	
'_'	TokenNameCharacterLiteral	
+	TokenNamePLUS	
max	TokenNameIdentifier	 max
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Shortcut to get the class compiled for this mode (will be inlined). */	TokenNameCOMMENT_JAVADOC	 Shortcut to get the class compiled for this mode (will be inlined). 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
getClassName	TokenNameIdentifier	 get Class Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
_stylesheet	TokenNameIdentifier	 stylesheet
.	TokenNameDOT	
getClassName	TokenNameIdentifier	 get Class Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Stylesheet	TokenNameIdentifier	 Stylesheet
getStylesheet	TokenNameIdentifier	 get Stylesheet
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
_stylesheet	TokenNameIdentifier	 stylesheet
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
addTemplate	TokenNameIdentifier	 add Template
(	TokenNameLPAREN	
Template	TokenNameIdentifier	 Template
template	TokenNameIdentifier	 template
)	TokenNameRPAREN	
{	TokenNameLBRACE	
_templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
Vector	TokenNameIdentifier	 Vector
quicksort	TokenNameIdentifier	 quicksort
(	TokenNameLPAREN	
Vector	TokenNameIdentifier	 Vector
templates	TokenNameIdentifier	 templates
,	TokenNameCOMMA	
int	TokenNameint	
p	TokenNameIdentifier	 p
,	TokenNameCOMMA	
int	TokenNameint	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
p	TokenNameIdentifier	 p
<	TokenNameLESS	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
int	TokenNameint	
q	TokenNameIdentifier	 q
=	TokenNameEQUAL	
partition	TokenNameIdentifier	 partition
(	TokenNameLPAREN	
templates	TokenNameIdentifier	 templates
,	TokenNameCOMMA	
p	TokenNameIdentifier	 p
,	TokenNameCOMMA	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
quicksort	TokenNameIdentifier	 quicksort
(	TokenNameLPAREN	
templates	TokenNameIdentifier	 templates
,	TokenNameCOMMA	
p	TokenNameIdentifier	 p
,	TokenNameCOMMA	
q	TokenNameIdentifier	 q
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
quicksort	TokenNameIdentifier	 quicksort
(	TokenNameLPAREN	
templates	TokenNameIdentifier	 templates
,	TokenNameCOMMA	
q	TokenNameIdentifier	 q
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
templates	TokenNameIdentifier	 templates
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
int	TokenNameint	
partition	TokenNameIdentifier	 partition
(	TokenNameLPAREN	
Vector	TokenNameIdentifier	 Vector
templates	TokenNameIdentifier	 templates
,	TokenNameCOMMA	
int	TokenNameint	
p	TokenNameIdentifier	 p
,	TokenNameCOMMA	
int	TokenNameint	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
Template	TokenNameIdentifier	 Template
x	TokenNameIdentifier	 x
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Template	TokenNameIdentifier	 Template
)	TokenNameRPAREN	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
p	TokenNameIdentifier	 p
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
p	TokenNameIdentifier	 p
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
r	TokenNameIdentifier	 r
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
x	TokenNameIdentifier	 x
.	TokenNameDOT	
compareTo	TokenNameIdentifier	 compare To
(	TokenNameLPAREN	
(	TokenNameLPAREN	
Template	TokenNameIdentifier	 Template
)	TokenNameRPAREN	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
--	TokenNameMINUS_MINUS	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
x	TokenNameIdentifier	 x
.	TokenNameDOT	
compareTo	TokenNameIdentifier	 compare To
(	TokenNameLPAREN	
(	TokenNameLPAREN	
Template	TokenNameIdentifier	 Template
)	TokenNameRPAREN	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
++	TokenNamePLUS_PLUS	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
)	TokenNameRPAREN	
<	TokenNameLESS	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
{	TokenNameLBRACE	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
set	TokenNameIdentifier	 set
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
set	TokenNameIdentifier	 set
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
,	TokenNameCOMMA	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
return	TokenNamereturn	
j	TokenNameIdentifier	 j
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Process all the test patterns in this mode */	TokenNameCOMMENT_JAVADOC	 Process all the test patterns in this mode 
public	TokenNamepublic	
void	TokenNamevoid	
processPatterns	TokenNameIdentifier	 process Patterns
(	TokenNameLPAREN	
Hashtable	TokenNameIdentifier	 Hashtable
keys	TokenNameIdentifier	 keys
)	TokenNameRPAREN	
{	TokenNameLBRACE	
_keys	TokenNameIdentifier	 keys
=	TokenNameEQUAL	
keys	TokenNameIdentifier	 keys
;	TokenNameSEMICOLON	
/* System.out.println("Before Sort " + _name); for (int i = 0; i < _templates.size(); i++) { System.out.println("name = " + ((Template)_templates.elementAt(i)).getName()); System.out.println("pattern = " + ((Template)_templates.elementAt(i)).getPattern()); System.out.println("priority = " + ((Template)_templates.elementAt(i)).getPriority()); System.out.println("position = " + ((Template)_templates.elementAt(i)).getPosition()); } */	TokenNameCOMMENT_BLOCK	 System.out.println("Before Sort " + _name); for (int i = 0; i < _templates.size(); i++) { System.out.println("name = " + ((Template)_templates.elementAt(i)).getName()); System.out.println("pattern = " + ((Template)_templates.elementAt(i)).getPattern()); System.out.println("priority = " + ((Template)_templates.elementAt(i)).getPriority()); System.out.println("position = " + ((Template)_templates.elementAt(i)).getPosition()); } 
_templates	TokenNameIdentifier	 templates
=	TokenNameEQUAL	
quicksort	TokenNameIdentifier	 quicksort
(	TokenNameLPAREN	
_templates	TokenNameIdentifier	 templates
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
_templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/* System.out.println("\n After Sort " + _name); for (int i = 0; i < _templates.size(); i++) { System.out.println("name = " + ((Template)_templates.elementAt(i)).getName()); System.out.println("pattern = " + ((Template)_templates.elementAt(i)).getPattern()); System.out.println("priority = " + ((Template)_templates.elementAt(i)).getPriority()); System.out.println("position = " + ((Template)_templates.elementAt(i)).getPosition()); } */	TokenNameCOMMENT_BLOCK	 System.out.println("\n After Sort " + _name); for (int i = 0; i < _templates.size(); i++) { System.out.println("name = " + ((Template)_templates.elementAt(i)).getName()); System.out.println("pattern = " + ((Template)_templates.elementAt(i)).getPattern()); System.out.println("priority = " + ((Template)_templates.elementAt(i)).getPriority()); System.out.println("position = " + ((Template)_templates.elementAt(i)).getPosition()); } 
// Traverse all templates 	TokenNameCOMMENT_LINE	Traverse all templates 
final	TokenNamefinal	
Enumeration	TokenNameIdentifier	 Enumeration
templates	TokenNameIdentifier	 templates
=	TokenNameEQUAL	
_templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
elements	TokenNameIdentifier	 elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Get the next template 	TokenNameCOMMENT_LINE	Get the next template 
final	TokenNamefinal	
Template	TokenNameIdentifier	 Template
template	TokenNameIdentifier	 template
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Template	TokenNameIdentifier	 Template
)	TokenNameRPAREN	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
nextElement	TokenNameIdentifier	 next Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/* * Add this template to a table of named templates if it has a name. * If there are multiple templates with the same name, all but one * (the one with highest priority) will be disabled. */	TokenNameCOMMENT_BLOCK	 Add this template to a table of named templates if it has a name. If there are multiple templates with the same name, all but one (the one with highest priority) will be disabled. 
if	TokenNameif	
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
.	TokenNameDOT	
isNamed	TokenNameIdentifier	 is Named
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
template	TokenNameIdentifier	 template
.	TokenNameDOT	
disabled	TokenNameIdentifier	 disabled
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
_namedTemplates	TokenNameIdentifier	 named Templates
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
,	TokenNameCOMMA	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Add this template to a test sequence if it has a pattern 	TokenNameCOMMENT_LINE	Add this template to a test sequence if it has a pattern 
final	TokenNamefinal	
Pattern	TokenNameIdentifier	 Pattern
pattern	TokenNameIdentifier	 pattern
=	TokenNameEQUAL	
template	TokenNameIdentifier	 template
.	TokenNameDOT	
getPattern	TokenNameIdentifier	 get Pattern
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
flattenAlternative	TokenNameIdentifier	 flatten Alternative
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
,	TokenNameCOMMA	
template	TokenNameIdentifier	 template
,	TokenNameCOMMA	
keys	TokenNameIdentifier	 keys
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
prepareTestSequences	TokenNameIdentifier	 prepare Test Sequences
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * This method will break up alternative patterns (ie. unions of patterns, * such as match="A/B | C/B") and add the basic patterns to their * respective pattern groups. */	TokenNameCOMMENT_JAVADOC	 This method will break up alternative patterns (ie. unions of patterns, such as match="A/B | C/B") and add the basic patterns to their respective pattern groups. 
private	TokenNameprivate	
void	TokenNamevoid	
flattenAlternative	TokenNameIdentifier	 flatten Alternative
(	TokenNameLPAREN	
Pattern	TokenNameIdentifier	 Pattern
pattern	TokenNameIdentifier	 pattern
,	TokenNameCOMMA	
Template	TokenNameIdentifier	 Template
template	TokenNameIdentifier	 template
,	TokenNameCOMMA	
Hashtable	TokenNameIdentifier	 Hashtable
keys	TokenNameIdentifier	 keys
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Patterns on type id() and key() are special since they do not have 	TokenNameCOMMENT_LINE	Patterns on type id() and key() are special since they do not have 
// any kernel node type (it can be anything as long as the node is in 	TokenNameCOMMENT_LINE	any kernel node type (it can be anything as long as the node is in 
// the id's or key's index). 	TokenNameCOMMENT_LINE	the id's or key's index). 
if	TokenNameif	
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
instanceof	TokenNameinstanceof	
IdKeyPattern	TokenNameIdentifier	 Id Key Pattern
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
IdKeyPattern	TokenNameIdentifier	 Id Key Pattern
idkey	TokenNameIdentifier	 idkey
=	TokenNameEQUAL	
(	TokenNameLPAREN	
IdKeyPattern	TokenNameIdentifier	 Id Key Pattern
)	TokenNameRPAREN	
pattern	TokenNameIdentifier	 pattern
;	TokenNameSEMICOLON	
idkey	TokenNameIdentifier	 idkey
.	TokenNameDOT	
setTemplate	TokenNameIdentifier	 set Template
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
_idxGroup	TokenNameIdentifier	 idx Group
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
_idxGroup	TokenNameIdentifier	 idx Group
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_idxGroup	TokenNameIdentifier	 idx Group
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Alternative patterns are broken up and re-processed recursively 	TokenNameCOMMENT_LINE	Alternative patterns are broken up and re-processed recursively 
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
instanceof	TokenNameinstanceof	
AlternativePattern	TokenNameIdentifier	 Alternative Pattern
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
AlternativePattern	TokenNameIdentifier	 Alternative Pattern
alt	TokenNameIdentifier	 alt
=	TokenNameEQUAL	
(	TokenNameLPAREN	
AlternativePattern	TokenNameIdentifier	 Alternative Pattern
)	TokenNameRPAREN	
pattern	TokenNameIdentifier	 pattern
;	TokenNameSEMICOLON	
flattenAlternative	TokenNameIdentifier	 flatten Alternative
(	TokenNameLPAREN	
alt	TokenNameIdentifier	 alt
.	TokenNameDOT	
getLeft	TokenNameIdentifier	 get Left
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
template	TokenNameIdentifier	 template
,	TokenNameCOMMA	
keys	TokenNameIdentifier	 keys
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
flattenAlternative	TokenNameIdentifier	 flatten Alternative
(	TokenNameLPAREN	
alt	TokenNameIdentifier	 alt
.	TokenNameDOT	
getRight	TokenNameIdentifier	 get Right
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
template	TokenNameIdentifier	 template
,	TokenNameCOMMA	
keys	TokenNameIdentifier	 keys
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Finally we have a pattern that can be added to a test sequence! 	TokenNameCOMMENT_LINE	Finally we have a pattern that can be added to a test sequence! 
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
instanceof	TokenNameinstanceof	
LocationPathPattern	TokenNameIdentifier	 Location Path Pattern
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
LocationPathPattern	TokenNameIdentifier	 Location Path Pattern
lpp	TokenNameIdentifier	 lpp
=	TokenNameEQUAL	
(	TokenNameLPAREN	
LocationPathPattern	TokenNameIdentifier	 Location Path Pattern
)	TokenNameRPAREN	
pattern	TokenNameIdentifier	 pattern
;	TokenNameSEMICOLON	
lpp	TokenNameIdentifier	 lpp
.	TokenNameDOT	
setTemplate	TokenNameIdentifier	 set Template
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addPatternToGroup	TokenNameIdentifier	 add Pattern To Group
(	TokenNameLPAREN	
lpp	TokenNameIdentifier	 lpp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Group patterns by NodeTests of their last Step * Keep them sorted by priority within group */	TokenNameCOMMENT_JAVADOC	 Group patterns by NodeTests of their last Step Keep them sorted by priority within group 
private	TokenNameprivate	
void	TokenNamevoid	
addPatternToGroup	TokenNameIdentifier	 add Pattern To Group
(	TokenNameLPAREN	
final	TokenNamefinal	
LocationPathPattern	TokenNameIdentifier	 Location Path Pattern
lpp	TokenNameIdentifier	 lpp
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// id() and key()-type patterns do not have a kernel type 	TokenNameCOMMENT_LINE	id() and key()-type patterns do not have a kernel type 
if	TokenNameif	
(	TokenNameLPAREN	
lpp	TokenNameIdentifier	 lpp
instanceof	TokenNameinstanceof	
IdKeyPattern	TokenNameIdentifier	 Id Key Pattern
)	TokenNameRPAREN	
{	TokenNameLBRACE	
addPattern	TokenNameIdentifier	 add Pattern
(	TokenNameLPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
lpp	TokenNameIdentifier	 lpp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Otherwise get the kernel pattern from the LPP 	TokenNameCOMMENT_LINE	Otherwise get the kernel pattern from the LPP 
else	TokenNameelse	
{	TokenNameLBRACE	
// kernel pattern is the last (maybe only) Step 	TokenNameCOMMENT_LINE	kernel pattern is the last (maybe only) Step 
final	TokenNamefinal	
StepPattern	TokenNameIdentifier	 Step Pattern
kernel	TokenNameIdentifier	 kernel
=	TokenNameEQUAL	
lpp	TokenNameIdentifier	 lpp
.	TokenNameDOT	
getKernelPattern	TokenNameIdentifier	 get Kernel Pattern
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
kernel	TokenNameIdentifier	 kernel
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
addPattern	TokenNameIdentifier	 add Pattern
(	TokenNameLPAREN	
kernel	TokenNameIdentifier	 kernel
.	TokenNameDOT	
getNodeType	TokenNameIdentifier	 get Node Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
lpp	TokenNameIdentifier	 lpp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
_rootPattern	TokenNameIdentifier	 root Pattern
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
lpp	TokenNameIdentifier	 lpp
.	TokenNameDOT	
noSmallerThan	TokenNameIdentifier	 no Smaller Than
(	TokenNameLPAREN	
_rootPattern	TokenNameIdentifier	 root Pattern
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
_rootPattern	TokenNameIdentifier	 root Pattern
=	TokenNameEQUAL	
lpp	TokenNameIdentifier	 lpp
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Adds a pattern to a pattern group */	TokenNameCOMMENT_JAVADOC	 Adds a pattern to a pattern group 
private	TokenNameprivate	
void	TokenNamevoid	
addPattern	TokenNameIdentifier	 add Pattern
(	TokenNameLPAREN	
int	TokenNameint	
kernelType	TokenNameIdentifier	 kernel Type
,	TokenNameCOMMA	
LocationPathPattern	TokenNameIdentifier	 Location Path Pattern
pattern	TokenNameIdentifier	 pattern
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Make sure the array of pattern groups is long enough 	TokenNameCOMMENT_LINE	Make sure the array of pattern groups is long enough 
final	TokenNamefinal	
int	TokenNameint	
oldLength	TokenNameIdentifier	 old Length
=	TokenNameEQUAL	
_patternGroups	TokenNameIdentifier	 pattern Groups
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
kernelType	TokenNameIdentifier	 kernel Type
>=	TokenNameGREATER_EQUAL	
oldLength	TokenNameIdentifier	 old Length
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Vector	TokenNameIdentifier	 Vector
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
newGroups	TokenNameIdentifier	 new Groups
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
[	TokenNameLBRACKET	
kernelType	TokenNameIdentifier	 kernel Type
*	TokenNameMULTIPLY	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
arraycopy	TokenNameIdentifier	 arraycopy
(	TokenNameLPAREN	
_patternGroups	TokenNameIdentifier	 pattern Groups
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
newGroups	TokenNameIdentifier	 new Groups
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
oldLength	TokenNameIdentifier	 old Length
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_patternGroups	TokenNameIdentifier	 pattern Groups
=	TokenNameEQUAL	
newGroups	TokenNameIdentifier	 new Groups
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Find the vector to put this pattern into 	TokenNameCOMMENT_LINE	Find the vector to put this pattern into 
Vector	TokenNameIdentifier	 Vector
patterns	TokenNameIdentifier	 patterns
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
kernelType	TokenNameIdentifier	 kernel Type
==	TokenNameEQUAL_EQUAL	
DOM	TokenNameIdentifier	 DOM
.	TokenNameDOT	
NO_TYPE	TokenNameIdentifier	 NO  TYPE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
.	TokenNameDOT	
getAxis	TokenNameIdentifier	 get Axis
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
Axis	TokenNameIdentifier	 Axis
.	TokenNameDOT	
ATTRIBUTE	TokenNameIdentifier	 ATTRIBUTE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
patterns	TokenNameIdentifier	 patterns
=	TokenNameEQUAL	
(	TokenNameLPAREN	
_attribNodeGroup	TokenNameIdentifier	 attrib Node Group
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
(	TokenNameLPAREN	
_attribNodeGroup	TokenNameIdentifier	 attrib Node Group
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
_attribNodeGroup	TokenNameIdentifier	 attrib Node Group
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
patterns	TokenNameIdentifier	 patterns
=	TokenNameEQUAL	
(	TokenNameLPAREN	
_childNodeGroup	TokenNameIdentifier	 child Node Group
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
(	TokenNameLPAREN	
_childNodeGroup	TokenNameIdentifier	 child Node Group
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
_childNodeGroup	TokenNameIdentifier	 child Node Group
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
patterns	TokenNameIdentifier	 patterns
=	TokenNameEQUAL	
(	TokenNameLPAREN	
_patternGroups	TokenNameIdentifier	 pattern Groups
[	TokenNameLBRACKET	
kernelType	TokenNameIdentifier	 kernel Type
]	TokenNameRBRACKET	
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
(	TokenNameLPAREN	
_patternGroups	TokenNameIdentifier	 pattern Groups
[	TokenNameLBRACKET	
kernelType	TokenNameIdentifier	 kernel Type
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
_patternGroups	TokenNameIdentifier	 pattern Groups
[	TokenNameLBRACKET	
kernelType	TokenNameIdentifier	 kernel Type
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
patterns	TokenNameIdentifier	 patterns
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
patterns	TokenNameIdentifier	 patterns
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
inserted	TokenNameIdentifier	 inserted
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
patterns	TokenNameIdentifier	 patterns
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
LocationPathPattern	TokenNameIdentifier	 Location Path Pattern
lppToCompare	TokenNameIdentifier	 lpp To Compare
=	TokenNameEQUAL	
(	TokenNameLPAREN	
LocationPathPattern	TokenNameIdentifier	 Location Path Pattern
)	TokenNameRPAREN	
patterns	TokenNameIdentifier	 patterns
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
.	TokenNameDOT	
noSmallerThan	TokenNameIdentifier	 no Smaller Than
(	TokenNameLPAREN	
lppToCompare	TokenNameIdentifier	 lpp To Compare
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
inserted	TokenNameIdentifier	 inserted
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
patterns	TokenNameIdentifier	 patterns
.	TokenNameDOT	
insertElementAt	TokenNameIdentifier	 insert Element At
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
,	TokenNameCOMMA	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
inserted	TokenNameIdentifier	 inserted
==	TokenNameEQUAL_EQUAL	
false	TokenNamefalse	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
patterns	TokenNameIdentifier	 patterns
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Complete test sequences of a given type by adding all patterns * from a given group. */	TokenNameCOMMENT_JAVADOC	 Complete test sequences of a given type by adding all patterns from a given group. 
private	TokenNameprivate	
void	TokenNamevoid	
completeTestSequences	TokenNameIdentifier	 complete Test Sequences
(	TokenNameLPAREN	
int	TokenNameint	
nodeType	TokenNameIdentifier	 node Type
,	TokenNameCOMMA	
Vector	TokenNameIdentifier	 Vector
patterns	TokenNameIdentifier	 patterns
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
patterns	TokenNameIdentifier	 patterns
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
_patternGroups	TokenNameIdentifier	 pattern Groups
[	TokenNameLBRACKET	
nodeType	TokenNameIdentifier	 node Type
]	TokenNameRBRACKET	
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
_patternGroups	TokenNameIdentifier	 pattern Groups
[	TokenNameLBRACKET	
nodeType	TokenNameIdentifier	 node Type
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
patterns	TokenNameIdentifier	 patterns
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
final	TokenNamefinal	
int	TokenNameint	
m	TokenNameIdentifier	 m
=	TokenNameEQUAL	
patterns	TokenNameIdentifier	 patterns
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
m	TokenNameIdentifier	 m
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
addPattern	TokenNameIdentifier	 add Pattern
(	TokenNameLPAREN	
nodeType	TokenNameIdentifier	 node Type
,	TokenNameCOMMA	
(	TokenNameLPAREN	
LocationPathPattern	TokenNameIdentifier	 Location Path Pattern
)	TokenNameRPAREN	
patterns	TokenNameIdentifier	 patterns
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Build test sequences. The first step is to complete the test sequences * by including patterns of "*" and "node()" kernel to all element test * sequences, and of "@*" to all attribute test sequences. */	TokenNameCOMMENT_JAVADOC	 Build test sequences. The first step is to complete the test sequences by including patterns of "*" and "node()" kernel to all element test sequences, and of "@*" to all attribute test sequences. 
private	TokenNameprivate	
void	TokenNamevoid	
prepareTestSequences	TokenNameIdentifier	 prepare Test Sequences
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
Vector	TokenNameIdentifier	 Vector
starGroup	TokenNameIdentifier	 star Group
=	TokenNameEQUAL	
_patternGroups	TokenNameIdentifier	 pattern Groups
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ELEMENT_NODE	TokenNameIdentifier	 ELEMENT  NODE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
Vector	TokenNameIdentifier	 Vector
atStarGroup	TokenNameIdentifier	 at Star Group
=	TokenNameEQUAL	
_patternGroups	TokenNameIdentifier	 pattern Groups
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ATTRIBUTE_NODE	TokenNameIdentifier	 ATTRIBUTE  NODE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// Complete test sequence for "text()" with "child::node()" 	TokenNameCOMMENT_LINE	Complete test sequence for "text()" with "child::node()" 
completeTestSequences	TokenNameIdentifier	 complete Test Sequences
(	TokenNameLPAREN	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
,	TokenNameCOMMA	
_childNodeGroup	TokenNameIdentifier	 child Node Group
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Complete test sequence for "*" with "child::node()" 	TokenNameCOMMENT_LINE	Complete test sequence for "*" with "child::node()" 
completeTestSequences	TokenNameIdentifier	 complete Test Sequences
(	TokenNameLPAREN	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ELEMENT_NODE	TokenNameIdentifier	 ELEMENT  NODE
,	TokenNameCOMMA	
_childNodeGroup	TokenNameIdentifier	 child Node Group
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Complete test sequence for "pi()" with "child::node()" 	TokenNameCOMMENT_LINE	Complete test sequence for "pi()" with "child::node()" 
completeTestSequences	TokenNameIdentifier	 complete Test Sequences
(	TokenNameLPAREN	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
PROCESSING_INSTRUCTION_NODE	TokenNameIdentifier	 PROCESSING  INSTRUCTION  NODE
,	TokenNameCOMMA	
_childNodeGroup	TokenNameIdentifier	 child Node Group
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Complete test sequence for "comment()" with "child::node()" 	TokenNameCOMMENT_LINE	Complete test sequence for "comment()" with "child::node()" 
completeTestSequences	TokenNameIdentifier	 complete Test Sequences
(	TokenNameLPAREN	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
COMMENT_NODE	TokenNameIdentifier	 COMMENT  NODE
,	TokenNameCOMMA	
_childNodeGroup	TokenNameIdentifier	 child Node Group
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Complete test sequence for "@*" with "attribute::node()" 	TokenNameCOMMENT_LINE	Complete test sequence for "@*" with "attribute::node()" 
completeTestSequences	TokenNameIdentifier	 complete Test Sequences
(	TokenNameLPAREN	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ATTRIBUTE_NODE	TokenNameIdentifier	 ATTRIBUTE  NODE
,	TokenNameCOMMA	
_attribNodeGroup	TokenNameIdentifier	 attrib Node Group
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
Vector	TokenNameIdentifier	 Vector
names	TokenNameIdentifier	 names
=	TokenNameEQUAL	
_stylesheet	TokenNameIdentifier	 stylesheet
.	TokenNameDOT	
getXSLTC	TokenNameIdentifier	 get XSLTC
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getNamesIndex	TokenNameIdentifier	 get Names Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
starGroup	TokenNameIdentifier	 star Group
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
atStarGroup	TokenNameIdentifier	 at Star Group
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
_childNodeGroup	TokenNameIdentifier	 child Node Group
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
_attribNodeGroup	TokenNameIdentifier	 attrib Node Group
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
int	TokenNameint	
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
_patternGroups	TokenNameIdentifier	 pattern Groups
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
// Complete test sequence for user-defined types 	TokenNameCOMMENT_LINE	Complete test sequence for user-defined types 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NTYPES	TokenNameIdentifier	 NTYPES
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
n	TokenNameIdentifier	 n
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
_patternGroups	TokenNameIdentifier	 pattern Groups
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
names	TokenNameIdentifier	 names
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
-	TokenNameMINUS	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NTYPES	TokenNameIdentifier	 NTYPES
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
isAttributeName	TokenNameIdentifier	 is Attribute Name
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// If an attribute then copy "@*" to its test sequence 	TokenNameCOMMENT_LINE	If an attribute then copy "@*" to its test sequence 
completeTestSequences	TokenNameIdentifier	 complete Test Sequences
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
,	TokenNameCOMMA	
atStarGroup	TokenNameIdentifier	 at Star Group
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// And also copy "attribute::node()" to its test sequence 	TokenNameCOMMENT_LINE	And also copy "attribute::node()" to its test sequence 
completeTestSequences	TokenNameIdentifier	 complete Test Sequences
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
,	TokenNameCOMMA	
_attribNodeGroup	TokenNameIdentifier	 attrib Node Group
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// If an element then copy "*" to its test sequence 	TokenNameCOMMENT_LINE	If an element then copy "*" to its test sequence 
completeTestSequences	TokenNameIdentifier	 complete Test Sequences
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
,	TokenNameCOMMA	
starGroup	TokenNameIdentifier	 star Group
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// And also copy "child::node()" to its test sequence 	TokenNameCOMMENT_LINE	And also copy "child::node()" to its test sequence 
completeTestSequences	TokenNameIdentifier	 complete Test Sequences
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
,	TokenNameCOMMA	
_childNodeGroup	TokenNameIdentifier	 child Node Group
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
_testSeq	TokenNameIdentifier	 test Seq
=	TokenNameEQUAL	
new	TokenNamenew	
TestSeq	TokenNameIdentifier	 Test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NTYPES	TokenNameIdentifier	 NTYPES
+	TokenNamePLUS	
names	TokenNameIdentifier	 names
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
_patternGroups	TokenNameIdentifier	 pattern Groups
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
n	TokenNameIdentifier	 n
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
Vector	TokenNameIdentifier	 Vector
patterns	TokenNameIdentifier	 patterns
=	TokenNameEQUAL	
_patternGroups	TokenNameIdentifier	 pattern Groups
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
patterns	TokenNameIdentifier	 patterns
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
TestSeq	TokenNameIdentifier	 Test Seq
testSeq	TokenNameIdentifier	 test Seq
=	TokenNameEQUAL	
new	TokenNamenew	
TestSeq	TokenNameIdentifier	 Test Seq
(	TokenNameLPAREN	
patterns	TokenNameIdentifier	 patterns
,	TokenNameCOMMA	
i	TokenNameIdentifier	 i
,	TokenNameCOMMA	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("testSeq[" + i + "] = " + testSeq); 	TokenNameCOMMENT_LINE	System.out.println("testSeq[" + i + "] = " + testSeq); 
testSeq	TokenNameIdentifier	 test Seq
.	TokenNameDOT	
reduce	TokenNameIdentifier	 reduce
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
testSeq	TokenNameIdentifier	 test Seq
;	TokenNameSEMICOLON	
testSeq	TokenNameIdentifier	 test Seq
.	TokenNameDOT	
findTemplates	TokenNameIdentifier	 find Templates
(	TokenNameLPAREN	
_neededTemplates	TokenNameIdentifier	 needed Templates
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
_childNodeGroup	TokenNameIdentifier	 child Node Group
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
_childNodeGroup	TokenNameIdentifier	 child Node Group
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
=	TokenNameEQUAL	
new	TokenNamenew	
TestSeq	TokenNameIdentifier	 Test Seq
(	TokenNameLPAREN	
_childNodeGroup	TokenNameIdentifier	 child Node Group
,	TokenNameCOMMA	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
.	TokenNameDOT	
reduce	TokenNameIdentifier	 reduce
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
.	TokenNameDOT	
findTemplates	TokenNameIdentifier	 find Templates
(	TokenNameLPAREN	
_neededTemplates	TokenNameIdentifier	 needed Templates
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* if (_attribNodeGroup != null && _attribNodeGroup.size() > 0) { _attribNodeTestSeq = new TestSeq(_attribNodeGroup, -1, this); _attribNodeTestSeq.reduce(); _attribNodeTestSeq.findTemplates(_neededTemplates); } */	TokenNameCOMMENT_BLOCK	 if (_attribNodeGroup != null && _attribNodeGroup.size() > 0) { _attribNodeTestSeq = new TestSeq(_attribNodeGroup, -1, this); _attribNodeTestSeq.reduce(); _attribNodeTestSeq.findTemplates(_neededTemplates); } 
if	TokenNameif	
(	TokenNameLPAREN	
_idxGroup	TokenNameIdentifier	 idx Group
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
_idxGroup	TokenNameIdentifier	 idx Group
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
_idxTestSeq	TokenNameIdentifier	 idx Test Seq
=	TokenNameEQUAL	
new	TokenNamenew	
TestSeq	TokenNameIdentifier	 Test Seq
(	TokenNameLPAREN	
_idxGroup	TokenNameIdentifier	 idx Group
,	TokenNameCOMMA	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_idxTestSeq	TokenNameIdentifier	 idx Test Seq
.	TokenNameDOT	
reduce	TokenNameIdentifier	 reduce
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_idxTestSeq	TokenNameIdentifier	 idx Test Seq
.	TokenNameDOT	
findTemplates	TokenNameIdentifier	 find Templates
(	TokenNameLPAREN	
_neededTemplates	TokenNameIdentifier	 needed Templates
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
_rootPattern	TokenNameIdentifier	 root Pattern
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// doesn't matter what is 'put', only key matters 	TokenNameCOMMENT_LINE	doesn't matter what is 'put', only key matters 
_neededTemplates	TokenNameIdentifier	 needed Templates
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
_rootPattern	TokenNameIdentifier	 root Pattern
.	TokenNameDOT	
getTemplate	TokenNameIdentifier	 get Template
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
compileNamedTemplate	TokenNameIdentifier	 compile Named Template
(	TokenNameLPAREN	
Template	TokenNameIdentifier	 Template
template	TokenNameIdentifier	 template
,	TokenNameCOMMA	
ClassGenerator	TokenNameIdentifier	 Class Generator
classGen	TokenNameIdentifier	 class Gen
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
ConstantPoolGen	TokenNameIdentifier	 Constant Pool Gen
cpg	TokenNameIdentifier	 cpg
=	TokenNameEQUAL	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getConstantPool	TokenNameIdentifier	 get Constant Pool
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
InstructionList	TokenNameIdentifier	 Instruction List
il	TokenNameIdentifier	 il
=	TokenNameEQUAL	
new	TokenNamenew	
InstructionList	TokenNameIdentifier	 Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
methodName	TokenNameIdentifier	 method Name
=	TokenNameEQUAL	
Util	TokenNameIdentifier	 Util
.	TokenNameDOT	
escape	TokenNameIdentifier	 escape
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
numParams	TokenNameIdentifier	 num Params
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
.	TokenNameDOT	
isSimpleNamedTemplate	TokenNameIdentifier	 is Simple Named Template
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Vector	TokenNameIdentifier	 Vector
parameters	TokenNameIdentifier	 parameters
=	TokenNameEQUAL	
template	TokenNameIdentifier	 template
.	TokenNameDOT	
getParameters	TokenNameIdentifier	 get Parameters
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
numParams	TokenNameIdentifier	 num Params
=	TokenNameEQUAL	
parameters	TokenNameIdentifier	 parameters
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Initialize the types and names arrays for the NamedMethodGenerator. 	TokenNameCOMMENT_LINE	Initialize the types and names arrays for the NamedMethodGenerator. 
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
types	TokenNameIdentifier	 types
=	TokenNameEQUAL	
new	TokenNamenew	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
[	TokenNameLBRACKET	
4	TokenNameIntegerLiteral	
+	TokenNamePLUS	
numParams	TokenNameIdentifier	 num Params
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
names	TokenNameIdentifier	 names
=	TokenNameEQUAL	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
4	TokenNameIntegerLiteral	
+	TokenNamePLUS	
numParams	TokenNameIdentifier	 num Params
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
types	TokenNameIdentifier	 types
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
Util	TokenNameIdentifier	 Util
.	TokenNameDOT	
getJCRefType	TokenNameIdentifier	 get JC Ref Type
(	TokenNameLPAREN	
DOM_INTF_SIG	TokenNameIdentifier	 DOM  INTF  SIG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
types	TokenNameIdentifier	 types
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
Util	TokenNameIdentifier	 Util
.	TokenNameDOT	
getJCRefType	TokenNameIdentifier	 get JC Ref Type
(	TokenNameLPAREN	
NODE_ITERATOR_SIG	TokenNameIdentifier	 NODE  ITERATOR  SIG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
types	TokenNameIdentifier	 types
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
Util	TokenNameIdentifier	 Util
.	TokenNameDOT	
getJCRefType	TokenNameIdentifier	 get JC Ref Type
(	TokenNameLPAREN	
TRANSLET_OUTPUT_SIG	TokenNameIdentifier	 TRANSLET  OUTPUT  SIG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
types	TokenNameIdentifier	 types
[	TokenNameLBRACKET	
3	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
.	TokenNameDOT	
INT	TokenNameIdentifier	 INT
;	TokenNameSEMICOLON	
names	TokenNameIdentifier	 names
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
DOCUMENT_PNAME	TokenNameIdentifier	 DOCUMENT  PNAME
;	TokenNameSEMICOLON	
names	TokenNameIdentifier	 names
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ITERATOR_PNAME	TokenNameIdentifier	 ITERATOR  PNAME
;	TokenNameSEMICOLON	
names	TokenNameIdentifier	 names
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
TRANSLET_OUTPUT_PNAME	TokenNameIdentifier	 TRANSLET  OUTPUT  PNAME
;	TokenNameSEMICOLON	
names	TokenNameIdentifier	 names
[	TokenNameLBRACKET	
3	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
NODE_PNAME	TokenNameIdentifier	 NODE  PNAME
;	TokenNameSEMICOLON	
// For simple named templates, the signature of the generated method 	TokenNameCOMMENT_LINE	For simple named templates, the signature of the generated method 
// is not fixed. It depends on the number of parameters declared in the 	TokenNameCOMMENT_LINE	is not fixed. It depends on the number of parameters declared in the 
// template. 	TokenNameCOMMENT_LINE	template. 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
4	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
4	TokenNameIntegerLiteral	
+	TokenNamePLUS	
numParams	TokenNameIdentifier	 num Params
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
types	TokenNameIdentifier	 types
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
Util	TokenNameIdentifier	 Util
.	TokenNameDOT	
getJCRefType	TokenNameIdentifier	 get JC Ref Type
(	TokenNameLPAREN	
OBJECT_SIG	TokenNameIdentifier	 OBJECT  SIG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
names	TokenNameIdentifier	 names
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
"param"	TokenNameStringLiteral	param
+	TokenNamePLUS	
String	TokenNameIdentifier	 String
.	TokenNameDOT	
valueOf	TokenNameIdentifier	 value Of
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
-	TokenNameMINUS	
4	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
NamedMethodGenerator	TokenNameIdentifier	 Named Method Generator
methodGen	TokenNameIdentifier	 method Gen
=	TokenNameEQUAL	
new	TokenNamenew	
NamedMethodGenerator	TokenNameIdentifier	 Named Method Generator
(	TokenNameLPAREN	
ACC_PUBLIC	TokenNameIdentifier	 ACC  PUBLIC
,	TokenNameCOMMA	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
.	TokenNameDOT	
VOID	TokenNameIdentifier	 VOID
,	TokenNameCOMMA	
types	TokenNameIdentifier	 types
,	TokenNameCOMMA	
names	TokenNameIdentifier	 names
,	TokenNameCOMMA	
methodName	TokenNameIdentifier	 method Name
,	TokenNameCOMMA	
getClassName	TokenNameIdentifier	 get Class Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
il	TokenNameIdentifier	 il
,	TokenNameCOMMA	
cpg	TokenNameIdentifier	 cpg
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
RETURN	TokenNameIdentifier	 RETURN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
addMethod	TokenNameIdentifier	 add Method
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
compileTemplates	TokenNameIdentifier	 compile Templates
(	TokenNameLPAREN	
ClassGenerator	TokenNameIdentifier	 Class Generator
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
MethodGenerator	TokenNameIdentifier	 Method Generator
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
next	TokenNameIdentifier	 next
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Enumeration	TokenNameIdentifier	 Enumeration
templates	TokenNameIdentifier	 templates
=	TokenNameEQUAL	
_namedTemplates	TokenNameIdentifier	 named Templates
.	TokenNameDOT	
keys	TokenNameIdentifier	 keys
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
Template	TokenNameIdentifier	 Template
template	TokenNameIdentifier	 template
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Template	TokenNameIdentifier	 Template
)	TokenNameRPAREN	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
nextElement	TokenNameIdentifier	 next Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
compileNamedTemplate	TokenNameIdentifier	 compile Named Template
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
,	TokenNameCOMMA	
classGen	TokenNameIdentifier	 class Gen
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
templates	TokenNameIdentifier	 templates
=	TokenNameEQUAL	
_neededTemplates	TokenNameIdentifier	 needed Templates
.	TokenNameDOT	
keys	TokenNameIdentifier	 keys
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
Template	TokenNameIdentifier	 Template
template	TokenNameIdentifier	 template
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Template	TokenNameIdentifier	 Template
)	TokenNameRPAREN	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
nextElement	TokenNameIdentifier	 next Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
.	TokenNameDOT	
hasContents	TokenNameIdentifier	 has Contents
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// !!! TODO templates both named and matched 	TokenNameCOMMENT_LINE	!!! TODO templates both named and matched 
InstructionList	TokenNameIdentifier	 Instruction List
til	TokenNameIdentifier	 til
=	TokenNameEQUAL	
template	TokenNameIdentifier	 template
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
til	TokenNameIdentifier	 til
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
GOTO_W	TokenNameIdentifier	 GOTO  W
(	TokenNameLPAREN	
next	TokenNameIdentifier	 next
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_templateILs	TokenNameIdentifier	 template I Ls
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
,	TokenNameCOMMA	
til	TokenNameIdentifier	 til
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_templateIHs	TokenNameIdentifier	 template I Hs
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
,	TokenNameCOMMA	
til	TokenNameIdentifier	 til
.	TokenNameDOT	
getStart	TokenNameIdentifier	 get Start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// empty template 	TokenNameCOMMENT_LINE	empty template 
_templateIHs	TokenNameIdentifier	 template I Hs
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
,	TokenNameCOMMA	
next	TokenNameIdentifier	 next
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
appendTemplateCode	TokenNameIdentifier	 append Template Code
(	TokenNameLPAREN	
InstructionList	TokenNameIdentifier	 Instruction List
body	TokenNameIdentifier	 body
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
Enumeration	TokenNameIdentifier	 Enumeration
templates	TokenNameIdentifier	 templates
=	TokenNameEQUAL	
_neededTemplates	TokenNameIdentifier	 needed Templates
.	TokenNameDOT	
keys	TokenNameIdentifier	 keys
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
Object	TokenNameIdentifier	 Object
iList	TokenNameIdentifier	 i List
=	TokenNameEQUAL	
_templateILs	TokenNameIdentifier	 template I Ls
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
nextElement	TokenNameIdentifier	 next Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
iList	TokenNameIdentifier	 i List
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
(	TokenNameLPAREN	
InstructionList	TokenNameIdentifier	 Instruction List
)	TokenNameRPAREN	
iList	TokenNameIdentifier	 i List
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
appendTestSequences	TokenNameIdentifier	 append Test Sequences
(	TokenNameLPAREN	
InstructionList	TokenNameIdentifier	 Instruction List
body	TokenNameIdentifier	 body
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
int	TokenNameint	
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
n	TokenNameIdentifier	 n
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
TestSeq	TokenNameIdentifier	 Test Seq
testSeq	TokenNameIdentifier	 test Seq
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
testSeq	TokenNameIdentifier	 test Seq
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
InstructionList	TokenNameIdentifier	 Instruction List
il	TokenNameIdentifier	 il
=	TokenNameEQUAL	
testSeq	TokenNameIdentifier	 test Seq
.	TokenNameDOT	
getInstructionList	TokenNameIdentifier	 get Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
il	TokenNameIdentifier	 il
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
il	TokenNameIdentifier	 il
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// else trivial TestSeq 	TokenNameCOMMENT_LINE	else trivial TestSeq 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
static	TokenNamestatic	
void	TokenNamevoid	
compileGetChildren	TokenNameIdentifier	 compile Get Children
(	TokenNameLPAREN	
ClassGenerator	TokenNameIdentifier	 Class Generator
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
MethodGenerator	TokenNameIdentifier	 Method Generator
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
int	TokenNameint	
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
ConstantPoolGen	TokenNameIdentifier	 Constant Pool Gen
cpg	TokenNameIdentifier	 cpg
=	TokenNameEQUAL	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getConstantPool	TokenNameIdentifier	 get Constant Pool
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
InstructionList	TokenNameIdentifier	 Instruction List
il	TokenNameIdentifier	 il
=	TokenNameEQUAL	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
getInstructionList	TokenNameIdentifier	 get Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
git	TokenNameIdentifier	 git
=	TokenNameEQUAL	
cpg	TokenNameIdentifier	 cpg
.	TokenNameDOT	
addInterfaceMethodref	TokenNameIdentifier	 add Interface Methodref
(	TokenNameLPAREN	
DOM_INTF	TokenNameIdentifier	 DOM  INTF
,	TokenNameCOMMA	
GET_CHILDREN	TokenNameIdentifier	 GET  CHILDREN
,	TokenNameCOMMA	
GET_CHILDREN_SIG	TokenNameIdentifier	 GET  CHILDREN  SIG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
loadDOM	TokenNameIdentifier	 load DOM
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
ILOAD	TokenNameIdentifier	 ILOAD
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
INVOKEINTERFACE	TokenNameIdentifier	 INVOKEINTERFACE
(	TokenNameLPAREN	
git	TokenNameIdentifier	 git
,	TokenNameCOMMA	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Compiles the default handling for DOM elements: traverse all children */	TokenNameCOMMENT_JAVADOC	 Compiles the default handling for DOM elements: traverse all children 
private	TokenNameprivate	
InstructionList	TokenNameIdentifier	 Instruction List
compileDefaultRecursion	TokenNameIdentifier	 compile Default Recursion
(	TokenNameLPAREN	
ClassGenerator	TokenNameIdentifier	 Class Generator
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
MethodGenerator	TokenNameIdentifier	 Method Generator
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
next	TokenNameIdentifier	 next
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
ConstantPoolGen	TokenNameIdentifier	 Constant Pool Gen
cpg	TokenNameIdentifier	 cpg
=	TokenNameEQUAL	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getConstantPool	TokenNameIdentifier	 get Constant Pool
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
InstructionList	TokenNameIdentifier	 Instruction List
il	TokenNameIdentifier	 il
=	TokenNameEQUAL	
new	TokenNamenew	
InstructionList	TokenNameIdentifier	 Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
applyTemplatesSig	TokenNameIdentifier	 apply Templates Sig
=	TokenNameEQUAL	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getApplyTemplatesSig	TokenNameIdentifier	 get Apply Templates Sig
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
git	TokenNameIdentifier	 git
=	TokenNameEQUAL	
cpg	TokenNameIdentifier	 cpg
.	TokenNameDOT	
addInterfaceMethodref	TokenNameIdentifier	 add Interface Methodref
(	TokenNameLPAREN	
DOM_INTF	TokenNameIdentifier	 DOM  INTF
,	TokenNameCOMMA	
GET_CHILDREN	TokenNameIdentifier	 GET  CHILDREN
,	TokenNameCOMMA	
GET_CHILDREN_SIG	TokenNameIdentifier	 GET  CHILDREN  SIG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
applyTemplates	TokenNameIdentifier	 apply Templates
=	TokenNameEQUAL	
cpg	TokenNameIdentifier	 cpg
.	TokenNameDOT	
addMethodref	TokenNameIdentifier	 add Methodref
(	TokenNameLPAREN	
getClassName	TokenNameIdentifier	 get Class Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
functionName	TokenNameIdentifier	 function Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
applyTemplatesSig	TokenNameIdentifier	 apply Templates Sig
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
loadTranslet	TokenNameIdentifier	 load Translet
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
loadDOM	TokenNameIdentifier	 load DOM
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
loadDOM	TokenNameIdentifier	 load DOM
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
ILOAD	TokenNameIdentifier	 ILOAD
(	TokenNameLPAREN	
_currentIndex	TokenNameIdentifier	 current Index
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
INVOKEINTERFACE	TokenNameIdentifier	 INVOKEINTERFACE
(	TokenNameLPAREN	
git	TokenNameIdentifier	 git
,	TokenNameCOMMA	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
loadHandler	TokenNameIdentifier	 load Handler
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
INVOKEVIRTUAL	TokenNameIdentifier	 INVOKEVIRTUAL
(	TokenNameLPAREN	
applyTemplates	TokenNameIdentifier	 apply Templates
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
GOTO_W	TokenNameIdentifier	 GOTO  W
(	TokenNameLPAREN	
next	TokenNameIdentifier	 next
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
il	TokenNameIdentifier	 il
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Compiles the default action for DOM text nodes and attribute nodes: * output the node's text value */	TokenNameCOMMENT_JAVADOC	 Compiles the default action for DOM text nodes and attribute nodes: output the node's text value 
private	TokenNameprivate	
InstructionList	TokenNameIdentifier	 Instruction List
compileDefaultText	TokenNameIdentifier	 compile Default Text
(	TokenNameLPAREN	
ClassGenerator	TokenNameIdentifier	 Class Generator
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
MethodGenerator	TokenNameIdentifier	 Method Generator
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
next	TokenNameIdentifier	 next
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
ConstantPoolGen	TokenNameIdentifier	 Constant Pool Gen
cpg	TokenNameIdentifier	 cpg
=	TokenNameEQUAL	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getConstantPool	TokenNameIdentifier	 get Constant Pool
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
InstructionList	TokenNameIdentifier	 Instruction List
il	TokenNameIdentifier	 il
=	TokenNameEQUAL	
new	TokenNamenew	
InstructionList	TokenNameIdentifier	 Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
chars	TokenNameIdentifier	 chars
=	TokenNameEQUAL	
cpg	TokenNameIdentifier	 cpg
.	TokenNameDOT	
addInterfaceMethodref	TokenNameIdentifier	 add Interface Methodref
(	TokenNameLPAREN	
DOM_INTF	TokenNameIdentifier	 DOM  INTF
,	TokenNameCOMMA	
CHARACTERS	TokenNameIdentifier	 CHARACTERS
,	TokenNameCOMMA	
CHARACTERS_SIG	TokenNameIdentifier	 CHARACTERS  SIG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
loadDOM	TokenNameIdentifier	 load DOM
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
ILOAD	TokenNameIdentifier	 ILOAD
(	TokenNameLPAREN	
_currentIndex	TokenNameIdentifier	 current Index
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
loadHandler	TokenNameIdentifier	 load Handler
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
INVOKEINTERFACE	TokenNameIdentifier	 INVOKEINTERFACE
(	TokenNameLPAREN	
chars	TokenNameIdentifier	 chars
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
GOTO_W	TokenNameIdentifier	 GOTO  W
(	TokenNameLPAREN	
next	TokenNameIdentifier	 next
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
il	TokenNameIdentifier	 il
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
InstructionList	TokenNameIdentifier	 Instruction List
compileNamespaces	TokenNameIdentifier	 compile Namespaces
(	TokenNameLPAREN	
ClassGenerator	TokenNameIdentifier	 Class Generator
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
MethodGenerator	TokenNameIdentifier	 Method Generator
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
boolean	TokenNameboolean	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
isNamespace	TokenNameIdentifier	 is Namespace
,	TokenNameCOMMA	
boolean	TokenNameboolean	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
isAttribute	TokenNameIdentifier	 is Attribute
,	TokenNameCOMMA	
boolean	TokenNameboolean	
attrFlag	TokenNameIdentifier	 attr Flag
,	TokenNameCOMMA	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
defaultTarget	TokenNameIdentifier	 default Target
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
XSLTC	TokenNameIdentifier	 XSLTC
xsltc	TokenNameIdentifier	 xsltc
=	TokenNameEQUAL	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getParser	TokenNameIdentifier	 get Parser
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getXSLTC	TokenNameIdentifier	 get XSLTC
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
ConstantPoolGen	TokenNameIdentifier	 Constant Pool Gen
cpg	TokenNameIdentifier	 cpg
=	TokenNameEQUAL	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getConstantPool	TokenNameIdentifier	 get Constant Pool
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append switch() statement - namespace test dispatch loop 	TokenNameCOMMENT_LINE	Append switch() statement - namespace test dispatch loop 
final	TokenNamefinal	
Vector	TokenNameIdentifier	 Vector
namespaces	TokenNameIdentifier	 namespaces
=	TokenNameEQUAL	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
getNamespaceIndex	TokenNameIdentifier	 get Namespace Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
Vector	TokenNameIdentifier	 Vector
names	TokenNameIdentifier	 names
=	TokenNameEQUAL	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
getNamesIndex	TokenNameIdentifier	 get Names Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
namespaceCount	TokenNameIdentifier	 namespace Count
=	TokenNameEQUAL	
namespaces	TokenNameIdentifier	 namespaces
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
namesCount	TokenNameIdentifier	 names Count
=	TokenNameEQUAL	
names	TokenNameIdentifier	 names
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
InstructionList	TokenNameIdentifier	 Instruction List
il	TokenNameIdentifier	 il
=	TokenNameEQUAL	
new	TokenNamenew	
InstructionList	TokenNameIdentifier	 Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
types	TokenNameIdentifier	 types
=	TokenNameEQUAL	
new	TokenNamenew	
int	TokenNameint	
[	TokenNameLBRACKET	
namespaceCount	TokenNameIdentifier	 namespace Count
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
targets	TokenNameIdentifier	 targets
=	TokenNameEQUAL	
new	TokenNamenew	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
[	TokenNameLBRACKET	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
length	TokenNameIdentifier	 length
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
namespaceCount	TokenNameIdentifier	 namespace Count
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
compiled	TokenNameIdentifier	 compiled
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
// Initialize targets for namespace() switch statement 	TokenNameCOMMENT_LINE	Initialize targets for namespace() switch statement 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
namespaceCount	TokenNameIdentifier	 namespace Count
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
defaultTarget	TokenNameIdentifier	 default Target
;	TokenNameSEMICOLON	
types	TokenNameIdentifier	 types
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
i	TokenNameIdentifier	 i
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Add test sequences for known namespace types 	TokenNameCOMMENT_LINE	Add test sequences for known namespace types 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NTYPES	TokenNameIdentifier	 NTYPES
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
(	TokenNameLPAREN	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NTYPES	TokenNameIdentifier	 NTYPES
+	TokenNamePLUS	
namesCount	TokenNameIdentifier	 names Count
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
isNamespace	TokenNameIdentifier	 is Namespace
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
isAttribute	TokenNameIdentifier	 is Attribute
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
==	TokenNameEQUAL_EQUAL	
attrFlag	TokenNameIdentifier	 attr Flag
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
names	TokenNameIdentifier	 names
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
-	TokenNameMINUS	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NTYPES	TokenNameIdentifier	 NTYPES
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
namespace	TokenNameIdentifier	 namespace
=	TokenNameEQUAL	
name	TokenNameIdentifier	 name
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
name	TokenNameIdentifier	 name
.	TokenNameDOT	
lastIndexOf	TokenNameIdentifier	 last Index Of
(	TokenNameLPAREN	
':'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
type	TokenNameIdentifier	 type
=	TokenNameEQUAL	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
registerNamespace	TokenNameIdentifier	 register Namespace
(	TokenNameLPAREN	
namespace	TokenNameIdentifier	 namespace
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
_testSeq	TokenNameIdentifier	 test Seq
.	TokenNameDOT	
length	TokenNameIdentifier	 length
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
type	TokenNameIdentifier	 type
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
(	TokenNameLPAREN	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
defaultTarget	TokenNameIdentifier	 default Target
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
compiled	TokenNameIdentifier	 compiled
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Return "null" if no test sequences were compiled 	TokenNameCOMMENT_LINE	Return "null" if no test sequences were compiled 
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
compiled	TokenNameIdentifier	 compiled
)	TokenNameRPAREN	
return	TokenNamereturn	
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append first code in applyTemplates() - get type of current node 	TokenNameCOMMENT_LINE	Append first code in applyTemplates() - get type of current node 
final	TokenNamefinal	
int	TokenNameint	
getNS	TokenNameIdentifier	 get NS
=	TokenNameEQUAL	
cpg	TokenNameIdentifier	 cpg
.	TokenNameDOT	
addInterfaceMethodref	TokenNameIdentifier	 add Interface Methodref
(	TokenNameLPAREN	
DOM_INTF	TokenNameIdentifier	 DOM  INTF
,	TokenNameCOMMA	
"getNamespaceType"	TokenNameStringLiteral	getNamespaceType
,	TokenNameCOMMA	
"(I)I"	TokenNameStringLiteral	(I)I
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
loadDOM	TokenNameIdentifier	 load DOM
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
ILOAD	TokenNameIdentifier	 ILOAD
(	TokenNameLPAREN	
_currentIndex	TokenNameIdentifier	 current Index
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
INVOKEINTERFACE	TokenNameIdentifier	 INVOKEINTERFACE
(	TokenNameLPAREN	
getNS	TokenNameIdentifier	 get NS
,	TokenNameCOMMA	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
SWITCH	TokenNameIdentifier	 SWITCH
(	TokenNameLPAREN	
types	TokenNameIdentifier	 types
,	TokenNameCOMMA	
targets	TokenNameIdentifier	 targets
,	TokenNameCOMMA	
defaultTarget	TokenNameIdentifier	 default Target
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
(	TokenNameLPAREN	
il	TokenNameIdentifier	 il
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Compiles the applyTemplates() method and adds it to the translet. * This is the main dispatch method. */	TokenNameCOMMENT_JAVADOC	 Compiles the applyTemplates() method and adds it to the translet. This is the main dispatch method. 
public	TokenNamepublic	
void	TokenNamevoid	
compileApplyTemplates	TokenNameIdentifier	 compile Apply Templates
(	TokenNameLPAREN	
ClassGenerator	TokenNameIdentifier	 Class Generator
classGen	TokenNameIdentifier	 class Gen
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
XSLTC	TokenNameIdentifier	 XSLTC
xsltc	TokenNameIdentifier	 xsltc
=	TokenNameEQUAL	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getParser	TokenNameIdentifier	 get Parser
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getXSLTC	TokenNameIdentifier	 get XSLTC
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
ConstantPoolGen	TokenNameIdentifier	 Constant Pool Gen
cpg	TokenNameIdentifier	 cpg
=	TokenNameEQUAL	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getConstantPool	TokenNameIdentifier	 get Constant Pool
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
Vector	TokenNameIdentifier	 Vector
names	TokenNameIdentifier	 names
=	TokenNameEQUAL	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
getNamesIndex	TokenNameIdentifier	 get Names Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Create the applyTemplates() method 	TokenNameCOMMENT_LINE	Create the applyTemplates() method 
final	TokenNamefinal	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
argTypes	TokenNameIdentifier	 arg Types
=	TokenNameEQUAL	
new	TokenNamenew	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
[	TokenNameLBRACKET	
3	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
argTypes	TokenNameIdentifier	 arg Types
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
Util	TokenNameIdentifier	 Util
.	TokenNameDOT	
getJCRefType	TokenNameIdentifier	 get JC Ref Type
(	TokenNameLPAREN	
DOM_INTF_SIG	TokenNameIdentifier	 DOM  INTF  SIG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
argTypes	TokenNameIdentifier	 arg Types
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
Util	TokenNameIdentifier	 Util
.	TokenNameDOT	
getJCRefType	TokenNameIdentifier	 get JC Ref Type
(	TokenNameLPAREN	
NODE_ITERATOR_SIG	TokenNameIdentifier	 NODE  ITERATOR  SIG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
argTypes	TokenNameIdentifier	 arg Types
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
Util	TokenNameIdentifier	 Util
.	TokenNameDOT	
getJCRefType	TokenNameIdentifier	 get JC Ref Type
(	TokenNameLPAREN	
TRANSLET_OUTPUT_SIG	TokenNameIdentifier	 TRANSLET  OUTPUT  SIG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
argNames	TokenNameIdentifier	 arg Names
=	TokenNameEQUAL	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
3	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
argNames	TokenNameIdentifier	 arg Names
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
DOCUMENT_PNAME	TokenNameIdentifier	 DOCUMENT  PNAME
;	TokenNameSEMICOLON	
argNames	TokenNameIdentifier	 arg Names
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ITERATOR_PNAME	TokenNameIdentifier	 ITERATOR  PNAME
;	TokenNameSEMICOLON	
argNames	TokenNameIdentifier	 arg Names
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
TRANSLET_OUTPUT_PNAME	TokenNameIdentifier	 TRANSLET  OUTPUT  PNAME
;	TokenNameSEMICOLON	
final	TokenNamefinal	
InstructionList	TokenNameIdentifier	 Instruction List
mainIL	TokenNameIdentifier	 main IL
=	TokenNameEQUAL	
new	TokenNamenew	
InstructionList	TokenNameIdentifier	 Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
MethodGenerator	TokenNameIdentifier	 Method Generator
methodGen	TokenNameIdentifier	 method Gen
=	TokenNameEQUAL	
new	TokenNamenew	
MethodGenerator	TokenNameIdentifier	 Method Generator
(	TokenNameLPAREN	
ACC_PUBLIC	TokenNameIdentifier	 ACC  PUBLIC
|	TokenNameOR	
ACC_FINAL	TokenNameIdentifier	 ACC  FINAL
,	TokenNameCOMMA	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
.	TokenNameDOT	
VOID	TokenNameIdentifier	 VOID
,	TokenNameCOMMA	
argTypes	TokenNameIdentifier	 arg Types
,	TokenNameCOMMA	
argNames	TokenNameIdentifier	 arg Names
,	TokenNameCOMMA	
functionName	TokenNameIdentifier	 function Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
getClassName	TokenNameIdentifier	 get Class Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
mainIL	TokenNameIdentifier	 main IL
,	TokenNameCOMMA	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getConstantPool	TokenNameIdentifier	 get Constant Pool
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
addException	TokenNameIdentifier	 add Exception
(	TokenNameLPAREN	
"org.apache.xalan.xsltc.TransletException"	TokenNameStringLiteral	org.apache.xalan.xsltc.TransletException
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Insert an extra NOP just to keep "current" from appearing as if it 	TokenNameCOMMENT_LINE	Insert an extra NOP just to keep "current" from appearing as if it 
// has a value before the start of the loop. 	TokenNameCOMMENT_LINE	has a value before the start of the loop. 
mainIL	TokenNameIdentifier	 main IL
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
NOP	TokenNameIdentifier	 NOP
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Create a local variable to hold the current node 	TokenNameCOMMENT_LINE	Create a local variable to hold the current node 
final	TokenNamefinal	
LocalVariableGen	TokenNameIdentifier	 Local Variable Gen
current	TokenNameIdentifier	 current
;	TokenNameSEMICOLON	
current	TokenNameIdentifier	 current
=	TokenNameEQUAL	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
addLocalVariable2	TokenNameIdentifier	 add Local Variable2
(	TokenNameLPAREN	
"current"	TokenNameStringLiteral	current
,	TokenNameCOMMA	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
.	TokenNameDOT	
INT	TokenNameIdentifier	 INT
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_currentIndex	TokenNameIdentifier	 current Index
=	TokenNameEQUAL	
current	TokenNameIdentifier	 current
.	TokenNameDOT	
getIndex	TokenNameIdentifier	 get Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Create the "body" instruction list that will eventually hold the 	TokenNameCOMMENT_LINE	Create the "body" instruction list that will eventually hold the 
// code for the entire method (other ILs will be appended). 	TokenNameCOMMENT_LINE	code for the entire method (other ILs will be appended). 
final	TokenNamefinal	
InstructionList	TokenNameIdentifier	 Instruction List
body	TokenNameIdentifier	 body
=	TokenNameEQUAL	
new	TokenNamenew	
InstructionList	TokenNameIdentifier	 Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
NOP	TokenNameIdentifier	 NOP
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Create an instruction list that contains the default next-node 	TokenNameCOMMENT_LINE	Create an instruction list that contains the default next-node 
// iteration 	TokenNameCOMMENT_LINE	iteration 
final	TokenNamefinal	
InstructionList	TokenNameIdentifier	 Instruction List
ilLoop	TokenNameIdentifier	 il Loop
=	TokenNameEQUAL	
new	TokenNamenew	
InstructionList	TokenNameIdentifier	 Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ilLoop	TokenNameIdentifier	 il Loop
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
loadIterator	TokenNameIdentifier	 load Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ilLoop	TokenNameIdentifier	 il Loop
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
nextNode	TokenNameIdentifier	 next Node
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ilLoop	TokenNameIdentifier	 il Loop
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
DUP	TokenNameIdentifier	 DUP
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ilLoop	TokenNameIdentifier	 il Loop
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
ISTORE	TokenNameIdentifier	 ISTORE
(	TokenNameLPAREN	
_currentIndex	TokenNameIdentifier	 current Index
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// The body of this code can get very large - large than can be handled 	TokenNameCOMMENT_LINE	The body of this code can get very large - large than can be handled 
// by a single IFNE(body.getStart()) instruction - need workaround: 	TokenNameCOMMENT_LINE	by a single IFNE(body.getStart()) instruction - need workaround: 
final	TokenNamefinal	
BranchHandle	TokenNameIdentifier	 Branch Handle
ifeq	TokenNameIdentifier	 ifeq
=	TokenNameEQUAL	
ilLoop	TokenNameIdentifier	 il Loop
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
IFLT	TokenNameIdentifier	 IFLT
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
BranchHandle	TokenNameIdentifier	 Branch Handle
loop	TokenNameIdentifier	 loop
=	TokenNameEQUAL	
ilLoop	TokenNameIdentifier	 il Loop
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
GOTO_W	TokenNameIdentifier	 GOTO  W
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ifeq	TokenNameIdentifier	 ifeq
.	TokenNameDOT	
setTarget	TokenNameIdentifier	 set Target
(	TokenNameLPAREN	
ilLoop	TokenNameIdentifier	 il Loop
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
RETURN	TokenNameIdentifier	 RETURN
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// applyTemplates() ends here! 	TokenNameCOMMENT_LINE	applyTemplates() ends here! 
final	TokenNamefinal	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
ihLoop	TokenNameIdentifier	 ih Loop
=	TokenNameEQUAL	
ilLoop	TokenNameIdentifier	 il Loop
.	TokenNameDOT	
getStart	TokenNameIdentifier	 get Start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
current	TokenNameIdentifier	 current
.	TokenNameDOT	
setStart	TokenNameIdentifier	 set Start
(	TokenNameLPAREN	
mainIL	TokenNameIdentifier	 main IL
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
GOTO_W	TokenNameIdentifier	 GOTO  W
(	TokenNameLPAREN	
ihLoop	TokenNameIdentifier	 ih Loop
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Live range of "current" ends at end of loop 	TokenNameCOMMENT_LINE	Live range of "current" ends at end of loop 
current	TokenNameIdentifier	 current
.	TokenNameDOT	
setEnd	TokenNameIdentifier	 set End
(	TokenNameLPAREN	
loop	TokenNameIdentifier	 loop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Compile default handling of elements (traverse children) 	TokenNameCOMMENT_LINE	Compile default handling of elements (traverse children) 
InstructionList	TokenNameIdentifier	 Instruction List
ilRecurse	TokenNameIdentifier	 il Recurse
=	TokenNameEQUAL	
compileDefaultRecursion	TokenNameIdentifier	 compile Default Recursion
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihLoop	TokenNameIdentifier	 ih Loop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
ihRecurse	TokenNameIdentifier	 ih Recurse
=	TokenNameEQUAL	
ilRecurse	TokenNameIdentifier	 il Recurse
.	TokenNameDOT	
getStart	TokenNameIdentifier	 get Start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Compile default handling of text/attribute nodes (output text) 	TokenNameCOMMENT_LINE	Compile default handling of text/attribute nodes (output text) 
InstructionList	TokenNameIdentifier	 Instruction List
ilText	TokenNameIdentifier	 il Text
=	TokenNameEQUAL	
compileDefaultText	TokenNameIdentifier	 compile Default Text
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihLoop	TokenNameIdentifier	 ih Loop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
ihText	TokenNameIdentifier	 ih Text
=	TokenNameEQUAL	
ilText	TokenNameIdentifier	 il Text
.	TokenNameDOT	
getStart	TokenNameIdentifier	 get Start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Distinguish attribute/element/namespace tests for further processing 	TokenNameCOMMENT_LINE	Distinguish attribute/element/namespace tests for further processing 
final	TokenNamefinal	
int	TokenNameint	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
types	TokenNameIdentifier	 types
=	TokenNameEQUAL	
new	TokenNamenew	
int	TokenNameint	
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NTYPES	TokenNameIdentifier	 NTYPES
+	TokenNamePLUS	
names	TokenNameIdentifier	 names
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
types	TokenNameIdentifier	 types
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
i	TokenNameIdentifier	 i
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Initialize isAttribute[] and isNamespace[] arrays 	TokenNameCOMMENT_LINE	Initialize isAttribute[] and isNamespace[] arrays 
final	TokenNamefinal	
boolean	TokenNameboolean	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
isAttribute	TokenNameIdentifier	 is Attribute
=	TokenNameEQUAL	
new	TokenNamenew	
boolean	TokenNameboolean	
[	TokenNameLBRACKET	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
length	TokenNameIdentifier	 length
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
boolean	TokenNameboolean	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
isNamespace	TokenNameIdentifier	 is Namespace
=	TokenNameEQUAL	
new	TokenNamenew	
boolean	TokenNameboolean	
[	TokenNameLBRACKET	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
length	TokenNameIdentifier	 length
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
names	TokenNameIdentifier	 names
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
names	TokenNameIdentifier	 names
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
isAttribute	TokenNameIdentifier	 is Attribute
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
+	TokenNamePLUS	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NTYPES	TokenNameIdentifier	 NTYPES
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
isAttributeName	TokenNameIdentifier	 is Attribute Name
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
isNamespace	TokenNameIdentifier	 is Namespace
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
+	TokenNamePLUS	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NTYPES	TokenNameIdentifier	 NTYPES
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
isNamespaceName	TokenNameIdentifier	 is Namespace Name
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Compile all templates - regardless of pattern type 	TokenNameCOMMENT_LINE	Compile all templates - regardless of pattern type 
compileTemplates	TokenNameIdentifier	 compile Templates
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihLoop	TokenNameIdentifier	 ih Loop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Handle template with explicit "*" pattern 	TokenNameCOMMENT_LINE	Handle template with explicit "*" pattern 
final	TokenNamefinal	
TestSeq	TokenNameIdentifier	 Test Seq
elemTest	TokenNameIdentifier	 elem Test
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ELEMENT_NODE	TokenNameIdentifier	 ELEMENT  NODE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
ihElem	TokenNameIdentifier	 ih Elem
=	TokenNameEQUAL	
ihRecurse	TokenNameIdentifier	 ih Recurse
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
elemTest	TokenNameIdentifier	 elem Test
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
ihElem	TokenNameIdentifier	 ih Elem
=	TokenNameEQUAL	
elemTest	TokenNameIdentifier	 elem Test
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihRecurse	TokenNameIdentifier	 ih Recurse
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Handle template with explicit "@*" pattern 	TokenNameCOMMENT_LINE	Handle template with explicit "@*" pattern 
final	TokenNamefinal	
TestSeq	TokenNameIdentifier	 Test Seq
attrTest	TokenNameIdentifier	 attr Test
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ATTRIBUTE_NODE	TokenNameIdentifier	 ATTRIBUTE  NODE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
ihAttr	TokenNameIdentifier	 ih Attr
=	TokenNameEQUAL	
ihText	TokenNameIdentifier	 ih Text
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
attrTest	TokenNameIdentifier	 attr Test
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
ihAttr	TokenNameIdentifier	 ih Attr
=	TokenNameEQUAL	
attrTest	TokenNameIdentifier	 attr Test
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihAttr	TokenNameIdentifier	 ih Attr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Do tests for id() and key() patterns first 	TokenNameCOMMENT_LINE	Do tests for id() and key() patterns first 
InstructionList	TokenNameIdentifier	 Instruction List
ilKey	TokenNameIdentifier	 il Key
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
_idxTestSeq	TokenNameIdentifier	 idx Test Seq
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
loop	TokenNameIdentifier	 loop
.	TokenNameDOT	
setTarget	TokenNameIdentifier	 set Target
(	TokenNameLPAREN	
_idxTestSeq	TokenNameIdentifier	 idx Test Seq
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
getStart	TokenNameIdentifier	 get Start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ilKey	TokenNameIdentifier	 il Key
=	TokenNameEQUAL	
_idxTestSeq	TokenNameIdentifier	 idx Test Seq
.	TokenNameDOT	
getInstructionList	TokenNameIdentifier	 get Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
loop	TokenNameIdentifier	 loop
.	TokenNameDOT	
setTarget	TokenNameIdentifier	 set Target
(	TokenNameLPAREN	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
getStart	TokenNameIdentifier	 get Start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// If there is a match on node() we need to replace ihElem 	TokenNameCOMMENT_LINE	If there is a match on node() we need to replace ihElem 
// and ihText if the priority of node() is higher 	TokenNameCOMMENT_LINE	and ihText if the priority of node() is higher 
if	TokenNameif	
(	TokenNameLPAREN	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Compare priorities of node() and "*" 	TokenNameCOMMENT_LINE	Compare priorities of node() and "*" 
double	TokenNamedouble	
nodePrio	TokenNameIdentifier	 node Prio
=	TokenNameEQUAL	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
.	TokenNameDOT	
getPriority	TokenNameIdentifier	 get Priority
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
nodePos	TokenNameIdentifier	 node Pos
=	TokenNameEQUAL	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
.	TokenNameDOT	
getPosition	TokenNameIdentifier	 get Position
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
elemPrio	TokenNameIdentifier	 elem Prio
=	TokenNameEQUAL	
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
-	TokenNameMINUS	
Double	TokenNameIdentifier	 Double
.	TokenNameDOT	
MAX_VALUE	TokenNameIdentifier	 MAX  VALUE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
elemPos	TokenNameIdentifier	 elem Pos
=	TokenNameEQUAL	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MIN_VALUE	TokenNameIdentifier	 MIN  VALUE
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
elemTest	TokenNameIdentifier	 elem Test
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
elemPrio	TokenNameIdentifier	 elem Prio
=	TokenNameEQUAL	
elemTest	TokenNameIdentifier	 elem Test
.	TokenNameDOT	
getPriority	TokenNameIdentifier	 get Priority
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
elemPos	TokenNameIdentifier	 elem Pos
=	TokenNameEQUAL	
elemTest	TokenNameIdentifier	 elem Test
.	TokenNameDOT	
getPosition	TokenNameIdentifier	 get Position
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
elemPrio	TokenNameIdentifier	 elem Prio
==	TokenNameEQUAL_EQUAL	
Double	TokenNameIdentifier	 Double
.	TokenNameDOT	
NaN	TokenNameIdentifier	 Na N
||	TokenNameOR_OR	
elemPrio	TokenNameIdentifier	 elem Prio
<	TokenNameLESS	
nodePrio	TokenNameIdentifier	 node Prio
||	TokenNameOR_OR	
(	TokenNameLPAREN	
elemPrio	TokenNameIdentifier	 elem Prio
==	TokenNameEQUAL_EQUAL	
nodePrio	TokenNameIdentifier	 node Prio
&&	TokenNameAND_AND	
elemPos	TokenNameIdentifier	 elem Pos
<	TokenNameLESS	
nodePos	TokenNameIdentifier	 node Pos
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ihElem	TokenNameIdentifier	 ih Elem
=	TokenNameEQUAL	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihLoop	TokenNameIdentifier	 ih Loop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Compare priorities of node() and text() 	TokenNameCOMMENT_LINE	Compare priorities of node() and text() 
final	TokenNamefinal	
TestSeq	TokenNameIdentifier	 Test Seq
textTest	TokenNameIdentifier	 text Test
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
textPrio	TokenNameIdentifier	 text Prio
=	TokenNameEQUAL	
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
-	TokenNameMINUS	
Double	TokenNameIdentifier	 Double
.	TokenNameDOT	
MAX_VALUE	TokenNameIdentifier	 MAX  VALUE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
textPos	TokenNameIdentifier	 text Pos
=	TokenNameEQUAL	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MIN_VALUE	TokenNameIdentifier	 MIN  VALUE
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
textTest	TokenNameIdentifier	 text Test
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
textPrio	TokenNameIdentifier	 text Prio
=	TokenNameEQUAL	
textTest	TokenNameIdentifier	 text Test
.	TokenNameDOT	
getPriority	TokenNameIdentifier	 get Priority
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
textPos	TokenNameIdentifier	 text Pos
=	TokenNameEQUAL	
textTest	TokenNameIdentifier	 text Test
.	TokenNameDOT	
getPosition	TokenNameIdentifier	 get Position
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
textPrio	TokenNameIdentifier	 text Prio
==	TokenNameEQUAL_EQUAL	
Double	TokenNameIdentifier	 Double
.	TokenNameDOT	
NaN	TokenNameIdentifier	 Na N
||	TokenNameOR_OR	
textPrio	TokenNameIdentifier	 text Prio
<	TokenNameLESS	
nodePrio	TokenNameIdentifier	 node Prio
||	TokenNameOR_OR	
(	TokenNameLPAREN	
textPrio	TokenNameIdentifier	 text Prio
==	TokenNameEQUAL_EQUAL	
nodePrio	TokenNameIdentifier	 node Prio
&&	TokenNameAND_AND	
textPos	TokenNameIdentifier	 text Pos
<	TokenNameLESS	
nodePos	TokenNameIdentifier	 node Pos
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ihText	TokenNameIdentifier	 ih Text
=	TokenNameEQUAL	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihLoop	TokenNameIdentifier	 ih Loop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Handle templates with "ns:*" pattern 	TokenNameCOMMENT_LINE	Handle templates with "ns:*" pattern 
InstructionHandle	TokenNameIdentifier	 Instruction Handle
elemNamespaceHandle	TokenNameIdentifier	 elem Namespace Handle
=	TokenNameEQUAL	
ihElem	TokenNameIdentifier	 ih Elem
;	TokenNameSEMICOLON	
InstructionList	TokenNameIdentifier	 Instruction List
nsElem	TokenNameIdentifier	 ns Elem
=	TokenNameEQUAL	
compileNamespaces	TokenNameIdentifier	 compile Namespaces
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
isNamespace	TokenNameIdentifier	 is Namespace
,	TokenNameCOMMA	
isAttribute	TokenNameIdentifier	 is Attribute
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
ihElem	TokenNameIdentifier	 ih Elem
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
nsElem	TokenNameIdentifier	 ns Elem
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
elemNamespaceHandle	TokenNameIdentifier	 elem Namespace Handle
=	TokenNameEQUAL	
nsElem	TokenNameIdentifier	 ns Elem
.	TokenNameDOT	
getStart	TokenNameIdentifier	 get Start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Handle templates with "ns:@*" pattern 	TokenNameCOMMENT_LINE	Handle templates with "ns:@*" pattern 
InstructionHandle	TokenNameIdentifier	 Instruction Handle
attrNamespaceHandle	TokenNameIdentifier	 attr Namespace Handle
=	TokenNameEQUAL	
ihAttr	TokenNameIdentifier	 ih Attr
;	TokenNameSEMICOLON	
InstructionList	TokenNameIdentifier	 Instruction List
nsAttr	TokenNameIdentifier	 ns Attr
=	TokenNameEQUAL	
compileNamespaces	TokenNameIdentifier	 compile Namespaces
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
isNamespace	TokenNameIdentifier	 is Namespace
,	TokenNameCOMMA	
isAttribute	TokenNameIdentifier	 is Attribute
,	TokenNameCOMMA	
true	TokenNametrue	
,	TokenNameCOMMA	
ihAttr	TokenNameIdentifier	 ih Attr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
nsAttr	TokenNameIdentifier	 ns Attr
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
attrNamespaceHandle	TokenNameIdentifier	 attr Namespace Handle
=	TokenNameEQUAL	
nsAttr	TokenNameIdentifier	 ns Attr
.	TokenNameDOT	
getStart	TokenNameIdentifier	 get Start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Handle templates with "ns:elem" or "ns:@attr" pattern 	TokenNameCOMMENT_LINE	Handle templates with "ns:elem" or "ns:@attr" pattern 
final	TokenNamefinal	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
targets	TokenNameIdentifier	 targets
=	TokenNameEQUAL	
new	TokenNamenew	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
[	TokenNameLBRACKET	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
length	TokenNameIdentifier	 length
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NTYPES	TokenNameIdentifier	 NTYPES
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
targets	TokenNameIdentifier	 targets
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
TestSeq	TokenNameIdentifier	 Test Seq
testSeq	TokenNameIdentifier	 test Seq
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// Jump straight to namespace tests ? 	TokenNameCOMMENT_LINE	Jump straight to namespace tests ? 
if	TokenNameif	
(	TokenNameLPAREN	
isNamespace	TokenNameIdentifier	 is Namespace
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
isAttribute	TokenNameIdentifier	 is Attribute
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
attrNamespaceHandle	TokenNameIdentifier	 attr Namespace Handle
;	TokenNameSEMICOLON	
else	TokenNameelse	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
elemNamespaceHandle	TokenNameIdentifier	 elem Namespace Handle
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Test first, then jump to namespace tests 	TokenNameCOMMENT_LINE	Test first, then jump to namespace tests 
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
testSeq	TokenNameIdentifier	 test Seq
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
isAttribute	TokenNameIdentifier	 is Attribute
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
testSeq	TokenNameIdentifier	 test Seq
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
attrNamespaceHandle	TokenNameIdentifier	 attr Namespace Handle
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
testSeq	TokenNameIdentifier	 test Seq
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
elemNamespaceHandle	TokenNameIdentifier	 elem Namespace Handle
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Handle pattern with match on root node - default: traverse children 	TokenNameCOMMENT_LINE	Handle pattern with match on root node - default: traverse children 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ROOT_NODE	TokenNameIdentifier	 ROOT  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
_rootPattern	TokenNameIdentifier	 root Pattern
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
getTemplateInstructionHandle	TokenNameIdentifier	 get Template Instruction Handle
(	TokenNameLPAREN	
_rootPattern	TokenNameIdentifier	 root Pattern
.	TokenNameDOT	
getTemplate	TokenNameIdentifier	 get Template
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
ihRecurse	TokenNameIdentifier	 ih Recurse
;	TokenNameSEMICOLON	
// Handle pattern with match on root node - default: traverse children 	TokenNameCOMMENT_LINE	Handle pattern with match on root node - default: traverse children 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
DOCUMENT_NODE	TokenNameIdentifier	 DOCUMENT  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
_rootPattern	TokenNameIdentifier	 root Pattern
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
getTemplateInstructionHandle	TokenNameIdentifier	 get Template Instruction Handle
(	TokenNameLPAREN	
_rootPattern	TokenNameIdentifier	 root Pattern
.	TokenNameDOT	
getTemplate	TokenNameIdentifier	 get Template
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
ihRecurse	TokenNameIdentifier	 ih Recurse
;	TokenNameSEMICOLON	
// Handle any pattern with match on text nodes - default: output text 	TokenNameCOMMENT_LINE	Handle any pattern with match on text nodes - default: output text 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
]	TokenNameRBRACKET	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
]	TokenNameRBRACKET	
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihText	TokenNameIdentifier	 ih Text
)	TokenNameRPAREN	
:	TokenNameCOLON	
ihText	TokenNameIdentifier	 ih Text
;	TokenNameSEMICOLON	
// This DOM-type is not in use - default: process next node 	TokenNameCOMMENT_LINE	This DOM-type is not in use - default: process next node 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NAMESPACE_NODE	TokenNameIdentifier	 NAMESPACE  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
// Match unknown element in DOM - default: check for namespace match 	TokenNameCOMMENT_LINE	Match unknown element in DOM - default: check for namespace match 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ELEMENT_NODE	TokenNameIdentifier	 ELEMENT  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
elemNamespaceHandle	TokenNameIdentifier	 elem Namespace Handle
;	TokenNameSEMICOLON	
// Match unknown attribute in DOM - default: check for namespace match 	TokenNameCOMMENT_LINE	Match unknown attribute in DOM - default: check for namespace match 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ATTRIBUTE_NODE	TokenNameIdentifier	 ATTRIBUTE  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
attrNamespaceHandle	TokenNameIdentifier	 attr Namespace Handle
;	TokenNameSEMICOLON	
// Match on processing instruction - default: process next node 	TokenNameCOMMENT_LINE	Match on processing instruction - default: process next node 
InstructionHandle	TokenNameIdentifier	 Instruction Handle
ihPI	TokenNameIdentifier	 ih PI
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
ihPI	TokenNameIdentifier	 ih PI
=	TokenNameEQUAL	
ihElem	TokenNameIdentifier	 ih Elem
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
PROCESSING_INSTRUCTION_NODE	TokenNameIdentifier	 PROCESSING  INSTRUCTION  NODE
]	TokenNameRBRACKET	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
PROCESSING_INSTRUCTION_NODE	TokenNameIdentifier	 PROCESSING  INSTRUCTION  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
PROCESSING_INSTRUCTION_NODE	TokenNameIdentifier	 PROCESSING  INSTRUCTION  NODE
]	TokenNameRBRACKET	
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihPI	TokenNameIdentifier	 ih PI
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
PROCESSING_INSTRUCTION_NODE	TokenNameIdentifier	 PROCESSING  INSTRUCTION  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihPI	TokenNameIdentifier	 ih PI
;	TokenNameSEMICOLON	
// Match on comments - default: process next node 	TokenNameCOMMENT_LINE	Match on comments - default: process next node 
InstructionHandle	TokenNameIdentifier	 Instruction Handle
ihComment	TokenNameIdentifier	 ih Comment
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
ihComment	TokenNameIdentifier	 ih Comment
=	TokenNameEQUAL	
ihElem	TokenNameIdentifier	 ih Elem
;	TokenNameSEMICOLON	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
COMMENT_NODE	TokenNameIdentifier	 COMMENT  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
COMMENT_NODE	TokenNameIdentifier	 COMMENT  NODE
]	TokenNameRBRACKET	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
COMMENT_NODE	TokenNameIdentifier	 COMMENT  NODE
]	TokenNameRBRACKET	
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihComment	TokenNameIdentifier	 ih Comment
)	TokenNameRPAREN	
:	TokenNameCOLON	
ihComment	TokenNameIdentifier	 ih Comment
;	TokenNameSEMICOLON	
// This DOM-type is not in use - default: process next node 	TokenNameCOMMENT_LINE	This DOM-type is not in use - default: process next node 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
CDATA_SECTION_NODE	TokenNameIdentifier	 CDATA  SECTION  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
// This DOM-type is not in use - default: process next node 	TokenNameCOMMENT_LINE	This DOM-type is not in use - default: process next node 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
DOCUMENT_FRAGMENT_NODE	TokenNameIdentifier	 DOCUMENT  FRAGMENT  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
// This DOM-type is not in use - default: process next node 	TokenNameCOMMENT_LINE	This DOM-type is not in use - default: process next node 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
DOCUMENT_TYPE_NODE	TokenNameIdentifier	 DOCUMENT  TYPE  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
// This DOM-type is not in use - default: process next node 	TokenNameCOMMENT_LINE	This DOM-type is not in use - default: process next node 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ENTITY_NODE	TokenNameIdentifier	 ENTITY  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
// This DOM-type is not in use - default: process next node 	TokenNameCOMMENT_LINE	This DOM-type is not in use - default: process next node 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ENTITY_REFERENCE_NODE	TokenNameIdentifier	 ENTITY  REFERENCE  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
// This DOM-type is not in use - default: process next node 	TokenNameCOMMENT_LINE	This DOM-type is not in use - default: process next node 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NOTATION_NODE	TokenNameIdentifier	 NOTATION  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
// Now compile test sequences for various match patterns: 	TokenNameCOMMENT_LINE	Now compile test sequences for various match patterns: 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NTYPES	TokenNameIdentifier	 NTYPES
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
targets	TokenNameIdentifier	 targets
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
TestSeq	TokenNameIdentifier	 Test Seq
testSeq	TokenNameIdentifier	 test Seq
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// Jump straight to namespace tests ? 	TokenNameCOMMENT_LINE	Jump straight to namespace tests ? 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
testSeq	TokenNameIdentifier	 test Seq
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
isNamespace	TokenNameIdentifier	 is Namespace
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
isAttribute	TokenNameIdentifier	 is Attribute
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
attrNamespaceHandle	TokenNameIdentifier	 attr Namespace Handle
;	TokenNameSEMICOLON	
else	TokenNameelse	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
elemNamespaceHandle	TokenNameIdentifier	 elem Namespace Handle
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Match on node type 	TokenNameCOMMENT_LINE	Match on node type 
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
isAttribute	TokenNameIdentifier	 is Attribute
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
testSeq	TokenNameIdentifier	 test Seq
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
attrNamespaceHandle	TokenNameIdentifier	 attr Namespace Handle
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
testSeq	TokenNameIdentifier	 test Seq
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
elemNamespaceHandle	TokenNameIdentifier	 elem Namespace Handle
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
ilKey	TokenNameIdentifier	 il Key
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
insert	TokenNameIdentifier	 insert
(	TokenNameLPAREN	
ilKey	TokenNameIdentifier	 il Key
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append first code in applyTemplates() - get type of current node 	TokenNameCOMMENT_LINE	Append first code in applyTemplates() - get type of current node 
final	TokenNamefinal	
int	TokenNameint	
getType	TokenNameIdentifier	 get Type
=	TokenNameEQUAL	
cpg	TokenNameIdentifier	 cpg
.	TokenNameDOT	
addInterfaceMethodref	TokenNameIdentifier	 add Interface Methodref
(	TokenNameLPAREN	
DOM_INTF	TokenNameIdentifier	 DOM  INTF
,	TokenNameCOMMA	
"getExpandedTypeID"	TokenNameStringLiteral	getExpandedTypeID
,	TokenNameCOMMA	
"(I)I"	TokenNameStringLiteral	(I)I
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
loadDOM	TokenNameIdentifier	 load DOM
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
ILOAD	TokenNameIdentifier	 ILOAD
(	TokenNameLPAREN	
_currentIndex	TokenNameIdentifier	 current Index
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
INVOKEINTERFACE	TokenNameIdentifier	 INVOKEINTERFACE
(	TokenNameLPAREN	
getType	TokenNameIdentifier	 get Type
,	TokenNameCOMMA	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append switch() statement - main dispatch loop in applyTemplates() 	TokenNameCOMMENT_LINE	Append switch() statement - main dispatch loop in applyTemplates() 
InstructionHandle	TokenNameIdentifier	 Instruction Handle
disp	TokenNameIdentifier	 disp
=	TokenNameEQUAL	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
SWITCH	TokenNameIdentifier	 SWITCH
(	TokenNameLPAREN	
types	TokenNameIdentifier	 types
,	TokenNameCOMMA	
targets	TokenNameIdentifier	 targets
,	TokenNameCOMMA	
ihLoop	TokenNameIdentifier	 ih Loop
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append all the "case:" statements 	TokenNameCOMMENT_LINE	Append all the "case:" statements 
appendTestSequences	TokenNameIdentifier	 append Test Sequences
(	TokenNameLPAREN	
body	TokenNameIdentifier	 body
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append the actual template code 	TokenNameCOMMENT_LINE	Append the actual template code 
appendTemplateCode	TokenNameIdentifier	 append Template Code
(	TokenNameLPAREN	
body	TokenNameIdentifier	 body
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append NS:* node tests (if any) 	TokenNameCOMMENT_LINE	Append NS:* node tests (if any) 
if	TokenNameif	
(	TokenNameLPAREN	
nsElem	TokenNameIdentifier	 ns Elem
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
nsElem	TokenNameIdentifier	 ns Elem
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append NS:@* node tests (if any) 	TokenNameCOMMENT_LINE	Append NS:@* node tests (if any) 
if	TokenNameif	
(	TokenNameLPAREN	
nsAttr	TokenNameIdentifier	 ns Attr
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
nsAttr	TokenNameIdentifier	 ns Attr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append default action for element and root nodes 	TokenNameCOMMENT_LINE	Append default action for element and root nodes 
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
ilRecurse	TokenNameIdentifier	 il Recurse
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append default action for text and attribute nodes 	TokenNameCOMMENT_LINE	Append default action for text and attribute nodes 
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
ilText	TokenNameIdentifier	 il Text
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// putting together constituent instruction lists 	TokenNameCOMMENT_LINE	putting together constituent instruction lists 
mainIL	TokenNameIdentifier	 main IL
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
body	TokenNameIdentifier	 body
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// fall through to ilLoop 	TokenNameCOMMENT_LINE	fall through to ilLoop 
mainIL	TokenNameIdentifier	 main IL
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
ilLoop	TokenNameIdentifier	 il Loop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
peepHoleOptimization	TokenNameIdentifier	 peep Hole Optimization
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
addMethod	TokenNameIdentifier	 add Method
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Compile method(s) for <xsl:apply-imports/> for this mode 	TokenNameCOMMENT_LINE	Compile method(s) for <xsl:apply-imports/> for this mode 
if	TokenNameif	
(	TokenNameLPAREN	
_importLevels	TokenNameIdentifier	 import Levels
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Enumeration	TokenNameIdentifier	 Enumeration
levels	TokenNameIdentifier	 levels
=	TokenNameEQUAL	
_importLevels	TokenNameIdentifier	 import Levels
.	TokenNameDOT	
keys	TokenNameIdentifier	 keys
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
levels	TokenNameIdentifier	 levels
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Integer	TokenNameIdentifier	 Integer
max	TokenNameIdentifier	 max
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Integer	TokenNameIdentifier	 Integer
)	TokenNameRPAREN	
levels	TokenNameIdentifier	 levels
.	TokenNameDOT	
nextElement	TokenNameIdentifier	 next Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Integer	TokenNameIdentifier	 Integer
min	TokenNameIdentifier	 min
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Integer	TokenNameIdentifier	 Integer
)	TokenNameRPAREN	
_importLevels	TokenNameIdentifier	 import Levels
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
max	TokenNameIdentifier	 max
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
compileApplyImports	TokenNameIdentifier	 compile Apply Imports
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
min	TokenNameIdentifier	 min
.	TokenNameDOT	
intValue	TokenNameIdentifier	 int Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
max	TokenNameIdentifier	 max
.	TokenNameDOT	
intValue	TokenNameIdentifier	 int Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
compileTemplateCalls	TokenNameIdentifier	 compile Template Calls
(	TokenNameLPAREN	
ClassGenerator	TokenNameIdentifier	 Class Generator
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
MethodGenerator	TokenNameIdentifier	 Method Generator
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
next	TokenNameIdentifier	 next
,	TokenNameCOMMA	
int	TokenNameint	
min	TokenNameIdentifier	 min
,	TokenNameCOMMA	
int	TokenNameint	
max	TokenNameIdentifier	 max
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Enumeration	TokenNameIdentifier	 Enumeration
templates	TokenNameIdentifier	 templates
=	TokenNameEQUAL	
_neededTemplates	TokenNameIdentifier	 needed Templates
.	TokenNameDOT	
keys	TokenNameIdentifier	 keys
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
Template	TokenNameIdentifier	 Template
template	TokenNameIdentifier	 template
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Template	TokenNameIdentifier	 Template
)	TokenNameRPAREN	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
nextElement	TokenNameIdentifier	 next Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
prec	TokenNameIdentifier	 prec
=	TokenNameEQUAL	
template	TokenNameIdentifier	 template
.	TokenNameDOT	
getImportPrecedence	TokenNameIdentifier	 get Import Precedence
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
prec	TokenNameIdentifier	 prec
>=	TokenNameGREATER_EQUAL	
min	TokenNameIdentifier	 min
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
prec	TokenNameIdentifier	 prec
<	TokenNameLESS	
max	TokenNameIdentifier	 max
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
.	TokenNameDOT	
hasContents	TokenNameIdentifier	 has Contents
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
InstructionList	TokenNameIdentifier	 Instruction List
til	TokenNameIdentifier	 til
=	TokenNameEQUAL	
template	TokenNameIdentifier	 template
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
til	TokenNameIdentifier	 til
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
GOTO_W	TokenNameIdentifier	 GOTO  W
(	TokenNameLPAREN	
next	TokenNameIdentifier	 next
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_templateILs	TokenNameIdentifier	 template I Ls
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
,	TokenNameCOMMA	
til	TokenNameIdentifier	 til
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_templateIHs	TokenNameIdentifier	 template I Hs
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
,	TokenNameCOMMA	
til	TokenNameIdentifier	 til
.	TokenNameDOT	
getStart	TokenNameIdentifier	 get Start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// empty template 	TokenNameCOMMENT_LINE	empty template 
_templateIHs	TokenNameIdentifier	 template I Hs
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
,	TokenNameCOMMA	
next	TokenNameIdentifier	 next
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
compileApplyImports	TokenNameIdentifier	 compile Apply Imports
(	TokenNameLPAREN	
ClassGenerator	TokenNameIdentifier	 Class Generator
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
int	TokenNameint	
min	TokenNameIdentifier	 min
,	TokenNameCOMMA	
int	TokenNameint	
max	TokenNameIdentifier	 max
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
XSLTC	TokenNameIdentifier	 XSLTC
xsltc	TokenNameIdentifier	 xsltc
=	TokenNameEQUAL	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getParser	TokenNameIdentifier	 get Parser
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getXSLTC	TokenNameIdentifier	 get XSLTC
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
ConstantPoolGen	TokenNameIdentifier	 Constant Pool Gen
cpg	TokenNameIdentifier	 cpg
=	TokenNameEQUAL	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getConstantPool	TokenNameIdentifier	 get Constant Pool
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
Vector	TokenNameIdentifier	 Vector
names	TokenNameIdentifier	 names
=	TokenNameEQUAL	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
getNamesIndex	TokenNameIdentifier	 get Names Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Clear some datastructures 	TokenNameCOMMENT_LINE	Clear some datastructures 
_namedTemplates	TokenNameIdentifier	 named Templates
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_neededTemplates	TokenNameIdentifier	 needed Templates
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_templateIHs	TokenNameIdentifier	 template I Hs
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_templateILs	TokenNameIdentifier	 template I Ls
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_patternGroups	TokenNameIdentifier	 pattern Groups
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
[	TokenNameLBRACKET	
32	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
_rootPattern	TokenNameIdentifier	 root Pattern
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// IMPORTANT: Save orignal & complete set of templates!!!! 	TokenNameCOMMENT_LINE	IMPORTANT: Save orignal & complete set of templates!!!! 
Vector	TokenNameIdentifier	 Vector
oldTemplates	TokenNameIdentifier	 old Templates
=	TokenNameEQUAL	
_templates	TokenNameIdentifier	 templates
;	TokenNameSEMICOLON	
// Gather templates that are within the scope of this import 	TokenNameCOMMENT_LINE	Gather templates that are within the scope of this import 
_templates	TokenNameIdentifier	 templates
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
Enumeration	TokenNameIdentifier	 Enumeration
templates	TokenNameIdentifier	 templates
=	TokenNameEQUAL	
oldTemplates	TokenNameIdentifier	 old Templates
.	TokenNameDOT	
elements	TokenNameIdentifier	 elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
Template	TokenNameIdentifier	 Template
template	TokenNameIdentifier	 template
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Template	TokenNameIdentifier	 Template
)	TokenNameRPAREN	
templates	TokenNameIdentifier	 templates
.	TokenNameDOT	
nextElement	TokenNameIdentifier	 next Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
prec	TokenNameIdentifier	 prec
=	TokenNameEQUAL	
template	TokenNameIdentifier	 template
.	TokenNameDOT	
getImportPrecedence	TokenNameIdentifier	 get Import Precedence
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
prec	TokenNameIdentifier	 prec
>=	TokenNameGREATER_EQUAL	
min	TokenNameIdentifier	 min
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
prec	TokenNameIdentifier	 prec
<	TokenNameLESS	
max	TokenNameIdentifier	 max
)	TokenNameRPAREN	
)	TokenNameRPAREN	
addTemplate	TokenNameIdentifier	 add Template
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Process all patterns from those templates 	TokenNameCOMMENT_LINE	Process all patterns from those templates 
processPatterns	TokenNameIdentifier	 process Patterns
(	TokenNameLPAREN	
_keys	TokenNameIdentifier	 keys
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Create the applyTemplates() method 	TokenNameCOMMENT_LINE	Create the applyTemplates() method 
final	TokenNamefinal	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
argTypes	TokenNameIdentifier	 arg Types
=	TokenNameEQUAL	
new	TokenNamenew	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
[	TokenNameLBRACKET	
4	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
argTypes	TokenNameIdentifier	 arg Types
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
Util	TokenNameIdentifier	 Util
.	TokenNameDOT	
getJCRefType	TokenNameIdentifier	 get JC Ref Type
(	TokenNameLPAREN	
DOM_INTF_SIG	TokenNameIdentifier	 DOM  INTF  SIG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
argTypes	TokenNameIdentifier	 arg Types
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
Util	TokenNameIdentifier	 Util
.	TokenNameDOT	
getJCRefType	TokenNameIdentifier	 get JC Ref Type
(	TokenNameLPAREN	
NODE_ITERATOR_SIG	TokenNameIdentifier	 NODE  ITERATOR  SIG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
argTypes	TokenNameIdentifier	 arg Types
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
Util	TokenNameIdentifier	 Util
.	TokenNameDOT	
getJCRefType	TokenNameIdentifier	 get JC Ref Type
(	TokenNameLPAREN	
TRANSLET_OUTPUT_SIG	TokenNameIdentifier	 TRANSLET  OUTPUT  SIG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
argTypes	TokenNameIdentifier	 arg Types
[	TokenNameLBRACKET	
3	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
.	TokenNameDOT	
INT	TokenNameIdentifier	 INT
;	TokenNameSEMICOLON	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
argNames	TokenNameIdentifier	 arg Names
=	TokenNameEQUAL	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
4	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
argNames	TokenNameIdentifier	 arg Names
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
DOCUMENT_PNAME	TokenNameIdentifier	 DOCUMENT  PNAME
;	TokenNameSEMICOLON	
argNames	TokenNameIdentifier	 arg Names
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ITERATOR_PNAME	TokenNameIdentifier	 ITERATOR  PNAME
;	TokenNameSEMICOLON	
argNames	TokenNameIdentifier	 arg Names
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
TRANSLET_OUTPUT_PNAME	TokenNameIdentifier	 TRANSLET  OUTPUT  PNAME
;	TokenNameSEMICOLON	
argNames	TokenNameIdentifier	 arg Names
[	TokenNameLBRACKET	
3	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
NODE_PNAME	TokenNameIdentifier	 NODE  PNAME
;	TokenNameSEMICOLON	
final	TokenNamefinal	
InstructionList	TokenNameIdentifier	 Instruction List
mainIL	TokenNameIdentifier	 main IL
=	TokenNameEQUAL	
new	TokenNamenew	
InstructionList	TokenNameIdentifier	 Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
MethodGenerator	TokenNameIdentifier	 Method Generator
methodGen	TokenNameIdentifier	 method Gen
=	TokenNameEQUAL	
new	TokenNamenew	
MethodGenerator	TokenNameIdentifier	 Method Generator
(	TokenNameLPAREN	
ACC_PUBLIC	TokenNameIdentifier	 ACC  PUBLIC
|	TokenNameOR	
ACC_FINAL	TokenNameIdentifier	 ACC  FINAL
,	TokenNameCOMMA	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
.	TokenNameDOT	
VOID	TokenNameIdentifier	 VOID
,	TokenNameCOMMA	
argTypes	TokenNameIdentifier	 arg Types
,	TokenNameCOMMA	
argNames	TokenNameIdentifier	 arg Names
,	TokenNameCOMMA	
functionName	TokenNameIdentifier	 function Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
'_'	TokenNameCharacterLiteral	
+	TokenNamePLUS	
max	TokenNameIdentifier	 max
,	TokenNameCOMMA	
getClassName	TokenNameIdentifier	 get Class Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
mainIL	TokenNameIdentifier	 main IL
,	TokenNameCOMMA	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getConstantPool	TokenNameIdentifier	 get Constant Pool
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
addException	TokenNameIdentifier	 add Exception
(	TokenNameLPAREN	
"org.apache.xalan.xsltc.TransletException"	TokenNameStringLiteral	org.apache.xalan.xsltc.TransletException
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Create the local variable to hold the current node 	TokenNameCOMMENT_LINE	Create the local variable to hold the current node 
final	TokenNamefinal	
LocalVariableGen	TokenNameIdentifier	 Local Variable Gen
current	TokenNameIdentifier	 current
;	TokenNameSEMICOLON	
current	TokenNameIdentifier	 current
=	TokenNameEQUAL	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
addLocalVariable2	TokenNameIdentifier	 add Local Variable2
(	TokenNameLPAREN	
"current"	TokenNameStringLiteral	current
,	TokenNameCOMMA	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
.	TokenNameDOT	
INT	TokenNameIdentifier	 INT
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_currentIndex	TokenNameIdentifier	 current Index
=	TokenNameEQUAL	
current	TokenNameIdentifier	 current
.	TokenNameDOT	
getIndex	TokenNameIdentifier	 get Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
mainIL	TokenNameIdentifier	 main IL
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
ILOAD	TokenNameIdentifier	 ILOAD
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
getLocalIndex	TokenNameIdentifier	 get Local Index
(	TokenNameLPAREN	
NODE_PNAME	TokenNameIdentifier	 NODE  PNAME
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
current	TokenNameIdentifier	 current
.	TokenNameDOT	
setStart	TokenNameIdentifier	 set Start
(	TokenNameLPAREN	
mainIL	TokenNameIdentifier	 main IL
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
ISTORE	TokenNameIdentifier	 ISTORE
(	TokenNameLPAREN	
_currentIndex	TokenNameIdentifier	 current Index
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Create the "body" instruction list that will eventually hold the 	TokenNameCOMMENT_LINE	Create the "body" instruction list that will eventually hold the 
// code for the entire method (other ILs will be appended). 	TokenNameCOMMENT_LINE	code for the entire method (other ILs will be appended). 
final	TokenNamefinal	
InstructionList	TokenNameIdentifier	 Instruction List
body	TokenNameIdentifier	 body
=	TokenNameEQUAL	
new	TokenNamenew	
InstructionList	TokenNameIdentifier	 Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
NOP	TokenNameIdentifier	 NOP
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Create an instruction list that contains the default next-node 	TokenNameCOMMENT_LINE	Create an instruction list that contains the default next-node 
// iteration 	TokenNameCOMMENT_LINE	iteration 
final	TokenNamefinal	
InstructionList	TokenNameIdentifier	 Instruction List
ilLoop	TokenNameIdentifier	 il Loop
=	TokenNameEQUAL	
new	TokenNamenew	
InstructionList	TokenNameIdentifier	 Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ilLoop	TokenNameIdentifier	 il Loop
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
RETURN	TokenNameIdentifier	 RETURN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
ihLoop	TokenNameIdentifier	 ih Loop
=	TokenNameEQUAL	
ilLoop	TokenNameIdentifier	 il Loop
.	TokenNameDOT	
getStart	TokenNameIdentifier	 get Start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Compile default handling of elements (traverse children) 	TokenNameCOMMENT_LINE	Compile default handling of elements (traverse children) 
InstructionList	TokenNameIdentifier	 Instruction List
ilRecurse	TokenNameIdentifier	 il Recurse
=	TokenNameEQUAL	
compileDefaultRecursion	TokenNameIdentifier	 compile Default Recursion
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihLoop	TokenNameIdentifier	 ih Loop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
ihRecurse	TokenNameIdentifier	 ih Recurse
=	TokenNameEQUAL	
ilRecurse	TokenNameIdentifier	 il Recurse
.	TokenNameDOT	
getStart	TokenNameIdentifier	 get Start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Compile default handling of text/attribute nodes (output text) 	TokenNameCOMMENT_LINE	Compile default handling of text/attribute nodes (output text) 
InstructionList	TokenNameIdentifier	 Instruction List
ilText	TokenNameIdentifier	 il Text
=	TokenNameEQUAL	
compileDefaultText	TokenNameIdentifier	 compile Default Text
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihLoop	TokenNameIdentifier	 ih Loop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
ihText	TokenNameIdentifier	 ih Text
=	TokenNameEQUAL	
ilText	TokenNameIdentifier	 il Text
.	TokenNameDOT	
getStart	TokenNameIdentifier	 get Start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Distinguish attribute/element/namespace tests for further processing 	TokenNameCOMMENT_LINE	Distinguish attribute/element/namespace tests for further processing 
final	TokenNamefinal	
int	TokenNameint	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
types	TokenNameIdentifier	 types
=	TokenNameEQUAL	
new	TokenNamenew	
int	TokenNameint	
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NTYPES	TokenNameIdentifier	 NTYPES
+	TokenNamePLUS	
names	TokenNameIdentifier	 names
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
types	TokenNameIdentifier	 types
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
i	TokenNameIdentifier	 i
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
final	TokenNamefinal	
boolean	TokenNameboolean	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
isAttribute	TokenNameIdentifier	 is Attribute
=	TokenNameEQUAL	
new	TokenNamenew	
boolean	TokenNameboolean	
[	TokenNameLBRACKET	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
length	TokenNameIdentifier	 length
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
boolean	TokenNameboolean	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
isNamespace	TokenNameIdentifier	 is Namespace
=	TokenNameEQUAL	
new	TokenNamenew	
boolean	TokenNameboolean	
[	TokenNameLBRACKET	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
length	TokenNameIdentifier	 length
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
names	TokenNameIdentifier	 names
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
names	TokenNameIdentifier	 names
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
isAttribute	TokenNameIdentifier	 is Attribute
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
+	TokenNamePLUS	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NTYPES	TokenNameIdentifier	 NTYPES
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
isAttributeName	TokenNameIdentifier	 is Attribute Name
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
isNamespace	TokenNameIdentifier	 is Namespace
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
+	TokenNamePLUS	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NTYPES	TokenNameIdentifier	 NTYPES
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
isNamespaceName	TokenNameIdentifier	 is Namespace Name
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Compile all templates - regardless of pattern type 	TokenNameCOMMENT_LINE	Compile all templates - regardless of pattern type 
compileTemplateCalls	TokenNameIdentifier	 compile Template Calls
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihLoop	TokenNameIdentifier	 ih Loop
,	TokenNameCOMMA	
min	TokenNameIdentifier	 min
,	TokenNameCOMMA	
max	TokenNameIdentifier	 max
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Handle template with explicit "*" pattern 	TokenNameCOMMENT_LINE	Handle template with explicit "*" pattern 
final	TokenNamefinal	
TestSeq	TokenNameIdentifier	 Test Seq
elemTest	TokenNameIdentifier	 elem Test
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ELEMENT_NODE	TokenNameIdentifier	 ELEMENT  NODE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
ihElem	TokenNameIdentifier	 ih Elem
=	TokenNameEQUAL	
ihRecurse	TokenNameIdentifier	 ih Recurse
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
elemTest	TokenNameIdentifier	 elem Test
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ihElem	TokenNameIdentifier	 ih Elem
=	TokenNameEQUAL	
elemTest	TokenNameIdentifier	 elem Test
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihLoop	TokenNameIdentifier	 ih Loop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Handle template with explicit "@*" pattern 	TokenNameCOMMENT_LINE	Handle template with explicit "@*" pattern 
final	TokenNamefinal	
TestSeq	TokenNameIdentifier	 Test Seq
attrTest	TokenNameIdentifier	 attr Test
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ATTRIBUTE_NODE	TokenNameIdentifier	 ATTRIBUTE  NODE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
ihAttr	TokenNameIdentifier	 ih Attr
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
attrTest	TokenNameIdentifier	 attr Test
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ihAttr	TokenNameIdentifier	 ih Attr
=	TokenNameEQUAL	
attrTest	TokenNameIdentifier	 attr Test
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihAttr	TokenNameIdentifier	 ih Attr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Do tests for id() and key() patterns first 	TokenNameCOMMENT_LINE	Do tests for id() and key() patterns first 
InstructionList	TokenNameIdentifier	 Instruction List
ilKey	TokenNameIdentifier	 il Key
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
_idxTestSeq	TokenNameIdentifier	 idx Test Seq
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ilKey	TokenNameIdentifier	 il Key
=	TokenNameEQUAL	
_idxTestSeq	TokenNameIdentifier	 idx Test Seq
.	TokenNameDOT	
getInstructionList	TokenNameIdentifier	 get Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// If there is a match on node() we need to replace ihElem 	TokenNameCOMMENT_LINE	If there is a match on node() we need to replace ihElem 
// and ihText if the priority of node() is higher 	TokenNameCOMMENT_LINE	and ihText if the priority of node() is higher 
if	TokenNameif	
(	TokenNameLPAREN	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Compare priorities of node() and "*" 	TokenNameCOMMENT_LINE	Compare priorities of node() and "*" 
double	TokenNamedouble	
nodePrio	TokenNameIdentifier	 node Prio
=	TokenNameEQUAL	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
.	TokenNameDOT	
getPriority	TokenNameIdentifier	 get Priority
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
nodePos	TokenNameIdentifier	 node Pos
=	TokenNameEQUAL	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
.	TokenNameDOT	
getPosition	TokenNameIdentifier	 get Position
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
elemPrio	TokenNameIdentifier	 elem Prio
=	TokenNameEQUAL	
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
-	TokenNameMINUS	
Double	TokenNameIdentifier	 Double
.	TokenNameDOT	
MAX_VALUE	TokenNameIdentifier	 MAX  VALUE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
elemPos	TokenNameIdentifier	 elem Pos
=	TokenNameEQUAL	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MIN_VALUE	TokenNameIdentifier	 MIN  VALUE
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
elemTest	TokenNameIdentifier	 elem Test
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
elemPrio	TokenNameIdentifier	 elem Prio
=	TokenNameEQUAL	
elemTest	TokenNameIdentifier	 elem Test
.	TokenNameDOT	
getPriority	TokenNameIdentifier	 get Priority
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
elemPos	TokenNameIdentifier	 elem Pos
=	TokenNameEQUAL	
elemTest	TokenNameIdentifier	 elem Test
.	TokenNameDOT	
getPosition	TokenNameIdentifier	 get Position
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
elemPrio	TokenNameIdentifier	 elem Prio
==	TokenNameEQUAL_EQUAL	
Double	TokenNameIdentifier	 Double
.	TokenNameDOT	
NaN	TokenNameIdentifier	 Na N
||	TokenNameOR_OR	
elemPrio	TokenNameIdentifier	 elem Prio
<	TokenNameLESS	
nodePrio	TokenNameIdentifier	 node Prio
||	TokenNameOR_OR	
(	TokenNameLPAREN	
elemPrio	TokenNameIdentifier	 elem Prio
==	TokenNameEQUAL_EQUAL	
nodePrio	TokenNameIdentifier	 node Prio
&&	TokenNameAND_AND	
elemPos	TokenNameIdentifier	 elem Pos
<	TokenNameLESS	
nodePos	TokenNameIdentifier	 node Pos
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ihElem	TokenNameIdentifier	 ih Elem
=	TokenNameEQUAL	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihLoop	TokenNameIdentifier	 ih Loop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Compare priorities of node() and text() 	TokenNameCOMMENT_LINE	Compare priorities of node() and text() 
final	TokenNamefinal	
TestSeq	TokenNameIdentifier	 Test Seq
textTest	TokenNameIdentifier	 text Test
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
textPrio	TokenNameIdentifier	 text Prio
=	TokenNameEQUAL	
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
-	TokenNameMINUS	
Double	TokenNameIdentifier	 Double
.	TokenNameDOT	
MAX_VALUE	TokenNameIdentifier	 MAX  VALUE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
textPos	TokenNameIdentifier	 text Pos
=	TokenNameEQUAL	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MIN_VALUE	TokenNameIdentifier	 MIN  VALUE
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
textTest	TokenNameIdentifier	 text Test
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
textPrio	TokenNameIdentifier	 text Prio
=	TokenNameEQUAL	
textTest	TokenNameIdentifier	 text Test
.	TokenNameDOT	
getPriority	TokenNameIdentifier	 get Priority
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
textPos	TokenNameIdentifier	 text Pos
=	TokenNameEQUAL	
textTest	TokenNameIdentifier	 text Test
.	TokenNameDOT	
getPosition	TokenNameIdentifier	 get Position
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
textPrio	TokenNameIdentifier	 text Prio
==	TokenNameEQUAL_EQUAL	
Double	TokenNameIdentifier	 Double
.	TokenNameDOT	
NaN	TokenNameIdentifier	 Na N
||	TokenNameOR_OR	
textPrio	TokenNameIdentifier	 text Prio
<	TokenNameLESS	
nodePrio	TokenNameIdentifier	 node Prio
||	TokenNameOR_OR	
(	TokenNameLPAREN	
textPrio	TokenNameIdentifier	 text Prio
==	TokenNameEQUAL_EQUAL	
nodePrio	TokenNameIdentifier	 node Prio
&&	TokenNameAND_AND	
textPos	TokenNameIdentifier	 text Pos
<	TokenNameLESS	
nodePos	TokenNameIdentifier	 node Pos
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ihText	TokenNameIdentifier	 ih Text
=	TokenNameEQUAL	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihLoop	TokenNameIdentifier	 ih Loop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Handle templates with "ns:*" pattern 	TokenNameCOMMENT_LINE	Handle templates with "ns:*" pattern 
InstructionHandle	TokenNameIdentifier	 Instruction Handle
elemNamespaceHandle	TokenNameIdentifier	 elem Namespace Handle
=	TokenNameEQUAL	
ihElem	TokenNameIdentifier	 ih Elem
;	TokenNameSEMICOLON	
InstructionList	TokenNameIdentifier	 Instruction List
nsElem	TokenNameIdentifier	 ns Elem
=	TokenNameEQUAL	
compileNamespaces	TokenNameIdentifier	 compile Namespaces
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
isNamespace	TokenNameIdentifier	 is Namespace
,	TokenNameCOMMA	
isAttribute	TokenNameIdentifier	 is Attribute
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
ihElem	TokenNameIdentifier	 ih Elem
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
nsElem	TokenNameIdentifier	 ns Elem
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
elemNamespaceHandle	TokenNameIdentifier	 elem Namespace Handle
=	TokenNameEQUAL	
nsElem	TokenNameIdentifier	 ns Elem
.	TokenNameDOT	
getStart	TokenNameIdentifier	 get Start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Handle templates with "ns:@*" pattern 	TokenNameCOMMENT_LINE	Handle templates with "ns:@*" pattern 
InstructionList	TokenNameIdentifier	 Instruction List
nsAttr	TokenNameIdentifier	 ns Attr
=	TokenNameEQUAL	
compileNamespaces	TokenNameIdentifier	 compile Namespaces
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
isNamespace	TokenNameIdentifier	 is Namespace
,	TokenNameCOMMA	
isAttribute	TokenNameIdentifier	 is Attribute
,	TokenNameCOMMA	
true	TokenNametrue	
,	TokenNameCOMMA	
ihAttr	TokenNameIdentifier	 ih Attr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
attrNamespaceHandle	TokenNameIdentifier	 attr Namespace Handle
=	TokenNameEQUAL	
ihAttr	TokenNameIdentifier	 ih Attr
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
nsAttr	TokenNameIdentifier	 ns Attr
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
attrNamespaceHandle	TokenNameIdentifier	 attr Namespace Handle
=	TokenNameEQUAL	
nsAttr	TokenNameIdentifier	 ns Attr
.	TokenNameDOT	
getStart	TokenNameIdentifier	 get Start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Handle templates with "ns:elem" or "ns:@attr" pattern 	TokenNameCOMMENT_LINE	Handle templates with "ns:elem" or "ns:@attr" pattern 
final	TokenNamefinal	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
targets	TokenNameIdentifier	 targets
=	TokenNameEQUAL	
new	TokenNamenew	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
[	TokenNameLBRACKET	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
length	TokenNameIdentifier	 length
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NTYPES	TokenNameIdentifier	 NTYPES
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
targets	TokenNameIdentifier	 targets
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
TestSeq	TokenNameIdentifier	 Test Seq
testSeq	TokenNameIdentifier	 test Seq
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// Jump straight to namespace tests ? 	TokenNameCOMMENT_LINE	Jump straight to namespace tests ? 
if	TokenNameif	
(	TokenNameLPAREN	
isNamespace	TokenNameIdentifier	 is Namespace
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
isAttribute	TokenNameIdentifier	 is Attribute
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
attrNamespaceHandle	TokenNameIdentifier	 attr Namespace Handle
;	TokenNameSEMICOLON	
else	TokenNameelse	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
elemNamespaceHandle	TokenNameIdentifier	 elem Namespace Handle
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Test first, then jump to namespace tests 	TokenNameCOMMENT_LINE	Test first, then jump to namespace tests 
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
testSeq	TokenNameIdentifier	 test Seq
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
isAttribute	TokenNameIdentifier	 is Attribute
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
testSeq	TokenNameIdentifier	 test Seq
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
attrNamespaceHandle	TokenNameIdentifier	 attr Namespace Handle
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
testSeq	TokenNameIdentifier	 test Seq
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
elemNamespaceHandle	TokenNameIdentifier	 elem Namespace Handle
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Handle pattern with match on root node - default: traverse children 	TokenNameCOMMENT_LINE	Handle pattern with match on root node - default: traverse children 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ROOT_NODE	TokenNameIdentifier	 ROOT  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
_rootPattern	TokenNameIdentifier	 root Pattern
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
getTemplateInstructionHandle	TokenNameIdentifier	 get Template Instruction Handle
(	TokenNameLPAREN	
_rootPattern	TokenNameIdentifier	 root Pattern
.	TokenNameDOT	
getTemplate	TokenNameIdentifier	 get Template
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
ihRecurse	TokenNameIdentifier	 ih Recurse
;	TokenNameSEMICOLON	
// Handle pattern with match on root node - default: traverse children 	TokenNameCOMMENT_LINE	Handle pattern with match on root node - default: traverse children 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
DOCUMENT_NODE	TokenNameIdentifier	 DOCUMENT  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
_rootPattern	TokenNameIdentifier	 root Pattern
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
getTemplateInstructionHandle	TokenNameIdentifier	 get Template Instruction Handle
(	TokenNameLPAREN	
_rootPattern	TokenNameIdentifier	 root Pattern
.	TokenNameDOT	
getTemplate	TokenNameIdentifier	 get Template
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
ihRecurse	TokenNameIdentifier	 ih Recurse
;	TokenNameSEMICOLON	
// %HZ%: Was ihLoop in XSLTC_DTM branch 	TokenNameCOMMENT_LINE	%HZ%: Was ihLoop in XSLTC_DTM branch 
// Handle any pattern with match on text nodes - default: loop 	TokenNameCOMMENT_LINE	Handle any pattern with match on text nodes - default: loop 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
]	TokenNameRBRACKET	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
]	TokenNameRBRACKET	
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihText	TokenNameIdentifier	 ih Text
)	TokenNameRPAREN	
:	TokenNameCOLON	
ihText	TokenNameIdentifier	 ih Text
;	TokenNameSEMICOLON	
// This DOM-type is not in use - default: process next node 	TokenNameCOMMENT_LINE	This DOM-type is not in use - default: process next node 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NAMESPACE_NODE	TokenNameIdentifier	 NAMESPACE  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
// Match unknown element in DOM - default: check for namespace match 	TokenNameCOMMENT_LINE	Match unknown element in DOM - default: check for namespace match 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ELEMENT_NODE	TokenNameIdentifier	 ELEMENT  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
elemNamespaceHandle	TokenNameIdentifier	 elem Namespace Handle
;	TokenNameSEMICOLON	
// Match unknown attribute in DOM - default: check for namespace match 	TokenNameCOMMENT_LINE	Match unknown attribute in DOM - default: check for namespace match 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ATTRIBUTE_NODE	TokenNameIdentifier	 ATTRIBUTE  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
attrNamespaceHandle	TokenNameIdentifier	 attr Namespace Handle
;	TokenNameSEMICOLON	
// Match on processing instruction - default: loop 	TokenNameCOMMENT_LINE	Match on processing instruction - default: loop 
InstructionHandle	TokenNameIdentifier	 Instruction Handle
ihPI	TokenNameIdentifier	 ih PI
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
ihPI	TokenNameIdentifier	 ih PI
=	TokenNameEQUAL	
ihElem	TokenNameIdentifier	 ih Elem
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
PROCESSING_INSTRUCTION_NODE	TokenNameIdentifier	 PROCESSING  INSTRUCTION  NODE
]	TokenNameRBRACKET	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
PROCESSING_INSTRUCTION_NODE	TokenNameIdentifier	 PROCESSING  INSTRUCTION  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
PROCESSING_INSTRUCTION_NODE	TokenNameIdentifier	 PROCESSING  INSTRUCTION  NODE
]	TokenNameRBRACKET	
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihPI	TokenNameIdentifier	 ih PI
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
PROCESSING_INSTRUCTION_NODE	TokenNameIdentifier	 PROCESSING  INSTRUCTION  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihPI	TokenNameIdentifier	 ih PI
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Match on comments - default: process next node 	TokenNameCOMMENT_LINE	Match on comments - default: process next node 
InstructionHandle	TokenNameIdentifier	 Instruction Handle
ihComment	TokenNameIdentifier	 ih Comment
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
_childNodeTestSeq	TokenNameIdentifier	 child Node Test Seq
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
ihComment	TokenNameIdentifier	 ih Comment
=	TokenNameEQUAL	
ihElem	TokenNameIdentifier	 ih Elem
;	TokenNameSEMICOLON	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
COMMENT_NODE	TokenNameIdentifier	 COMMENT  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
COMMENT_NODE	TokenNameIdentifier	 COMMENT  NODE
]	TokenNameRBRACKET	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
COMMENT_NODE	TokenNameIdentifier	 COMMENT  NODE
]	TokenNameRBRACKET	
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
ihComment	TokenNameIdentifier	 ih Comment
)	TokenNameRPAREN	
:	TokenNameCOLON	
ihComment	TokenNameIdentifier	 ih Comment
;	TokenNameSEMICOLON	
// This DOM-type is not in use - default: process next node 	TokenNameCOMMENT_LINE	This DOM-type is not in use - default: process next node 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
CDATA_SECTION_NODE	TokenNameIdentifier	 CDATA  SECTION  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
// This DOM-type is not in use - default: process next node 	TokenNameCOMMENT_LINE	This DOM-type is not in use - default: process next node 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
DOCUMENT_FRAGMENT_NODE	TokenNameIdentifier	 DOCUMENT  FRAGMENT  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
// This DOM-type is not in use - default: process next node 	TokenNameCOMMENT_LINE	This DOM-type is not in use - default: process next node 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
DOCUMENT_TYPE_NODE	TokenNameIdentifier	 DOCUMENT  TYPE  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
// This DOM-type is not in use - default: process next node 	TokenNameCOMMENT_LINE	This DOM-type is not in use - default: process next node 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ENTITY_NODE	TokenNameIdentifier	 ENTITY  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
// This DOM-type is not in use - default: process next node 	TokenNameCOMMENT_LINE	This DOM-type is not in use - default: process next node 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ENTITY_REFERENCE_NODE	TokenNameIdentifier	 ENTITY  REFERENCE  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
// This DOM-type is not in use - default: process next node 	TokenNameCOMMENT_LINE	This DOM-type is not in use - default: process next node 
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NOTATION_NODE	TokenNameIdentifier	 NOTATION  NODE
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ihLoop	TokenNameIdentifier	 ih Loop
;	TokenNameSEMICOLON	
// Now compile test sequences for various match patterns: 	TokenNameCOMMENT_LINE	Now compile test sequences for various match patterns: 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NTYPES	TokenNameIdentifier	 NTYPES
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
targets	TokenNameIdentifier	 targets
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
TestSeq	TokenNameIdentifier	 Test Seq
testSeq	TokenNameIdentifier	 test Seq
=	TokenNameEQUAL	
_testSeq	TokenNameIdentifier	 test Seq
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// Jump straight to namespace tests ? 	TokenNameCOMMENT_LINE	Jump straight to namespace tests ? 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
testSeq	TokenNameIdentifier	 test Seq
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
isNamespace	TokenNameIdentifier	 is Namespace
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
isAttribute	TokenNameIdentifier	 is Attribute
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
attrNamespaceHandle	TokenNameIdentifier	 attr Namespace Handle
;	TokenNameSEMICOLON	
else	TokenNameelse	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
elemNamespaceHandle	TokenNameIdentifier	 elem Namespace Handle
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Match on node type 	TokenNameCOMMENT_LINE	Match on node type 
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
isAttribute	TokenNameIdentifier	 is Attribute
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
testSeq	TokenNameIdentifier	 test Seq
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
attrNamespaceHandle	TokenNameIdentifier	 attr Namespace Handle
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
targets	TokenNameIdentifier	 targets
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
testSeq	TokenNameIdentifier	 test Seq
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
methodGen	TokenNameIdentifier	 method Gen
,	TokenNameCOMMA	
elemNamespaceHandle	TokenNameIdentifier	 elem Namespace Handle
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
ilKey	TokenNameIdentifier	 il Key
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
insert	TokenNameIdentifier	 insert
(	TokenNameLPAREN	
ilKey	TokenNameIdentifier	 il Key
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append first code in applyTemplates() - get type of current node 	TokenNameCOMMENT_LINE	Append first code in applyTemplates() - get type of current node 
final	TokenNamefinal	
int	TokenNameint	
getType	TokenNameIdentifier	 get Type
=	TokenNameEQUAL	
cpg	TokenNameIdentifier	 cpg
.	TokenNameDOT	
addInterfaceMethodref	TokenNameIdentifier	 add Interface Methodref
(	TokenNameLPAREN	
DOM_INTF	TokenNameIdentifier	 DOM  INTF
,	TokenNameCOMMA	
"getExpandedTypeID"	TokenNameStringLiteral	getExpandedTypeID
,	TokenNameCOMMA	
"(I)I"	TokenNameStringLiteral	(I)I
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
loadDOM	TokenNameIdentifier	 load DOM
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
ILOAD	TokenNameIdentifier	 ILOAD
(	TokenNameLPAREN	
_currentIndex	TokenNameIdentifier	 current Index
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
INVOKEINTERFACE	TokenNameIdentifier	 INVOKEINTERFACE
(	TokenNameLPAREN	
getType	TokenNameIdentifier	 get Type
,	TokenNameCOMMA	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append switch() statement - main dispatch loop in applyTemplates() 	TokenNameCOMMENT_LINE	Append switch() statement - main dispatch loop in applyTemplates() 
InstructionHandle	TokenNameIdentifier	 Instruction Handle
disp	TokenNameIdentifier	 disp
=	TokenNameEQUAL	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
SWITCH	TokenNameIdentifier	 SWITCH
(	TokenNameLPAREN	
types	TokenNameIdentifier	 types
,	TokenNameCOMMA	
targets	TokenNameIdentifier	 targets
,	TokenNameCOMMA	
ihLoop	TokenNameIdentifier	 ih Loop
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append all the "case:" statements 	TokenNameCOMMENT_LINE	Append all the "case:" statements 
appendTestSequences	TokenNameIdentifier	 append Test Sequences
(	TokenNameLPAREN	
body	TokenNameIdentifier	 body
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append the actual template code 	TokenNameCOMMENT_LINE	Append the actual template code 
appendTemplateCode	TokenNameIdentifier	 append Template Code
(	TokenNameLPAREN	
body	TokenNameIdentifier	 body
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append NS:* node tests (if any) 	TokenNameCOMMENT_LINE	Append NS:* node tests (if any) 
if	TokenNameif	
(	TokenNameLPAREN	
nsElem	TokenNameIdentifier	 ns Elem
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
nsElem	TokenNameIdentifier	 ns Elem
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append NS:@* node tests (if any) 	TokenNameCOMMENT_LINE	Append NS:@* node tests (if any) 
if	TokenNameif	
(	TokenNameLPAREN	
nsAttr	TokenNameIdentifier	 ns Attr
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
nsAttr	TokenNameIdentifier	 ns Attr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append default action for element and root nodes 	TokenNameCOMMENT_LINE	Append default action for element and root nodes 
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
ilRecurse	TokenNameIdentifier	 il Recurse
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Append default action for text and attribute nodes 	TokenNameCOMMENT_LINE	Append default action for text and attribute nodes 
body	TokenNameIdentifier	 body
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
ilText	TokenNameIdentifier	 il Text
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// putting together constituent instruction lists 	TokenNameCOMMENT_LINE	putting together constituent instruction lists 
mainIL	TokenNameIdentifier	 main IL
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
body	TokenNameIdentifier	 body
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Mark the end of the live range for the "current" variable 	TokenNameCOMMENT_LINE	Mark the end of the live range for the "current" variable 
current	TokenNameIdentifier	 current
.	TokenNameDOT	
setEnd	TokenNameIdentifier	 set End
(	TokenNameLPAREN	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
getEnd	TokenNameIdentifier	 get End
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// fall through to ilLoop 	TokenNameCOMMENT_LINE	fall through to ilLoop 
mainIL	TokenNameIdentifier	 main IL
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
ilLoop	TokenNameIdentifier	 il Loop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
peepHoleOptimization	TokenNameIdentifier	 peep Hole Optimization
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
addMethod	TokenNameIdentifier	 add Method
(	TokenNameLPAREN	
methodGen	TokenNameIdentifier	 method Gen
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Restore original (complete) set of templates for this transformation 	TokenNameCOMMENT_LINE	Restore original (complete) set of templates for this transformation 
_templates	TokenNameIdentifier	 templates
=	TokenNameEQUAL	
oldTemplates	TokenNameIdentifier	 old Templates
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Peephole optimization. */	TokenNameCOMMENT_JAVADOC	 Peephole optimization. 
private	TokenNameprivate	
void	TokenNamevoid	
peepHoleOptimization	TokenNameIdentifier	 peep Hole Optimization
(	TokenNameLPAREN	
MethodGenerator	TokenNameIdentifier	 Method Generator
methodGen	TokenNameIdentifier	 method Gen
)	TokenNameRPAREN	
{	TokenNameLBRACE	
InstructionList	TokenNameIdentifier	 Instruction List
il	TokenNameIdentifier	 il
=	TokenNameEQUAL	
methodGen	TokenNameIdentifier	 method Gen
.	TokenNameDOT	
getInstructionList	TokenNameIdentifier	 get Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
InstructionFinder	TokenNameIdentifier	 Instruction Finder
find	TokenNameIdentifier	 find
=	TokenNameEQUAL	
new	TokenNamenew	
InstructionFinder	TokenNameIdentifier	 Instruction Finder
(	TokenNameLPAREN	
il	TokenNameIdentifier	 il
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
ih	TokenNameIdentifier	 ih
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
pattern	TokenNameIdentifier	 pattern
;	TokenNameSEMICOLON	
// LoadInstruction, POP => (removed) 	TokenNameCOMMENT_LINE	LoadInstruction, POP => (removed) 
pattern	TokenNameIdentifier	 pattern
=	TokenNameEQUAL	
"LoadInstruction POP"	TokenNameStringLiteral	LoadInstruction POP
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
iter	TokenNameIdentifier	 iter
=	TokenNameEQUAL	
find	TokenNameIdentifier	 find
.	TokenNameDOT	
search	TokenNameIdentifier	 search
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
match	TokenNameIdentifier	 match
=	TokenNameEQUAL	
(	TokenNameLPAREN	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
hasTargeters	TokenNameIdentifier	 has Targeters
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
hasTargeters	TokenNameIdentifier	 has Targeters
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
delete	TokenNameIdentifier	 delete
(	TokenNameLPAREN	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
TargetLostException	TokenNameIdentifier	 Target Lost Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// TODO: move target down into the list 	TokenNameCOMMENT_LINE	TODO: move target down into the list 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// ILOAD_N, ILOAD_N, SWAP, ISTORE_N => ILOAD_N 	TokenNameCOMMENT_LINE	ILOAD_N, ILOAD_N, SWAP, ISTORE_N => ILOAD_N 
pattern	TokenNameIdentifier	 pattern
=	TokenNameEQUAL	
"ILOAD ILOAD SWAP ISTORE"	TokenNameStringLiteral	ILOAD ILOAD SWAP ISTORE
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
iter	TokenNameIdentifier	 iter
=	TokenNameEQUAL	
find	TokenNameIdentifier	 find
.	TokenNameDOT	
search	TokenNameIdentifier	 search
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
match	TokenNameIdentifier	 match
=	TokenNameEQUAL	
(	TokenNameLPAREN	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
ILOAD	TokenNameIdentifier	 ILOAD
iload1	TokenNameIdentifier	 iload1
=	TokenNameEQUAL	
(	TokenNameLPAREN	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
ILOAD	TokenNameIdentifier	 ILOAD
)	TokenNameRPAREN	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
getInstruction	TokenNameIdentifier	 get Instruction
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
ILOAD	TokenNameIdentifier	 ILOAD
iload2	TokenNameIdentifier	 iload2
=	TokenNameEQUAL	
(	TokenNameLPAREN	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
ILOAD	TokenNameIdentifier	 ILOAD
)	TokenNameRPAREN	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
getInstruction	TokenNameIdentifier	 get Instruction
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
ISTORE	TokenNameIdentifier	 ISTORE
istore	TokenNameIdentifier	 istore
=	TokenNameEQUAL	
(	TokenNameLPAREN	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
ISTORE	TokenNameIdentifier	 ISTORE
)	TokenNameRPAREN	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
3	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
getInstruction	TokenNameIdentifier	 get Instruction
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
hasTargeters	TokenNameIdentifier	 has Targeters
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
hasTargeters	TokenNameIdentifier	 has Targeters
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
3	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
hasTargeters	TokenNameIdentifier	 has Targeters
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
iload1	TokenNameIdentifier	 iload1
.	TokenNameDOT	
getIndex	TokenNameIdentifier	 get Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
iload2	TokenNameIdentifier	 iload2
.	TokenNameDOT	
getIndex	TokenNameIdentifier	 get Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
iload2	TokenNameIdentifier	 iload2
.	TokenNameDOT	
getIndex	TokenNameIdentifier	 get Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
istore	TokenNameIdentifier	 istore
.	TokenNameDOT	
getIndex	TokenNameIdentifier	 get Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
delete	TokenNameIdentifier	 delete
(	TokenNameLPAREN	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
3	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
TargetLostException	TokenNameIdentifier	 Target Lost Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// TODO: move target down into the list 	TokenNameCOMMENT_LINE	TODO: move target down into the list 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// LoadInstruction_N, LoadInstruction_M, SWAP => LoadInstruction_M, LoadInstruction_N 	TokenNameCOMMENT_LINE	LoadInstruction_N, LoadInstruction_M, SWAP => LoadInstruction_M, LoadInstruction_N 
pattern	TokenNameIdentifier	 pattern
=	TokenNameEQUAL	
"LoadInstruction LoadInstruction SWAP"	TokenNameStringLiteral	LoadInstruction LoadInstruction SWAP
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
iter	TokenNameIdentifier	 iter
=	TokenNameEQUAL	
find	TokenNameIdentifier	 find
.	TokenNameDOT	
search	TokenNameIdentifier	 search
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
match	TokenNameIdentifier	 match
=	TokenNameEQUAL	
(	TokenNameLPAREN	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
hasTargeters	TokenNameIdentifier	 has Targeters
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
hasTargeters	TokenNameIdentifier	 has Targeters
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
hasTargeters	TokenNameIdentifier	 has Targeters
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Instruction	TokenNameIdentifier	 Instruction
load_m	TokenNameIdentifier	 load m
=	TokenNameEQUAL	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
getInstruction	TokenNameIdentifier	 get Instruction
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
insert	TokenNameIdentifier	 insert
(	TokenNameLPAREN	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
load_m	TokenNameIdentifier	 load m
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
delete	TokenNameIdentifier	 delete
(	TokenNameLPAREN	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
TargetLostException	TokenNameIdentifier	 Target Lost Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// TODO: move target down into the list 	TokenNameCOMMENT_LINE	TODO: move target down into the list 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// ALOAD_N ALOAD_N => ALOAD_N DUP 	TokenNameCOMMENT_LINE	ALOAD_N ALOAD_N => ALOAD_N DUP 
pattern	TokenNameIdentifier	 pattern
=	TokenNameEQUAL	
"ALOAD ALOAD"	TokenNameStringLiteral	ALOAD ALOAD
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
iter	TokenNameIdentifier	 iter
=	TokenNameEQUAL	
find	TokenNameIdentifier	 find
.	TokenNameDOT	
search	TokenNameIdentifier	 search
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
match	TokenNameIdentifier	 match
=	TokenNameEQUAL	
(	TokenNameLPAREN	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
hasTargeters	TokenNameIdentifier	 has Targeters
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
ALOAD	TokenNameIdentifier	 ALOAD
aload1	TokenNameIdentifier	 aload1
=	TokenNameEQUAL	
(	TokenNameLPAREN	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
ALOAD	TokenNameIdentifier	 ALOAD
)	TokenNameRPAREN	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
getInstruction	TokenNameIdentifier	 get Instruction
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
ALOAD	TokenNameIdentifier	 ALOAD
aload2	TokenNameIdentifier	 aload2
=	TokenNameEQUAL	
(	TokenNameLPAREN	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
ALOAD	TokenNameIdentifier	 ALOAD
)	TokenNameRPAREN	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
getInstruction	TokenNameIdentifier	 get Instruction
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
aload1	TokenNameIdentifier	 aload1
.	TokenNameDOT	
getIndex	TokenNameIdentifier	 get Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
aload2	TokenNameIdentifier	 aload2
.	TokenNameDOT	
getIndex	TokenNameIdentifier	 get Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
insert	TokenNameIdentifier	 insert
(	TokenNameLPAREN	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
new	TokenNamenew	
DUP	TokenNameIdentifier	 DUP
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
delete	TokenNameIdentifier	 delete
(	TokenNameLPAREN	
match	TokenNameIdentifier	 match
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
TargetLostException	TokenNameIdentifier	 Target Lost Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// TODO: move target down into the list 	TokenNameCOMMENT_LINE	TODO: move target down into the list 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
getTemplateInstructionHandle	TokenNameIdentifier	 get Template Instruction Handle
(	TokenNameLPAREN	
Template	TokenNameIdentifier	 Template
template	TokenNameIdentifier	 template
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
)	TokenNameRPAREN	
_templateIHs	TokenNameIdentifier	 template I Hs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Auxiliary method to determine if a qname is an attribute. */	TokenNameCOMMENT_JAVADOC	 Auxiliary method to determine if a qname is an attribute. 
private	TokenNameprivate	
static	TokenNamestatic	
boolean	TokenNameboolean	
isAttributeName	TokenNameIdentifier	 is Attribute Name
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
qname	TokenNameIdentifier	 qname
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
int	TokenNameint	
col	TokenNameIdentifier	 col
=	TokenNameEQUAL	
qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
lastIndexOf	TokenNameIdentifier	 last Index Of
(	TokenNameLPAREN	
':'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
(	TokenNameLPAREN	
qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
col	TokenNameIdentifier	 col
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
'@'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Auxiliary method to determine if a qname is a namespace * qualified "*". */	TokenNameCOMMENT_JAVADOC	 Auxiliary method to determine if a qname is a namespace qualified "*". 
private	TokenNameprivate	
static	TokenNamestatic	
boolean	TokenNameboolean	
isNamespaceName	TokenNameIdentifier	 is Namespace Name
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
qname	TokenNameIdentifier	 qname
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
int	TokenNameint	
col	TokenNameIdentifier	 col
=	TokenNameEQUAL	
qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
lastIndexOf	TokenNameIdentifier	 last Index Of
(	TokenNameLPAREN	
':'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
(	TokenNameLPAREN	
col	TokenNameIdentifier	 col
>	TokenNameGREATER	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
&&	TokenNameAND_AND	
qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
'*'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
