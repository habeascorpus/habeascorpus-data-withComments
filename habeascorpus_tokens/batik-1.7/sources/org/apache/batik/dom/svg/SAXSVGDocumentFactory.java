/* Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
svg	TokenNameIdentifier	 svg
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
InputStream	TokenNameIdentifier	 Input Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
Reader	TokenNameIdentifier	 Reader
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
StringReader	TokenNameIdentifier	 String Reader
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
MalformedURLException	TokenNameIdentifier	 Malformed URL Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
MissingResourceException	TokenNameIdentifier	 Missing Resource Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Properties	TokenNameIdentifier	 Properties
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
AbstractDocument	TokenNameIdentifier	 Abstract Document
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
svg12	TokenNameIdentifier	 svg12
.	TokenNameDOT	
SVG12DOMImplementation	TokenNameIdentifier	 SV G12 DOM Implementation
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
SAXDocumentFactory	TokenNameIdentifier	 SAX Document Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
MimeTypeConstants	TokenNameIdentifier	 Mime Type Constants
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ParsedURL	TokenNameIdentifier	 Parsed URL
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
sax	TokenNameIdentifier	 sax
.	TokenNameDOT	
InputSource	TokenNameIdentifier	 Input Source
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
sax	TokenNameIdentifier	 sax
.	TokenNameDOT	
SAXException	TokenNameIdentifier	 SAX Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
DOMImplementation	TokenNameIdentifier	 DOM Implementation
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Document	TokenNameIdentifier	 Document
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
svg	TokenNameIdentifier	 svg
.	TokenNameDOT	
SVGDocument	TokenNameIdentifier	 SVG Document
;	TokenNameSEMICOLON	
/** * This class contains methods for creating SVGDocument instances * from an URI using SAX2. * * @author <a href="mailto:stephane@hillion.org">Stephane Hillion</a> * @version $Id: SAXSVGDocumentFactory.java 579230 2007-09-25 12:52:48Z cam $ */	TokenNameCOMMENT_JAVADOC	 This class contains methods for creating SVGDocument instances from an URI using SAX2. * @author <a href="mailto:stephane@hillion.org">Stephane Hillion</a> @version $Id: SAXSVGDocumentFactory.java 579230 2007-09-25 12:52:48Z cam $ 
public	TokenNamepublic	
class	TokenNameclass	
SAXSVGDocumentFactory	TokenNameIdentifier	 SAXSVG Document Factory
extends	TokenNameextends	
SAXDocumentFactory	TokenNameIdentifier	 SAX Document Factory
implements	TokenNameimplements	
SVGDocumentFactory	TokenNameIdentifier	 SVG Document Factory
{	TokenNameLBRACE	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
Object	TokenNameIdentifier	 Object
LOCK	TokenNameIdentifier	 LOCK
=	TokenNameEQUAL	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Key used for public identifiers */	TokenNameCOMMENT_JAVADOC	 Key used for public identifiers 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
KEY_PUBLIC_IDS	TokenNameIdentifier	 KEY  PUBLIC  IDS
=	TokenNameEQUAL	
"publicIds"	TokenNameStringLiteral	publicIds
;	TokenNameSEMICOLON	
/** * Key used for public identifiers */	TokenNameCOMMENT_JAVADOC	 Key used for public identifiers 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
KEY_SKIPPABLE_PUBLIC_IDS	TokenNameIdentifier	 KEY  SKIPPABLE  PUBLIC  IDS
=	TokenNameEQUAL	
"skippablePublicIds"	TokenNameStringLiteral	skippablePublicIds
;	TokenNameSEMICOLON	
/** * Key used for the skippable DTD substitution */	TokenNameCOMMENT_JAVADOC	 Key used for the skippable DTD substitution 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
KEY_SKIP_DTD	TokenNameIdentifier	 KEY  SKIP  DTD
=	TokenNameEQUAL	
"skipDTD"	TokenNameStringLiteral	skipDTD
;	TokenNameSEMICOLON	
/** * Key used for system identifiers */	TokenNameCOMMENT_JAVADOC	 Key used for system identifiers 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
KEY_SYSTEM_ID	TokenNameIdentifier	 KEY  SYSTEM  ID
=	TokenNameEQUAL	
"systemId."	TokenNameStringLiteral	systemId.
;	TokenNameSEMICOLON	
/** * The dtd public IDs resource bundle class name. */	TokenNameCOMMENT_JAVADOC	 The dtd public IDs resource bundle class name. 
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
DTDIDS	TokenNameIdentifier	 DTDIDS
=	TokenNameEQUAL	
"org.apache.batik.dom.svg.resources.dtdids"	TokenNameStringLiteral	org.apache.batik.dom.svg.resources.dtdids
;	TokenNameSEMICOLON	
/** * Constant for HTTP content type header charset field. */	TokenNameCOMMENT_JAVADOC	 Constant for HTTP content type header charset field. 
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
HTTP_CHARSET	TokenNameIdentifier	 HTTP  CHARSET
=	TokenNameEQUAL	
"charset"	TokenNameStringLiteral	charset
;	TokenNameSEMICOLON	
/** * The accepted DTD public IDs. */	TokenNameCOMMENT_JAVADOC	 The accepted DTD public IDs. 
protected	TokenNameprotected	
static	TokenNamestatic	
String	TokenNameIdentifier	 String
dtdids	TokenNameIdentifier	 dtdids
;	TokenNameSEMICOLON	
/** * The DTD public IDs we know we can skip. */	TokenNameCOMMENT_JAVADOC	 The DTD public IDs we know we can skip. 
protected	TokenNameprotected	
static	TokenNamestatic	
String	TokenNameIdentifier	 String
skippable_dtdids	TokenNameIdentifier	 skippable dtdids
;	TokenNameSEMICOLON	
/** * The DTD content to use when skipping */	TokenNameCOMMENT_JAVADOC	 The DTD content to use when skipping 
protected	TokenNameprotected	
static	TokenNamestatic	
String	TokenNameIdentifier	 String
skip_dtd	TokenNameIdentifier	 skip dtd
;	TokenNameSEMICOLON	
/** * The ResourceBunder for the public and system ids */	TokenNameCOMMENT_JAVADOC	 The ResourceBunder for the public and system ids 
protected	TokenNameprotected	
static	TokenNamestatic	
Properties	TokenNameIdentifier	 Properties
dtdProps	TokenNameIdentifier	 dtd Props
;	TokenNameSEMICOLON	
/** * Creates a new SVGDocumentFactory object. * @param parser The SAX2 parser classname. */	TokenNameCOMMENT_JAVADOC	 Creates a new SVGDocumentFactory object. @param parser The SAX2 parser classname. 
public	TokenNamepublic	
SAXSVGDocumentFactory	TokenNameIdentifier	 SAXSVG Document Factory
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
parser	TokenNameIdentifier	 parser
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
SVGDOMImplementation	TokenNameIdentifier	 SVGDOM Implementation
.	TokenNameDOT	
getDOMImplementation	TokenNameIdentifier	 get DOM Implementation
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
parser	TokenNameIdentifier	 parser
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Creates a new SVGDocumentFactory object. * @param parser The SAX2 parser classname. * @param dd Whether a document descriptor must be generated. */	TokenNameCOMMENT_JAVADOC	 Creates a new SVGDocumentFactory object. @param parser The SAX2 parser classname. @param dd Whether a document descriptor must be generated. 
public	TokenNamepublic	
SAXSVGDocumentFactory	TokenNameIdentifier	 SAXSVG Document Factory
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
parser	TokenNameIdentifier	 parser
,	TokenNameCOMMA	
boolean	TokenNameboolean	
dd	TokenNameIdentifier	 dd
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
SVGDOMImplementation	TokenNameIdentifier	 SVGDOM Implementation
.	TokenNameDOT	
getDOMImplementation	TokenNameIdentifier	 get DOM Implementation
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
parser	TokenNameIdentifier	 parser
,	TokenNameCOMMA	
dd	TokenNameIdentifier	 dd
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
SVGDocument	TokenNameIdentifier	 SVG Document
createSVGDocument	TokenNameIdentifier	 create SVG Document
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
SVGDocument	TokenNameIdentifier	 SVG Document
)	TokenNameRPAREN	
createDocument	TokenNameIdentifier	 create Document
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Creates a SVG Document instance. * @param uri The document URI. * @param inp The document input stream. * @exception IOException if an error occured while reading the document. */	TokenNameCOMMENT_JAVADOC	 Creates a SVG Document instance. @param uri The document URI. @param inp The document input stream. @exception IOException if an error occured while reading the document. 
public	TokenNamepublic	
SVGDocument	TokenNameIdentifier	 SVG Document
createSVGDocument	TokenNameIdentifier	 create SVG Document
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
InputStream	TokenNameIdentifier	 Input Stream
inp	TokenNameIdentifier	 inp
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
SVGDocument	TokenNameIdentifier	 SVG Document
)	TokenNameRPAREN	
createDocument	TokenNameIdentifier	 create Document
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
inp	TokenNameIdentifier	 inp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Creates a SVG Document instance. * @param uri The document URI. * @param r The document reader. * @exception IOException if an error occured while reading the document. */	TokenNameCOMMENT_JAVADOC	 Creates a SVG Document instance. @param uri The document URI. @param r The document reader. @exception IOException if an error occured while reading the document. 
public	TokenNamepublic	
SVGDocument	TokenNameIdentifier	 SVG Document
createSVGDocument	TokenNameIdentifier	 create SVG Document
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
Reader	TokenNameIdentifier	 Reader
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
SVGDocument	TokenNameIdentifier	 SVG Document
)	TokenNameRPAREN	
createDocument	TokenNameIdentifier	 create Document
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Creates a SVG Document instance. * This method supports gzipped sources. * @param uri The document URI. * @exception IOException if an error occured while reading the document. */	TokenNameCOMMENT_JAVADOC	 Creates a SVG Document instance. This method supports gzipped sources. @param uri The document URI. @exception IOException if an error occured while reading the document. 
public	TokenNamepublic	
Document	TokenNameIdentifier	 Document
createDocument	TokenNameIdentifier	 create Document
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
ParsedURL	TokenNameIdentifier	 Parsed URL
purl	TokenNameIdentifier	 purl
=	TokenNameEQUAL	
new	TokenNamenew	
ParsedURL	TokenNameIdentifier	 Parsed URL
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
InputStream	TokenNameIdentifier	 Input Stream
is	TokenNameIdentifier	 is
=	TokenNameEQUAL	
purl	TokenNameIdentifier	 purl
.	TokenNameDOT	
openStream	TokenNameIdentifier	 open Stream
(	TokenNameLPAREN	
MimeTypeConstants	TokenNameIdentifier	 Mime Type Constants
.	TokenNameDOT	
MIME_TYPES_SVG	TokenNameIdentifier	 MIME  TYPES  SVG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
InputSource	TokenNameIdentifier	 Input Source
isrc	TokenNameIdentifier	 isrc
=	TokenNameEQUAL	
new	TokenNamenew	
InputSource	TokenNameIdentifier	 Input Source
(	TokenNameLPAREN	
is	TokenNameIdentifier	 is
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// now looking for a charset encoding in the content type such 	TokenNameCOMMENT_LINE	now looking for a charset encoding in the content type such 
// as "image/svg+xml; charset=iso8859-1" this is not official 	TokenNameCOMMENT_LINE	as "image/svg+xml; charset=iso8859-1" this is not official 
// for image/svg+xml yet! only for text/xml and maybe 	TokenNameCOMMENT_LINE	for image/svg+xml yet! only for text/xml and maybe 
// for application/xml 	TokenNameCOMMENT_LINE	for application/xml 
String	TokenNameIdentifier	 String
contentType	TokenNameIdentifier	 content Type
=	TokenNameEQUAL	
purl	TokenNameIdentifier	 purl
.	TokenNameDOT	
getContentType	TokenNameIdentifier	 get Content Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
cindex	TokenNameIdentifier	 cindex
=	TokenNameEQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
contentType	TokenNameIdentifier	 content Type
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
contentType	TokenNameIdentifier	 content Type
=	TokenNameEQUAL	
contentType	TokenNameIdentifier	 content Type
.	TokenNameDOT	
toLowerCase	TokenNameIdentifier	 to Lower Case
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
cindex	TokenNameIdentifier	 cindex
=	TokenNameEQUAL	
contentType	TokenNameIdentifier	 content Type
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
HTTP_CHARSET	TokenNameIdentifier	 HTTP  CHARSET
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
charset	TokenNameIdentifier	 charset
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
cindex	TokenNameIdentifier	 cindex
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
cindex	TokenNameIdentifier	 cindex
+	TokenNamePLUS	
HTTP_CHARSET	TokenNameIdentifier	 HTTP  CHARSET
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
eqIdx	TokenNameIdentifier	 eq Idx
=	TokenNameEQUAL	
contentType	TokenNameIdentifier	 content Type
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
'='	TokenNameCharacterLiteral	
,	TokenNameCOMMA	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
eqIdx	TokenNameIdentifier	 eq Idx
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
eqIdx	TokenNameIdentifier	 eq Idx
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
// no one is interested in the equals sign... 	TokenNameCOMMENT_LINE	no one is interested in the equals sign... 
// The patch had ',' as the terminator but I suspect 	TokenNameCOMMENT_LINE	The patch had ',' as the terminator but I suspect 
// that is the delimiter between possible charsets, 	TokenNameCOMMENT_LINE	that is the delimiter between possible charsets, 
// but if another 'attribute' were in the accept header 	TokenNameCOMMENT_LINE	but if another 'attribute' were in the accept header 
// charset would be terminated by a ';'. So I look 	TokenNameCOMMENT_LINE	charset would be terminated by a ';'. So I look 
// for both and take to closer of the two. 	TokenNameCOMMENT_LINE	for both and take to closer of the two. 
int	TokenNameint	
idx	TokenNameIdentifier	 idx
=	TokenNameEQUAL	
contentType	TokenNameIdentifier	 content Type
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
','	TokenNameCharacterLiteral	
,	TokenNameCOMMA	
eqIdx	TokenNameIdentifier	 eq Idx
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
semiIdx	TokenNameIdentifier	 semi Idx
=	TokenNameEQUAL	
contentType	TokenNameIdentifier	 content Type
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
';'	TokenNameCharacterLiteral	
,	TokenNameCOMMA	
eqIdx	TokenNameIdentifier	 eq Idx
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
semiIdx	TokenNameIdentifier	 semi Idx
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
semiIdx	TokenNameIdentifier	 semi Idx
<	TokenNameLESS	
idx	TokenNameIdentifier	 idx
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
idx	TokenNameIdentifier	 idx
==	TokenNameEQUAL_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
idx	TokenNameIdentifier	 idx
=	TokenNameEQUAL	
semiIdx	TokenNameIdentifier	 semi Idx
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
idx	TokenNameIdentifier	 idx
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
charset	TokenNameIdentifier	 charset
=	TokenNameEQUAL	
contentType	TokenNameIdentifier	 content Type
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
eqIdx	TokenNameIdentifier	 eq Idx
,	TokenNameCOMMA	
idx	TokenNameIdentifier	 idx
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
charset	TokenNameIdentifier	 charset
=	TokenNameEQUAL	
contentType	TokenNameIdentifier	 content Type
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
eqIdx	TokenNameIdentifier	 eq Idx
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
charset	TokenNameIdentifier	 charset
=	TokenNameEQUAL	
charset	TokenNameIdentifier	 charset
.	TokenNameDOT	
trim	TokenNameIdentifier	 trim
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
isrc	TokenNameIdentifier	 isrc
.	TokenNameDOT	
setEncoding	TokenNameIdentifier	 set Encoding
(	TokenNameLPAREN	
charset	TokenNameIdentifier	 charset
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
isrc	TokenNameIdentifier	 isrc
.	TokenNameDOT	
setSystemId	TokenNameIdentifier	 set System Id
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
SVGOMDocument	TokenNameIdentifier	 SVGOM Document
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
(	TokenNameLPAREN	
SVGOMDocument	TokenNameIdentifier	 SVGOM Document
)	TokenNameRPAREN	
super	TokenNamesuper	
.	TokenNameDOT	
createDocument	TokenNameIdentifier	 create Document
(	TokenNameLPAREN	
SVGDOMImplementation	TokenNameIdentifier	 SVGDOM Implementation
.	TokenNameDOT	
SVG_NAMESPACE_URI	TokenNameIdentifier	 SVG  NAMESPACE  URI
,	TokenNameCOMMA	
"svg"	TokenNameStringLiteral	svg
,	TokenNameCOMMA	
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
isrc	TokenNameIdentifier	 isrc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
setParsedURL	TokenNameIdentifier	 set Parsed URL
(	TokenNameLPAREN	
purl	TokenNameIdentifier	 purl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
setDocumentInputEncoding	TokenNameIdentifier	 set Document Input Encoding
(	TokenNameLPAREN	
charset	TokenNameIdentifier	 charset
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
setXmlStandalone	TokenNameIdentifier	 set Xml Standalone
(	TokenNameLPAREN	
isStandalone	TokenNameIdentifier	 is Standalone
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
setXmlVersion	TokenNameIdentifier	 set Xml Version
(	TokenNameLPAREN	
xmlVersion	TokenNameIdentifier	 xml Version
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
doc	TokenNameIdentifier	 doc
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Creates a SVG Document instance. * @param uri The document URI. * @param inp The document input stream. * @exception IOException if an error occured while reading the document. */	TokenNameCOMMENT_JAVADOC	 Creates a SVG Document instance. @param uri The document URI. @param inp The document input stream. @exception IOException if an error occured while reading the document. 
public	TokenNamepublic	
Document	TokenNameIdentifier	 Document
createDocument	TokenNameIdentifier	 create Document
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
InputStream	TokenNameIdentifier	 Input Stream
inp	TokenNameIdentifier	 inp
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
Document	TokenNameIdentifier	 Document
doc	TokenNameIdentifier	 doc
;	TokenNameSEMICOLON	
InputSource	TokenNameIdentifier	 Input Source
is	TokenNameIdentifier	 is
=	TokenNameEQUAL	
new	TokenNamenew	
InputSource	TokenNameIdentifier	 Input Source
(	TokenNameLPAREN	
inp	TokenNameIdentifier	 inp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
is	TokenNameIdentifier	 is
.	TokenNameDOT	
setSystemId	TokenNameIdentifier	 set System Id
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
super	TokenNamesuper	
.	TokenNameDOT	
createDocument	TokenNameIdentifier	 create Document
(	TokenNameLPAREN	
SVGDOMImplementation	TokenNameIdentifier	 SVGDOM Implementation
.	TokenNameDOT	
SVG_NAMESPACE_URI	TokenNameIdentifier	 SVG  NAMESPACE  URI
,	TokenNameCOMMA	
"svg"	TokenNameStringLiteral	svg
,	TokenNameCOMMA	
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
is	TokenNameIdentifier	 is
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
SVGOMDocument	TokenNameIdentifier	 SVGOM Document
)	TokenNameRPAREN	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
setParsedURL	TokenNameIdentifier	 set Parsed URL
(	TokenNameLPAREN	
new	TokenNamenew	
ParsedURL	TokenNameIdentifier	 Parsed URL
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
AbstractDocument	TokenNameIdentifier	 Abstract Document
d	TokenNameIdentifier	 d
=	TokenNameEQUAL	
(	TokenNameLPAREN	
AbstractDocument	TokenNameIdentifier	 Abstract Document
)	TokenNameRPAREN	
doc	TokenNameIdentifier	 doc
;	TokenNameSEMICOLON	
d	TokenNameIdentifier	 d
.	TokenNameDOT	
setDocumentURI	TokenNameIdentifier	 set Document URI
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
d	TokenNameIdentifier	 d
.	TokenNameDOT	
setXmlStandalone	TokenNameIdentifier	 set Xml Standalone
(	TokenNameLPAREN	
isStandalone	TokenNameIdentifier	 is Standalone
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
d	TokenNameIdentifier	 d
.	TokenNameDOT	
setXmlVersion	TokenNameIdentifier	 set Xml Version
(	TokenNameLPAREN	
xmlVersion	TokenNameIdentifier	 xml Version
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
MalformedURLException	TokenNameIdentifier	 Malformed URL Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
IOException	TokenNameIdentifier	 IO Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
getMessage	TokenNameIdentifier	 get Message
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
doc	TokenNameIdentifier	 doc
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Creates a SVG Document instance. * @param uri The document URI. * @param r The document reader. * @exception IOException if an error occured while reading the document. */	TokenNameCOMMENT_JAVADOC	 Creates a SVG Document instance. @param uri The document URI. @param r The document reader. @exception IOException if an error occured while reading the document. 
public	TokenNamepublic	
Document	TokenNameIdentifier	 Document
createDocument	TokenNameIdentifier	 create Document
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
Reader	TokenNameIdentifier	 Reader
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
Document	TokenNameIdentifier	 Document
doc	TokenNameIdentifier	 doc
;	TokenNameSEMICOLON	
InputSource	TokenNameIdentifier	 Input Source
is	TokenNameIdentifier	 is
=	TokenNameEQUAL	
new	TokenNamenew	
InputSource	TokenNameIdentifier	 Input Source
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
is	TokenNameIdentifier	 is
.	TokenNameDOT	
setSystemId	TokenNameIdentifier	 set System Id
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
super	TokenNamesuper	
.	TokenNameDOT	
createDocument	TokenNameIdentifier	 create Document
(	TokenNameLPAREN	
SVGDOMImplementation	TokenNameIdentifier	 SVGDOM Implementation
.	TokenNameDOT	
SVG_NAMESPACE_URI	TokenNameIdentifier	 SVG  NAMESPACE  URI
,	TokenNameCOMMA	
"svg"	TokenNameStringLiteral	svg
,	TokenNameCOMMA	
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
is	TokenNameIdentifier	 is
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
SVGOMDocument	TokenNameIdentifier	 SVGOM Document
)	TokenNameRPAREN	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
setParsedURL	TokenNameIdentifier	 set Parsed URL
(	TokenNameLPAREN	
new	TokenNamenew	
ParsedURL	TokenNameIdentifier	 Parsed URL
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
AbstractDocument	TokenNameIdentifier	 Abstract Document
d	TokenNameIdentifier	 d
=	TokenNameEQUAL	
(	TokenNameLPAREN	
AbstractDocument	TokenNameIdentifier	 Abstract Document
)	TokenNameRPAREN	
doc	TokenNameIdentifier	 doc
;	TokenNameSEMICOLON	
d	TokenNameIdentifier	 d
.	TokenNameDOT	
setDocumentURI	TokenNameIdentifier	 set Document URI
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
d	TokenNameIdentifier	 d
.	TokenNameDOT	
setXmlStandalone	TokenNameIdentifier	 set Xml Standalone
(	TokenNameLPAREN	
isStandalone	TokenNameIdentifier	 is Standalone
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
d	TokenNameIdentifier	 d
.	TokenNameDOT	
setXmlVersion	TokenNameIdentifier	 set Xml Version
(	TokenNameLPAREN	
xmlVersion	TokenNameIdentifier	 xml Version
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
MalformedURLException	TokenNameIdentifier	 Malformed URL Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
IOException	TokenNameIdentifier	 IO Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
getMessage	TokenNameIdentifier	 get Message
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
doc	TokenNameIdentifier	 doc
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Creates a Document instance. * @param ns The namespace URI of the root element of the document. * @param root The name of the root element of the document. * @param uri The document URI. * @exception IOException if an error occured while reading the document. */	TokenNameCOMMENT_JAVADOC	 Creates a Document instance. @param ns The namespace URI of the root element of the document. @param root The name of the root element of the document. @param uri The document URI. @exception IOException if an error occured while reading the document. 
public	TokenNamepublic	
Document	TokenNameIdentifier	 Document
createDocument	TokenNameIdentifier	 create Document
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
ns	TokenNameIdentifier	 ns
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
root	TokenNameIdentifier	 root
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
SVGDOMImplementation	TokenNameIdentifier	 SVGDOM Implementation
.	TokenNameDOT	
SVG_NAMESPACE_URI	TokenNameIdentifier	 SVG  NAMESPACE  URI
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
ns	TokenNameIdentifier	 ns
)	TokenNameRPAREN	
||	TokenNameOR_OR	
!	TokenNameNOT	
"svg"	TokenNameStringLiteral	svg
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
root	TokenNameIdentifier	 root
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
"Bad root element"	TokenNameStringLiteral	Bad root element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
createDocument	TokenNameIdentifier	 create Document
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Creates a Document instance. * @param ns The namespace URI of the root element of the document. * @param root The name of the root element of the document. * @param uri The document URI. * @param is The document input stream. * @exception IOException if an error occured while reading the document. */	TokenNameCOMMENT_JAVADOC	 Creates a Document instance. @param ns The namespace URI of the root element of the document. @param root The name of the root element of the document. @param uri The document URI. @param is The document input stream. @exception IOException if an error occured while reading the document. 
public	TokenNamepublic	
Document	TokenNameIdentifier	 Document
createDocument	TokenNameIdentifier	 create Document
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
ns	TokenNameIdentifier	 ns
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
root	TokenNameIdentifier	 root
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
InputStream	TokenNameIdentifier	 Input Stream
is	TokenNameIdentifier	 is
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
SVGDOMImplementation	TokenNameIdentifier	 SVGDOM Implementation
.	TokenNameDOT	
SVG_NAMESPACE_URI	TokenNameIdentifier	 SVG  NAMESPACE  URI
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
ns	TokenNameIdentifier	 ns
)	TokenNameRPAREN	
||	TokenNameOR_OR	
!	TokenNameNOT	
"svg"	TokenNameStringLiteral	svg
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
root	TokenNameIdentifier	 root
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
"Bad root element"	TokenNameStringLiteral	Bad root element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
createDocument	TokenNameIdentifier	 create Document
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
is	TokenNameIdentifier	 is
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Creates a Document instance. * @param ns The namespace URI of the root element of the document. * @param root The name of the root element of the document. * @param uri The document URI. * @param r The document reader. * @exception IOException if an error occured while reading the document. */	TokenNameCOMMENT_JAVADOC	 Creates a Document instance. @param ns The namespace URI of the root element of the document. @param root The name of the root element of the document. @param uri The document URI. @param r The document reader. @exception IOException if an error occured while reading the document. 
public	TokenNamepublic	
Document	TokenNameIdentifier	 Document
createDocument	TokenNameIdentifier	 create Document
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
ns	TokenNameIdentifier	 ns
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
root	TokenNameIdentifier	 root
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
Reader	TokenNameIdentifier	 Reader
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
SVGDOMImplementation	TokenNameIdentifier	 SVGDOM Implementation
.	TokenNameDOT	
SVG_NAMESPACE_URI	TokenNameIdentifier	 SVG  NAMESPACE  URI
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
ns	TokenNameIdentifier	 ns
)	TokenNameRPAREN	
||	TokenNameOR_OR	
!	TokenNameNOT	
"svg"	TokenNameStringLiteral	svg
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
root	TokenNameIdentifier	 root
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
"Bad root element"	TokenNameStringLiteral	Bad root element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
createDocument	TokenNameIdentifier	 create Document
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
DOMImplementation	TokenNameIdentifier	 DOM Implementation
getDOMImplementation	TokenNameIdentifier	 get DOM Implementation
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
ver	TokenNameIdentifier	 ver
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
ver	TokenNameIdentifier	 ver
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
ver	TokenNameIdentifier	 ver
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
||	TokenNameOR_OR	
ver	TokenNameIdentifier	 ver
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"1.0"	TokenNameStringLiteral	1.0
)	TokenNameRPAREN	
||	TokenNameOR_OR	
ver	TokenNameIdentifier	 ver
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"1.1"	TokenNameStringLiteral	1.1
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
SVGDOMImplementation	TokenNameIdentifier	 SVGDOM Implementation
.	TokenNameDOT	
getDOMImplementation	TokenNameIdentifier	 get DOM Implementation
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
ver	TokenNameIdentifier	 ver
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"1.2"	TokenNameStringLiteral	1.2
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
SVG12DOMImplementation	TokenNameIdentifier	 SV G12 DOM Implementation
.	TokenNameDOT	
getDOMImplementation	TokenNameIdentifier	 get DOM Implementation
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
"Unsupport SVG version '"	TokenNameStringLiteral	Unsupport SVG version '
+	TokenNamePLUS	
ver	TokenNameIdentifier	 ver
+	TokenNamePLUS	
"'"	TokenNameStringLiteral	'
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * <b>SAX</b>: Implements {@link * org.xml.sax.ContentHandler#startDocument()}. */	TokenNameCOMMENT_JAVADOC	 <b>SAX</b>: Implements {@link org.xml.sax.ContentHandler#startDocument()}. 
public	TokenNamepublic	
void	TokenNamevoid	
startDocument	TokenNameIdentifier	 start Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
SAXException	TokenNameIdentifier	 SAX Exception
{	TokenNameLBRACE	
super	TokenNamesuper	
.	TokenNameDOT	
startDocument	TokenNameIdentifier	 start Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Do not assume namespace declarations when no DTD has been specified. 	TokenNameCOMMENT_LINE	Do not assume namespace declarations when no DTD has been specified. 
// namespaces.put("", SVGDOMImplementation.SVG_NAMESPACE_URI); 	TokenNameCOMMENT_LINE	namespaces.put("", SVGDOMImplementation.SVG_NAMESPACE_URI); 
// namespaces.put("xlink", XLinkSupport.XLINK_NAMESPACE_URI); 	TokenNameCOMMENT_LINE	namespaces.put("xlink", XLinkSupport.XLINK_NAMESPACE_URI); 
}	TokenNameRBRACE	
/** * <b>SAX2</b>: Implements {@link * org.xml.sax.EntityResolver#resolveEntity(String,String)}. */	TokenNameCOMMENT_JAVADOC	 <b>SAX2</b>: Implements {@link org.xml.sax.EntityResolver#resolveEntity(String,String)}. 
public	TokenNamepublic	
InputSource	TokenNameIdentifier	 Input Source
resolveEntity	TokenNameIdentifier	 resolve Entity
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
publicId	TokenNameIdentifier	 public Id
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
systemId	TokenNameIdentifier	 system Id
)	TokenNameRPAREN	
throws	TokenNamethrows	
SAXException	TokenNameIdentifier	 SAX Exception
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
synchronized	TokenNamesynchronized	
(	TokenNameLPAREN	
LOCK	TokenNameIdentifier	 LOCK
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Bootstrap if needed - move to a static block??? 	TokenNameCOMMENT_LINE	Bootstrap if needed - move to a static block??? 
if	TokenNameif	
(	TokenNameLPAREN	
dtdProps	TokenNameIdentifier	 dtd Props
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
dtdProps	TokenNameIdentifier	 dtd Props
=	TokenNameEQUAL	
new	TokenNamenew	
Properties	TokenNameIdentifier	 Properties
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
Class	TokenNameIdentifier	 Class
cls	TokenNameIdentifier	 cls
=	TokenNameEQUAL	
SAXSVGDocumentFactory	TokenNameIdentifier	 SAXSVG Document Factory
.	TokenNameDOT	
class	TokenNameclass	
;	TokenNameSEMICOLON	
InputStream	TokenNameIdentifier	 Input Stream
is	TokenNameIdentifier	 is
=	TokenNameEQUAL	
cls	TokenNameIdentifier	 cls
.	TokenNameDOT	
getResourceAsStream	TokenNameIdentifier	 get Resource As Stream
(	TokenNameLPAREN	
"resources/dtdids.properties"	TokenNameStringLiteral	resources/dtdids.properties
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
dtdProps	TokenNameIdentifier	 dtd Props
.	TokenNameDOT	
load	TokenNameIdentifier	 load
(	TokenNameLPAREN	
is	TokenNameIdentifier	 is
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
SAXException	TokenNameIdentifier	 SAX Exception
(	TokenNameLPAREN	
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
dtdids	TokenNameIdentifier	 dtdids
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
dtdids	TokenNameIdentifier	 dtdids
=	TokenNameEQUAL	
dtdProps	TokenNameIdentifier	 dtd Props
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
KEY_PUBLIC_IDS	TokenNameIdentifier	 KEY  PUBLIC  IDS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
skippable_dtdids	TokenNameIdentifier	 skippable dtdids
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
skippable_dtdids	TokenNameIdentifier	 skippable dtdids
=	TokenNameEQUAL	
dtdProps	TokenNameIdentifier	 dtd Props
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
KEY_SKIPPABLE_PUBLIC_IDS	TokenNameIdentifier	 KEY  SKIPPABLE  PUBLIC  IDS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
skip_dtd	TokenNameIdentifier	 skip dtd
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
skip_dtd	TokenNameIdentifier	 skip dtd
=	TokenNameEQUAL	
dtdProps	TokenNameIdentifier	 dtd Props
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
KEY_SKIP_DTD	TokenNameIdentifier	 KEY  SKIP  DTD
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
publicId	TokenNameIdentifier	 public Id
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// Let SAX Parser find it. 	TokenNameCOMMENT_LINE	Let SAX Parser find it. 
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
isValidating	TokenNameIdentifier	 is Validating
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
skippable_dtdids	TokenNameIdentifier	 skippable dtdids
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
publicId	TokenNameIdentifier	 public Id
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// We are not validating and this is a DTD we can 	TokenNameCOMMENT_LINE	We are not validating and this is a DTD we can 
// safely skip so do it... Here we provide just enough 	TokenNameCOMMENT_LINE	safely skip so do it... Here we provide just enough 
// of the DTD to keep stuff running (set svg and 	TokenNameCOMMENT_LINE	of the DTD to keep stuff running (set svg and 
// xlink namespaces). 	TokenNameCOMMENT_LINE	xlink namespaces). 
return	TokenNamereturn	
new	TokenNamenew	
InputSource	TokenNameIdentifier	 Input Source
(	TokenNameLPAREN	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
skip_dtd	TokenNameIdentifier	 skip dtd
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
dtdids	TokenNameIdentifier	 dtdids
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
publicId	TokenNameIdentifier	 public Id
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
localSystemId	TokenNameIdentifier	 local System Id
=	TokenNameEQUAL	
dtdProps	TokenNameIdentifier	 dtd Props
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
KEY_SYSTEM_ID	TokenNameIdentifier	 KEY  SYSTEM  ID
+	TokenNamePLUS	
publicId	TokenNameIdentifier	 public Id
.	TokenNameDOT	
replace	TokenNameIdentifier	 replace
(	TokenNameLPAREN	
' '	TokenNameCharacterLiteral	
,	TokenNameCOMMA	
'_'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
localSystemId	TokenNameIdentifier	 local System Id
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
!	TokenNameNOT	
""	TokenNameStringLiteral	 
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
localSystemId	TokenNameIdentifier	 local System Id
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
new	TokenNamenew	
InputSource	TokenNameIdentifier	 Input Source
(	TokenNameLPAREN	
getClass	TokenNameIdentifier	 get Class
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getResource	TokenNameIdentifier	 get Resource
(	TokenNameLPAREN	
localSystemId	TokenNameIdentifier	 local System Id
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
MissingResourceException	TokenNameIdentifier	 Missing Resource Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
SAXException	TokenNameIdentifier	 SAX Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Let the SAX parser find the entity. 	TokenNameCOMMENT_LINE	Let the SAX parser find the entity. 
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
