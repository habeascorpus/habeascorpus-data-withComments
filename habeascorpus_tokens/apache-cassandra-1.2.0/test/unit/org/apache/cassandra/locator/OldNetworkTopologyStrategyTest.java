/* * Licensed to the Apache Software Foundation (ASF) under one * or more contributor license agreements. See the NOTICE file * distributed with this work for additional information * regarding copyright ownership. The ASF licenses this file * to you under the Apache License, Version 2.0 (the * "License"); you may not use this file except in compliance * with the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, * software distributed under the License is distributed on an * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY * KIND, either express or implied. See the License for the * specific language governing permissions and limitations * under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to you under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
locator	TokenNameIdentifier	 locator
;	TokenNameSEMICOLON	
import	TokenNameimport	
static	TokenNamestatic	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
junit	TokenNameIdentifier	 junit
.	TokenNameDOT	
Assert	TokenNameIdentifier	 Assert
.	TokenNameDOT	
assertEquals	TokenNameIdentifier	 assert Equals
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
InetAddress	TokenNameIdentifier	 Inet Address
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
UnknownHostException	TokenNameIdentifier	 Unknown Host Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ArrayList	TokenNameIdentifier	 Array List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Arrays	TokenNameIdentifier	 Arrays
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Collection	TokenNameIdentifier	 Collection
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
HashMap	TokenNameIdentifier	 Hash Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
List	TokenNameIdentifier	 List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Map	TokenNameIdentifier	 Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Set	TokenNameIdentifier	 Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
SchemaLoader	TokenNameIdentifier	 Schema Loader
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
config	TokenNameIdentifier	 config
.	TokenNameDOT	
KSMetaData	TokenNameIdentifier	 KS Meta Data
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
dht	TokenNameIdentifier	 dht
.	TokenNameDOT	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
dht	TokenNameIdentifier	 dht
.	TokenNameDOT	
Range	TokenNameIdentifier	 Range
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
dht	TokenNameIdentifier	 dht
.	TokenNameDOT	
Token	TokenNameIdentifier	 Token
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
service	TokenNameIdentifier	 service
.	TokenNameDOT	
StorageService	TokenNameIdentifier	 Storage Service
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
Pair	TokenNameIdentifier	 Pair
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
junit	TokenNameIdentifier	 junit
.	TokenNameDOT	
Before	TokenNameIdentifier	 Before
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
junit	TokenNameIdentifier	 junit
.	TokenNameDOT	
Test	TokenNameIdentifier	 Test
;	TokenNameSEMICOLON	
public	TokenNamepublic	
class	TokenNameclass	
OldNetworkTopologyStrategyTest	TokenNameIdentifier	 Old Network Topology Strategy Test
extends	TokenNameextends	
SchemaLoader	TokenNameIdentifier	 Schema Loader
{	TokenNameLBRACE	
private	TokenNameprivate	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>	TokenNameGREATER	
endpointTokens	TokenNameIdentifier	 endpoint Tokens
;	TokenNameSEMICOLON	
private	TokenNameprivate	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>	TokenNameGREATER	
keyTokens	TokenNameIdentifier	 key Tokens
;	TokenNameSEMICOLON	
private	TokenNameprivate	
TokenMetadata	TokenNameIdentifier	 Token Metadata
tmd	TokenNameIdentifier	 tmd
;	TokenNameSEMICOLON	
private	TokenNameprivate	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
>>	TokenNameRIGHT_SHIFT	
expectedResults	TokenNameIdentifier	 expected Results
;	TokenNameSEMICOLON	
@	TokenNameAT	
Before	TokenNameIdentifier	 Before
public	TokenNamepublic	
void	TokenNamevoid	
init	TokenNameIdentifier	 init
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
endpointTokens	TokenNameIdentifier	 endpoint Tokens
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
keyTokens	TokenNameIdentifier	 key Tokens
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
tmd	TokenNameIdentifier	 tmd
=	TokenNameEQUAL	
new	TokenNamenew	
TokenMetadata	TokenNameIdentifier	 Token Metadata
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
expectedResults	TokenNameIdentifier	 expected Results
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
>>	TokenNameRIGHT_SHIFT	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * 4 same rack endpoints * * @throws UnknownHostException */	TokenNameCOMMENT_JAVADOC	 4 same rack endpoints * @throws UnknownHostException 
@	TokenNameAT	
Test	TokenNameIdentifier	 Test
public	TokenNamepublic	
void	TokenNamevoid	
testBigIntegerEndpointsA	TokenNameIdentifier	 test Big Integer Endpoints A
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
UnknownHostException	TokenNameIdentifier	 Unknown Host Exception
{	TokenNameLBRACE	
RackInferringSnitch	TokenNameIdentifier	 Rack Inferring Snitch
endpointSnitch	TokenNameIdentifier	 endpoint Snitch
=	TokenNameEQUAL	
new	TokenNamenew	
RackInferringSnitch	TokenNameIdentifier	 Rack Inferring Snitch
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AbstractReplicationStrategy	TokenNameIdentifier	 Abstract Replication Strategy
strategy	TokenNameIdentifier	 strategy
=	TokenNameEQUAL	
new	TokenNamenew	
OldNetworkTopologyStrategy	TokenNameIdentifier	 Old Network Topology Strategy
(	TokenNameLPAREN	
"Keyspace1"	TokenNameStringLiteral	Keyspace1
,	TokenNameCOMMA	
tmd	TokenNameIdentifier	 tmd
,	TokenNameCOMMA	
endpointSnitch	TokenNameIdentifier	 endpoint Snitch
,	TokenNameCOMMA	
KSMetaData	TokenNameIdentifier	 KS Meta Data
.	TokenNameDOT	
optsWithRF	TokenNameIdentifier	 opts With RF
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addEndpoint	TokenNameIdentifier	 add Endpoint
(	TokenNameLPAREN	
"0"	TokenNameStringLiteral	0
,	TokenNameCOMMA	
"5"	TokenNameStringLiteral	5
,	TokenNameCOMMA	
"254.0.0.1"	TokenNameStringLiteral	254.0.0.1
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addEndpoint	TokenNameIdentifier	 add Endpoint
(	TokenNameLPAREN	
"10"	TokenNameStringLiteral	10
,	TokenNameCOMMA	
"15"	TokenNameStringLiteral	15
,	TokenNameCOMMA	
"254.0.0.2"	TokenNameStringLiteral	254.0.0.2
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addEndpoint	TokenNameIdentifier	 add Endpoint
(	TokenNameLPAREN	
"20"	TokenNameStringLiteral	20
,	TokenNameCOMMA	
"25"	TokenNameStringLiteral	25
,	TokenNameCOMMA	
"254.0.0.3"	TokenNameStringLiteral	254.0.0.3
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addEndpoint	TokenNameIdentifier	 add Endpoint
(	TokenNameLPAREN	
"30"	TokenNameStringLiteral	30
,	TokenNameCOMMA	
"35"	TokenNameStringLiteral	35
,	TokenNameCOMMA	
"254.0.0.4"	TokenNameStringLiteral	254.0.0.4
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
expectedResults	TokenNameIdentifier	 expected Results
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"5"	TokenNameStringLiteral	5
,	TokenNameCOMMA	
buildResult	TokenNameIdentifier	 build Result
(	TokenNameLPAREN	
"254.0.0.2"	TokenNameStringLiteral	254.0.0.2
,	TokenNameCOMMA	
"254.0.0.3"	TokenNameStringLiteral	254.0.0.3
,	TokenNameCOMMA	
"254.0.0.4"	TokenNameStringLiteral	254.0.0.4
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
expectedResults	TokenNameIdentifier	 expected Results
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"15"	TokenNameStringLiteral	15
,	TokenNameCOMMA	
buildResult	TokenNameIdentifier	 build Result
(	TokenNameLPAREN	
"254.0.0.3"	TokenNameStringLiteral	254.0.0.3
,	TokenNameCOMMA	
"254.0.0.4"	TokenNameStringLiteral	254.0.0.4
,	TokenNameCOMMA	
"254.0.0.1"	TokenNameStringLiteral	254.0.0.1
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
expectedResults	TokenNameIdentifier	 expected Results
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"25"	TokenNameStringLiteral	25
,	TokenNameCOMMA	
buildResult	TokenNameIdentifier	 build Result
(	TokenNameLPAREN	
"254.0.0.4"	TokenNameStringLiteral	254.0.0.4
,	TokenNameCOMMA	
"254.0.0.1"	TokenNameStringLiteral	254.0.0.1
,	TokenNameCOMMA	
"254.0.0.2"	TokenNameStringLiteral	254.0.0.2
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
expectedResults	TokenNameIdentifier	 expected Results
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"35"	TokenNameStringLiteral	35
,	TokenNameCOMMA	
buildResult	TokenNameIdentifier	 build Result
(	TokenNameLPAREN	
"254.0.0.1"	TokenNameStringLiteral	254.0.0.1
,	TokenNameCOMMA	
"254.0.0.2"	TokenNameStringLiteral	254.0.0.2
,	TokenNameCOMMA	
"254.0.0.3"	TokenNameStringLiteral	254.0.0.3
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
testGetEndpoints	TokenNameIdentifier	 test Get Endpoints
(	TokenNameLPAREN	
strategy	TokenNameIdentifier	 strategy
,	TokenNameCOMMA	
keyTokens	TokenNameIdentifier	 key Tokens
.	TokenNameDOT	
toArray	TokenNameIdentifier	 to Array
(	TokenNameLPAREN	
new	TokenNamenew	
Token	TokenNameIdentifier	 Token
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * 3 same rack endpoints * 1 external datacenter * * @throws UnknownHostException */	TokenNameCOMMENT_JAVADOC	 3 same rack endpoints 1 external datacenter * @throws UnknownHostException 
@	TokenNameAT	
Test	TokenNameIdentifier	 Test
public	TokenNamepublic	
void	TokenNamevoid	
testBigIntegerEndpointsB	TokenNameIdentifier	 test Big Integer Endpoints B
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
UnknownHostException	TokenNameIdentifier	 Unknown Host Exception
{	TokenNameLBRACE	
RackInferringSnitch	TokenNameIdentifier	 Rack Inferring Snitch
endpointSnitch	TokenNameIdentifier	 endpoint Snitch
=	TokenNameEQUAL	
new	TokenNamenew	
RackInferringSnitch	TokenNameIdentifier	 Rack Inferring Snitch
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AbstractReplicationStrategy	TokenNameIdentifier	 Abstract Replication Strategy
strategy	TokenNameIdentifier	 strategy
=	TokenNameEQUAL	
new	TokenNamenew	
OldNetworkTopologyStrategy	TokenNameIdentifier	 Old Network Topology Strategy
(	TokenNameLPAREN	
"Keyspace1"	TokenNameStringLiteral	Keyspace1
,	TokenNameCOMMA	
tmd	TokenNameIdentifier	 tmd
,	TokenNameCOMMA	
endpointSnitch	TokenNameIdentifier	 endpoint Snitch
,	TokenNameCOMMA	
KSMetaData	TokenNameIdentifier	 KS Meta Data
.	TokenNameDOT	
optsWithRF	TokenNameIdentifier	 opts With RF
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addEndpoint	TokenNameIdentifier	 add Endpoint
(	TokenNameLPAREN	
"0"	TokenNameStringLiteral	0
,	TokenNameCOMMA	
"5"	TokenNameStringLiteral	5
,	TokenNameCOMMA	
"254.0.0.1"	TokenNameStringLiteral	254.0.0.1
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addEndpoint	TokenNameIdentifier	 add Endpoint
(	TokenNameLPAREN	
"10"	TokenNameStringLiteral	10
,	TokenNameCOMMA	
"15"	TokenNameStringLiteral	15
,	TokenNameCOMMA	
"254.0.0.2"	TokenNameStringLiteral	254.0.0.2
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addEndpoint	TokenNameIdentifier	 add Endpoint
(	TokenNameLPAREN	
"20"	TokenNameStringLiteral	20
,	TokenNameCOMMA	
"25"	TokenNameStringLiteral	25
,	TokenNameCOMMA	
"254.1.0.3"	TokenNameStringLiteral	254.1.0.3
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addEndpoint	TokenNameIdentifier	 add Endpoint
(	TokenNameLPAREN	
"30"	TokenNameStringLiteral	30
,	TokenNameCOMMA	
"35"	TokenNameStringLiteral	35
,	TokenNameCOMMA	
"254.0.0.4"	TokenNameStringLiteral	254.0.0.4
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
expectedResults	TokenNameIdentifier	 expected Results
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"5"	TokenNameStringLiteral	5
,	TokenNameCOMMA	
buildResult	TokenNameIdentifier	 build Result
(	TokenNameLPAREN	
"254.0.0.2"	TokenNameStringLiteral	254.0.0.2
,	TokenNameCOMMA	
"254.1.0.3"	TokenNameStringLiteral	254.1.0.3
,	TokenNameCOMMA	
"254.0.0.4"	TokenNameStringLiteral	254.0.0.4
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
expectedResults	TokenNameIdentifier	 expected Results
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"15"	TokenNameStringLiteral	15
,	TokenNameCOMMA	
buildResult	TokenNameIdentifier	 build Result
(	TokenNameLPAREN	
"254.1.0.3"	TokenNameStringLiteral	254.1.0.3
,	TokenNameCOMMA	
"254.0.0.4"	TokenNameStringLiteral	254.0.0.4
,	TokenNameCOMMA	
"254.0.0.1"	TokenNameStringLiteral	254.0.0.1
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
expectedResults	TokenNameIdentifier	 expected Results
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"25"	TokenNameStringLiteral	25
,	TokenNameCOMMA	
buildResult	TokenNameIdentifier	 build Result
(	TokenNameLPAREN	
"254.0.0.4"	TokenNameStringLiteral	254.0.0.4
,	TokenNameCOMMA	
"254.1.0.3"	TokenNameStringLiteral	254.1.0.3
,	TokenNameCOMMA	
"254.0.0.1"	TokenNameStringLiteral	254.0.0.1
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
expectedResults	TokenNameIdentifier	 expected Results
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"35"	TokenNameStringLiteral	35
,	TokenNameCOMMA	
buildResult	TokenNameIdentifier	 build Result
(	TokenNameLPAREN	
"254.0.0.1"	TokenNameStringLiteral	254.0.0.1
,	TokenNameCOMMA	
"254.1.0.3"	TokenNameStringLiteral	254.1.0.3
,	TokenNameCOMMA	
"254.0.0.2"	TokenNameStringLiteral	254.0.0.2
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
testGetEndpoints	TokenNameIdentifier	 test Get Endpoints
(	TokenNameLPAREN	
strategy	TokenNameIdentifier	 strategy
,	TokenNameCOMMA	
keyTokens	TokenNameIdentifier	 key Tokens
.	TokenNameDOT	
toArray	TokenNameIdentifier	 to Array
(	TokenNameLPAREN	
new	TokenNamenew	
Token	TokenNameIdentifier	 Token
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * 2 same rack endpoints * 1 same datacenter, different rack endpoints * 1 external datacenter * * @throws UnknownHostException */	TokenNameCOMMENT_JAVADOC	 2 same rack endpoints 1 same datacenter, different rack endpoints 1 external datacenter * @throws UnknownHostException 
@	TokenNameAT	
Test	TokenNameIdentifier	 Test
public	TokenNamepublic	
void	TokenNamevoid	
testBigIntegerEndpointsC	TokenNameIdentifier	 test Big Integer Endpoints C
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
UnknownHostException	TokenNameIdentifier	 Unknown Host Exception
{	TokenNameLBRACE	
RackInferringSnitch	TokenNameIdentifier	 Rack Inferring Snitch
endpointSnitch	TokenNameIdentifier	 endpoint Snitch
=	TokenNameEQUAL	
new	TokenNamenew	
RackInferringSnitch	TokenNameIdentifier	 Rack Inferring Snitch
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AbstractReplicationStrategy	TokenNameIdentifier	 Abstract Replication Strategy
strategy	TokenNameIdentifier	 strategy
=	TokenNameEQUAL	
new	TokenNamenew	
OldNetworkTopologyStrategy	TokenNameIdentifier	 Old Network Topology Strategy
(	TokenNameLPAREN	
"Keyspace1"	TokenNameStringLiteral	Keyspace1
,	TokenNameCOMMA	
tmd	TokenNameIdentifier	 tmd
,	TokenNameCOMMA	
endpointSnitch	TokenNameIdentifier	 endpoint Snitch
,	TokenNameCOMMA	
KSMetaData	TokenNameIdentifier	 KS Meta Data
.	TokenNameDOT	
optsWithRF	TokenNameIdentifier	 opts With RF
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addEndpoint	TokenNameIdentifier	 add Endpoint
(	TokenNameLPAREN	
"0"	TokenNameStringLiteral	0
,	TokenNameCOMMA	
"5"	TokenNameStringLiteral	5
,	TokenNameCOMMA	
"254.0.0.1"	TokenNameStringLiteral	254.0.0.1
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addEndpoint	TokenNameIdentifier	 add Endpoint
(	TokenNameLPAREN	
"10"	TokenNameStringLiteral	10
,	TokenNameCOMMA	
"15"	TokenNameStringLiteral	15
,	TokenNameCOMMA	
"254.0.0.2"	TokenNameStringLiteral	254.0.0.2
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addEndpoint	TokenNameIdentifier	 add Endpoint
(	TokenNameLPAREN	
"20"	TokenNameStringLiteral	20
,	TokenNameCOMMA	
"25"	TokenNameStringLiteral	25
,	TokenNameCOMMA	
"254.0.1.3"	TokenNameStringLiteral	254.0.1.3
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addEndpoint	TokenNameIdentifier	 add Endpoint
(	TokenNameLPAREN	
"30"	TokenNameStringLiteral	30
,	TokenNameCOMMA	
"35"	TokenNameStringLiteral	35
,	TokenNameCOMMA	
"254.1.0.4"	TokenNameStringLiteral	254.1.0.4
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
expectedResults	TokenNameIdentifier	 expected Results
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"5"	TokenNameStringLiteral	5
,	TokenNameCOMMA	
buildResult	TokenNameIdentifier	 build Result
(	TokenNameLPAREN	
"254.0.0.2"	TokenNameStringLiteral	254.0.0.2
,	TokenNameCOMMA	
"254.0.1.3"	TokenNameStringLiteral	254.0.1.3
,	TokenNameCOMMA	
"254.1.0.4"	TokenNameStringLiteral	254.1.0.4
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
expectedResults	TokenNameIdentifier	 expected Results
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"15"	TokenNameStringLiteral	15
,	TokenNameCOMMA	
buildResult	TokenNameIdentifier	 build Result
(	TokenNameLPAREN	
"254.0.1.3"	TokenNameStringLiteral	254.0.1.3
,	TokenNameCOMMA	
"254.1.0.4"	TokenNameStringLiteral	254.1.0.4
,	TokenNameCOMMA	
"254.0.0.1"	TokenNameStringLiteral	254.0.0.1
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
expectedResults	TokenNameIdentifier	 expected Results
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"25"	TokenNameStringLiteral	25
,	TokenNameCOMMA	
buildResult	TokenNameIdentifier	 build Result
(	TokenNameLPAREN	
"254.1.0.4"	TokenNameStringLiteral	254.1.0.4
,	TokenNameCOMMA	
"254.0.0.1"	TokenNameStringLiteral	254.0.0.1
,	TokenNameCOMMA	
"254.0.0.2"	TokenNameStringLiteral	254.0.0.2
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
expectedResults	TokenNameIdentifier	 expected Results
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"35"	TokenNameStringLiteral	35
,	TokenNameCOMMA	
buildResult	TokenNameIdentifier	 build Result
(	TokenNameLPAREN	
"254.0.0.1"	TokenNameStringLiteral	254.0.0.1
,	TokenNameCOMMA	
"254.0.1.3"	TokenNameStringLiteral	254.0.1.3
,	TokenNameCOMMA	
"254.1.0.4"	TokenNameStringLiteral	254.1.0.4
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
testGetEndpoints	TokenNameIdentifier	 test Get Endpoints
(	TokenNameLPAREN	
strategy	TokenNameIdentifier	 strategy
,	TokenNameCOMMA	
keyTokens	TokenNameIdentifier	 key Tokens
.	TokenNameDOT	
toArray	TokenNameIdentifier	 to Array
(	TokenNameLPAREN	
new	TokenNamenew	
Token	TokenNameIdentifier	 Token
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
>	TokenNameGREATER	
buildResult	TokenNameIdentifier	 build Result
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
...	TokenNameELLIPSIS	
addresses	TokenNameIdentifier	 addresses
)	TokenNameRPAREN	
throws	TokenNamethrows	
UnknownHostException	TokenNameIdentifier	 Unknown Host Exception
{	TokenNameLBRACE	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
>	TokenNameGREATER	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
address	TokenNameIdentifier	 address
:	TokenNameCOLON	
addresses	TokenNameIdentifier	 addresses
)	TokenNameRPAREN	
{	TokenNameLBRACE	
result	TokenNameIdentifier	 result
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
InetAddress	TokenNameIdentifier	 Inet Address
.	TokenNameDOT	
getByName	TokenNameIdentifier	 get By Name
(	TokenNameLPAREN	
address	TokenNameIdentifier	 address
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
result	TokenNameIdentifier	 result
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
addEndpoint	TokenNameIdentifier	 add Endpoint
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
endpointTokenID	TokenNameIdentifier	 endpoint Token ID
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
keyTokenID	TokenNameIdentifier	 key Token ID
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
endpointAddress	TokenNameIdentifier	 endpoint Address
)	TokenNameRPAREN	
throws	TokenNamethrows	
UnknownHostException	TokenNameIdentifier	 Unknown Host Exception
{	TokenNameLBRACE	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
endpointToken	TokenNameIdentifier	 endpoint Token
=	TokenNameEQUAL	
new	TokenNamenew	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
(	TokenNameLPAREN	
endpointTokenID	TokenNameIdentifier	 endpoint Token ID
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
endpointTokens	TokenNameIdentifier	 endpoint Tokens
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
endpointToken	TokenNameIdentifier	 endpoint Token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
keyToken	TokenNameIdentifier	 key Token
=	TokenNameEQUAL	
new	TokenNamenew	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
(	TokenNameLPAREN	
keyTokenID	TokenNameIdentifier	 key Token ID
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
keyTokens	TokenNameIdentifier	 key Tokens
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
keyToken	TokenNameIdentifier	 key Token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
InetAddress	TokenNameIdentifier	 Inet Address
ep	TokenNameIdentifier	 ep
=	TokenNameEQUAL	
InetAddress	TokenNameIdentifier	 Inet Address
.	TokenNameDOT	
getByName	TokenNameIdentifier	 get By Name
(	TokenNameLPAREN	
endpointAddress	TokenNameIdentifier	 endpoint Address
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
tmd	TokenNameIdentifier	 tmd
.	TokenNameDOT	
updateNormalToken	TokenNameIdentifier	 update Normal Token
(	TokenNameLPAREN	
endpointToken	TokenNameIdentifier	 endpoint Token
,	TokenNameCOMMA	
ep	TokenNameIdentifier	 ep
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
testGetEndpoints	TokenNameIdentifier	 test Get Endpoints
(	TokenNameLPAREN	
AbstractReplicationStrategy	TokenNameIdentifier	 Abstract Replication Strategy
strategy	TokenNameIdentifier	 strategy
,	TokenNameCOMMA	
Token	TokenNameIdentifier	 Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
keyTokens	TokenNameIdentifier	 key Tokens
)	TokenNameRPAREN	
throws	TokenNamethrows	
UnknownHostException	TokenNameIdentifier	 Unknown Host Exception
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
Token	TokenNameIdentifier	 Token
keyToken	TokenNameIdentifier	 key Token
:	TokenNameCOLON	
keyTokens	TokenNameIdentifier	 key Tokens
)	TokenNameRPAREN	
{	TokenNameLBRACE	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
>	TokenNameGREATER	
endpoints	TokenNameIdentifier	 endpoints
=	TokenNameEQUAL	
strategy	TokenNameIdentifier	 strategy
.	TokenNameDOT	
getNaturalEndpoints	TokenNameIdentifier	 get Natural Endpoints
(	TokenNameLPAREN	
keyToken	TokenNameIdentifier	 key Token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
endpoints	TokenNameIdentifier	 endpoints
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
>	TokenNameGREATER	
hostsExpected	TokenNameIdentifier	 hosts Expected
=	TokenNameEQUAL	
expectedResults	TokenNameIdentifier	 expected Results
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
keyToken	TokenNameIdentifier	 key Token
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
endpoints	TokenNameIdentifier	 endpoints
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
,	TokenNameCOMMA	
hostsExpected	TokenNameIdentifier	 hosts Expected
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * test basic methods to move a node. For sure, it's not the best place, but it's easy to test * * @throws UnknownHostException */	TokenNameCOMMENT_JAVADOC	 test basic methods to move a node. For sure, it's not the best place, but it's easy to test * @throws UnknownHostException 
@	TokenNameAT	
Test	TokenNameIdentifier	 Test
public	TokenNamepublic	
void	TokenNamevoid	
testMoveLeft	TokenNameIdentifier	 test Move Left
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
UnknownHostException	TokenNameIdentifier	 Unknown Host Exception
{	TokenNameLBRACE	
// Moves to the left : nothing to fetch, last part to stream 	TokenNameCOMMENT_LINE	Moves to the left : nothing to fetch, last part to stream 
int	TokenNameint	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
newToken	TokenNameIdentifier	 new Token
=	TokenNameEQUAL	
new	TokenNamenew	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
(	TokenNameLPAREN	
"21267647932558653966460912964485513216"	TokenNameStringLiteral	21267647932558653966460912964485513216
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokens	TokenNameIdentifier	 tokens
=	TokenNameEQUAL	
initTokens	TokenNameIdentifier	 init Tokens
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
=	TokenNameEQUAL	
initTokensAfterMove	TokenNameIdentifier	 init Tokens After Move
(	TokenNameLPAREN	
tokens	TokenNameIdentifier	 tokens
,	TokenNameCOMMA	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
newToken	TokenNameIdentifier	 new Token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Pair	TokenNameIdentifier	 Pair
<	TokenNameLESS	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Range	TokenNameIdentifier	 Range
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>>	TokenNameRIGHT_SHIFT	
,	TokenNameCOMMA	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Range	TokenNameIdentifier	 Range
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>>>	TokenNameUNSIGNED_RIGHT_SHIFT	
ranges	TokenNameIdentifier	 ranges
=	TokenNameEQUAL	
calculateStreamAndFetchRanges	TokenNameIdentifier	 calculate Stream And Fetch Ranges
(	TokenNameLPAREN	
tokens	TokenNameIdentifier	 tokens
,	TokenNameCOMMA	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
,	TokenNameCOMMA	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
newToken	TokenNameIdentifier	 new Token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
left	TokenNameIdentifier	 left
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
left	TokenNameIdentifier	 left
,	TokenNameCOMMA	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
[	TokenNameLBRACKET	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
left	TokenNameIdentifier	 left
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
right	TokenNameIdentifier	 right
,	TokenNameCOMMA	
tokens	TokenNameIdentifier	 tokens
[	TokenNameLBRACKET	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"No data should be fetched"	TokenNameStringLiteral	No data should be fetched
,	TokenNameCOMMA	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
right	TokenNameIdentifier	 right
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Test	TokenNameIdentifier	 Test
public	TokenNamepublic	
void	TokenNamevoid	
testMoveRight	TokenNameIdentifier	 test Move Right
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
UnknownHostException	TokenNameIdentifier	 Unknown Host Exception
{	TokenNameLBRACE	
// Moves to the right : last part to fetch, nothing to stream 	TokenNameCOMMENT_LINE	Moves to the right : last part to fetch, nothing to stream 
int	TokenNameint	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
newToken	TokenNameIdentifier	 new Token
=	TokenNameEQUAL	
new	TokenNamenew	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
(	TokenNameLPAREN	
"35267647932558653966460912964485513216"	TokenNameStringLiteral	35267647932558653966460912964485513216
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokens	TokenNameIdentifier	 tokens
=	TokenNameEQUAL	
initTokens	TokenNameIdentifier	 init Tokens
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
=	TokenNameEQUAL	
initTokensAfterMove	TokenNameIdentifier	 init Tokens After Move
(	TokenNameLPAREN	
tokens	TokenNameIdentifier	 tokens
,	TokenNameCOMMA	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
newToken	TokenNameIdentifier	 new Token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Pair	TokenNameIdentifier	 Pair
<	TokenNameLESS	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Range	TokenNameIdentifier	 Range
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>>	TokenNameRIGHT_SHIFT	
,	TokenNameCOMMA	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Range	TokenNameIdentifier	 Range
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>>>	TokenNameUNSIGNED_RIGHT_SHIFT	
ranges	TokenNameIdentifier	 ranges
=	TokenNameEQUAL	
calculateStreamAndFetchRanges	TokenNameIdentifier	 calculate Stream And Fetch Ranges
(	TokenNameLPAREN	
tokens	TokenNameIdentifier	 tokens
,	TokenNameCOMMA	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
,	TokenNameCOMMA	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
newToken	TokenNameIdentifier	 new Token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"No data should be streamed"	TokenNameStringLiteral	No data should be streamed
,	TokenNameCOMMA	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
left	TokenNameIdentifier	 left
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
right	TokenNameIdentifier	 right
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
left	TokenNameIdentifier	 left
,	TokenNameCOMMA	
tokens	TokenNameIdentifier	 tokens
[	TokenNameLBRACKET	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
right	TokenNameIdentifier	 right
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
right	TokenNameIdentifier	 right
,	TokenNameCOMMA	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
[	TokenNameLBRACKET	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Test	TokenNameIdentifier	 Test
public	TokenNamepublic	
void	TokenNamevoid	
testMoveMiddleOfRing	TokenNameIdentifier	 test Move Middle Of Ring
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
UnknownHostException	TokenNameIdentifier	 Unknown Host Exception
{	TokenNameLBRACE	
// moves to another position in the middle of the ring : should stream all its data, and fetch all its new data 	TokenNameCOMMENT_LINE	moves to another position in the middle of the ring : should stream all its data, and fetch all its new data 
int	TokenNameint	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
int	TokenNameint	
movingNodeIdxAfterMove	TokenNameIdentifier	 moving Node Idx After Move
=	TokenNameEQUAL	
4	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
newToken	TokenNameIdentifier	 new Token
=	TokenNameEQUAL	
new	TokenNamenew	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
(	TokenNameLPAREN	
"90070591730234615865843651857942052864"	TokenNameStringLiteral	90070591730234615865843651857942052864
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokens	TokenNameIdentifier	 tokens
=	TokenNameEQUAL	
initTokens	TokenNameIdentifier	 init Tokens
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
=	TokenNameEQUAL	
initTokensAfterMove	TokenNameIdentifier	 init Tokens After Move
(	TokenNameLPAREN	
tokens	TokenNameIdentifier	 tokens
,	TokenNameCOMMA	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
newToken	TokenNameIdentifier	 new Token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Pair	TokenNameIdentifier	 Pair
<	TokenNameLESS	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Range	TokenNameIdentifier	 Range
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>>	TokenNameRIGHT_SHIFT	
,	TokenNameCOMMA	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Range	TokenNameIdentifier	 Range
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>>>	TokenNameUNSIGNED_RIGHT_SHIFT	
ranges	TokenNameIdentifier	 ranges
=	TokenNameEQUAL	
calculateStreamAndFetchRanges	TokenNameIdentifier	 calculate Stream And Fetch Ranges
(	TokenNameLPAREN	
tokens	TokenNameIdentifier	 tokens
,	TokenNameCOMMA	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
,	TokenNameCOMMA	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
newToken	TokenNameIdentifier	 new Token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// sort the results, so they can be compared 	TokenNameCOMMENT_LINE	sort the results, so they can be compared 
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
toStream	TokenNameIdentifier	 to Stream
=	TokenNameEQUAL	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
left	TokenNameIdentifier	 left
.	TokenNameDOT	
toArray	TokenNameIdentifier	 to Array
(	TokenNameLPAREN	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
toFetch	TokenNameIdentifier	 to Fetch
=	TokenNameEQUAL	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
right	TokenNameIdentifier	 right
.	TokenNameDOT	
toArray	TokenNameIdentifier	 to Array
(	TokenNameLPAREN	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
sort	TokenNameIdentifier	 sort
(	TokenNameLPAREN	
toStream	TokenNameIdentifier	 to Stream
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
sort	TokenNameIdentifier	 sort
(	TokenNameLPAREN	
toFetch	TokenNameIdentifier	 to Fetch
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// build expected ranges 	TokenNameCOMMENT_LINE	build expected ranges 
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
toStreamExpected	TokenNameIdentifier	 to Stream Expected
=	TokenNameEQUAL	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
toStreamExpected	TokenNameIdentifier	 to Stream Expected
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
(	TokenNameLPAREN	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
-	TokenNameMINUS	
2	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
,	TokenNameCOMMA	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
toStreamExpected	TokenNameIdentifier	 to Stream Expected
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
(	TokenNameLPAREN	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
,	TokenNameCOMMA	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
sort	TokenNameIdentifier	 sort
(	TokenNameLPAREN	
toStreamExpected	TokenNameIdentifier	 to Stream Expected
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
toFetchExpected	TokenNameIdentifier	 to Fetch Expected
=	TokenNameEQUAL	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
toFetchExpected	TokenNameIdentifier	 to Fetch Expected
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
(	TokenNameLPAREN	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdxAfterMove	TokenNameIdentifier	 moving Node Idx After Move
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
,	TokenNameCOMMA	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdxAfterMove	TokenNameIdentifier	 moving Node Idx After Move
,	TokenNameCOMMA	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
toFetchExpected	TokenNameIdentifier	 to Fetch Expected
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
(	TokenNameLPAREN	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdxAfterMove	TokenNameIdentifier	 moving Node Idx After Move
,	TokenNameCOMMA	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
)	TokenNameRPAREN	
,	TokenNameCOMMA	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
sort	TokenNameIdentifier	 sort
(	TokenNameLPAREN	
toFetchExpected	TokenNameIdentifier	 to Fetch Expected
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
toStream	TokenNameIdentifier	 to Stream
,	TokenNameCOMMA	
toStreamExpected	TokenNameIdentifier	 to Stream Expected
)	TokenNameRPAREN	
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
toFetch	TokenNameIdentifier	 to Fetch
,	TokenNameCOMMA	
toFetchExpected	TokenNameIdentifier	 to Fetch Expected
)	TokenNameRPAREN	
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Test	TokenNameIdentifier	 Test
public	TokenNamepublic	
void	TokenNamevoid	
testMoveAfterNextNeighbors	TokenNameIdentifier	 test Move After Next Neighbors
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
UnknownHostException	TokenNameIdentifier	 Unknown Host Exception
{	TokenNameLBRACE	
// moves after its next neighbor in the ring 	TokenNameCOMMENT_LINE	moves after its next neighbor in the ring 
int	TokenNameint	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
int	TokenNameint	
movingNodeIdxAfterMove	TokenNameIdentifier	 moving Node Idx After Move
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
newToken	TokenNameIdentifier	 new Token
=	TokenNameEQUAL	
new	TokenNamenew	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
(	TokenNameLPAREN	
"52535295865117307932921825928971026432"	TokenNameStringLiteral	52535295865117307932921825928971026432
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokens	TokenNameIdentifier	 tokens
=	TokenNameEQUAL	
initTokens	TokenNameIdentifier	 init Tokens
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
=	TokenNameEQUAL	
initTokensAfterMove	TokenNameIdentifier	 init Tokens After Move
(	TokenNameLPAREN	
tokens	TokenNameIdentifier	 tokens
,	TokenNameCOMMA	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
newToken	TokenNameIdentifier	 new Token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Pair	TokenNameIdentifier	 Pair
<	TokenNameLESS	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Range	TokenNameIdentifier	 Range
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>>	TokenNameRIGHT_SHIFT	
,	TokenNameCOMMA	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Range	TokenNameIdentifier	 Range
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>>>	TokenNameUNSIGNED_RIGHT_SHIFT	
ranges	TokenNameIdentifier	 ranges
=	TokenNameEQUAL	
calculateStreamAndFetchRanges	TokenNameIdentifier	 calculate Stream And Fetch Ranges
(	TokenNameLPAREN	
tokens	TokenNameIdentifier	 tokens
,	TokenNameCOMMA	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
,	TokenNameCOMMA	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
newToken	TokenNameIdentifier	 new Token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// sort the results, so they can be compared 	TokenNameCOMMENT_LINE	sort the results, so they can be compared 
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
toStream	TokenNameIdentifier	 to Stream
=	TokenNameEQUAL	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
left	TokenNameIdentifier	 left
.	TokenNameDOT	
toArray	TokenNameIdentifier	 to Array
(	TokenNameLPAREN	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
toFetch	TokenNameIdentifier	 to Fetch
=	TokenNameEQUAL	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
right	TokenNameIdentifier	 right
.	TokenNameDOT	
toArray	TokenNameIdentifier	 to Array
(	TokenNameLPAREN	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
sort	TokenNameIdentifier	 sort
(	TokenNameLPAREN	
toStream	TokenNameIdentifier	 to Stream
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
sort	TokenNameIdentifier	 sort
(	TokenNameLPAREN	
toFetch	TokenNameIdentifier	 to Fetch
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// build expected ranges 	TokenNameCOMMENT_LINE	build expected ranges 
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
toStreamExpected	TokenNameIdentifier	 to Stream Expected
=	TokenNameEQUAL	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
toStreamExpected	TokenNameIdentifier	 to Stream Expected
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
(	TokenNameLPAREN	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
-	TokenNameMINUS	
2	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
,	TokenNameCOMMA	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
sort	TokenNameIdentifier	 sort
(	TokenNameLPAREN	
toStreamExpected	TokenNameIdentifier	 to Stream Expected
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
toFetchExpected	TokenNameIdentifier	 to Fetch Expected
=	TokenNameEQUAL	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
toFetchExpected	TokenNameIdentifier	 to Fetch Expected
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
(	TokenNameLPAREN	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdxAfterMove	TokenNameIdentifier	 moving Node Idx After Move
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
,	TokenNameCOMMA	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdxAfterMove	TokenNameIdentifier	 moving Node Idx After Move
,	TokenNameCOMMA	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
toFetchExpected	TokenNameIdentifier	 to Fetch Expected
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
(	TokenNameLPAREN	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdxAfterMove	TokenNameIdentifier	 moving Node Idx After Move
,	TokenNameCOMMA	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
)	TokenNameRPAREN	
,	TokenNameCOMMA	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
sort	TokenNameIdentifier	 sort
(	TokenNameLPAREN	
toFetchExpected	TokenNameIdentifier	 to Fetch Expected
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
toStream	TokenNameIdentifier	 to Stream
,	TokenNameCOMMA	
toStreamExpected	TokenNameIdentifier	 to Stream Expected
)	TokenNameRPAREN	
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
toFetch	TokenNameIdentifier	 to Fetch
,	TokenNameCOMMA	
toFetchExpected	TokenNameIdentifier	 to Fetch Expected
)	TokenNameRPAREN	
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Test	TokenNameIdentifier	 Test
public	TokenNamepublic	
void	TokenNamevoid	
testMoveBeforePreviousNeighbor	TokenNameIdentifier	 test Move Before Previous Neighbor
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
UnknownHostException	TokenNameIdentifier	 Unknown Host Exception
{	TokenNameLBRACE	
// moves before its previous neighbor in the ring 	TokenNameCOMMENT_LINE	moves before its previous neighbor in the ring 
int	TokenNameint	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
int	TokenNameint	
movingNodeIdxAfterMove	TokenNameIdentifier	 moving Node Idx After Move
=	TokenNameEQUAL	
7	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
newToken	TokenNameIdentifier	 new Token
=	TokenNameEQUAL	
new	TokenNamenew	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
(	TokenNameLPAREN	
"158873535527910577765226390751398592512"	TokenNameStringLiteral	158873535527910577765226390751398592512
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokens	TokenNameIdentifier	 tokens
=	TokenNameEQUAL	
initTokens	TokenNameIdentifier	 init Tokens
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
=	TokenNameEQUAL	
initTokensAfterMove	TokenNameIdentifier	 init Tokens After Move
(	TokenNameLPAREN	
tokens	TokenNameIdentifier	 tokens
,	TokenNameCOMMA	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
newToken	TokenNameIdentifier	 new Token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Pair	TokenNameIdentifier	 Pair
<	TokenNameLESS	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Range	TokenNameIdentifier	 Range
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>>	TokenNameRIGHT_SHIFT	
,	TokenNameCOMMA	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Range	TokenNameIdentifier	 Range
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>>>	TokenNameUNSIGNED_RIGHT_SHIFT	
ranges	TokenNameIdentifier	 ranges
=	TokenNameEQUAL	
calculateStreamAndFetchRanges	TokenNameIdentifier	 calculate Stream And Fetch Ranges
(	TokenNameLPAREN	
tokens	TokenNameIdentifier	 tokens
,	TokenNameCOMMA	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
,	TokenNameCOMMA	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
newToken	TokenNameIdentifier	 new Token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
toStream	TokenNameIdentifier	 to Stream
=	TokenNameEQUAL	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
left	TokenNameIdentifier	 left
.	TokenNameDOT	
toArray	TokenNameIdentifier	 to Array
(	TokenNameLPAREN	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
toFetch	TokenNameIdentifier	 to Fetch
=	TokenNameEQUAL	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
right	TokenNameIdentifier	 right
.	TokenNameDOT	
toArray	TokenNameIdentifier	 to Array
(	TokenNameLPAREN	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
sort	TokenNameIdentifier	 sort
(	TokenNameLPAREN	
toStream	TokenNameIdentifier	 to Stream
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
sort	TokenNameIdentifier	 sort
(	TokenNameLPAREN	
toFetch	TokenNameIdentifier	 to Fetch
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
toStreamExpected	TokenNameIdentifier	 to Stream Expected
=	TokenNameEQUAL	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
toStreamExpected	TokenNameIdentifier	 to Stream Expected
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
(	TokenNameLPAREN	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
)	TokenNameRPAREN	
,	TokenNameCOMMA	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
toStreamExpected	TokenNameIdentifier	 to Stream Expected
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
(	TokenNameLPAREN	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
,	TokenNameCOMMA	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
sort	TokenNameIdentifier	 sort
(	TokenNameLPAREN	
toStreamExpected	TokenNameIdentifier	 to Stream Expected
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
toFetchExpected	TokenNameIdentifier	 to Fetch Expected
=	TokenNameEQUAL	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
toFetchExpected	TokenNameIdentifier	 to Fetch Expected
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
Range	TokenNameIdentifier	 Range
(	TokenNameLPAREN	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdxAfterMove	TokenNameIdentifier	 moving Node Idx After Move
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
,	TokenNameCOMMA	
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
movingNodeIdxAfterMove	TokenNameIdentifier	 moving Node Idx After Move
,	TokenNameCOMMA	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
sort	TokenNameIdentifier	 sort
(	TokenNameLPAREN	
toFetchExpected	TokenNameIdentifier	 to Fetch Expected
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"toStream : "	TokenNameStringLiteral	toStream : 
+	TokenNamePLUS	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
toStream	TokenNameIdentifier	 to Stream
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"toFetch : "	TokenNameStringLiteral	toFetch : 
+	TokenNamePLUS	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
toFetch	TokenNameIdentifier	 to Fetch
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"toStreamExpected : "	TokenNameStringLiteral	toStreamExpected : 
+	TokenNamePLUS	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
toStreamExpected	TokenNameIdentifier	 to Stream Expected
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"toFetchExpected : "	TokenNameStringLiteral	toFetchExpected : 
+	TokenNamePLUS	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
toFetchExpected	TokenNameIdentifier	 to Fetch Expected
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
toStream	TokenNameIdentifier	 to Stream
,	TokenNameCOMMA	
toStreamExpected	TokenNameIdentifier	 to Stream Expected
)	TokenNameRPAREN	
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
Arrays	TokenNameIdentifier	 Arrays
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
toFetch	TokenNameIdentifier	 to Fetch
,	TokenNameCOMMA	
toFetchExpected	TokenNameIdentifier	 to Fetch Expected
)	TokenNameRPAREN	
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
initTokensAfterMove	TokenNameIdentifier	 init Tokens After Move
(	TokenNameLPAREN	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokens	TokenNameIdentifier	 tokens
,	TokenNameCOMMA	
int	TokenNameint	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
newToken	TokenNameIdentifier	 new Token
)	TokenNameRPAREN	
{	TokenNameLBRACE	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
=	TokenNameEQUAL	
tokens	TokenNameIdentifier	 tokens
.	TokenNameDOT	
clone	TokenNameIdentifier	 clone
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
[	TokenNameLBRACKET	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
newToken	TokenNameIdentifier	 new Token
;	TokenNameSEMICOLON	
return	TokenNamereturn	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
initTokens	TokenNameIdentifier	 init Tokens
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokens	TokenNameIdentifier	 tokens
=	TokenNameEQUAL	
new	TokenNamenew	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
new	TokenNamenew	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
(	TokenNameLPAREN	
"0"	TokenNameStringLiteral	0
)	TokenNameRPAREN	
,	TokenNameCOMMA	
// just to be able to test 	TokenNameCOMMENT_LINE	just to be able to test 
new	TokenNamenew	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
(	TokenNameLPAREN	
"34028236692093846346337460743176821145"	TokenNameStringLiteral	34028236692093846346337460743176821145
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
(	TokenNameLPAREN	
"42535295865117307932921825928971026432"	TokenNameStringLiteral	42535295865117307932921825928971026432
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
(	TokenNameLPAREN	
"63802943797675961899382738893456539648"	TokenNameStringLiteral	63802943797675961899382738893456539648
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
(	TokenNameLPAREN	
"85070591730234615865843651857942052864"	TokenNameStringLiteral	85070591730234615865843651857942052864
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
(	TokenNameLPAREN	
"106338239662793269832304564822427566080"	TokenNameStringLiteral	106338239662793269832304564822427566080
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
(	TokenNameLPAREN	
"127605887595351923798765477786913079296"	TokenNameStringLiteral	127605887595351923798765477786913079296
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
(	TokenNameLPAREN	
"148873535527910577765226390751398592512"	TokenNameStringLiteral	148873535527910577765226390751398592512
)	TokenNameRPAREN	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
tokens	TokenNameIdentifier	 tokens
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
TokenMetadata	TokenNameIdentifier	 Token Metadata
initTokenMetadata	TokenNameIdentifier	 init Token Metadata
(	TokenNameLPAREN	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
throws	TokenNamethrows	
UnknownHostException	TokenNameIdentifier	 Unknown Host Exception
{	TokenNameLBRACE	
TokenMetadata	TokenNameIdentifier	 Token Metadata
tokenMetadataCurrent	TokenNameIdentifier	 token Metadata Current
=	TokenNameEQUAL	
new	TokenNamenew	
TokenMetadata	TokenNameIdentifier	 Token Metadata
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
lastIPPart	TokenNameIdentifier	 last IP Part
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
token	TokenNameIdentifier	 token
:	TokenNameCOLON	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
tokenMetadataCurrent	TokenNameIdentifier	 token Metadata Current
.	TokenNameDOT	
updateNormalToken	TokenNameIdentifier	 update Normal Token
(	TokenNameLPAREN	
token	TokenNameIdentifier	 token
,	TokenNameCOMMA	
InetAddress	TokenNameIdentifier	 Inet Address
.	TokenNameDOT	
getByName	TokenNameIdentifier	 get By Name
(	TokenNameLPAREN	
"254.0.0."	TokenNameStringLiteral	254.0.0.
+	TokenNamePLUS	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
lastIPPart	TokenNameIdentifier	 last IP Part
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
tokenMetadataCurrent	TokenNameIdentifier	 token Metadata Current
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
getToken	TokenNameIdentifier	 get Token
(	TokenNameLPAREN	
int	TokenNameint	
idx	TokenNameIdentifier	 idx
,	TokenNameCOMMA	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
idx	TokenNameIdentifier	 idx
>=	TokenNameGREATER_EQUAL	
tokens	TokenNameIdentifier	 tokens
.	TokenNameDOT	
length	TokenNameIdentifier	 length
)	TokenNameRPAREN	
idx	TokenNameIdentifier	 idx
=	TokenNameEQUAL	
idx	TokenNameIdentifier	 idx
%	TokenNameREMAINDER	
tokens	TokenNameIdentifier	 tokens
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
idx	TokenNameIdentifier	 idx
<	TokenNameLESS	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
idx	TokenNameIdentifier	 idx
+=	TokenNamePLUS_EQUAL	
tokens	TokenNameIdentifier	 tokens
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
return	TokenNamereturn	
tokens	TokenNameIdentifier	 tokens
[	TokenNameLBRACKET	
idx	TokenNameIdentifier	 idx
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
Pair	TokenNameIdentifier	 Pair
<	TokenNameLESS	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Range	TokenNameIdentifier	 Range
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>>	TokenNameRIGHT_SHIFT	
,	TokenNameCOMMA	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Range	TokenNameIdentifier	 Range
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>>>	TokenNameUNSIGNED_RIGHT_SHIFT	
calculateStreamAndFetchRanges	TokenNameIdentifier	 calculate Stream And Fetch Ranges
(	TokenNameLPAREN	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokens	TokenNameIdentifier	 tokens
,	TokenNameCOMMA	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
,	TokenNameCOMMA	
int	TokenNameint	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
,	TokenNameCOMMA	
BigIntegerToken	TokenNameIdentifier	 Big Integer Token
newToken	TokenNameIdentifier	 new Token
)	TokenNameRPAREN	
throws	TokenNamethrows	
UnknownHostException	TokenNameIdentifier	 Unknown Host Exception
{	TokenNameLBRACE	
RackInferringSnitch	TokenNameIdentifier	 Rack Inferring Snitch
endpointSnitch	TokenNameIdentifier	 endpoint Snitch
=	TokenNameEQUAL	
new	TokenNamenew	
RackInferringSnitch	TokenNameIdentifier	 Rack Inferring Snitch
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
InetAddress	TokenNameIdentifier	 Inet Address
movingNode	TokenNameIdentifier	 moving Node
=	TokenNameEQUAL	
InetAddress	TokenNameIdentifier	 Inet Address
.	TokenNameDOT	
getByName	TokenNameIdentifier	 get By Name
(	TokenNameLPAREN	
"254.0.0."	TokenNameStringLiteral	254.0.0.
+	TokenNamePLUS	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenMetadata	TokenNameIdentifier	 Token Metadata
tokenMetadataCurrent	TokenNameIdentifier	 token Metadata Current
=	TokenNameEQUAL	
initTokenMetadata	TokenNameIdentifier	 init Token Metadata
(	TokenNameLPAREN	
tokens	TokenNameIdentifier	 tokens
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenMetadata	TokenNameIdentifier	 Token Metadata
tokenMetadataAfterMove	TokenNameIdentifier	 token Metadata After Move
=	TokenNameEQUAL	
initTokenMetadata	TokenNameIdentifier	 init Token Metadata
(	TokenNameLPAREN	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AbstractReplicationStrategy	TokenNameIdentifier	 Abstract Replication Strategy
strategy	TokenNameIdentifier	 strategy
=	TokenNameEQUAL	
new	TokenNamenew	
OldNetworkTopologyStrategy	TokenNameIdentifier	 Old Network Topology Strategy
(	TokenNameLPAREN	
"Keyspace1"	TokenNameStringLiteral	Keyspace1
,	TokenNameCOMMA	
tokenMetadataCurrent	TokenNameIdentifier	 token Metadata Current
,	TokenNameCOMMA	
endpointSnitch	TokenNameIdentifier	 endpoint Snitch
,	TokenNameCOMMA	
KSMetaData	TokenNameIdentifier	 KS Meta Data
.	TokenNameDOT	
optsWithRF	TokenNameIdentifier	 opts With RF
(	TokenNameLPAREN	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Collection	TokenNameIdentifier	 Collection
<	TokenNameLESS	
Range	TokenNameIdentifier	 Range
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>>	TokenNameRIGHT_SHIFT	
currentRanges	TokenNameIdentifier	 current Ranges
=	TokenNameEQUAL	
strategy	TokenNameIdentifier	 strategy
.	TokenNameDOT	
getAddressRanges	TokenNameIdentifier	 get Address Ranges
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
movingNode	TokenNameIdentifier	 moving Node
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Collection	TokenNameIdentifier	 Collection
<	TokenNameLESS	
Range	TokenNameIdentifier	 Range
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>>	TokenNameRIGHT_SHIFT	
updatedRanges	TokenNameIdentifier	 updated Ranges
=	TokenNameEQUAL	
strategy	TokenNameIdentifier	 strategy
.	TokenNameDOT	
getPendingAddressRanges	TokenNameIdentifier	 get Pending Address Ranges
(	TokenNameLPAREN	
tokenMetadataAfterMove	TokenNameIdentifier	 token Metadata After Move
,	TokenNameCOMMA	
tokensAfterMove	TokenNameIdentifier	 tokens After Move
[	TokenNameLBRACKET	
movingNodeIdx	TokenNameIdentifier	 moving Node Idx
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
movingNode	TokenNameIdentifier	 moving Node
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Pair	TokenNameIdentifier	 Pair
<	TokenNameLESS	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Range	TokenNameIdentifier	 Range
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>>	TokenNameRIGHT_SHIFT	
,	TokenNameCOMMA	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Range	TokenNameIdentifier	 Range
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>>>	TokenNameUNSIGNED_RIGHT_SHIFT	
ranges	TokenNameIdentifier	 ranges
=	TokenNameEQUAL	
StorageService	TokenNameIdentifier	 Storage Service
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
.	TokenNameDOT	
calculateStreamAndFetchRanges	TokenNameIdentifier	 calculate Stream And Fetch Ranges
(	TokenNameLPAREN	
currentRanges	TokenNameIdentifier	 current Ranges
,	TokenNameCOMMA	
updatedRanges	TokenNameIdentifier	 updated Ranges
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
ranges	TokenNameIdentifier	 ranges
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
