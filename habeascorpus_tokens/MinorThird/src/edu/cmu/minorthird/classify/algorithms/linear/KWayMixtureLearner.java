/* Copyright 2003, Carnegie Mellon, All Rights Reserved */	TokenNameCOMMENT_BLOCK	 Copyright 2003, Carnegie Mellon, All Rights Reserved 
package	TokenNamepackage	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
algorithms	TokenNameIdentifier	 algorithms
.	TokenNameDOT	
linear	TokenNameIdentifier	 linear
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ArrayList	TokenNameIdentifier	 Array List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Iterator	TokenNameIdentifier	 Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
List	TokenNameIdentifier	 List
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
BasicDataset	TokenNameIdentifier	 Basic Dataset
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
BasicFeatureIndex	TokenNameIdentifier	 Basic Feature Index
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
BatchClassifierLearner	TokenNameIdentifier	 Batch Classifier Learner
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
ClassLabel	TokenNameIdentifier	 Class Label
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
Classifier	TokenNameIdentifier	 Classifier
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
Dataset	TokenNameIdentifier	 Dataset
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
Example	TokenNameIdentifier	 Example
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
ExampleSchema	TokenNameIdentifier	 Example Schema
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
Feature	TokenNameIdentifier	 Feature
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
SampleDatasets	TokenNameIdentifier	 Sample Datasets
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
algorithms	TokenNameIdentifier	 algorithms
.	TokenNameDOT	
random	TokenNameIdentifier	 random
.	TokenNameDOT	
Estimate	TokenNameIdentifier	 Estimate
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
algorithms	TokenNameIdentifier	 algorithms
.	TokenNameDOT	
random	TokenNameIdentifier	 random
.	TokenNameDOT	
Estimators	TokenNameIdentifier	 Estimators
;	TokenNameSEMICOLON	
/** * @author Edoardo Airoldi * Date: Nov 14, 2004 */	TokenNameCOMMENT_JAVADOC	 @author Edoardo Airoldi Date: Nov 14, 2004 
public	TokenNamepublic	
class	TokenNameclass	
KWayMixtureLearner	TokenNameIdentifier	 K Way Mixture Learner
extends	TokenNameextends	
BatchClassifierLearner	TokenNameIdentifier	 Batch Classifier Learner
{	TokenNameLBRACE	
private	TokenNameprivate	
double	TokenNamedouble	
SCALE	TokenNameIdentifier	 SCALE
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
MODEL	TokenNameIdentifier	 MODEL
;	TokenNameSEMICOLON	
// "Naive-Bayes", "Binomial", "Poisson", "Negative-Binomial", "Mixture" 	TokenNameCOMMENT_LINE	"Naive-Bayes", "Binomial", "Poisson", "Negative-Binomial", "Mixture" 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
;	TokenNameSEMICOLON	
// constructors 	TokenNameCOMMENT_LINE	constructors 
public	TokenNamepublic	
KWayMixtureLearner	TokenNameIdentifier	 K Way Mixture Learner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
SCALE	TokenNameIdentifier	 SCALE
=	TokenNameEQUAL	
10.0	TokenNameDoubleLiteral	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
MODEL	TokenNameIdentifier	 MODEL
=	TokenNameEQUAL	
"Poisson"	TokenNameStringLiteral	Poisson
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
=	TokenNameEQUAL	
"default"	TokenNameStringLiteral	default
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
KWayMixtureLearner	TokenNameIdentifier	 K Way Mixture Learner
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
model	TokenNameIdentifier	 model
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
SCALE	TokenNameIdentifier	 SCALE
=	TokenNameEQUAL	
10.0	TokenNameDoubleLiteral	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
MODEL	TokenNameIdentifier	 MODEL
=	TokenNameEQUAL	
model	TokenNameIdentifier	 model
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
=	TokenNameEQUAL	
"default"	TokenNameStringLiteral	default
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
KWayMixtureLearner	TokenNameIdentifier	 K Way Mixture Learner
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
model	TokenNameIdentifier	 model
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
parameterization	TokenNameIdentifier	 parameterization
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
SCALE	TokenNameIdentifier	 SCALE
=	TokenNameEQUAL	
10.0	TokenNameDoubleLiteral	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
MODEL	TokenNameIdentifier	 MODEL
=	TokenNameEQUAL	
model	TokenNameIdentifier	 model
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
=	TokenNameEQUAL	
parameterization	TokenNameIdentifier	 parameterization
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
KWayMixtureLearner	TokenNameIdentifier	 K Way Mixture Learner
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
model	TokenNameIdentifier	 model
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
parameterization	TokenNameIdentifier	 parameterization
,	TokenNameCOMMA	
double	TokenNamedouble	
scale	TokenNameIdentifier	 scale
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
SCALE	TokenNameIdentifier	 SCALE
=	TokenNameEQUAL	
scale	TokenNameIdentifier	 scale
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
MODEL	TokenNameIdentifier	 MODEL
=	TokenNameEQUAL	
model	TokenNameIdentifier	 model
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
=	TokenNameEQUAL	
parameterization	TokenNameIdentifier	 parameterization
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
setSchema	TokenNameIdentifier	 set Schema
(	TokenNameLPAREN	
ExampleSchema	TokenNameIdentifier	 Example Schema
schema	TokenNameIdentifier	 schema
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
ExampleSchema	TokenNameIdentifier	 Example Schema
.	TokenNameDOT	
BINARY_EXAMPLE_SCHEMA	TokenNameIdentifier	 BINARY  EXAMPLE  SCHEMA
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
schema	TokenNameIdentifier	 schema
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalStateException	TokenNameIdentifier	 Illegal State Exception
(	TokenNameLPAREN	
"can only learn non-binary example data"	TokenNameStringLiteral	can only learn non-binary example data
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
ExampleSchema	TokenNameIdentifier	 Example Schema
getSchema	TokenNameIdentifier	 get Schema
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
ExampleSchema	TokenNameIdentifier	 Example Schema
.	TokenNameDOT	
BINARY_EXAMPLE_SCHEMA	TokenNameIdentifier	 BINARY  EXAMPLE  SCHEMA
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
Classifier	TokenNameIdentifier	 Classifier
batchTrain	TokenNameIdentifier	 batch Train
(	TokenNameLPAREN	
Dataset	TokenNameIdentifier	 Dataset
dataset	TokenNameIdentifier	 dataset
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// initialize stuff 	TokenNameCOMMENT_LINE	initialize stuff 
Classifier	TokenNameIdentifier	 Classifier
mc	TokenNameIdentifier	 mc
=	TokenNameEQUAL	
new	TokenNamenew	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setScale	TokenNameIdentifier	 set Scale
(	TokenNameLPAREN	
SCALE	TokenNameIdentifier	 SCALE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ExampleSchema	TokenNameIdentifier	 Example Schema
schema	TokenNameIdentifier	 schema
=	TokenNameEQUAL	
dataset	TokenNameIdentifier	 dataset
.	TokenNameDOT	
getSchema	TokenNameIdentifier	 get Schema
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//System.out.println(schema); 	TokenNameCOMMENT_LINE	System.out.println(schema); 
// retrieve valid class names and their sizes 	TokenNameCOMMENT_LINE	retrieve valid class names and their sizes 
BasicFeatureIndex	TokenNameIdentifier	 Basic Feature Index
index	TokenNameIdentifier	 index
=	TokenNameEQUAL	
new	TokenNamenew	
BasicFeatureIndex	TokenNameIdentifier	 Basic Feature Index
(	TokenNameLPAREN	
dataset	TokenNameIdentifier	 dataset
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
numberOfClasses	TokenNameIdentifier	 number Of Classes
=	TokenNameEQUAL	
schema	TokenNameIdentifier	 schema
.	TokenNameDOT	
getNumberOfClasses	TokenNameIdentifier	 get Number Of Classes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
classLabels	TokenNameIdentifier	 class Labels
=	TokenNameEQUAL	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
numberOfClasses	TokenNameIdentifier	 number Of Classes
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
int	TokenNameint	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
classSizes	TokenNameIdentifier	 class Sizes
=	TokenNameEQUAL	
new	TokenNamenew	
int	TokenNameint	
[	TokenNameLBRACKET	
numberOfClasses	TokenNameIdentifier	 number Of Classes
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
>	TokenNameGREATER	
featureMatrix	TokenNameIdentifier	 feature Matrix
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
>	TokenNameGREATER	
exampleWeightMatrix	TokenNameIdentifier	 example Weight Matrix
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
numberOfClasses	TokenNameIdentifier	 number Of Classes
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
classLabels	TokenNameIdentifier	 class Labels
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
schema	TokenNameIdentifier	 schema
.	TokenNameDOT	
getClassName	TokenNameIdentifier	 get Class Name
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
addValidLabel	TokenNameIdentifier	 add Valid Label
(	TokenNameLPAREN	
new	TokenNamenew	
ClassLabel	TokenNameIdentifier	 Class Label
(	TokenNameLPAREN	
classLabels	TokenNameIdentifier	 class Labels
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
classSizes	TokenNameIdentifier	 class Sizes
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
classLabels	TokenNameIdentifier	 class Labels
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//System.out.println(classSizes[i]); // DEBUG 	TokenNameCOMMENT_LINE	System.out.println(classSizes[i]); // DEBUG 
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
featureCounts	TokenNameIdentifier	 feature Counts
=	TokenNameEQUAL	
new	TokenNamenew	
double	TokenNamedouble	
[	TokenNameLBRACKET	
classSizes	TokenNameIdentifier	 class Sizes
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
exampleWeights	TokenNameIdentifier	 example Weights
=	TokenNameEQUAL	
new	TokenNamenew	
double	TokenNamedouble	
[	TokenNameLBRACKET	
classSizes	TokenNameIdentifier	 class Sizes
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
featureMatrix	TokenNameIdentifier	 feature Matrix
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
featureCounts	TokenNameIdentifier	 feature Counts
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
exampleWeightMatrix	TokenNameIdentifier	 example Weight Matrix
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
exampleWeights	TokenNameIdentifier	 example Weights
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// estimate parameters 	TokenNameCOMMENT_LINE	estimate parameters 
double	TokenNamedouble	
numberOfExamples	TokenNameIdentifier	 number Of Examples
=	TokenNameEQUAL	
(	TokenNameLPAREN	
dataset	TokenNameIdentifier	 dataset
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
numberOfFeatures	TokenNameIdentifier	 number Of Features
=	TokenNameEQUAL	
(	TokenNameLPAREN	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
numberOfFeatures	TokenNameIdentifier	 number Of Features
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsGivenClass	TokenNameIdentifier	 counts Given Class
=	TokenNameEQUAL	
new	TokenNamenew	
double	TokenNamedouble	
[	TokenNameLBRACKET	
numberOfClasses	TokenNameIdentifier	 number Of Classes
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
examplesGivenClass	TokenNameIdentifier	 examples Given Class
=	TokenNameEQUAL	
new	TokenNamenew	
double	TokenNamedouble	
[	TokenNameLBRACKET	
numberOfClasses	TokenNameIdentifier	 number Of Classes
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
int	TokenNameint	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
excounter	TokenNameIdentifier	 excounter
=	TokenNameEQUAL	
new	TokenNamenew	
int	TokenNameint	
[	TokenNameLBRACKET	
numberOfClasses	TokenNameIdentifier	 number Of Classes
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Example	TokenNameIdentifier	 Example
>	TokenNameGREATER	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
dataset	TokenNameIdentifier	 dataset
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Example	TokenNameIdentifier	 Example
ex	TokenNameIdentifier	 ex
=	TokenNameEQUAL	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//System.out.println("label="+ex.getLabel().bestClassName().toString()); 	TokenNameCOMMENT_LINE	System.out.println("label="+ex.getLabel().bestClassName().toString()); 
int	TokenNameint	
idx	TokenNameIdentifier	 idx
=	TokenNameEQUAL	
schema	TokenNameIdentifier	 schema
.	TokenNameDOT	
getClassIndex	TokenNameIdentifier	 get Class Index
(	TokenNameLPAREN	
ex	TokenNameIdentifier	 ex
.	TokenNameDOT	
getLabel	TokenNameIdentifier	 get Label
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
bestClassName	TokenNameIdentifier	 best Class Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
classIndex	TokenNameIdentifier	 class Index
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
ex	TokenNameIdentifier	 ex
.	TokenNameDOT	
getLabel	TokenNameIdentifier	 get Label
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//System.out.println("classIndex="+classIndex+" idx"+idx); 	TokenNameCOMMENT_LINE	System.out.println("classIndex="+classIndex+" idx"+idx); 
if	TokenNameif	
(	TokenNameLPAREN	
idx	TokenNameIdentifier	 idx
!=	TokenNameNOT_EQUAL	
classIndex	TokenNameIdentifier	 class Index
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Buzz! Error: incompatible class indeces ..."	TokenNameStringLiteral	Buzz! Error: incompatible class indeces ...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
exit	TokenNameIdentifier	 exit
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
examplesGivenClass	TokenNameIdentifier	 examples Given Class
[	TokenNameLBRACKET	
idx	TokenNameIdentifier	 idx
]	TokenNameRBRACKET	
+=	TokenNamePLUS_EQUAL	
1.0	TokenNameDoubleLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Feature	TokenNameIdentifier	 Feature
>	TokenNameGREATER	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
featureIterator	TokenNameIdentifier	 feature Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Feature	TokenNameIdentifier	 Feature
f	TokenNameIdentifier	 f
=	TokenNameEQUAL	
j	TokenNameIdentifier	 j
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
countsGivenClass	TokenNameIdentifier	 counts Given Class
[	TokenNameLBRACKET	
idx	TokenNameIdentifier	 idx
]	TokenNameRBRACKET	
+=	TokenNamePLUS_EQUAL	
ex	TokenNameIdentifier	 ex
.	TokenNameDOT	
getWeight	TokenNameIdentifier	 get Weight
(	TokenNameLPAREN	
f	TokenNameIdentifier	 f
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
exampleWeightMatrix	TokenNameIdentifier	 example Weight Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
idx	TokenNameIdentifier	 idx
)	TokenNameRPAREN	
)	TokenNameRPAREN	
[	TokenNameLBRACKET	
excounter	TokenNameIdentifier	 excounter
[	TokenNameLBRACKET	
idx	TokenNameIdentifier	 idx
]	TokenNameRBRACKET	
]	TokenNameRBRACKET	
+=	TokenNamePLUS_EQUAL	
ex	TokenNameIdentifier	 ex
.	TokenNameDOT	
getWeight	TokenNameIdentifier	 get Weight
(	TokenNameLPAREN	
f	TokenNameIdentifier	 f
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// SCALE is HERE !!! 	TokenNameCOMMENT_LINE	SCALE is HERE !!! 
}	TokenNameRBRACE	
excounter	TokenNameIdentifier	 excounter
[	TokenNameLBRACKET	
idx	TokenNameIdentifier	 idx
]	TokenNameRBRACKET	
+=	TokenNamePLUS_EQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Feature	TokenNameIdentifier	 Feature
>	TokenNameGREATER	
floo	TokenNameIdentifier	 floo
=	TokenNameEQUAL	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
featureIterator	TokenNameIdentifier	 feature Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
floo	TokenNameIdentifier	 floo
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
counter	TokenNameIdentifier	 counter
=	TokenNameEQUAL	
new	TokenNamenew	
int	TokenNameint	
[	TokenNameLBRACKET	
numberOfClasses	TokenNameIdentifier	 number Of Classes
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// load vector of counts (by class) for feature f 	TokenNameCOMMENT_LINE	load vector of counts (by class) for feature f 
Feature	TokenNameIdentifier	 Feature
ft	TokenNameIdentifier	 ft
=	TokenNameEQUAL	
floo	TokenNameIdentifier	 floo
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Example	TokenNameIdentifier	 Example
>	TokenNameGREATER	
eloo	TokenNameIdentifier	 eloo
=	TokenNameEQUAL	
dataset	TokenNameIdentifier	 dataset
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
eloo	TokenNameIdentifier	 eloo
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Example	TokenNameIdentifier	 Example
ex	TokenNameIdentifier	 ex
=	TokenNameEQUAL	
eloo	TokenNameIdentifier	 eloo
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
idx	TokenNameIdentifier	 idx
=	TokenNameEQUAL	
schema	TokenNameIdentifier	 schema
.	TokenNameDOT	
getClassIndex	TokenNameIdentifier	 get Class Index
(	TokenNameLPAREN	
ex	TokenNameIdentifier	 ex
.	TokenNameDOT	
getLabel	TokenNameIdentifier	 get Label
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
bestClassName	TokenNameIdentifier	 best Class Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
MODEL	TokenNameIdentifier	 MODEL
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"Naive-Bayes"	TokenNameStringLiteral	Naive-Bayes
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
featureMatrix	TokenNameIdentifier	 feature Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
idx	TokenNameIdentifier	 idx
)	TokenNameRPAREN	
)	TokenNameRPAREN	
[	TokenNameLBRACKET	
counter	TokenNameIdentifier	 counter
[	TokenNameLBRACKET	
idx	TokenNameIdentifier	 idx
]	TokenNameRBRACKET	
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
min	TokenNameIdentifier	 min
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
ex	TokenNameIdentifier	 ex
.	TokenNameDOT	
getWeight	TokenNameIdentifier	 get Weight
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
featureMatrix	TokenNameIdentifier	 feature Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
idx	TokenNameIdentifier	 idx
)	TokenNameRPAREN	
)	TokenNameRPAREN	
[	TokenNameLBRACKET	
counter	TokenNameIdentifier	 counter
[	TokenNameLBRACKET	
idx	TokenNameIdentifier	 idx
]	TokenNameRBRACKET	
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
ex	TokenNameIdentifier	 ex
.	TokenNameDOT	
getWeight	TokenNameIdentifier	 get Weight
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// select model and store parameters 	TokenNameCOMMENT_LINE	select model and store parameters 
if	TokenNameif	
(	TokenNameLPAREN	
MODEL	TokenNameIdentifier	 MODEL
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"Naive-Bayes"	TokenNameStringLiteral	Naive-Bayes
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setPrior	TokenNameIdentifier	 set Prior
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
numberOfFeatures	TokenNameIdentifier	 number Of Features
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setUnseenModel	TokenNameIdentifier	 set Unseen Model
(	TokenNameLPAREN	
"Naive-Bayes"	TokenNameStringLiteral	Naive-Bayes
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
numberOfClasses	TokenNameIdentifier	 number Of Classes
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
probabilityOfOccurrence	TokenNameIdentifier	 probability Of Occurrence
=	TokenNameEQUAL	
estimateClassProbMLE	TokenNameIdentifier	 estimate Class Prob MLE
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
numberOfClasses	TokenNameIdentifier	 number Of Classes
,	TokenNameCOMMA	
examplesGivenClass	TokenNameIdentifier	 examples Given Class
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
numberOfExamples	TokenNameIdentifier	 number Of Examples
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setClassParameter	TokenNameIdentifier	 set Class Parameter
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
probabilityOfOccurrence	TokenNameIdentifier	 probability Of Occurrence
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"default"	TokenNameStringLiteral	default
)	TokenNameRPAREN	
|	TokenNameOR	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"mean"	TokenNameStringLiteral	mean
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Estimate	TokenNameIdentifier	 Estimate
mean	TokenNameIdentifier	 mean
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
estimateNaiveBayesMean	TokenNameIdentifier	 estimate Naive Bayes Mean
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
numberOfFeatures	TokenNameIdentifier	 number Of Features
,	TokenNameCOMMA	
sum	TokenNameIdentifier	 sum
(	TokenNameLPAREN	
featureMatrix	TokenNameIdentifier	 feature Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
examplesGivenClass	TokenNameIdentifier	 examples Given Class
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureGivenClassParameter	TokenNameIdentifier	 set Feature Given Class Parameter
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
mean	TokenNameIdentifier	 mean
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"weighted-mean"	TokenNameStringLiteral	weighted-mean
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
=	TokenNameEQUAL	
featureMatrix	TokenNameIdentifier	 feature Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsGivenExample	TokenNameIdentifier	 counts Given Example
=	TokenNameEQUAL	
exampleWeightMatrix	TokenNameIdentifier	 example Weight Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Estimate	TokenNameIdentifier	 Estimate
mean	TokenNameIdentifier	 mean
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
estimateNaiveBayesWeightedMean	TokenNameIdentifier	 estimate Naive Bayes Weighted Mean
(	TokenNameLPAREN	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
,	TokenNameCOMMA	
countsGivenExample	TokenNameIdentifier	 counts Given Example
,	TokenNameCOMMA	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
numberOfFeatures	TokenNameIdentifier	 number Of Features
,	TokenNameCOMMA	
SCALE	TokenNameIdentifier	 SCALE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureGivenClassParameter	TokenNameIdentifier	 set Feature Given Class Parameter
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
mean	TokenNameIdentifier	 mean
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureModel	TokenNameIdentifier	 set Feature Model
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
"Naive-Bayes"	TokenNameStringLiteral	Naive-Bayes
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
MODEL	TokenNameIdentifier	 MODEL
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"Binomial"	TokenNameStringLiteral	Binomial
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setPrior	TokenNameIdentifier	 set Prior
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
numberOfFeatures	TokenNameIdentifier	 number Of Features
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setUnseenModel	TokenNameIdentifier	 set Unseen Model
(	TokenNameLPAREN	
"Binomial"	TokenNameStringLiteral	Binomial
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
numberOfClasses	TokenNameIdentifier	 number Of Classes
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
probabilityOfOccurrence	TokenNameIdentifier	 probability Of Occurrence
=	TokenNameEQUAL	
estimateClassProbMLE	TokenNameIdentifier	 estimate Class Prob MLE
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
numberOfClasses	TokenNameIdentifier	 number Of Classes
,	TokenNameCOMMA	
examplesGivenClass	TokenNameIdentifier	 examples Given Class
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
numberOfExamples	TokenNameIdentifier	 number Of Examples
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setClassParameter	TokenNameIdentifier	 set Class Parameter
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
probabilityOfOccurrence	TokenNameIdentifier	 probability Of Occurrence
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"default"	TokenNameStringLiteral	default
)	TokenNameRPAREN	
|	TokenNameOR	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"p/N"	TokenNameStringLiteral	p/N
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
=	TokenNameEQUAL	
featureMatrix	TokenNameIdentifier	 feature Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsGivenExample	TokenNameIdentifier	 counts Given Example
=	TokenNameEQUAL	
exampleWeightMatrix	TokenNameIdentifier	 example Weight Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Estimate	TokenNameIdentifier	 Estimate
pn	TokenNameIdentifier	 pn
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
estimateBinomialPN	TokenNameIdentifier	 estimate Binomial PN
(	TokenNameLPAREN	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
,	TokenNameCOMMA	
countsGivenExample	TokenNameIdentifier	 counts Given Example
,	TokenNameCOMMA	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
numberOfFeatures	TokenNameIdentifier	 number Of Features
,	TokenNameCOMMA	
SCALE	TokenNameIdentifier	 SCALE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureGivenClassParameter	TokenNameIdentifier	 set Feature Given Class Parameter
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
pn	TokenNameIdentifier	 pn
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"mu/delta"	TokenNameStringLiteral	mu/delta
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
=	TokenNameEQUAL	
featureMatrix	TokenNameIdentifier	 feature Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsGivenExample	TokenNameIdentifier	 counts Given Example
=	TokenNameEQUAL	
exampleWeightMatrix	TokenNameIdentifier	 example Weight Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Estimate	TokenNameIdentifier	 Estimate
mudelta	TokenNameIdentifier	 mudelta
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
estimateBinomialMuDelta	TokenNameIdentifier	 estimate Binomial Mu Delta
(	TokenNameLPAREN	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
,	TokenNameCOMMA	
countsGivenExample	TokenNameIdentifier	 counts Given Example
,	TokenNameCOMMA	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
numberOfFeatures	TokenNameIdentifier	 number Of Features
,	TokenNameCOMMA	
SCALE	TokenNameIdentifier	 SCALE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureGivenClassParameter	TokenNameIdentifier	 set Feature Given Class Parameter
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
mudelta	TokenNameIdentifier	 mudelta
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureModel	TokenNameIdentifier	 set Feature Model
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
"Binomial"	TokenNameStringLiteral	Binomial
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
MODEL	TokenNameIdentifier	 MODEL
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"Poisson"	TokenNameStringLiteral	Poisson
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setPrior	TokenNameIdentifier	 set Prior
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
numberOfFeatures	TokenNameIdentifier	 number Of Features
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setUnseenModel	TokenNameIdentifier	 set Unseen Model
(	TokenNameLPAREN	
"Poisson"	TokenNameStringLiteral	Poisson
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
numberOfClasses	TokenNameIdentifier	 number Of Classes
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
probabilityOfOccurrence	TokenNameIdentifier	 probability Of Occurrence
;	TokenNameSEMICOLON	
probabilityOfOccurrence	TokenNameIdentifier	 probability Of Occurrence
=	TokenNameEQUAL	
estimateClassProbMLE	TokenNameIdentifier	 estimate Class Prob MLE
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
numberOfClasses	TokenNameIdentifier	 number Of Classes
,	TokenNameCOMMA	
examplesGivenClass	TokenNameIdentifier	 examples Given Class
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
numberOfExamples	TokenNameIdentifier	 number Of Examples
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setClassParameter	TokenNameIdentifier	 set Class Parameter
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
probabilityOfOccurrence	TokenNameIdentifier	 probability Of Occurrence
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"default"	TokenNameStringLiteral	default
)	TokenNameRPAREN	
|	TokenNameOR	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"weighted-lambda"	TokenNameStringLiteral	weighted-lambda
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
=	TokenNameEQUAL	
featureMatrix	TokenNameIdentifier	 feature Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsGivenExample	TokenNameIdentifier	 counts Given Example
=	TokenNameEQUAL	
exampleWeightMatrix	TokenNameIdentifier	 example Weight Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Estimate	TokenNameIdentifier	 Estimate
lambda	TokenNameIdentifier	 lambda
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
estimatePoissonWeightedLambda	TokenNameIdentifier	 estimate Poisson Weighted Lambda
(	TokenNameLPAREN	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
,	TokenNameCOMMA	
countsGivenExample	TokenNameIdentifier	 counts Given Example
,	TokenNameCOMMA	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
numberOfFeatures	TokenNameIdentifier	 number Of Features
,	TokenNameCOMMA	
SCALE	TokenNameIdentifier	 SCALE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureGivenClassParameter	TokenNameIdentifier	 set Feature Given Class Parameter
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
lambda	TokenNameIdentifier	 lambda
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"lambda"	TokenNameStringLiteral	lambda
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Estimate	TokenNameIdentifier	 Estimate
lambda	TokenNameIdentifier	 lambda
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
estimatePoissonLambda	TokenNameIdentifier	 estimate Poisson Lambda
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
SCALE	TokenNameIdentifier	 SCALE
,	TokenNameCOMMA	
numberOfFeatures	TokenNameIdentifier	 number Of Features
,	TokenNameCOMMA	
sum	TokenNameIdentifier	 sum
(	TokenNameLPAREN	
featureMatrix	TokenNameIdentifier	 feature Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
countsGivenClass	TokenNameIdentifier	 counts Given Class
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
/	TokenNameDIVIDE	
SCALE	TokenNameIdentifier	 SCALE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// SCALE is HERE !!! 	TokenNameCOMMENT_LINE	SCALE is HERE !!! 
//System.out.println(ft+" ["+j+"] ... prob="+((Double)lambda.getPms().get("lambda")).doubleValue()); 	TokenNameCOMMENT_LINE	System.out.println(ft+" ["+j+"] ... prob="+((Double)lambda.getPms().get("lambda")).doubleValue()); 
//System.out.println("#ft="+numberOfFeatures+" ft|class="+sum( (double[])featureMatrix.get(j) )+" tot|class="+countsGivenClass[j]+"\n"); 	TokenNameCOMMENT_LINE	System.out.println("#ft="+numberOfFeatures+" ft|class="+sum( (double[])featureMatrix.get(j) )+" tot|class="+countsGivenClass[j]+"\n"); 
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureGivenClassParameter	TokenNameIdentifier	 set Feature Given Class Parameter
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
lambda	TokenNameIdentifier	 lambda
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureModel	TokenNameIdentifier	 set Feature Model
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
"Poisson"	TokenNameStringLiteral	Poisson
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
MODEL	TokenNameIdentifier	 MODEL
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"Negative-Binomial"	TokenNameStringLiteral	Negative-Binomial
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setPrior	TokenNameIdentifier	 set Prior
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
numberOfFeatures	TokenNameIdentifier	 number Of Features
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setUnseenModel	TokenNameIdentifier	 set Unseen Model
(	TokenNameLPAREN	
"Negative-Binomial"	TokenNameStringLiteral	Negative-Binomial
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
numberOfClasses	TokenNameIdentifier	 number Of Classes
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
probabilityOfOccurrence	TokenNameIdentifier	 probability Of Occurrence
=	TokenNameEQUAL	
estimateClassProbMLE	TokenNameIdentifier	 estimate Class Prob MLE
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
numberOfClasses	TokenNameIdentifier	 number Of Classes
,	TokenNameCOMMA	
examplesGivenClass	TokenNameIdentifier	 examples Given Class
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
numberOfExamples	TokenNameIdentifier	 number Of Examples
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setClassParameter	TokenNameIdentifier	 set Class Parameter
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
probabilityOfOccurrence	TokenNameIdentifier	 probability Of Occurrence
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"default"	TokenNameStringLiteral	default
)	TokenNameRPAREN	
|	TokenNameOR	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"mu/delta"	TokenNameStringLiteral	mu/delta
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
=	TokenNameEQUAL	
featureMatrix	TokenNameIdentifier	 feature Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsGivenExample	TokenNameIdentifier	 counts Given Example
=	TokenNameEQUAL	
exampleWeightMatrix	TokenNameIdentifier	 example Weight Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Estimate	TokenNameIdentifier	 Estimate
mudelta	TokenNameIdentifier	 mudelta
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
estimateNegativeBinomialMuDelta	TokenNameIdentifier	 estimate Negative Binomial Mu Delta
(	TokenNameLPAREN	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
,	TokenNameCOMMA	
countsGivenExample	TokenNameIdentifier	 counts Given Example
,	TokenNameCOMMA	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
numberOfFeatures	TokenNameIdentifier	 number Of Features
,	TokenNameCOMMA	
SCALE	TokenNameIdentifier	 SCALE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureGivenClassParameter	TokenNameIdentifier	 set Feature Given Class Parameter
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
mudelta	TokenNameIdentifier	 mudelta
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureModel	TokenNameIdentifier	 set Feature Model
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
"Negative-Binomial"	TokenNameStringLiteral	Negative-Binomial
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
MODEL	TokenNameIdentifier	 MODEL
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"Mixture"	TokenNameStringLiteral	Mixture
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setPrior	TokenNameIdentifier	 set Prior
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
numberOfFeatures	TokenNameIdentifier	 number Of Features
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setUnseenModel	TokenNameIdentifier	 set Unseen Model
(	TokenNameLPAREN	
"Mixture"	TokenNameStringLiteral	Mixture
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
numberOfClasses	TokenNameIdentifier	 number Of Classes
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
probabilityOfOccurrence	TokenNameIdentifier	 probability Of Occurrence
;	TokenNameSEMICOLON	
probabilityOfOccurrence	TokenNameIdentifier	 probability Of Occurrence
=	TokenNameEQUAL	
estimateClassProbMLE	TokenNameIdentifier	 estimate Class Prob MLE
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
numberOfClasses	TokenNameIdentifier	 number Of Classes
,	TokenNameCOMMA	
examplesGivenClass	TokenNameIdentifier	 examples Given Class
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
numberOfExamples	TokenNameIdentifier	 number Of Examples
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setClassParameter	TokenNameIdentifier	 set Class Parameter
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
probabilityOfOccurrence	TokenNameIdentifier	 probability Of Occurrence
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
=	TokenNameEQUAL	
featureMatrix	TokenNameIdentifier	 feature Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
mean	TokenNameIdentifier	 mean
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
estimateMean	TokenNameIdentifier	 estimate Mean
(	TokenNameLPAREN	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
var	TokenNameIdentifier	 var
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
estimateVar	TokenNameIdentifier	 estimate Var
(	TokenNameLPAREN	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//double max=Estimators.Max(countsFeatureGivenClass); 	TokenNameCOMMENT_LINE	double max=Estimators.Max(countsFeatureGivenClass); 
// 	TokenNameCOMMENT_LINE	 
// Select model for feature ft 	TokenNameCOMMENT_LINE	Select model for feature ft 
String	TokenNameIdentifier	 String
model	TokenNameIdentifier	 model
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
//if (max==1) { model="Naive-Bayes"; } 	TokenNameCOMMENT_LINE	if (max==1) { model="Naive-Bayes"; } 
//else if (mean>=var) { model="Binomial"; } 	TokenNameCOMMENT_LINE	else if (mean>=var) { model="Binomial"; } 
if	TokenNameif	
(	TokenNameLPAREN	
mean	TokenNameIdentifier	 mean
>	TokenNameGREATER	
var	TokenNameIdentifier	 var
)	TokenNameRPAREN	
{	TokenNameLBRACE	
model	TokenNameIdentifier	 model
=	TokenNameEQUAL	
"Binomial"	TokenNameStringLiteral	Binomial
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Poisson is used in case d=0 	TokenNameCOMMENT_LINE	Poisson is used in case d=0 
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
mean	TokenNameIdentifier	 mean
<=	TokenNameLESS_EQUAL	
var	TokenNameIdentifier	 var
)	TokenNameRPAREN	
{	TokenNameLBRACE	
model	TokenNameIdentifier	 model
=	TokenNameEQUAL	
"Negative-Binomial"	TokenNameStringLiteral	Negative-Binomial
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Poisson is used in case d=0 	TokenNameCOMMENT_LINE	Poisson is used in case d=0 
//else if (mean==var) { model="Poisson"; } 	TokenNameCOMMENT_LINE	else if (mean==var) { model="Poisson"; } 
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureModel	TokenNameIdentifier	 set Feature Model
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
model	TokenNameIdentifier	 model
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// End Selector 	TokenNameCOMMENT_LINE	End Selector 
// 	TokenNameCOMMENT_LINE	 
if	TokenNameif	
(	TokenNameLPAREN	
model	TokenNameIdentifier	 model
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"Naive-Bayes"	TokenNameStringLiteral	Naive-Bayes
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsGivenExample	TokenNameIdentifier	 counts Given Example
=	TokenNameEQUAL	
exampleWeightMatrix	TokenNameIdentifier	 example Weight Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Estimate	TokenNameIdentifier	 Estimate
m	TokenNameIdentifier	 m
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
estimateNaiveBayesWeightedMean	TokenNameIdentifier	 estimate Naive Bayes Weighted Mean
(	TokenNameLPAREN	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
,	TokenNameCOMMA	
countsGivenExample	TokenNameIdentifier	 counts Given Example
,	TokenNameCOMMA	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
numberOfFeatures	TokenNameIdentifier	 number Of Features
,	TokenNameCOMMA	
SCALE	TokenNameIdentifier	 SCALE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//Estimate m = Estimators.estimateNaiveBayesMean( 1.0,numberOfFeatures,sum( (double[])featureMatrix.get(j) ),countsGivenClass[j] ); 	TokenNameCOMMENT_LINE	Estimate m = Estimators.estimateNaiveBayesMean( 1.0,numberOfFeatures,sum( (double[])featureMatrix.get(j) ),countsGivenClass[j] ); 
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureGivenClassParameter	TokenNameIdentifier	 set Feature Given Class Parameter
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
m	TokenNameIdentifier	 m
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
model	TokenNameIdentifier	 model
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"Binomial"	TokenNameStringLiteral	Binomial
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsGivenExample	TokenNameIdentifier	 counts Given Example
=	TokenNameEQUAL	
exampleWeightMatrix	TokenNameIdentifier	 example Weight Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//Estimate pn = Estimators.estimateBinomialPN( countsFeatureGivenClass,countsGivenExample,1.0/numberOfFeatures,SCALE ); 	TokenNameCOMMENT_LINE	Estimate pn = Estimators.estimateBinomialPN( countsFeatureGivenClass,countsGivenExample,1.0/numberOfFeatures,SCALE ); 
//((MultinomialClassifier)mc).setFeatureGivenClassParameter( ft,j,pn ); 	TokenNameCOMMENT_LINE	((MultinomialClassifier)mc).setFeatureGivenClassParameter( ft,j,pn ); 
Estimate	TokenNameIdentifier	 Estimate
mudelta	TokenNameIdentifier	 mudelta
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
estimateBinomialMuDelta	TokenNameIdentifier	 estimate Binomial Mu Delta
(	TokenNameLPAREN	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
,	TokenNameCOMMA	
countsGivenExample	TokenNameIdentifier	 counts Given Example
,	TokenNameCOMMA	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
numberOfFeatures	TokenNameIdentifier	 number Of Features
,	TokenNameCOMMA	
SCALE	TokenNameIdentifier	 SCALE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureGivenClassParameter	TokenNameIdentifier	 set Feature Given Class Parameter
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
mudelta	TokenNameIdentifier	 mudelta
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
model	TokenNameIdentifier	 model
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"Poisson"	TokenNameStringLiteral	Poisson
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsGivenExample	TokenNameIdentifier	 counts Given Example
=	TokenNameEQUAL	
exampleWeightMatrix	TokenNameIdentifier	 example Weight Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Estimate	TokenNameIdentifier	 Estimate
lambda	TokenNameIdentifier	 lambda
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
estimatePoissonWeightedLambda	TokenNameIdentifier	 estimate Poisson Weighted Lambda
(	TokenNameLPAREN	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
,	TokenNameCOMMA	
countsGivenExample	TokenNameIdentifier	 counts Given Example
,	TokenNameCOMMA	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
numberOfFeatures	TokenNameIdentifier	 number Of Features
,	TokenNameCOMMA	
SCALE	TokenNameIdentifier	 SCALE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureGivenClassParameter	TokenNameIdentifier	 set Feature Given Class Parameter
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
lambda	TokenNameIdentifier	 lambda
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
model	TokenNameIdentifier	 model
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"Negative-Binomial"	TokenNameStringLiteral	Negative-Binomial
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsGivenExample	TokenNameIdentifier	 counts Given Example
=	TokenNameEQUAL	
exampleWeightMatrix	TokenNameIdentifier	 example Weight Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Estimate	TokenNameIdentifier	 Estimate
mudelta	TokenNameIdentifier	 mudelta
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
estimateNegativeBinomialMuDelta	TokenNameIdentifier	 estimate Negative Binomial Mu Delta
(	TokenNameLPAREN	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
,	TokenNameCOMMA	
countsGivenExample	TokenNameIdentifier	 counts Given Example
,	TokenNameCOMMA	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
numberOfFeatures	TokenNameIdentifier	 number Of Features
,	TokenNameCOMMA	
SCALE	TokenNameIdentifier	 SCALE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureGivenClassParameter	TokenNameIdentifier	 set Feature Given Class Parameter
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
mudelta	TokenNameIdentifier	 mudelta
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
MODEL	TokenNameIdentifier	 MODEL
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"Dirichlet-Poisson MCMC"	TokenNameStringLiteral	Dirichlet-Poisson MCMC
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setPrior	TokenNameIdentifier	 set Prior
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
numberOfFeatures	TokenNameIdentifier	 number Of Features
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setUnseenModel	TokenNameIdentifier	 set Unseen Model
(	TokenNameLPAREN	
"Dirichlet-Poisson MCMC"	TokenNameStringLiteral	Dirichlet-Poisson MCMC
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//double[] probabilityOfOccurrence = new double[ numberOfClasses ]; 	TokenNameCOMMENT_LINE	double[] probabilityOfOccurrence = new double[ numberOfClasses ]; 
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
sumCountsFeatureGivenClass	TokenNameIdentifier	 sum Counts Feature Given Class
=	TokenNameEQUAL	
new	TokenNamenew	
double	TokenNamedouble	
[	TokenNameLBRACKET	
numberOfClasses	TokenNameIdentifier	 number Of Classes
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
sumCountsGivenExample	TokenNameIdentifier	 sum Counts Given Example
=	TokenNameEQUAL	
new	TokenNamenew	
double	TokenNamedouble	
[	TokenNameLBRACKET	
numberOfClasses	TokenNameIdentifier	 number Of Classes
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
Estimate	TokenNameIdentifier	 Estimate
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
lambda	TokenNameIdentifier	 lambda
=	TokenNameEQUAL	
new	TokenNamenew	
Estimate	TokenNameIdentifier	 Estimate
[	TokenNameLBRACKET	
numberOfClasses	TokenNameIdentifier	 number Of Classes
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"default"	TokenNameStringLiteral	default
)	TokenNameRPAREN	
|	TokenNameOR	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"weighted-lambda"	TokenNameStringLiteral	weighted-lambda
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
numberOfClasses	TokenNameIdentifier	 number Of Classes
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
probabilityOfOccurrence	TokenNameIdentifier	 probability Of Occurrence
=	TokenNameEQUAL	
estimateClassProbMLE	TokenNameIdentifier	 estimate Class Prob MLE
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
numberOfClasses	TokenNameIdentifier	 number Of Classes
,	TokenNameCOMMA	
examplesGivenClass	TokenNameIdentifier	 examples Given Class
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
numberOfExamples	TokenNameIdentifier	 number Of Examples
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setClassParameter	TokenNameIdentifier	 set Class Parameter
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
probabilityOfOccurrence	TokenNameIdentifier	 probability Of Occurrence
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
=	TokenNameEQUAL	
featureMatrix	TokenNameIdentifier	 feature Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsGivenExample	TokenNameIdentifier	 counts Given Example
=	TokenNameEQUAL	
exampleWeightMatrix	TokenNameIdentifier	 example Weight Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lambda	TokenNameIdentifier	 lambda
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
estimatePoissonWeightedLambda	TokenNameIdentifier	 estimate Poisson Weighted Lambda
(	TokenNameLPAREN	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
,	TokenNameCOMMA	
countsGivenExample	TokenNameIdentifier	 counts Given Example
,	TokenNameCOMMA	
1.0	TokenNameDoubleLiteral	
/	TokenNameDIVIDE	
numberOfFeatures	TokenNameIdentifier	 number Of Features
,	TokenNameCOMMA	
SCALE	TokenNameIdentifier	 SCALE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//System.out.println("lambda["+j+"] = "+lambda[j]); 	TokenNameCOMMENT_LINE	System.out.println("lambda["+j+"] = "+lambda[j]); 
//((MultinomialClassifier)mc).setFeatureGivenClassParameter( ft,j,lambda ); 	TokenNameCOMMENT_LINE	((MultinomialClassifier)mc).setFeatureGivenClassParameter( ft,j,lambda ); 
sumCountsFeatureGivenClass	TokenNameIdentifier	 sum Counts Feature Given Class
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
sum	TokenNameIdentifier	 sum
(	TokenNameLPAREN	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
sumCountsGivenExample	TokenNameIdentifier	 sum Counts Given Example
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
sum	TokenNameIdentifier	 sum
(	TokenNameLPAREN	
countsGivenExample	TokenNameIdentifier	 counts Given Example
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
double	TokenNamedouble	
sigSD	TokenNameIdentifier	 sig SD
=	TokenNameEQUAL	
(	TokenNameLPAREN	
lambda	TokenNameIdentifier	 lambda
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
getPms	TokenNameIdentifier	 get Pms
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
"lambda"	TokenNameStringLiteral	lambda
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
doubleValue	TokenNameIdentifier	 double Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
(	TokenNameLPAREN	
lambda	TokenNameIdentifier	 lambda
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
getPms	TokenNameIdentifier	 get Pms
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
"lambda"	TokenNameStringLiteral	lambda
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
doubleValue	TokenNameIdentifier	 double Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Estimate	TokenNameIdentifier	 Estimate
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
postLambdas	TokenNameIdentifier	 post Lambdas
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
mcmcEstimateDirichletPoissonTauSigma	TokenNameIdentifier	 mcmc Estimate Dirichlet Poisson Tau Sigma
(	TokenNameLPAREN	
lambda	TokenNameIdentifier	 lambda
,	TokenNameCOMMA	
new	TokenNamenew	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
1e-7	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
1e-7	TokenNameDoubleLiteral	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
new	TokenNamenew	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
1.0	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
150	TokenNameIntegerLiteral	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
sumCountsFeatureGivenClass	TokenNameIdentifier	 sum Counts Feature Given Class
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
sumCountsFeatureGivenClass	TokenNameIdentifier	 sum Counts Feature Given Class
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
sumCountsGivenExample	TokenNameIdentifier	 sum Counts Given Example
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
sumCountsGivenExample	TokenNameIdentifier	 sum Counts Given Example
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
new	TokenNamenew	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
2.0	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
1.0	TokenNameDoubleLiteral	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
0.075	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
sigSD	TokenNameIdentifier	 sig SD
/	TokenNameDIVIDE	
10.0	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
100	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
numberOfClasses	TokenNameIdentifier	 number Of Classes
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureGivenClassParameter	TokenNameIdentifier	 set Feature Given Class Parameter
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
postLambdas	TokenNameIdentifier	 post Lambdas
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
PARAMETERIZATION	TokenNameIdentifier	 PARAMETERIZATION
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"lambda"	TokenNameStringLiteral	lambda
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
numberOfClasses	TokenNameIdentifier	 number Of Classes
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
probabilityOfOccurrence	TokenNameIdentifier	 probability Of Occurrence
=	TokenNameEQUAL	
estimateClassProbMLE	TokenNameIdentifier	 estimate Class Prob MLE
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
numberOfClasses	TokenNameIdentifier	 number Of Classes
,	TokenNameCOMMA	
examplesGivenClass	TokenNameIdentifier	 examples Given Class
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
numberOfExamples	TokenNameIdentifier	 number Of Examples
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setClassParameter	TokenNameIdentifier	 set Class Parameter
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
,	TokenNameCOMMA	
probabilityOfOccurrence	TokenNameIdentifier	 probability Of Occurrence
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
=	TokenNameEQUAL	
featureMatrix	TokenNameIdentifier	 feature Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
countsGivenExample	TokenNameIdentifier	 counts Given Example
=	TokenNameEQUAL	
exampleWeightMatrix	TokenNameIdentifier	 example Weight Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lambda	TokenNameIdentifier	 lambda
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
estimatePoissonLambda	TokenNameIdentifier	 estimate Poisson Lambda
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
numberOfFeatures	TokenNameIdentifier	 number Of Features
,	TokenNameCOMMA	
sum	TokenNameIdentifier	 sum
(	TokenNameLPAREN	
featureMatrix	TokenNameIdentifier	 feature Matrix
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
countsGivenClass	TokenNameIdentifier	 counts Given Class
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//((MultinomialClassifier)mc).setFeatureGivenClassParameter( ft,j,lambda ); 	TokenNameCOMMENT_LINE	((MultinomialClassifier)mc).setFeatureGivenClassParameter( ft,j,lambda ); 
sumCountsFeatureGivenClass	TokenNameIdentifier	 sum Counts Feature Given Class
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
sum	TokenNameIdentifier	 sum
(	TokenNameLPAREN	
countsFeatureGivenClass	TokenNameIdentifier	 counts Feature Given Class
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
sumCountsGivenExample	TokenNameIdentifier	 sum Counts Given Example
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
sum	TokenNameIdentifier	 sum
(	TokenNameLPAREN	
countsGivenExample	TokenNameIdentifier	 counts Given Example
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Estimate	TokenNameIdentifier	 Estimate
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
postLambdas	TokenNameIdentifier	 post Lambdas
=	TokenNameEQUAL	
Estimators	TokenNameIdentifier	 Estimators
.	TokenNameDOT	
mcmcEstimateDirichletPoissonTauSigma	TokenNameIdentifier	 mcmc Estimate Dirichlet Poisson Tau Sigma
(	TokenNameLPAREN	
lambda	TokenNameIdentifier	 lambda
,	TokenNameCOMMA	
new	TokenNamenew	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
1e-7	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
1e-7	TokenNameDoubleLiteral	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
new	TokenNamenew	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
1e-7	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
150	TokenNameIntegerLiteral	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
sumCountsFeatureGivenClass	TokenNameIdentifier	 sum Counts Feature Given Class
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
sumCountsFeatureGivenClass	TokenNameIdentifier	 sum Counts Feature Given Class
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
sumCountsGivenExample	TokenNameIdentifier	 sum Counts Given Example
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
sumCountsGivenExample	TokenNameIdentifier	 sum Counts Given Example
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
new	TokenNamenew	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
2.0	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
1.0	TokenNameDoubleLiteral	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
0.1	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
0.5	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
100	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
numberOfClasses	TokenNameIdentifier	 number Of Classes
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureGivenClassParameter	TokenNameIdentifier	 set Feature Given Class Parameter
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
postLambdas	TokenNameIdentifier	 post Lambdas
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
MultinomialClassifier	TokenNameIdentifier	 Multinomial Classifier
)	TokenNameRPAREN	
mc	TokenNameIdentifier	 mc
)	TokenNameRPAREN	
.	TokenNameDOT	
setFeatureModel	TokenNameIdentifier	 set Feature Model
(	TokenNameLPAREN	
ft	TokenNameIdentifier	 ft
,	TokenNameCOMMA	
"Dirichlet-Poisson MCMC"	TokenNameStringLiteral	Dirichlet-Poisson MCMC
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// return classifier 	TokenNameCOMMENT_LINE	return classifier 
return	TokenNamereturn	
mc	TokenNameIdentifier	 mc
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// 	TokenNameCOMMENT_LINE	 
// private methods 	TokenNameCOMMENT_LINE	private methods 
// 	TokenNameCOMMENT_LINE	 
private	TokenNameprivate	
double	TokenNamedouble	
estimateClassProbMLE	TokenNameIdentifier	 estimate Class Prob MLE
(	TokenNameLPAREN	
double	TokenNamedouble	
classPrior	TokenNameIdentifier	 class Prior
,	TokenNameCOMMA	
double	TokenNamedouble	
numberOfClasses	TokenNameIdentifier	 number Of Classes
,	TokenNameCOMMA	
double	TokenNamedouble	
observedCounts	TokenNameIdentifier	 observed Counts
,	TokenNameCOMMA	
double	TokenNamedouble	
totalCounts	TokenNameIdentifier	 total Counts
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//return (classPrior+observedCounts)/(numberOfClasses+totalCounts); 	TokenNameCOMMENT_LINE	return (classPrior+observedCounts)/(numberOfClasses+totalCounts); 
return	TokenNamereturn	
(	TokenNameLPAREN	
classPrior	TokenNameIdentifier	 class Prior
/	TokenNameDIVIDE	
numberOfClasses	TokenNameIdentifier	 number Of Classes
+	TokenNamePLUS	
observedCounts	TokenNameIdentifier	 observed Counts
)	TokenNameRPAREN	
/	TokenNameDIVIDE	
(	TokenNameLPAREN	
1.0	TokenNameDoubleLiteral	
+	TokenNamePLUS	
totalCounts	TokenNameIdentifier	 total Counts
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
double	TokenNamedouble	
sum	TokenNameIdentifier	 sum
(	TokenNameLPAREN	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
vec	TokenNameIdentifier	 vec
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
sum	TokenNameIdentifier	 sum
=	TokenNameEQUAL	
0.0	TokenNameDoubleLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
vec	TokenNameIdentifier	 vec
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
sum	TokenNameIdentifier	 sum
=	TokenNameEQUAL	
sum	TokenNameIdentifier	 sum
+	TokenNamePLUS	
vec	TokenNameIdentifier	 vec
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
sum	TokenNameIdentifier	 sum
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// private TreeMap estimateNegBinMOME(double[] vCnt,double[] vWgt,double prior){ 	TokenNameCOMMENT_LINE	private TreeMap estimateNegBinMOME(double[] vCnt,double[] vWgt,double prior){ 
// double m=0.0; 	TokenNameCOMMENT_LINE	double m=0.0; 
// double d=0.0; 	TokenNameCOMMENT_LINE	double d=0.0; 
// 	TokenNameCOMMENT_LINE	 
// // compute mean 	TokenNameCOMMENT_LINE	// compute mean 
// int N=vCnt.length; 	TokenNameCOMMENT_LINE	int N=vCnt.length; 
// double sumX=0.0; 	TokenNameCOMMENT_LINE	double sumX=0.0; 
// double sumWgt=0.0; 	TokenNameCOMMENT_LINE	double sumWgt=0.0; 
// double sumWgt2=0.0; 	TokenNameCOMMENT_LINE	double sumWgt2=0.0; 
// for(int i=0;i<N;i++){ 	TokenNameCOMMENT_LINE	for(int i=0;i<N;i++){ 
// sumX+=vCnt[i]; 	TokenNameCOMMENT_LINE	sumX+=vCnt[i]; 
// sumWgt+=vWgt[i]; 	TokenNameCOMMENT_LINE	sumWgt+=vWgt[i]; 
// sumWgt2+=Math.pow(vWgt[i],2); 	TokenNameCOMMENT_LINE	sumWgt2+=Math.pow(vWgt[i],2); 
// } 	TokenNameCOMMENT_LINE	} 
// m=(sumX+prior*1.0/SCALE)/(sumWgt+1.0/SCALE); 	TokenNameCOMMENT_LINE	m=(sumX+prior*1.0/SCALE)/(sumWgt+1.0/SCALE); 
// //m=(sumX+prior)/(sumWgt+1.0/SCALE); 	TokenNameCOMMENT_LINE	//m=(sumX+prior)/(sumWgt+1.0/SCALE); 
// 	TokenNameCOMMENT_LINE	 
// /*StringBuffer str = new StringBuffer(""+vCnt[0]); 	TokenNameCOMMENT_LINE	/*StringBuffer str = new StringBuffer(""+vCnt[0]); 
// for(int i=1; i<vCnt.length; i++) 	TokenNameCOMMENT_LINE	for(int i=1; i<vCnt.length; i++) 
// { 	TokenNameCOMMENT_LINE	{ 
// str.append(" "+vCnt[i]); 	TokenNameCOMMENT_LINE	str.append(" "+vCnt[i]); 
// } 	TokenNameCOMMENT_LINE	} 
// System.out.println("["+str+"]"); */ 	TokenNameCOMMENT_LINE	System.out.println("["+str+"]"); */ 
// //System.out.println(". sumX="+sumX+",sumWgt="+sumWgt+",m="+m+",d="+d); 	TokenNameCOMMENT_LINE	//System.out.println(". sumX="+sumX+",sumWgt="+sumWgt+",m="+m+",d="+d); 
// // compute intermediate 	TokenNameCOMMENT_LINE	// compute intermediate 
// double r; 	TokenNameCOMMENT_LINE	double r; 
// double v=0.0; 	TokenNameCOMMENT_LINE	double v=0.0; 
// if(N<=1.0){ 	TokenNameCOMMENT_LINE	if(N<=1.0){ 
// r=0.0; 	TokenNameCOMMENT_LINE	r=0.0; 
// v=0.0; 	TokenNameCOMMENT_LINE	v=0.0; 
// }else{ 	TokenNameCOMMENT_LINE	}else{ 
// r=(sumWgt-sumWgt2/sumWgt)/(N-1.0); 	TokenNameCOMMENT_LINE	r=(sumWgt-sumWgt2/sumWgt)/(N-1.0); 
// for(int i=0;i<N;i++){ 	TokenNameCOMMENT_LINE	for(int i=0;i<N;i++){ 
// v+=(vWgt[i]*Math.pow(vCnt[i]/vWgt[i]-m,2))/(N-1.0); 	TokenNameCOMMENT_LINE	v+=(vWgt[i]*Math.pow(vCnt[i]/vWgt[i]-m,2))/(N-1.0); 
// //v += ( vWgt[i] * Math.pow( vCnt[i]/vWgt[i]-0.0,2 ) ) / (N-1.0); 	TokenNameCOMMENT_LINE	//v += ( vWgt[i] * Math.pow( vCnt[i]/vWgt[i]-0.0,2 ) ) / (N-1.0); 
// } 	TokenNameCOMMENT_LINE	} 
// } 	TokenNameCOMMENT_LINE	} 
// 	TokenNameCOMMENT_LINE	 
// // compute variance 	TokenNameCOMMENT_LINE	// compute variance 
// d=Math.max(0.0,(v-m)/(r*m)); 	TokenNameCOMMENT_LINE	d=Math.max(0.0,(v-m)/(r*m)); 
// if(new Double(d).isNaN()){ 	TokenNameCOMMENT_LINE	if(new Double(d).isNaN()){ 
// d=0.0; 	TokenNameCOMMENT_LINE	d=0.0; 
// } 	TokenNameCOMMENT_LINE	} 
// 	TokenNameCOMMENT_LINE	 
// // package results 	TokenNameCOMMENT_LINE	// package results 
// TreeMap mudelta=new TreeMap(); 	TokenNameCOMMENT_LINE	TreeMap mudelta=new TreeMap(); 
// mudelta.put("mu",new Double(m)); 	TokenNameCOMMENT_LINE	mudelta.put("mu",new Double(m)); 
// mudelta.put("delta",new Double(d)); 	TokenNameCOMMENT_LINE	mudelta.put("delta",new Double(d)); 
// //System.out.println("m="+m+" d="+d); 	TokenNameCOMMENT_LINE	//System.out.println("m="+m+" d="+d); 
// return mudelta; 	TokenNameCOMMENT_LINE	return mudelta; 
// 	TokenNameCOMMENT_LINE	 
// } 	TokenNameCOMMENT_LINE	} 
// 	TokenNameCOMMENT_LINE	 
// Test SemiSupervisedNaiveBayesLearner 	TokenNameCOMMENT_LINE	Test SemiSupervisedNaiveBayesLearner 
// 	TokenNameCOMMENT_LINE	 
static	TokenNamestatic	
public	TokenNamepublic	
void	TokenNamevoid	
main	TokenNameIdentifier	 main
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
args	TokenNameIdentifier	 args
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Dataset	TokenNameIdentifier	 Dataset
dataset	TokenNameIdentifier	 dataset
=	TokenNameEQUAL	
new	TokenNamenew	
BasicDataset	TokenNameIdentifier	 Basic Dataset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/*try { // load counts from file File fileOfCounts = new File("/Users/eairoldi/cmu.research/minorthird/apps/unlabeledDataset.3rd"); dataset = DatasetLoader.loadFile(fileOfCounts); } catch (Exception e) { log.error(e, e); System.exit(1); } System.out.println( "DatasetLoader:\n" + dataset );*/	TokenNameCOMMENT_BLOCK	try { // load counts from file File fileOfCounts = new File("/Users/eairoldi/cmu.research/minorthird/apps/unlabeledDataset.3rd"); dataset = DatasetLoader.loadFile(fileOfCounts); } catch (Exception e) { log.error(e, e); System.exit(1); } System.out.println( "DatasetLoader:\n" + dataset );
dataset	TokenNameIdentifier	 dataset
=	TokenNameEQUAL	
SampleDatasets	TokenNameIdentifier	 Sample Datasets
.	TokenNameDOT	
sampleData	TokenNameIdentifier	 sample Data
(	TokenNameLPAREN	
"bayesUnlabeled"	TokenNameStringLiteral	bayesUnlabeled
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"SampleDatasets (bayesUnlabeled): "	TokenNameStringLiteral	SampleDatasets (bayesUnlabeled): 
+	TokenNamePLUS	
dataset	TokenNameIdentifier	 dataset
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// do something here ... 	TokenNameCOMMENT_LINE	do something here ... 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
