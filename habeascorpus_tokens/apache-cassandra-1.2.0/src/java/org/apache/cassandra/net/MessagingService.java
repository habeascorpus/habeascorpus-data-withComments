/* * Licensed to the Apache Software Foundation (ASF) under one * or more contributor license agreements. See the NOTICE file * distributed with this work for additional information * regarding copyright ownership. The ASF licenses this file * to you under the Apache License, Version 2.0 (the * "License"); you may not use this file except in compliance * with the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to you under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
net	TokenNameIdentifier	 net
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
DataInput	TokenNameIdentifier	 Data Input
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
DataOutput	TokenNameIdentifier	 Data Output
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOError	TokenNameIdentifier	 IO Error
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
lang	TokenNameIdentifier	 lang
.	TokenNameDOT	
management	TokenNameIdentifier	 management
.	TokenNameDOT	
ManagementFactory	TokenNameIdentifier	 Management Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
*	TokenNameMULTIPLY	
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
nio	TokenNameIdentifier	 nio
.	TokenNameDOT	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
nio	TokenNameIdentifier	 nio
.	TokenNameDOT	
channels	TokenNameIdentifier	 channels
.	TokenNameDOT	
AsynchronousCloseException	TokenNameIdentifier	 Asynchronous Close Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
nio	TokenNameIdentifier	 nio
.	TokenNameDOT	
channels	TokenNameIdentifier	 channels
.	TokenNameDOT	
ServerSocketChannel	TokenNameIdentifier	 Server Socket Channel
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
*	TokenNameMULTIPLY	
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
concurrent	TokenNameIdentifier	 concurrent
.	TokenNameDOT	
ConcurrentMap	TokenNameIdentifier	 Concurrent Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
concurrent	TokenNameIdentifier	 concurrent
.	TokenNameDOT	
ExecutorService	TokenNameIdentifier	 Executor Service
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
concurrent	TokenNameIdentifier	 concurrent
.	TokenNameDOT	
TimeUnit	TokenNameIdentifier	 Time Unit
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
concurrent	TokenNameIdentifier	 concurrent
.	TokenNameDOT	
atomic	TokenNameIdentifier	 atomic
.	TokenNameDOT	
AtomicInteger	TokenNameIdentifier	 Atomic Integer
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
management	TokenNameIdentifier	 management
.	TokenNameDOT	
MBeanServer	TokenNameIdentifier	 M Bean Server
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
management	TokenNameIdentifier	 management
.	TokenNameDOT	
ObjectName	TokenNameIdentifier	 Object Name
;	TokenNameSEMICOLON	
import	TokenNameimport	
com	TokenNameIdentifier	 com
.	TokenNameDOT	
google	TokenNameIdentifier	 google
.	TokenNameDOT	
common	TokenNameIdentifier	 common
.	TokenNameDOT	
base	TokenNameIdentifier	 base
.	TokenNameDOT	
Function	TokenNameIdentifier	 Function
;	TokenNameSEMICOLON	
import	TokenNameimport	
com	TokenNameIdentifier	 com
.	TokenNameDOT	
google	TokenNameIdentifier	 google
.	TokenNameDOT	
common	TokenNameIdentifier	 common
.	TokenNameDOT	
collect	TokenNameIdentifier	 collect
.	TokenNameDOT	
Lists	TokenNameIdentifier	 Lists
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
slf4j	TokenNameIdentifier	 slf4j
.	TokenNameDOT	
Logger	TokenNameIdentifier	 Logger
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
slf4j	TokenNameIdentifier	 slf4j
.	TokenNameDOT	
LoggerFactory	TokenNameIdentifier	 Logger Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
concurrent	TokenNameIdentifier	 concurrent
.	TokenNameDOT	
DebuggableThreadPoolExecutor	TokenNameIdentifier	 Debuggable Thread Pool Executor
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
concurrent	TokenNameIdentifier	 concurrent
.	TokenNameDOT	
Stage	TokenNameIdentifier	 Stage
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
concurrent	TokenNameIdentifier	 concurrent
.	TokenNameDOT	
StageManager	TokenNameIdentifier	 Stage Manager
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
config	TokenNameIdentifier	 config
.	TokenNameDOT	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
config	TokenNameIdentifier	 config
.	TokenNameDOT	
EncryptionOptions	TokenNameIdentifier	 Encryption Options
.	TokenNameDOT	
ServerEncryptionOptions	TokenNameIdentifier	 Server Encryption Options
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
*	TokenNameMULTIPLY	
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
dht	TokenNameIdentifier	 dht
.	TokenNameDOT	
BootStrapper	TokenNameIdentifier	 Boot Strapper
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
exceptions	TokenNameIdentifier	 exceptions
.	TokenNameDOT	
ConfigurationException	TokenNameIdentifier	 Configuration Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
gms	TokenNameIdentifier	 gms
.	TokenNameDOT	
GossipDigestAck	TokenNameIdentifier	 Gossip Digest Ack
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
gms	TokenNameIdentifier	 gms
.	TokenNameDOT	
GossipDigestAck2	TokenNameIdentifier	 Gossip Digest Ack2
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
gms	TokenNameIdentifier	 gms
.	TokenNameDOT	
GossipDigestSyn	TokenNameIdentifier	 Gossip Digest Syn
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IVersionedSerializer	TokenNameIdentifier	 I Versioned Serializer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
DataOutputBuffer	TokenNameIdentifier	 Data Output Buffer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
locator	TokenNameIdentifier	 locator
.	TokenNameDOT	
ILatencySubscriber	TokenNameIdentifier	 I Latency Subscriber
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
metrics	TokenNameIdentifier	 metrics
.	TokenNameDOT	
ConnectionMetrics	TokenNameIdentifier	 Connection Metrics
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
metrics	TokenNameIdentifier	 metrics
.	TokenNameDOT	
DroppedMessageMetrics	TokenNameIdentifier	 Dropped Message Metrics
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
sink	TokenNameIdentifier	 sink
.	TokenNameDOT	
SinkManager	TokenNameIdentifier	 Sink Manager
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
security	TokenNameIdentifier	 security
.	TokenNameDOT	
SSLFactory	TokenNameIdentifier	 SSL Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
service	TokenNameIdentifier	 service
.	TokenNameDOT	
*	TokenNameMULTIPLY	
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
streaming	TokenNameIdentifier	 streaming
.	TokenNameDOT	
*	TokenNameMULTIPLY	
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
streaming	TokenNameIdentifier	 streaming
.	TokenNameDOT	
compress	TokenNameIdentifier	 compress
.	TokenNameDOT	
CompressedFileStreamTask	TokenNameIdentifier	 Compressed File Stream Task
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
tracing	TokenNameIdentifier	 tracing
.	TokenNameDOT	
Tracing	TokenNameIdentifier	 Tracing
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
*	TokenNameMULTIPLY	
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
cliffc	TokenNameIdentifier	 cliffc
.	TokenNameDOT	
high_scale_lib	TokenNameIdentifier	 high scale lib
.	TokenNameDOT	
NonBlockingHashMap	TokenNameIdentifier	 Non Blocking Hash Map
;	TokenNameSEMICOLON	
public	TokenNamepublic	
final	TokenNamefinal	
class	TokenNameclass	
MessagingService	TokenNameIdentifier	 Messaging Service
implements	TokenNameimplements	
MessagingServiceMBean	TokenNameIdentifier	 Messaging Service M Bean
{	TokenNameLBRACE	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
MBEAN_NAME	TokenNameIdentifier	 MBEAN  NAME
=	TokenNameEQUAL	
"org.apache.cassandra.net:type=MessagingService"	TokenNameStringLiteral	org.apache.cassandra.net:type=MessagingService
;	TokenNameSEMICOLON	
// 8 bits version, so don't waste versions 	TokenNameCOMMENT_LINE	8 bits version, so don't waste versions 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
VERSION_10	TokenNameIdentifier	 VERSION 10
=	TokenNameEQUAL	
3	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
VERSION_11	TokenNameIdentifier	 VERSION 11
=	TokenNameEQUAL	
4	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
VERSION_117	TokenNameIdentifier	 VERSION 117
=	TokenNameEQUAL	
5	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
VERSION_12	TokenNameIdentifier	 VERSION 12
=	TokenNameEQUAL	
6	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
current_version	TokenNameIdentifier	 current version
=	TokenNameEQUAL	
VERSION_12	TokenNameIdentifier	 VERSION 12
;	TokenNameSEMICOLON	
/** * we preface every message with this number so the recipient can validate the sender is sane */	TokenNameCOMMENT_JAVADOC	 we preface every message with this number so the recipient can validate the sender is sane 
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
PROTOCOL_MAGIC	TokenNameIdentifier	 PROTOCOL  MAGIC
=	TokenNameEQUAL	
0xCA552DFA	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
/* All verb handler identifiers */	TokenNameCOMMENT_BLOCK	 All verb handler identifiers 
public	TokenNamepublic	
enum	TokenNameenum	
Verb	TokenNameIdentifier	 Verb
{	TokenNameLBRACE	
MUTATION	TokenNameIdentifier	 MUTATION
,	TokenNameCOMMA	
@	TokenNameAT	
Deprecated	TokenNameIdentifier	 Deprecated
BINARY	TokenNameIdentifier	 BINARY
,	TokenNameCOMMA	
READ_REPAIR	TokenNameIdentifier	 READ  REPAIR
,	TokenNameCOMMA	
READ	TokenNameIdentifier	 READ
,	TokenNameCOMMA	
REQUEST_RESPONSE	TokenNameIdentifier	 REQUEST  RESPONSE
,	TokenNameCOMMA	
// client-initiated reads and writes 	TokenNameCOMMENT_LINE	client-initiated reads and writes 
@	TokenNameAT	
Deprecated	TokenNameIdentifier	 Deprecated
STREAM_INITIATE	TokenNameIdentifier	 STREAM  INITIATE
,	TokenNameCOMMA	
@	TokenNameAT	
Deprecated	TokenNameIdentifier	 Deprecated
STREAM_INITIATE_DONE	TokenNameIdentifier	 STREAM  INITIATE  DONE
,	TokenNameCOMMA	
STREAM_REPLY	TokenNameIdentifier	 STREAM  REPLY
,	TokenNameCOMMA	
STREAM_REQUEST	TokenNameIdentifier	 STREAM  REQUEST
,	TokenNameCOMMA	
RANGE_SLICE	TokenNameIdentifier	 RANGE  SLICE
,	TokenNameCOMMA	
BOOTSTRAP_TOKEN	TokenNameIdentifier	 BOOTSTRAP  TOKEN
,	TokenNameCOMMA	
TREE_REQUEST	TokenNameIdentifier	 TREE  REQUEST
,	TokenNameCOMMA	
TREE_RESPONSE	TokenNameIdentifier	 TREE  RESPONSE
,	TokenNameCOMMA	
@	TokenNameAT	
Deprecated	TokenNameIdentifier	 Deprecated
JOIN	TokenNameIdentifier	 JOIN
,	TokenNameCOMMA	
GOSSIP_DIGEST_SYN	TokenNameIdentifier	 GOSSIP  DIGEST  SYN
,	TokenNameCOMMA	
GOSSIP_DIGEST_ACK	TokenNameIdentifier	 GOSSIP  DIGEST  ACK
,	TokenNameCOMMA	
GOSSIP_DIGEST_ACK2	TokenNameIdentifier	 GOSSIP  DIGEST  AC K2
,	TokenNameCOMMA	
@	TokenNameAT	
Deprecated	TokenNameIdentifier	 Deprecated
DEFINITIONS_ANNOUNCE	TokenNameIdentifier	 DEFINITIONS  ANNOUNCE
,	TokenNameCOMMA	
DEFINITIONS_UPDATE	TokenNameIdentifier	 DEFINITIONS  UPDATE
,	TokenNameCOMMA	
TRUNCATE	TokenNameIdentifier	 TRUNCATE
,	TokenNameCOMMA	
SCHEMA_CHECK	TokenNameIdentifier	 SCHEMA  CHECK
,	TokenNameCOMMA	
@	TokenNameAT	
Deprecated	TokenNameIdentifier	 Deprecated
INDEX_SCAN	TokenNameIdentifier	 INDEX  SCAN
,	TokenNameCOMMA	
REPLICATION_FINISHED	TokenNameIdentifier	 REPLICATION  FINISHED
,	TokenNameCOMMA	
INTERNAL_RESPONSE	TokenNameIdentifier	 INTERNAL  RESPONSE
,	TokenNameCOMMA	
// responses to internal calls 	TokenNameCOMMENT_LINE	responses to internal calls 
COUNTER_MUTATION	TokenNameIdentifier	 COUNTER  MUTATION
,	TokenNameCOMMA	
STREAMING_REPAIR_REQUEST	TokenNameIdentifier	 STREAMING  REPAIR  REQUEST
,	TokenNameCOMMA	
STREAMING_REPAIR_RESPONSE	TokenNameIdentifier	 STREAMING  REPAIR  RESPONSE
,	TokenNameCOMMA	
SNAPSHOT	TokenNameIdentifier	 SNAPSHOT
,	TokenNameCOMMA	
// Similar to nt snapshot 	TokenNameCOMMENT_LINE	Similar to nt snapshot 
MIGRATION_REQUEST	TokenNameIdentifier	 MIGRATION  REQUEST
,	TokenNameCOMMA	
GOSSIP_SHUTDOWN	TokenNameIdentifier	 GOSSIP  SHUTDOWN
,	TokenNameCOMMA	
_TRACE	TokenNameIdentifier	 TRACE
,	TokenNameCOMMA	
// dummy verb so we can use MS.droppedMessages 	TokenNameCOMMENT_LINE	dummy verb so we can use MS.droppedMessages 
// use as padding for backwards compatability where a previous version needs to validate a verb from the future. 	TokenNameCOMMENT_LINE	use as padding for backwards compatability where a previous version needs to validate a verb from the future. 
UNUSED_1	TokenNameIdentifier	 UNUSED 1
,	TokenNameCOMMA	
UNUSED_2	TokenNameIdentifier	 UNUSED 2
,	TokenNameCOMMA	
UNUSED_3	TokenNameIdentifier	 UNUSED 3
,	TokenNameCOMMA	
;	TokenNameSEMICOLON	
// remember to add new verbs at the end, since we serialize by ordinal 	TokenNameCOMMENT_LINE	remember to add new verbs at the end, since we serialize by ordinal 
}	TokenNameRBRACE	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
Verb	TokenNameIdentifier	 Verb
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
VERBS	TokenNameIdentifier	 VERBS
=	TokenNameEQUAL	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
values	TokenNameIdentifier	 values
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
EnumMap	TokenNameIdentifier	 Enum Map
<	TokenNameLESS	
MessagingService	TokenNameIdentifier	 Messaging Service
.	TokenNameDOT	
Verb	TokenNameIdentifier	 Verb
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
>	TokenNameGREATER	
verbStages	TokenNameIdentifier	 verb Stages
=	TokenNameEQUAL	
new	TokenNamenew	
EnumMap	TokenNameIdentifier	 Enum Map
<	TokenNameLESS	
MessagingService	TokenNameIdentifier	 Messaging Service
.	TokenNameDOT	
Verb	TokenNameIdentifier	 Verb
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
>	TokenNameGREATER	
(	TokenNameLPAREN	
MessagingService	TokenNameIdentifier	 Messaging Service
.	TokenNameDOT	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
{	TokenNameLBRACE	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
MUTATION	TokenNameIdentifier	 MUTATION
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
MUTATION	TokenNameIdentifier	 MUTATION
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
BINARY	TokenNameIdentifier	 BINARY
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
MUTATION	TokenNameIdentifier	 MUTATION
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
READ_REPAIR	TokenNameIdentifier	 READ  REPAIR
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
MUTATION	TokenNameIdentifier	 MUTATION
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
TRUNCATE	TokenNameIdentifier	 TRUNCATE
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
MUTATION	TokenNameIdentifier	 MUTATION
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
READ	TokenNameIdentifier	 READ
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
READ	TokenNameIdentifier	 READ
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
REQUEST_RESPONSE	TokenNameIdentifier	 REQUEST  RESPONSE
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
REQUEST_RESPONSE	TokenNameIdentifier	 REQUEST  RESPONSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
STREAM_REPLY	TokenNameIdentifier	 STREAM  REPLY
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
MISC	TokenNameIdentifier	 MISC
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// actually handled by FileStreamTask and streamExecutors 	TokenNameCOMMENT_LINE	actually handled by FileStreamTask and streamExecutors 
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
STREAM_REQUEST	TokenNameIdentifier	 STREAM  REQUEST
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
MISC	TokenNameIdentifier	 MISC
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
RANGE_SLICE	TokenNameIdentifier	 RANGE  SLICE
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
READ	TokenNameIdentifier	 READ
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
BOOTSTRAP_TOKEN	TokenNameIdentifier	 BOOTSTRAP  TOKEN
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
MISC	TokenNameIdentifier	 MISC
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
TREE_REQUEST	TokenNameIdentifier	 TREE  REQUEST
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
ANTI_ENTROPY	TokenNameIdentifier	 ANTI  ENTROPY
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
TREE_RESPONSE	TokenNameIdentifier	 TREE  RESPONSE
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
ANTI_ENTROPY	TokenNameIdentifier	 ANTI  ENTROPY
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
STREAMING_REPAIR_REQUEST	TokenNameIdentifier	 STREAMING  REPAIR  REQUEST
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
ANTI_ENTROPY	TokenNameIdentifier	 ANTI  ENTROPY
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
STREAMING_REPAIR_RESPONSE	TokenNameIdentifier	 STREAMING  REPAIR  RESPONSE
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
ANTI_ENTROPY	TokenNameIdentifier	 ANTI  ENTROPY
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
GOSSIP_DIGEST_ACK	TokenNameIdentifier	 GOSSIP  DIGEST  ACK
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
GOSSIP	TokenNameIdentifier	 GOSSIP
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
GOSSIP_DIGEST_ACK2	TokenNameIdentifier	 GOSSIP  DIGEST  AC K2
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
GOSSIP	TokenNameIdentifier	 GOSSIP
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
GOSSIP_DIGEST_SYN	TokenNameIdentifier	 GOSSIP  DIGEST  SYN
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
GOSSIP	TokenNameIdentifier	 GOSSIP
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
GOSSIP_SHUTDOWN	TokenNameIdentifier	 GOSSIP  SHUTDOWN
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
GOSSIP	TokenNameIdentifier	 GOSSIP
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
DEFINITIONS_UPDATE	TokenNameIdentifier	 DEFINITIONS  UPDATE
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
MIGRATION	TokenNameIdentifier	 MIGRATION
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
SCHEMA_CHECK	TokenNameIdentifier	 SCHEMA  CHECK
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
MIGRATION	TokenNameIdentifier	 MIGRATION
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
MIGRATION_REQUEST	TokenNameIdentifier	 MIGRATION  REQUEST
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
MIGRATION	TokenNameIdentifier	 MIGRATION
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
INDEX_SCAN	TokenNameIdentifier	 INDEX  SCAN
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
READ	TokenNameIdentifier	 READ
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
REPLICATION_FINISHED	TokenNameIdentifier	 REPLICATION  FINISHED
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
MISC	TokenNameIdentifier	 MISC
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
INTERNAL_RESPONSE	TokenNameIdentifier	 INTERNAL  RESPONSE
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
INTERNAL_RESPONSE	TokenNameIdentifier	 INTERNAL  RESPONSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
COUNTER_MUTATION	TokenNameIdentifier	 COUNTER  MUTATION
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
MUTATION	TokenNameIdentifier	 MUTATION
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
SNAPSHOT	TokenNameIdentifier	 SNAPSHOT
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
MISC	TokenNameIdentifier	 MISC
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
UNUSED_1	TokenNameIdentifier	 UNUSED 1
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
INTERNAL_RESPONSE	TokenNameIdentifier	 INTERNAL  RESPONSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
UNUSED_2	TokenNameIdentifier	 UNUSED 2
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
INTERNAL_RESPONSE	TokenNameIdentifier	 INTERNAL  RESPONSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
UNUSED_3	TokenNameIdentifier	 UNUSED 3
,	TokenNameCOMMA	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
INTERNAL_RESPONSE	TokenNameIdentifier	 INTERNAL  RESPONSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
/** * Messages we receive in IncomingTcpConnection have a Verb that tells us what kind of message it is. * Most of the time, this is enough to determine how to deserialize the message payload. * The exception is the REQUEST_RESPONSE verb, which just means "a reply to something you told me to do." * Traditionally, this was fine since each VerbHandler knew what type of payload it expected, and * handled the deserialization itself. Now that we do that in ITC, to avoid the extra copy to an * intermediary byte[] (See CASSANDRA-3716), we need to wire that up to the CallbackInfo object * (see below). */	TokenNameCOMMENT_JAVADOC	 Messages we receive in IncomingTcpConnection have a Verb that tells us what kind of message it is. Most of the time, this is enough to determine how to deserialize the message payload. The exception is the REQUEST_RESPONSE verb, which just means "a reply to something you told me to do." Traditionally, this was fine since each VerbHandler knew what type of payload it expected, and handled the deserialization itself. Now that we do that in ITC, to avoid the extra copy to an intermediary byte[] (See CASSANDRA-3716), we need to wire that up to the CallbackInfo object (see below). 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
EnumMap	TokenNameIdentifier	 Enum Map
<	TokenNameLESS	
Verb	TokenNameIdentifier	 Verb
,	TokenNameCOMMA	
IVersionedSerializer	TokenNameIdentifier	 I Versioned Serializer
<	TokenNameLESS	
?	TokenNameQUESTION	
>>	TokenNameRIGHT_SHIFT	
verbSerializers	TokenNameIdentifier	 verb Serializers
=	TokenNameEQUAL	
new	TokenNamenew	
EnumMap	TokenNameIdentifier	 Enum Map
<	TokenNameLESS	
Verb	TokenNameIdentifier	 Verb
,	TokenNameCOMMA	
IVersionedSerializer	TokenNameIdentifier	 I Versioned Serializer
<	TokenNameLESS	
?	TokenNameQUESTION	
>>	TokenNameRIGHT_SHIFT	
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
{	TokenNameLBRACE	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
REQUEST_RESPONSE	TokenNameIdentifier	 REQUEST  RESPONSE
,	TokenNameCOMMA	
CallbackDeterminedSerializer	TokenNameIdentifier	 Callback Determined Serializer
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
INTERNAL_RESPONSE	TokenNameIdentifier	 INTERNAL  RESPONSE
,	TokenNameCOMMA	
CallbackDeterminedSerializer	TokenNameIdentifier	 Callback Determined Serializer
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
MUTATION	TokenNameIdentifier	 MUTATION
,	TokenNameCOMMA	
RowMutation	TokenNameIdentifier	 Row Mutation
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
READ_REPAIR	TokenNameIdentifier	 READ  REPAIR
,	TokenNameCOMMA	
RowMutation	TokenNameIdentifier	 Row Mutation
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
READ	TokenNameIdentifier	 READ
,	TokenNameCOMMA	
ReadCommand	TokenNameIdentifier	 Read Command
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
STREAM_REPLY	TokenNameIdentifier	 STREAM  REPLY
,	TokenNameCOMMA	
StreamReply	TokenNameIdentifier	 Stream Reply
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
STREAM_REQUEST	TokenNameIdentifier	 STREAM  REQUEST
,	TokenNameCOMMA	
StreamRequest	TokenNameIdentifier	 Stream Request
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
RANGE_SLICE	TokenNameIdentifier	 RANGE  SLICE
,	TokenNameCOMMA	
RangeSliceCommand	TokenNameIdentifier	 Range Slice Command
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
BOOTSTRAP_TOKEN	TokenNameIdentifier	 BOOTSTRAP  TOKEN
,	TokenNameCOMMA	
BootStrapper	TokenNameIdentifier	 Boot Strapper
.	TokenNameDOT	
StringSerializer	TokenNameIdentifier	 String Serializer
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
TREE_REQUEST	TokenNameIdentifier	 TREE  REQUEST
,	TokenNameCOMMA	
AntiEntropyService	TokenNameIdentifier	 Anti Entropy Service
.	TokenNameDOT	
TreeRequest	TokenNameIdentifier	 Tree Request
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
TREE_RESPONSE	TokenNameIdentifier	 TREE  RESPONSE
,	TokenNameCOMMA	
AntiEntropyService	TokenNameIdentifier	 Anti Entropy Service
.	TokenNameDOT	
Validator	TokenNameIdentifier	 Validator
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
STREAMING_REPAIR_REQUEST	TokenNameIdentifier	 STREAMING  REPAIR  REQUEST
,	TokenNameCOMMA	
StreamingRepairTask	TokenNameIdentifier	 Streaming Repair Task
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
STREAMING_REPAIR_RESPONSE	TokenNameIdentifier	 STREAMING  REPAIR  RESPONSE
,	TokenNameCOMMA	
UUIDSerializer	TokenNameIdentifier	 UUID Serializer
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
GOSSIP_DIGEST_ACK	TokenNameIdentifier	 GOSSIP  DIGEST  ACK
,	TokenNameCOMMA	
GossipDigestAck	TokenNameIdentifier	 Gossip Digest Ack
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
GOSSIP_DIGEST_ACK2	TokenNameIdentifier	 GOSSIP  DIGEST  AC K2
,	TokenNameCOMMA	
GossipDigestAck2	TokenNameIdentifier	 Gossip Digest Ack2
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
GOSSIP_DIGEST_SYN	TokenNameIdentifier	 GOSSIP  DIGEST  SYN
,	TokenNameCOMMA	
GossipDigestSyn	TokenNameIdentifier	 Gossip Digest Syn
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
DEFINITIONS_UPDATE	TokenNameIdentifier	 DEFINITIONS  UPDATE
,	TokenNameCOMMA	
MigrationManager	TokenNameIdentifier	 Migration Manager
.	TokenNameDOT	
MigrationsSerializer	TokenNameIdentifier	 Migrations Serializer
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
TRUNCATE	TokenNameIdentifier	 TRUNCATE
,	TokenNameCOMMA	
Truncation	TokenNameIdentifier	 Truncation
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
INDEX_SCAN	TokenNameIdentifier	 INDEX  SCAN
,	TokenNameCOMMA	
IndexScanCommand	TokenNameIdentifier	 Index Scan Command
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
REPLICATION_FINISHED	TokenNameIdentifier	 REPLICATION  FINISHED
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
COUNTER_MUTATION	TokenNameIdentifier	 COUNTER  MUTATION
,	TokenNameCOMMA	
CounterMutation	TokenNameIdentifier	 Counter Mutation
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
/** * A Map of what kind of serializer to wire up to a REQUEST_RESPONSE callback, based on outbound Verb. */	TokenNameCOMMENT_JAVADOC	 A Map of what kind of serializer to wire up to a REQUEST_RESPONSE callback, based on outbound Verb. 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
EnumMap	TokenNameIdentifier	 Enum Map
<	TokenNameLESS	
Verb	TokenNameIdentifier	 Verb
,	TokenNameCOMMA	
IVersionedSerializer	TokenNameIdentifier	 I Versioned Serializer
<	TokenNameLESS	
?	TokenNameQUESTION	
>>	TokenNameRIGHT_SHIFT	
callbackDeserializers	TokenNameIdentifier	 callback Deserializers
=	TokenNameEQUAL	
new	TokenNamenew	
EnumMap	TokenNameIdentifier	 Enum Map
<	TokenNameLESS	
Verb	TokenNameIdentifier	 Verb
,	TokenNameCOMMA	
IVersionedSerializer	TokenNameIdentifier	 I Versioned Serializer
<	TokenNameLESS	
?	TokenNameQUESTION	
>>	TokenNameRIGHT_SHIFT	
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
{	TokenNameLBRACE	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
MUTATION	TokenNameIdentifier	 MUTATION
,	TokenNameCOMMA	
WriteResponse	TokenNameIdentifier	 Write Response
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
READ_REPAIR	TokenNameIdentifier	 READ  REPAIR
,	TokenNameCOMMA	
WriteResponse	TokenNameIdentifier	 Write Response
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
COUNTER_MUTATION	TokenNameIdentifier	 COUNTER  MUTATION
,	TokenNameCOMMA	
WriteResponse	TokenNameIdentifier	 Write Response
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
RANGE_SLICE	TokenNameIdentifier	 RANGE  SLICE
,	TokenNameCOMMA	
RangeSliceReply	TokenNameIdentifier	 Range Slice Reply
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
READ	TokenNameIdentifier	 READ
,	TokenNameCOMMA	
ReadResponse	TokenNameIdentifier	 Read Response
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
TRUNCATE	TokenNameIdentifier	 TRUNCATE
,	TokenNameCOMMA	
TruncateResponse	TokenNameIdentifier	 Truncate Response
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
SNAPSHOT	TokenNameIdentifier	 SNAPSHOT
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
MIGRATION_REQUEST	TokenNameIdentifier	 MIGRATION  REQUEST
,	TokenNameCOMMA	
MigrationManager	TokenNameIdentifier	 Migration Manager
.	TokenNameDOT	
MigrationsSerializer	TokenNameIdentifier	 Migrations Serializer
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
SCHEMA_CHECK	TokenNameIdentifier	 SCHEMA  CHECK
,	TokenNameCOMMA	
UUIDSerializer	TokenNameIdentifier	 UUID Serializer
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
BOOTSTRAP_TOKEN	TokenNameIdentifier	 BOOTSTRAP  TOKEN
,	TokenNameCOMMA	
BootStrapper	TokenNameIdentifier	 Boot Strapper
.	TokenNameDOT	
StringSerializer	TokenNameIdentifier	 String Serializer
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
REPLICATION_FINISHED	TokenNameIdentifier	 REPLICATION  FINISHED
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
/* This records all the results mapped by message Id */	TokenNameCOMMENT_BLOCK	 This records all the results mapped by message Id 
private	TokenNameprivate	
final	TokenNamefinal	
ExpiringMap	TokenNameIdentifier	 Expiring Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
CallbackInfo	TokenNameIdentifier	 Callback Info
>	TokenNameGREATER	
callbacks	TokenNameIdentifier	 callbacks
;	TokenNameSEMICOLON	
/** * a placeholder class that means "deserialize using the callback." We can't implement this without * special-case code in InboundTcpConnection because there is no way to pass the message id to IVersionedSerializer. */	TokenNameCOMMENT_JAVADOC	 a placeholder class that means "deserialize using the callback." We can't implement this without special-case code in InboundTcpConnection because there is no way to pass the message id to IVersionedSerializer. 
static	TokenNamestatic	
class	TokenNameclass	
CallbackDeterminedSerializer	TokenNameIdentifier	 Callback Determined Serializer
implements	TokenNameimplements	
IVersionedSerializer	TokenNameIdentifier	 I Versioned Serializer
<	TokenNameLESS	
Object	TokenNameIdentifier	 Object
>	TokenNameGREATER	
{	TokenNameLBRACE	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
CallbackDeterminedSerializer	TokenNameIdentifier	 Callback Determined Serializer
instance	TokenNameIdentifier	 instance
=	TokenNameEQUAL	
new	TokenNamenew	
CallbackDeterminedSerializer	TokenNameIdentifier	 Callback Determined Serializer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
Object	TokenNameIdentifier	 Object
deserialize	TokenNameIdentifier	 deserialize
(	TokenNameLPAREN	
DataInput	TokenNameIdentifier	 Data Input
in	TokenNameIdentifier	 in
,	TokenNameCOMMA	
int	TokenNameint	
version	TokenNameIdentifier	 version
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
UnsupportedOperationException	TokenNameIdentifier	 Unsupported Operation Exception
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
serialize	TokenNameIdentifier	 serialize
(	TokenNameLPAREN	
Object	TokenNameIdentifier	 Object
o	TokenNameIdentifier	 o
,	TokenNameCOMMA	
DataOutput	TokenNameIdentifier	 Data Output
out	TokenNameIdentifier	 out
,	TokenNameCOMMA	
int	TokenNameint	
version	TokenNameIdentifier	 version
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
UnsupportedOperationException	TokenNameIdentifier	 Unsupported Operation Exception
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
serializedSize	TokenNameIdentifier	 serialized Size
(	TokenNameLPAREN	
Object	TokenNameIdentifier	 Object
o	TokenNameIdentifier	 o
,	TokenNameCOMMA	
int	TokenNameint	
version	TokenNameIdentifier	 version
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
UnsupportedOperationException	TokenNameIdentifier	 Unsupported Operation Exception
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/* Lookup table for registering message handlers based on the verb. */	TokenNameCOMMENT_BLOCK	 Lookup table for registering message handlers based on the verb. 
private	TokenNameprivate	
final	TokenNamefinal	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
Verb	TokenNameIdentifier	 Verb
,	TokenNameCOMMA	
IVerbHandler	TokenNameIdentifier	 I Verb Handler
>	TokenNameGREATER	
verbHandlers	TokenNameIdentifier	 verb Handlers
;	TokenNameSEMICOLON	
/** * One executor per destination InetAddress for streaming. * <p/> * See CASSANDRA-3494 for the background. We have streaming in place so we do not want to limit ourselves to * one stream at a time for throttling reasons. But, we also do not want to just arbitrarily stream an unlimited * amount of files at once because a single destination might have hundreds of files pending and it would cause a * seek storm. So, transfer exactly one file per destination host. That puts a very natural rate limit on it, in * addition to mapping well to the expected behavior in many cases. * <p/> * We will create our stream executors with a core size of 0 so that they time out and do not consume threads. This * means the overhead in the degenerate case of having streamed to everyone in the ring over time as a ring changes, * is not going to be a thread per node - but rather an instance per node. That's totally fine. */	TokenNameCOMMENT_JAVADOC	 One executor per destination InetAddress for streaming. <p/> See CASSANDRA-3494 for the background. We have streaming in place so we do not want to limit ourselves to one stream at a time for throttling reasons. But, we also do not want to just arbitrarily stream an unlimited amount of files at once because a single destination might have hundreds of files pending and it would cause a seek storm. So, transfer exactly one file per destination host. That puts a very natural rate limit on it, in addition to mapping well to the expected behavior in many cases. <p/> We will create our stream executors with a core size of 0 so that they time out and do not consume threads. This means the overhead in the degenerate case of having streamed to everyone in the ring over time as a ring changes, is not going to be a thread per node - but rather an instance per node. That's totally fine. 
private	TokenNameprivate	
final	TokenNamefinal	
ConcurrentMap	TokenNameIdentifier	 Concurrent Map
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
,	TokenNameCOMMA	
DebuggableThreadPoolExecutor	TokenNameIdentifier	 Debuggable Thread Pool Executor
>	TokenNameGREATER	
streamExecutors	TokenNameIdentifier	 stream Executors
=	TokenNameEQUAL	
new	TokenNamenew	
NonBlockingHashMap	TokenNameIdentifier	 Non Blocking Hash Map
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
,	TokenNameCOMMA	
DebuggableThreadPoolExecutor	TokenNameIdentifier	 Debuggable Thread Pool Executor
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
NonBlockingHashMap	TokenNameIdentifier	 Non Blocking Hash Map
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
,	TokenNameCOMMA	
OutboundTcpConnectionPool	TokenNameIdentifier	 Outbound Tcp Connection Pool
>	TokenNameGREATER	
connectionManagers	TokenNameIdentifier	 connection Managers
=	TokenNameEQUAL	
new	TokenNamenew	
NonBlockingHashMap	TokenNameIdentifier	 Non Blocking Hash Map
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
,	TokenNameCOMMA	
OutboundTcpConnectionPool	TokenNameIdentifier	 Outbound Tcp Connection Pool
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
Logger	TokenNameIdentifier	 Logger
logger	TokenNameIdentifier	 logger
=	TokenNameEQUAL	
LoggerFactory	TokenNameIdentifier	 Logger Factory
.	TokenNameDOT	
getLogger	TokenNameIdentifier	 get Logger
(	TokenNameLPAREN	
MessagingService	TokenNameIdentifier	 Messaging Service
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
LOG_DROPPED_INTERVAL_IN_MS	TokenNameIdentifier	 LOG  DROPPED  INTERVAL  IN  MS
=	TokenNameEQUAL	
5000	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
SocketThread	TokenNameIdentifier	 Socket Thread
>	TokenNameGREATER	
socketThreads	TokenNameIdentifier	 socket Threads
=	TokenNameEQUAL	
Lists	TokenNameIdentifier	 Lists
.	TokenNameDOT	
newArrayList	TokenNameIdentifier	 new Array List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
SimpleCondition	TokenNameIdentifier	 Simple Condition
listenGate	TokenNameIdentifier	 listen Gate
;	TokenNameSEMICOLON	
/** * Verbs it's okay to drop if the request has been queued longer than the request timeout. These * all correspond to client requests or something triggered by them; we don't want to * drop internal messages like bootstrap or repair notifications. */	TokenNameCOMMENT_JAVADOC	 Verbs it's okay to drop if the request has been queued longer than the request timeout. These all correspond to client requests or something triggered by them; we don't want to drop internal messages like bootstrap or repair notifications. 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
EnumSet	TokenNameIdentifier	 Enum Set
<	TokenNameLESS	
Verb	TokenNameIdentifier	 Verb
>	TokenNameGREATER	
DROPPABLE_VERBS	TokenNameIdentifier	 DROPPABLE  VERBS
=	TokenNameEQUAL	
EnumSet	TokenNameIdentifier	 Enum Set
.	TokenNameDOT	
of	TokenNameIdentifier	 of
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
BINARY	TokenNameIdentifier	 BINARY
,	TokenNameCOMMA	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
_TRACE	TokenNameIdentifier	 TRACE
,	TokenNameCOMMA	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
MUTATION	TokenNameIdentifier	 MUTATION
,	TokenNameCOMMA	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
READ_REPAIR	TokenNameIdentifier	 READ  REPAIR
,	TokenNameCOMMA	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
READ	TokenNameIdentifier	 READ
,	TokenNameCOMMA	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
RANGE_SLICE	TokenNameIdentifier	 RANGE  SLICE
,	TokenNameCOMMA	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
REQUEST_RESPONSE	TokenNameIdentifier	 REQUEST  RESPONSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// total dropped message counts for server lifetime 	TokenNameCOMMENT_LINE	total dropped message counts for server lifetime 
private	TokenNameprivate	
final	TokenNamefinal	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
Verb	TokenNameIdentifier	 Verb
,	TokenNameCOMMA	
DroppedMessageMetrics	TokenNameIdentifier	 Dropped Message Metrics
>	TokenNameGREATER	
droppedMessages	TokenNameIdentifier	 dropped Messages
=	TokenNameEQUAL	
new	TokenNamenew	
EnumMap	TokenNameIdentifier	 Enum Map
<	TokenNameLESS	
Verb	TokenNameIdentifier	 Verb
,	TokenNameCOMMA	
DroppedMessageMetrics	TokenNameIdentifier	 Dropped Message Metrics
>	TokenNameGREATER	
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// dropped count when last requested for the Recent api. high concurrency isn't necessary here. 	TokenNameCOMMENT_LINE	dropped count when last requested for the Recent api. high concurrency isn't necessary here. 
private	TokenNameprivate	
final	TokenNamefinal	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
Verb	TokenNameIdentifier	 Verb
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
>	TokenNameGREATER	
lastDroppedInternal	TokenNameIdentifier	 last Dropped Internal
=	TokenNameEQUAL	
new	TokenNamenew	
EnumMap	TokenNameIdentifier	 Enum Map
<	TokenNameLESS	
Verb	TokenNameIdentifier	 Verb
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
>	TokenNameGREATER	
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
ILatencySubscriber	TokenNameIdentifier	 I Latency Subscriber
>	TokenNameGREATER	
subscribers	TokenNameIdentifier	 subscribers
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
ILatencySubscriber	TokenNameIdentifier	 I Latency Subscriber
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// protocol versions of the other nodes in the cluster 	TokenNameCOMMENT_LINE	protocol versions of the other nodes in the cluster 
private	TokenNameprivate	
final	TokenNamefinal	
ConcurrentMap	TokenNameIdentifier	 Concurrent Map
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
>	TokenNameGREATER	
versions	TokenNameIdentifier	 versions
=	TokenNameEQUAL	
new	TokenNamenew	
NonBlockingHashMap	TokenNameIdentifier	 Non Blocking Hash Map
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
class	TokenNameclass	
MSHandle	TokenNameIdentifier	 MS Handle
{	TokenNameLBRACE	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
MessagingService	TokenNameIdentifier	 Messaging Service
instance	TokenNameIdentifier	 instance
=	TokenNameEQUAL	
new	TokenNamenew	
MessagingService	TokenNameIdentifier	 Messaging Service
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
static	TokenNamestatic	
MessagingService	TokenNameIdentifier	 Messaging Service
instance	TokenNameIdentifier	 instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
MSHandle	TokenNameIdentifier	 MS Handle
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
MessagingService	TokenNameIdentifier	 Messaging Service
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
verb	TokenNameIdentifier	 verb
:	TokenNameCOLON	
DROPPABLE_VERBS	TokenNameIdentifier	 DROPPABLE  VERBS
)	TokenNameRPAREN	
{	TokenNameLBRACE	
droppedMessages	TokenNameIdentifier	 dropped Messages
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
verb	TokenNameIdentifier	 verb
,	TokenNameCOMMA	
new	TokenNamenew	
DroppedMessageMetrics	TokenNameIdentifier	 Dropped Message Metrics
(	TokenNameLPAREN	
verb	TokenNameIdentifier	 verb
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lastDroppedInternal	TokenNameIdentifier	 last Dropped Internal
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
verb	TokenNameIdentifier	 verb
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
listenGate	TokenNameIdentifier	 listen Gate
=	TokenNameEQUAL	
new	TokenNamenew	
SimpleCondition	TokenNameIdentifier	 Simple Condition
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
verbHandlers	TokenNameIdentifier	 verb Handlers
=	TokenNameEQUAL	
new	TokenNamenew	
EnumMap	TokenNameIdentifier	 Enum Map
<	TokenNameLESS	
Verb	TokenNameIdentifier	 Verb
,	TokenNameCOMMA	
IVerbHandler	TokenNameIdentifier	 I Verb Handler
>	TokenNameGREATER	
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Runnable	TokenNameIdentifier	 Runnable
logDropped	TokenNameIdentifier	 log Dropped
=	TokenNameEQUAL	
new	TokenNamenew	
Runnable	TokenNameIdentifier	 Runnable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
logDroppedMessages	TokenNameIdentifier	 log Dropped Messages
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
StorageService	TokenNameIdentifier	 Storage Service
.	TokenNameDOT	
scheduledTasks	TokenNameIdentifier	 scheduled Tasks
.	TokenNameDOT	
scheduleWithFixedDelay	TokenNameIdentifier	 schedule With Fixed Delay
(	TokenNameLPAREN	
logDropped	TokenNameIdentifier	 log Dropped
,	TokenNameCOMMA	
LOG_DROPPED_INTERVAL_IN_MS	TokenNameIdentifier	 LOG  DROPPED  INTERVAL  IN  MS
,	TokenNameCOMMA	
LOG_DROPPED_INTERVAL_IN_MS	TokenNameIdentifier	 LOG  DROPPED  INTERVAL  IN  MS
,	TokenNameCOMMA	
TimeUnit	TokenNameIdentifier	 Time Unit
.	TokenNameDOT	
MILLISECONDS	TokenNameIdentifier	 MILLISECONDS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Function	TokenNameIdentifier	 Function
<	TokenNameLESS	
Pair	TokenNameIdentifier	 Pair
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
ExpiringMap	TokenNameIdentifier	 Expiring Map
.	TokenNameDOT	
CacheableObject	TokenNameIdentifier	 Cacheable Object
<	TokenNameLESS	
CallbackInfo	TokenNameIdentifier	 Callback Info
>>	TokenNameRIGHT_SHIFT	
,	TokenNameCOMMA	
?	TokenNameQUESTION	
>	TokenNameGREATER	
timeoutReporter	TokenNameIdentifier	 timeout Reporter
=	TokenNameEQUAL	
new	TokenNamenew	
Function	TokenNameIdentifier	 Function
<	TokenNameLESS	
Pair	TokenNameIdentifier	 Pair
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
ExpiringMap	TokenNameIdentifier	 Expiring Map
.	TokenNameDOT	
CacheableObject	TokenNameIdentifier	 Cacheable Object
<	TokenNameLESS	
CallbackInfo	TokenNameIdentifier	 Callback Info
>>	TokenNameRIGHT_SHIFT	
,	TokenNameCOMMA	
Object	TokenNameIdentifier	 Object
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
public	TokenNamepublic	
Object	TokenNameIdentifier	 Object
apply	TokenNameIdentifier	 apply
(	TokenNameLPAREN	
Pair	TokenNameIdentifier	 Pair
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
ExpiringMap	TokenNameIdentifier	 Expiring Map
.	TokenNameDOT	
CacheableObject	TokenNameIdentifier	 Cacheable Object
<	TokenNameLESS	
CallbackInfo	TokenNameIdentifier	 Callback Info
>>	TokenNameRIGHT_SHIFT	
pair	TokenNameIdentifier	 pair
)	TokenNameRPAREN	
{	TokenNameLBRACE	
CallbackInfo	TokenNameIdentifier	 Callback Info
expiredCallbackInfo	TokenNameIdentifier	 expired Callback Info
=	TokenNameEQUAL	
pair	TokenNameIdentifier	 pair
.	TokenNameDOT	
right	TokenNameIdentifier	 right
.	TokenNameDOT	
value	TokenNameIdentifier	 value
;	TokenNameSEMICOLON	
maybeAddLatency	TokenNameIdentifier	 maybe Add Latency
(	TokenNameLPAREN	
expiredCallbackInfo	TokenNameIdentifier	 expired Callback Info
.	TokenNameDOT	
callback	TokenNameIdentifier	 callback
,	TokenNameCOMMA	
expiredCallbackInfo	TokenNameIdentifier	 expired Callback Info
.	TokenNameDOT	
target	TokenNameIdentifier	 target
,	TokenNameCOMMA	
pair	TokenNameIdentifier	 pair
.	TokenNameDOT	
right	TokenNameIdentifier	 right
.	TokenNameDOT	
timeout	TokenNameIdentifier	 timeout
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ConnectionMetrics	TokenNameIdentifier	 Connection Metrics
.	TokenNameDOT	
totalTimeouts	TokenNameIdentifier	 total Timeouts
.	TokenNameDOT	
mark	TokenNameIdentifier	 mark
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
getConnectionPool	TokenNameIdentifier	 get Connection Pool
(	TokenNameLPAREN	
expiredCallbackInfo	TokenNameIdentifier	 expired Callback Info
.	TokenNameDOT	
target	TokenNameIdentifier	 target
)	TokenNameRPAREN	
.	TokenNameDOT	
incrementTimeout	TokenNameIdentifier	 increment Timeout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
expiredCallbackInfo	TokenNameIdentifier	 expired Callback Info
.	TokenNameDOT	
shouldHint	TokenNameIdentifier	 should Hint
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
assert	TokenNameassert	
expiredCallbackInfo	TokenNameIdentifier	 expired Callback Info
.	TokenNameDOT	
sentMessage	TokenNameIdentifier	 sent Message
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
RowMutation	TokenNameIdentifier	 Row Mutation
rm	TokenNameIdentifier	 rm
=	TokenNameEQUAL	
(	TokenNameLPAREN	
RowMutation	TokenNameIdentifier	 Row Mutation
)	TokenNameRPAREN	
expiredCallbackInfo	TokenNameIdentifier	 expired Callback Info
.	TokenNameDOT	
sentMessage	TokenNameIdentifier	 sent Message
.	TokenNameDOT	
payload	TokenNameIdentifier	 payload
;	TokenNameSEMICOLON	
return	TokenNamereturn	
StorageProxy	TokenNameIdentifier	 Storage Proxy
.	TokenNameDOT	
scheduleLocalHint	TokenNameIdentifier	 schedule Local Hint
(	TokenNameLPAREN	
rm	TokenNameIdentifier	 rm
,	TokenNameCOMMA	
expiredCallbackInfo	TokenNameIdentifier	 expired Callback Info
.	TokenNameDOT	
target	TokenNameIdentifier	 target
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
callbacks	TokenNameIdentifier	 callbacks
=	TokenNameEQUAL	
new	TokenNamenew	
ExpiringMap	TokenNameIdentifier	 Expiring Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
CallbackInfo	TokenNameIdentifier	 Callback Info
>	TokenNameGREATER	
(	TokenNameLPAREN	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getMinRpcTimeout	TokenNameIdentifier	 get Min Rpc Timeout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
timeoutReporter	TokenNameIdentifier	 timeout Reporter
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
MBeanServer	TokenNameIdentifier	 M Bean Server
mbs	TokenNameIdentifier	 mbs
=	TokenNameEQUAL	
ManagementFactory	TokenNameIdentifier	 Management Factory
.	TokenNameDOT	
getPlatformMBeanServer	TokenNameIdentifier	 get Platform M Bean Server
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
mbs	TokenNameIdentifier	 mbs
.	TokenNameDOT	
registerMBean	TokenNameIdentifier	 register M Bean
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
new	TokenNamenew	
ObjectName	TokenNameIdentifier	 Object Name
(	TokenNameLPAREN	
MBEAN_NAME	TokenNameIdentifier	 MBEAN  NAME
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Track latency information for the dynamic snitch * * @param cb the callback associated with this message -- this lets us know if it's a message type we're interested in * @param address the host that replied to the message * @param latency */	TokenNameCOMMENT_JAVADOC	 Track latency information for the dynamic snitch * @param cb the callback associated with this message -- this lets us know if it's a message type we're interested in @param address the host that replied to the message @param latency 
public	TokenNamepublic	
void	TokenNamevoid	
maybeAddLatency	TokenNameIdentifier	 maybe Add Latency
(	TokenNameLPAREN	
IMessageCallback	TokenNameIdentifier	 I Message Callback
cb	TokenNameIdentifier	 cb
,	TokenNameCOMMA	
InetAddress	TokenNameIdentifier	 Inet Address
address	TokenNameIdentifier	 address
,	TokenNameCOMMA	
long	TokenNamelong	
latency	TokenNameIdentifier	 latency
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
cb	TokenNameIdentifier	 cb
.	TokenNameDOT	
isLatencyForSnitch	TokenNameIdentifier	 is Latency For Snitch
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
addLatency	TokenNameIdentifier	 add Latency
(	TokenNameLPAREN	
address	TokenNameIdentifier	 address
,	TokenNameCOMMA	
latency	TokenNameIdentifier	 latency
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
addLatency	TokenNameIdentifier	 add Latency
(	TokenNameLPAREN	
InetAddress	TokenNameIdentifier	 Inet Address
address	TokenNameIdentifier	 address
,	TokenNameCOMMA	
long	TokenNamelong	
latency	TokenNameIdentifier	 latency
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
ILatencySubscriber	TokenNameIdentifier	 I Latency Subscriber
subscriber	TokenNameIdentifier	 subscriber
:	TokenNameCOLON	
subscribers	TokenNameIdentifier	 subscribers
)	TokenNameRPAREN	
subscriber	TokenNameIdentifier	 subscriber
.	TokenNameDOT	
receiveTiming	TokenNameIdentifier	 receive Timing
(	TokenNameLPAREN	
address	TokenNameIdentifier	 address
,	TokenNameCOMMA	
latency	TokenNameIdentifier	 latency
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * called from gossiper when it notices a node is not responding. */	TokenNameCOMMENT_JAVADOC	 called from gossiper when it notices a node is not responding. 
public	TokenNamepublic	
void	TokenNamevoid	
convict	TokenNameIdentifier	 convict
(	TokenNameLPAREN	
InetAddress	TokenNameIdentifier	 Inet Address
ep	TokenNameIdentifier	 ep
)	TokenNameRPAREN	
{	TokenNameLBRACE	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"Resetting pool for "	TokenNameStringLiteral	Resetting pool for 
+	TokenNamePLUS	
ep	TokenNameIdentifier	 ep
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
getConnectionPool	TokenNameIdentifier	 get Connection Pool
(	TokenNameLPAREN	
ep	TokenNameIdentifier	 ep
)	TokenNameRPAREN	
.	TokenNameDOT	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Listen on the specified port. * * @param localEp InetAddress whose port to listen on. */	TokenNameCOMMENT_JAVADOC	 Listen on the specified port. * @param localEp InetAddress whose port to listen on. 
public	TokenNamepublic	
void	TokenNamevoid	
listen	TokenNameIdentifier	 listen
(	TokenNameLPAREN	
InetAddress	TokenNameIdentifier	 Inet Address
localEp	TokenNameIdentifier	 local Ep
)	TokenNameRPAREN	
throws	TokenNamethrows	
ConfigurationException	TokenNameIdentifier	 Configuration Exception
{	TokenNameLBRACE	
callbacks	TokenNameIdentifier	 callbacks
.	TokenNameDOT	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// hack to allow tests to stop/restart MS 	TokenNameCOMMENT_LINE	hack to allow tests to stop/restart MS 
for	TokenNamefor	
(	TokenNameLPAREN	
ServerSocket	TokenNameIdentifier	 Server Socket
ss	TokenNameIdentifier	 ss
:	TokenNameCOLON	
getServerSocket	TokenNameIdentifier	 get Server Socket
(	TokenNameLPAREN	
localEp	TokenNameIdentifier	 local Ep
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
SocketThread	TokenNameIdentifier	 Socket Thread
th	TokenNameIdentifier	 th
=	TokenNameEQUAL	
new	TokenNamenew	
SocketThread	TokenNameIdentifier	 Socket Thread
(	TokenNameLPAREN	
ss	TokenNameIdentifier	 ss
,	TokenNameCOMMA	
"ACCEPT-"	TokenNameStringLiteral	ACCEPT-
+	TokenNamePLUS	
localEp	TokenNameIdentifier	 local Ep
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
th	TokenNameIdentifier	 th
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
socketThreads	TokenNameIdentifier	 socket Threads
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
th	TokenNameIdentifier	 th
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
listenGate	TokenNameIdentifier	 listen Gate
.	TokenNameDOT	
signalAll	TokenNameIdentifier	 signal All
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
ServerSocket	TokenNameIdentifier	 Server Socket
>	TokenNameGREATER	
getServerSocket	TokenNameIdentifier	 get Server Socket
(	TokenNameLPAREN	
InetAddress	TokenNameIdentifier	 Inet Address
localEp	TokenNameIdentifier	 local Ep
)	TokenNameRPAREN	
throws	TokenNamethrows	
ConfigurationException	TokenNameIdentifier	 Configuration Exception
{	TokenNameLBRACE	
final	TokenNamefinal	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
ServerSocket	TokenNameIdentifier	 Server Socket
>	TokenNameGREATER	
ss	TokenNameIdentifier	 ss
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
ServerSocket	TokenNameIdentifier	 Server Socket
>	TokenNameGREATER	
(	TokenNameLPAREN	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getServerEncryptionOptions	TokenNameIdentifier	 get Server Encryption Options
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
internode_encryption	TokenNameIdentifier	 internode encryption
!=	TokenNameNOT_EQUAL	
ServerEncryptionOptions	TokenNameIdentifier	 Server Encryption Options
.	TokenNameDOT	
InternodeEncryption	TokenNameIdentifier	 Internode Encryption
.	TokenNameDOT	
none	TokenNameIdentifier	 none
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
ss	TokenNameIdentifier	 ss
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
SSLFactory	TokenNameIdentifier	 SSL Factory
.	TokenNameDOT	
getServerSocket	TokenNameIdentifier	 get Server Socket
(	TokenNameLPAREN	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getServerEncryptionOptions	TokenNameIdentifier	 get Server Encryption Options
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
localEp	TokenNameIdentifier	 local Ep
,	TokenNameCOMMA	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getSSLStoragePort	TokenNameIdentifier	 get SSL Storage Port
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
ConfigurationException	TokenNameIdentifier	 Configuration Exception
(	TokenNameLPAREN	
"Unable to create ssl socket"	TokenNameStringLiteral	Unable to create ssl socket
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// setReuseAddress happens in the factory. 	TokenNameCOMMENT_LINE	setReuseAddress happens in the factory. 
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
info	TokenNameIdentifier	 info
(	TokenNameLPAREN	
"Starting Encrypted Messaging Service on SSL port {}"	TokenNameStringLiteral	Starting Encrypted Messaging Service on SSL port {}
,	TokenNameCOMMA	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getSSLStoragePort	TokenNameIdentifier	 get SSL Storage Port
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
ServerSocketChannel	TokenNameIdentifier	 Server Socket Channel
serverChannel	TokenNameIdentifier	 server Channel
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
serverChannel	TokenNameIdentifier	 server Channel
=	TokenNameEQUAL	
ServerSocketChannel	TokenNameIdentifier	 Server Socket Channel
.	TokenNameDOT	
open	TokenNameIdentifier	 open
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
ServerSocket	TokenNameIdentifier	 Server Socket
socket	TokenNameIdentifier	 socket
=	TokenNameEQUAL	
serverChannel	TokenNameIdentifier	 server Channel
.	TokenNameDOT	
socket	TokenNameIdentifier	 socket
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
socket	TokenNameIdentifier	 socket
.	TokenNameDOT	
setReuseAddress	TokenNameIdentifier	 set Reuse Address
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
SocketException	TokenNameIdentifier	 Socket Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
ConfigurationException	TokenNameIdentifier	 Configuration Exception
(	TokenNameLPAREN	
"Insufficient permissions to setReuseAddress"	TokenNameStringLiteral	Insufficient permissions to setReuseAddress
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
InetSocketAddress	TokenNameIdentifier	 Inet Socket Address
address	TokenNameIdentifier	 address
=	TokenNameEQUAL	
new	TokenNamenew	
InetSocketAddress	TokenNameIdentifier	 Inet Socket Address
(	TokenNameLPAREN	
localEp	TokenNameIdentifier	 local Ep
,	TokenNameCOMMA	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getStoragePort	TokenNameIdentifier	 get Storage Port
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
socket	TokenNameIdentifier	 socket
.	TokenNameDOT	
bind	TokenNameIdentifier	 bind
(	TokenNameLPAREN	
address	TokenNameIdentifier	 address
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
BindException	TokenNameIdentifier	 Bind Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
getMessage	TokenNameIdentifier	 get Message
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
contains	TokenNameIdentifier	 contains
(	TokenNameLPAREN	
"in use"	TokenNameStringLiteral	in use
)	TokenNameRPAREN	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
ConfigurationException	TokenNameIdentifier	 Configuration Exception
(	TokenNameLPAREN	
address	TokenNameIdentifier	 address
+	TokenNamePLUS	
" is in use by another process. Change listen_address:storage_port in cassandra.yaml to values that do not conflict with other services"	TokenNameStringLiteral	 is in use by another process. Change listen_address:storage_port in cassandra.yaml to values that do not conflict with other services
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
getMessage	TokenNameIdentifier	 get Message
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
contains	TokenNameIdentifier	 contains
(	TokenNameLPAREN	
"Cannot assign requested address"	TokenNameStringLiteral	Cannot assign requested address
)	TokenNameRPAREN	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
ConfigurationException	TokenNameIdentifier	 Configuration Exception
(	TokenNameLPAREN	
"Unable to bind to address "	TokenNameStringLiteral	Unable to bind to address 
+	TokenNamePLUS	
address	TokenNameIdentifier	 address
+	TokenNamePLUS	
". Set listen_address in cassandra.yaml to an interface you can bind to, e.g., your private IP address on EC2"	TokenNameStringLiteral	. Set listen_address in cassandra.yaml to an interface you can bind to, e.g., your private IP address on EC2
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
info	TokenNameIdentifier	 info
(	TokenNameLPAREN	
"Starting Messaging Service on port {}"	TokenNameStringLiteral	Starting Messaging Service on port {}
,	TokenNameCOMMA	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getStoragePort	TokenNameIdentifier	 get Storage Port
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ss	TokenNameIdentifier	 ss
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
socket	TokenNameIdentifier	 socket
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
ss	TokenNameIdentifier	 ss
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
waitUntilListening	TokenNameIdentifier	 wait Until Listening
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
listenGate	TokenNameIdentifier	 listen Gate
.	TokenNameDOT	
await	TokenNameIdentifier	 await
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
InterruptedException	TokenNameIdentifier	 Interrupted Exception
ie	TokenNameIdentifier	 ie
)	TokenNameRPAREN	
{	TokenNameLBRACE	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"await interrupted"	TokenNameStringLiteral	await interrupted
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
destroyConnectionPool	TokenNameIdentifier	 destroy Connection Pool
(	TokenNameLPAREN	
InetAddress	TokenNameIdentifier	 Inet Address
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
{	TokenNameLBRACE	
OutboundTcpConnectionPool	TokenNameIdentifier	 Outbound Tcp Connection Pool
cp	TokenNameIdentifier	 cp
=	TokenNameEQUAL	
connectionManagers	TokenNameIdentifier	 connection Managers
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
cp	TokenNameIdentifier	 cp
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
cp	TokenNameIdentifier	 cp
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
connectionManagers	TokenNameIdentifier	 connection Managers
.	TokenNameDOT	
remove	TokenNameIdentifier	 remove
(	TokenNameLPAREN	
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
OutboundTcpConnectionPool	TokenNameIdentifier	 Outbound Tcp Connection Pool
getConnectionPool	TokenNameIdentifier	 get Connection Pool
(	TokenNameLPAREN	
InetAddress	TokenNameIdentifier	 Inet Address
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
{	TokenNameLBRACE	
OutboundTcpConnectionPool	TokenNameIdentifier	 Outbound Tcp Connection Pool
cp	TokenNameIdentifier	 cp
=	TokenNameEQUAL	
connectionManagers	TokenNameIdentifier	 connection Managers
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
cp	TokenNameIdentifier	 cp
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
connectionManagers	TokenNameIdentifier	 connection Managers
.	TokenNameDOT	
putIfAbsent	TokenNameIdentifier	 put If Absent
(	TokenNameLPAREN	
to	TokenNameIdentifier	 to
,	TokenNameCOMMA	
new	TokenNamenew	
OutboundTcpConnectionPool	TokenNameIdentifier	 Outbound Tcp Connection Pool
(	TokenNameLPAREN	
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
cp	TokenNameIdentifier	 cp
=	TokenNameEQUAL	
connectionManagers	TokenNameIdentifier	 connection Managers
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
cp	TokenNameIdentifier	 cp
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
OutboundTcpConnection	TokenNameIdentifier	 Outbound Tcp Connection
getConnection	TokenNameIdentifier	 get Connection
(	TokenNameLPAREN	
InetAddress	TokenNameIdentifier	 Inet Address
to	TokenNameIdentifier	 to
,	TokenNameCOMMA	
MessageOut	TokenNameIdentifier	 Message Out
msg	TokenNameIdentifier	 msg
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
getConnectionPool	TokenNameIdentifier	 get Connection Pool
(	TokenNameLPAREN	
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
.	TokenNameDOT	
getConnection	TokenNameIdentifier	 get Connection
(	TokenNameLPAREN	
msg	TokenNameIdentifier	 msg
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Register a verb and the corresponding verb handler with the * Messaging Service. * * @param verb * @param verbHandler handler for the specified verb */	TokenNameCOMMENT_JAVADOC	 Register a verb and the corresponding verb handler with the Messaging Service. * @param verb @param verbHandler handler for the specified verb 
public	TokenNamepublic	
void	TokenNamevoid	
registerVerbHandlers	TokenNameIdentifier	 register Verb Handlers
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
verb	TokenNameIdentifier	 verb
,	TokenNameCOMMA	
IVerbHandler	TokenNameIdentifier	 I Verb Handler
verbHandler	TokenNameIdentifier	 verb Handler
)	TokenNameRPAREN	
{	TokenNameLBRACE	
assert	TokenNameassert	
!	TokenNameNOT	
verbHandlers	TokenNameIdentifier	 verb Handlers
.	TokenNameDOT	
containsKey	TokenNameIdentifier	 contains Key
(	TokenNameLPAREN	
verb	TokenNameIdentifier	 verb
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
verbHandlers	TokenNameIdentifier	 verb Handlers
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
verb	TokenNameIdentifier	 verb
,	TokenNameCOMMA	
verbHandler	TokenNameIdentifier	 verb Handler
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * This method returns the verb handler associated with the registered * verb. If no handler has been registered then null is returned. * * @param type for which the verb handler is sought * @return a reference to IVerbHandler which is the handler for the specified verb */	TokenNameCOMMENT_JAVADOC	 This method returns the verb handler associated with the registered verb. If no handler has been registered then null is returned. * @param type for which the verb handler is sought @return a reference to IVerbHandler which is the handler for the specified verb 
public	TokenNamepublic	
IVerbHandler	TokenNameIdentifier	 I Verb Handler
getVerbHandler	TokenNameIdentifier	 get Verb Handler
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
type	TokenNameIdentifier	 type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
verbHandlers	TokenNameIdentifier	 verb Handlers
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
addCallback	TokenNameIdentifier	 add Callback
(	TokenNameLPAREN	
IMessageCallback	TokenNameIdentifier	 I Message Callback
cb	TokenNameIdentifier	 cb
,	TokenNameCOMMA	
MessageOut	TokenNameIdentifier	 Message Out
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
InetAddress	TokenNameIdentifier	 Inet Address
to	TokenNameIdentifier	 to
,	TokenNameCOMMA	
long	TokenNamelong	
timeout	TokenNameIdentifier	 timeout
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
messageId	TokenNameIdentifier	 message Id
=	TokenNameEQUAL	
nextId	TokenNameIdentifier	 next Id
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
CallbackInfo	TokenNameIdentifier	 Callback Info
previous	TokenNameIdentifier	 previous
;	TokenNameSEMICOLON	
// If HH is enabled and this is a mutation message => store the message to track for potential hints. 	TokenNameCOMMENT_LINE	If HH is enabled and this is a mutation message => store the message to track for potential hints. 
if	TokenNameif	
(	TokenNameLPAREN	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
hintedHandoffEnabled	TokenNameIdentifier	 hinted Handoff Enabled
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
message	TokenNameIdentifier	 message
.	TokenNameDOT	
verb	TokenNameIdentifier	 verb
==	TokenNameEQUAL_EQUAL	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
MUTATION	TokenNameIdentifier	 MUTATION
)	TokenNameRPAREN	
previous	TokenNameIdentifier	 previous
=	TokenNameEQUAL	
callbacks	TokenNameIdentifier	 callbacks
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
messageId	TokenNameIdentifier	 message Id
,	TokenNameCOMMA	
new	TokenNamenew	
CallbackInfo	TokenNameIdentifier	 Callback Info
(	TokenNameLPAREN	
to	TokenNameIdentifier	 to
,	TokenNameCOMMA	
cb	TokenNameIdentifier	 cb
,	TokenNameCOMMA	
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
callbackDeserializers	TokenNameIdentifier	 callback Deserializers
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
message	TokenNameIdentifier	 message
.	TokenNameDOT	
verb	TokenNameIdentifier	 verb
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
timeout	TokenNameIdentifier	 timeout
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
previous	TokenNameIdentifier	 previous
=	TokenNameEQUAL	
callbacks	TokenNameIdentifier	 callbacks
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
messageId	TokenNameIdentifier	 message Id
,	TokenNameCOMMA	
new	TokenNamenew	
CallbackInfo	TokenNameIdentifier	 Callback Info
(	TokenNameLPAREN	
to	TokenNameIdentifier	 to
,	TokenNameCOMMA	
cb	TokenNameIdentifier	 cb
,	TokenNameCOMMA	
callbackDeserializers	TokenNameIdentifier	 callback Deserializers
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
message	TokenNameIdentifier	 message
.	TokenNameDOT	
verb	TokenNameIdentifier	 verb
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
timeout	TokenNameIdentifier	 timeout
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assert	TokenNameassert	
previous	TokenNameIdentifier	 previous
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
messageId	TokenNameIdentifier	 message Id
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
AtomicInteger	TokenNameIdentifier	 Atomic Integer
idGen	TokenNameIdentifier	 id Gen
=	TokenNameEQUAL	
new	TokenNamenew	
AtomicInteger	TokenNameIdentifier	 Atomic Integer
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// TODO make these integers to avoid unnecessary int -> string -> int conversions 	TokenNameCOMMENT_LINE	TODO make these integers to avoid unnecessary int -> string -> int conversions 
private	TokenNameprivate	
static	TokenNamestatic	
String	TokenNameIdentifier	 String
nextId	TokenNameIdentifier	 next Id
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
idGen	TokenNameIdentifier	 id Gen
.	TokenNameDOT	
incrementAndGet	TokenNameIdentifier	 increment And Get
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* * @see #sendRR(Message message, InetAddress to, IMessageCallback cb, long timeout) */	TokenNameCOMMENT_BLOCK	 @see #sendRR(Message message, InetAddress to, IMessageCallback cb, long timeout) 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
sendRR	TokenNameIdentifier	 send RR
(	TokenNameLPAREN	
MessageOut	TokenNameIdentifier	 Message Out
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
InetAddress	TokenNameIdentifier	 Inet Address
to	TokenNameIdentifier	 to
,	TokenNameCOMMA	
IMessageCallback	TokenNameIdentifier	 I Message Callback
cb	TokenNameIdentifier	 cb
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
sendRR	TokenNameIdentifier	 send RR
(	TokenNameLPAREN	
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
to	TokenNameIdentifier	 to
,	TokenNameCOMMA	
cb	TokenNameIdentifier	 cb
,	TokenNameCOMMA	
message	TokenNameIdentifier	 message
.	TokenNameDOT	
getTimeout	TokenNameIdentifier	 get Timeout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Send a message to a given endpoint. This method specifies a callback * which is invoked with the actual response. * Also holds the message (only mutation messages) to determine if it * needs to trigger a hint (uses StorageProxy for that). * * @param message message to be sent. * @param to endpoint to which the message needs to be sent * @param cb callback interface which is used to pass the responses or * suggest that a timeout occurred to the invoker of the send(). * suggest that a timeout occurred to the invoker of the send(). * @param timeout the timeout used for expiration * @return an reference to message id used to match with the result */	TokenNameCOMMENT_JAVADOC	 Send a message to a given endpoint. This method specifies a callback which is invoked with the actual response. Also holds the message (only mutation messages) to determine if it needs to trigger a hint (uses StorageProxy for that). * @param message message to be sent. @param to endpoint to which the message needs to be sent @param cb callback interface which is used to pass the responses or suggest that a timeout occurred to the invoker of the send(). suggest that a timeout occurred to the invoker of the send(). @param timeout the timeout used for expiration @return an reference to message id used to match with the result 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
sendRR	TokenNameIdentifier	 send RR
(	TokenNameLPAREN	
MessageOut	TokenNameIdentifier	 Message Out
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
InetAddress	TokenNameIdentifier	 Inet Address
to	TokenNameIdentifier	 to
,	TokenNameCOMMA	
IMessageCallback	TokenNameIdentifier	 I Message Callback
cb	TokenNameIdentifier	 cb
,	TokenNameCOMMA	
long	TokenNamelong	
timeout	TokenNameIdentifier	 timeout
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
id	TokenNameIdentifier	 id
=	TokenNameEQUAL	
addCallback	TokenNameIdentifier	 add Callback
(	TokenNameLPAREN	
cb	TokenNameIdentifier	 cb
,	TokenNameCOMMA	
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
to	TokenNameIdentifier	 to
,	TokenNameCOMMA	
timeout	TokenNameIdentifier	 timeout
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
cb	TokenNameIdentifier	 cb
instanceof	TokenNameinstanceof	
AbstractWriteResponseHandler	TokenNameIdentifier	 Abstract Write Response Handler
)	TokenNameRPAREN	
{	TokenNameLBRACE	
PBSPredictor	TokenNameIdentifier	 PBS Predictor
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
startWriteOperation	TokenNameIdentifier	 start Write Operation
(	TokenNameLPAREN	
id	TokenNameIdentifier	 id
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
cb	TokenNameIdentifier	 cb
instanceof	TokenNameinstanceof	
ReadCallback	TokenNameIdentifier	 Read Callback
)	TokenNameRPAREN	
{	TokenNameLBRACE	
PBSPredictor	TokenNameIdentifier	 PBS Predictor
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
startReadOperation	TokenNameIdentifier	 start Read Operation
(	TokenNameLPAREN	
id	TokenNameIdentifier	 id
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
sendOneWay	TokenNameIdentifier	 send One Way
(	TokenNameLPAREN	
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
id	TokenNameIdentifier	 id
,	TokenNameCOMMA	
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
id	TokenNameIdentifier	 id
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
sendOneWay	TokenNameIdentifier	 send One Way
(	TokenNameLPAREN	
MessageOut	TokenNameIdentifier	 Message Out
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
InetAddress	TokenNameIdentifier	 Inet Address
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
{	TokenNameLBRACE	
sendOneWay	TokenNameIdentifier	 send One Way
(	TokenNameLPAREN	
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
nextId	TokenNameIdentifier	 next Id
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
sendReply	TokenNameIdentifier	 send Reply
(	TokenNameLPAREN	
MessageOut	TokenNameIdentifier	 Message Out
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
id	TokenNameIdentifier	 id
,	TokenNameCOMMA	
InetAddress	TokenNameIdentifier	 Inet Address
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
{	TokenNameLBRACE	
sendOneWay	TokenNameIdentifier	 send One Way
(	TokenNameLPAREN	
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
id	TokenNameIdentifier	 id
,	TokenNameCOMMA	
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Send a message to a given endpoint. This method adheres to the fire and forget * style messaging. * * @param message messages to be sent. * @param to endpoint to which the message needs to be sent */	TokenNameCOMMENT_JAVADOC	 Send a message to a given endpoint. This method adheres to the fire and forget style messaging. * @param message messages to be sent. @param to endpoint to which the message needs to be sent 
public	TokenNamepublic	
void	TokenNamevoid	
sendOneWay	TokenNameIdentifier	 send One Way
(	TokenNameLPAREN	
MessageOut	TokenNameIdentifier	 Message Out
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
id	TokenNameIdentifier	 id
,	TokenNameCOMMA	
InetAddress	TokenNameIdentifier	 Inet Address
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
isTraceEnabled	TokenNameIdentifier	 is Trace Enabled
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
trace	TokenNameIdentifier	 trace
(	TokenNameLPAREN	
FBUtilities	TokenNameIdentifier	 FB Utilities
.	TokenNameDOT	
getBroadcastAddress	TokenNameIdentifier	 get Broadcast Address
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" sending "	TokenNameStringLiteral	 sending 
+	TokenNamePLUS	
message	TokenNameIdentifier	 message
.	TokenNameDOT	
verb	TokenNameIdentifier	 verb
+	TokenNamePLUS	
" to "	TokenNameStringLiteral	 to 
+	TokenNamePLUS	
id	TokenNameIdentifier	 id
+	TokenNamePLUS	
"@"	TokenNameStringLiteral	@
+	TokenNamePLUS	
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
to	TokenNameIdentifier	 to
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
FBUtilities	TokenNameIdentifier	 FB Utilities
.	TokenNameDOT	
getBroadcastAddress	TokenNameIdentifier	 get Broadcast Address
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
trace	TokenNameIdentifier	 trace
(	TokenNameLPAREN	
"Message-to-self {} going over MessagingService"	TokenNameStringLiteral	Message-to-self {} going over MessagingService
,	TokenNameCOMMA	
message	TokenNameIdentifier	 message
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// message sinks are a testing hook 	TokenNameCOMMENT_LINE	message sinks are a testing hook 
MessageOut	TokenNameIdentifier	 Message Out
processedMessage	TokenNameIdentifier	 processed Message
=	TokenNameEQUAL	
SinkManager	TokenNameIdentifier	 Sink Manager
.	TokenNameDOT	
processOutboundMessage	TokenNameIdentifier	 process Outbound Message
(	TokenNameLPAREN	
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
id	TokenNameIdentifier	 id
,	TokenNameCOMMA	
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
processedMessage	TokenNameIdentifier	 processed Message
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// get pooled connection (really, connection queue) 	TokenNameCOMMENT_LINE	get pooled connection (really, connection queue) 
OutboundTcpConnection	TokenNameIdentifier	 Outbound Tcp Connection
connection	TokenNameIdentifier	 connection
=	TokenNameEQUAL	
getConnection	TokenNameIdentifier	 get Connection
(	TokenNameLPAREN	
to	TokenNameIdentifier	 to
,	TokenNameCOMMA	
processedMessage	TokenNameIdentifier	 processed Message
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// write it 	TokenNameCOMMENT_LINE	write it 
connection	TokenNameIdentifier	 connection
.	TokenNameDOT	
enqueue	TokenNameIdentifier	 enqueue
(	TokenNameLPAREN	
processedMessage	TokenNameIdentifier	 processed Message
,	TokenNameCOMMA	
id	TokenNameIdentifier	 id
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
<	TokenNameLESS	
T	TokenNameIdentifier	 T
>	TokenNameGREATER	
IAsyncResult	TokenNameIdentifier	 I Async Result
<	TokenNameLESS	
T	TokenNameIdentifier	 T
>	TokenNameGREATER	
sendRR	TokenNameIdentifier	 send RR
(	TokenNameLPAREN	
MessageOut	TokenNameIdentifier	 Message Out
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
InetAddress	TokenNameIdentifier	 Inet Address
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
{	TokenNameLBRACE	
IAsyncResult	TokenNameIdentifier	 I Async Result
<	TokenNameLESS	
T	TokenNameIdentifier	 T
>	TokenNameGREATER	
iar	TokenNameIdentifier	 iar
=	TokenNameEQUAL	
new	TokenNamenew	
AsyncResult	TokenNameIdentifier	 Async Result
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
sendRR	TokenNameIdentifier	 send RR
(	TokenNameLPAREN	
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
to	TokenNameIdentifier	 to
,	TokenNameCOMMA	
iar	TokenNameIdentifier	 iar
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
iar	TokenNameIdentifier	 iar
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Stream a file from source to destination. This is highly optimized * to not hold any of the contents of the file in memory. * * @param header Header contains file to stream and other metadata. * @param to endpoint to which we need to stream the file. */	TokenNameCOMMENT_JAVADOC	 Stream a file from source to destination. This is highly optimized to not hold any of the contents of the file in memory. * @param header Header contains file to stream and other metadata. @param to endpoint to which we need to stream the file. 
public	TokenNamepublic	
void	TokenNamevoid	
stream	TokenNameIdentifier	 stream
(	TokenNameLPAREN	
StreamHeader	TokenNameIdentifier	 Stream Header
header	TokenNameIdentifier	 header
,	TokenNameCOMMA	
InetAddress	TokenNameIdentifier	 Inet Address
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
{	TokenNameLBRACE	
DebuggableThreadPoolExecutor	TokenNameIdentifier	 Debuggable Thread Pool Executor
executor	TokenNameIdentifier	 executor
=	TokenNameEQUAL	
streamExecutors	TokenNameIdentifier	 stream Executors
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
executor	TokenNameIdentifier	 executor
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Using a core pool size of 0 is important. See documentation of streamExecutors. 	TokenNameCOMMENT_LINE	Using a core pool size of 0 is important. See documentation of streamExecutors. 
executor	TokenNameIdentifier	 executor
=	TokenNameEQUAL	
DebuggableThreadPoolExecutor	TokenNameIdentifier	 Debuggable Thread Pool Executor
.	TokenNameDOT	
createWithMaximumPoolSize	TokenNameIdentifier	 create With Maximum Pool Size
(	TokenNameLPAREN	
"Streaming to "	TokenNameStringLiteral	Streaming to 
+	TokenNamePLUS	
to	TokenNameIdentifier	 to
,	TokenNameCOMMA	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
TimeUnit	TokenNameIdentifier	 Time Unit
.	TokenNameDOT	
SECONDS	TokenNameIdentifier	 SECONDS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DebuggableThreadPoolExecutor	TokenNameIdentifier	 Debuggable Thread Pool Executor
old	TokenNameIdentifier	 old
=	TokenNameEQUAL	
streamExecutors	TokenNameIdentifier	 stream Executors
.	TokenNameDOT	
putIfAbsent	TokenNameIdentifier	 put If Absent
(	TokenNameLPAREN	
to	TokenNameIdentifier	 to
,	TokenNameCOMMA	
executor	TokenNameIdentifier	 executor
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
old	TokenNameIdentifier	 old
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
executor	TokenNameIdentifier	 executor
.	TokenNameDOT	
shutdown	TokenNameIdentifier	 shutdown
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
executor	TokenNameIdentifier	 executor
=	TokenNameEQUAL	
old	TokenNameIdentifier	 old
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
executor	TokenNameIdentifier	 executor
.	TokenNameDOT	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
header	TokenNameIdentifier	 header
.	TokenNameDOT	
file	TokenNameIdentifier	 file
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
header	TokenNameIdentifier	 header
.	TokenNameDOT	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
compressionInfo	TokenNameIdentifier	 compression Info
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
new	TokenNamenew	
FileStreamTask	TokenNameIdentifier	 File Stream Task
(	TokenNameLPAREN	
header	TokenNameIdentifier	 header
,	TokenNameCOMMA	
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
:	TokenNameCOLON	
new	TokenNamenew	
CompressedFileStreamTask	TokenNameIdentifier	 Compressed File Stream Task
(	TokenNameLPAREN	
header	TokenNameIdentifier	 header
,	TokenNameCOMMA	
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
register	TokenNameIdentifier	 register
(	TokenNameLPAREN	
ILatencySubscriber	TokenNameIdentifier	 I Latency Subscriber
subcriber	TokenNameIdentifier	 subcriber
)	TokenNameRPAREN	
{	TokenNameLBRACE	
subscribers	TokenNameIdentifier	 subscribers
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
subcriber	TokenNameIdentifier	 subcriber
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
clearCallbacksUnsafe	TokenNameIdentifier	 clear Callbacks Unsafe
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
callbacks	TokenNameIdentifier	 callbacks
.	TokenNameDOT	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
waitForStreaming	TokenNameIdentifier	 wait For Streaming
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
InterruptedException	TokenNameIdentifier	 Interrupted Exception
{	TokenNameLBRACE	
// this does not prevent new streams from beginning after a drain begins, but since streams are only 	TokenNameCOMMENT_LINE	this does not prevent new streams from beginning after a drain begins, but since streams are only 
// started in response to explicit operator action (bootstrap/move/repair/etc) that feels like a feature. 	TokenNameCOMMENT_LINE	started in response to explicit operator action (bootstrap/move/repair/etc) that feels like a feature. 
for	TokenNamefor	
(	TokenNameLPAREN	
DebuggableThreadPoolExecutor	TokenNameIdentifier	 Debuggable Thread Pool Executor
e	TokenNameIdentifier	 e
:	TokenNameCOLON	
streamExecutors	TokenNameIdentifier	 stream Executors
.	TokenNameDOT	
values	TokenNameIdentifier	 values
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
shutdown	TokenNameIdentifier	 shutdown
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
DebuggableThreadPoolExecutor	TokenNameIdentifier	 Debuggable Thread Pool Executor
e	TokenNameIdentifier	 e
:	TokenNameCOLON	
streamExecutors	TokenNameIdentifier	 stream Executors
.	TokenNameDOT	
values	TokenNameIdentifier	 values
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
awaitTermination	TokenNameIdentifier	 await Termination
(	TokenNameLPAREN	
24	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
TimeUnit	TokenNameIdentifier	 Time Unit
.	TokenNameDOT	
HOURS	TokenNameIdentifier	 HOURS
)	TokenNameRPAREN	
)	TokenNameRPAREN	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
error	TokenNameIdentifier	 error
(	TokenNameLPAREN	
"Stream took more than 24H to complete; skipping"	TokenNameStringLiteral	Stream took more than 24H to complete; skipping
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Wait for callbacks and don't allow any more to be created (since they could require writing hints) */	TokenNameCOMMENT_JAVADOC	 Wait for callbacks and don't allow any more to be created (since they could require writing hints) 
public	TokenNamepublic	
void	TokenNamevoid	
shutdown	TokenNameIdentifier	 shutdown
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
info	TokenNameIdentifier	 info
(	TokenNameLPAREN	
"Waiting for messaging service to quiesce"	TokenNameStringLiteral	Waiting for messaging service to quiesce
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// We may need to schedule hints on the mutation stage, so it's erroneous to shut down the mutation stage first 	TokenNameCOMMENT_LINE	We may need to schedule hints on the mutation stage, so it's erroneous to shut down the mutation stage first 
assert	TokenNameassert	
!	TokenNameNOT	
StageManager	TokenNameIdentifier	 Stage Manager
.	TokenNameDOT	
getStage	TokenNameIdentifier	 get Stage
(	TokenNameLPAREN	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
MUTATION	TokenNameIdentifier	 MUTATION
)	TokenNameRPAREN	
.	TokenNameDOT	
isShutdown	TokenNameIdentifier	 is Shutdown
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// the important part 	TokenNameCOMMENT_LINE	the important part 
callbacks	TokenNameIdentifier	 callbacks
.	TokenNameDOT	
shutdownBlocking	TokenNameIdentifier	 shutdown Blocking
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// attempt to humor tests that try to stop and restart MS 	TokenNameCOMMENT_LINE	attempt to humor tests that try to stop and restart MS 
try	TokenNametry	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
SocketThread	TokenNameIdentifier	 Socket Thread
th	TokenNameIdentifier	 th
:	TokenNameCOLON	
socketThreads	TokenNameIdentifier	 socket Threads
)	TokenNameRPAREN	
th	TokenNameIdentifier	 th
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
IOError	TokenNameIdentifier	 IO Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
receive	TokenNameIdentifier	 receive
(	TokenNameLPAREN	
MessageIn	TokenNameIdentifier	 Message In
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
id	TokenNameIdentifier	 id
,	TokenNameCOMMA	
long	TokenNamelong	
timestamp	TokenNameIdentifier	 timestamp
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Tracing	TokenNameIdentifier	 Tracing
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
initializeFromMessage	TokenNameIdentifier	 initialize From Message
(	TokenNameLPAREN	
message	TokenNameIdentifier	 message
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Tracing	TokenNameIdentifier	 Tracing
.	TokenNameDOT	
trace	TokenNameIdentifier	 trace
(	TokenNameLPAREN	
"Message received from {}"	TokenNameStringLiteral	Message received from {}
,	TokenNameCOMMA	
message	TokenNameIdentifier	 message
.	TokenNameDOT	
from	TokenNameIdentifier	 from
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
message	TokenNameIdentifier	 message
=	TokenNameEQUAL	
SinkManager	TokenNameIdentifier	 Sink Manager
.	TokenNameDOT	
processInboundMessage	TokenNameIdentifier	 process Inbound Message
(	TokenNameLPAREN	
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
id	TokenNameIdentifier	 id
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
message	TokenNameIdentifier	 message
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
Runnable	TokenNameIdentifier	 Runnable
runnable	TokenNameIdentifier	 runnable
=	TokenNameEQUAL	
new	TokenNamenew	
MessageDeliveryTask	TokenNameIdentifier	 Message Delivery Task
(	TokenNameLPAREN	
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
id	TokenNameIdentifier	 id
,	TokenNameCOMMA	
timestamp	TokenNameIdentifier	 timestamp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ExecutorService	TokenNameIdentifier	 Executor Service
stage	TokenNameIdentifier	 stage
=	TokenNameEQUAL	
StageManager	TokenNameIdentifier	 Stage Manager
.	TokenNameDOT	
getStage	TokenNameIdentifier	 get Stage
(	TokenNameLPAREN	
message	TokenNameIdentifier	 message
.	TokenNameDOT	
getMessageType	TokenNameIdentifier	 get Message Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assert	TokenNameassert	
stage	TokenNameIdentifier	 stage
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
:	TokenNameCOLON	
"No stage for message type "	TokenNameStringLiteral	No stage for message type 
+	TokenNamePLUS	
message	TokenNameIdentifier	 message
.	TokenNameDOT	
verb	TokenNameIdentifier	 verb
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
message	TokenNameIdentifier	 message
.	TokenNameDOT	
verb	TokenNameIdentifier	 verb
==	TokenNameEQUAL_EQUAL	
Verb	TokenNameIdentifier	 Verb
.	TokenNameDOT	
REQUEST_RESPONSE	TokenNameIdentifier	 REQUEST  RESPONSE
&&	TokenNameAND_AND	
PBSPredictor	TokenNameIdentifier	 PBS Predictor
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
isLoggingEnabled	TokenNameIdentifier	 is Logging Enabled
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
IMessageCallback	TokenNameIdentifier	 I Message Callback
cb	TokenNameIdentifier	 cb
=	TokenNameEQUAL	
MessagingService	TokenNameIdentifier	 Messaging Service
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getRegisteredCallback	TokenNameIdentifier	 get Registered Callback
(	TokenNameLPAREN	
id	TokenNameIdentifier	 id
)	TokenNameRPAREN	
.	TokenNameDOT	
callback	TokenNameIdentifier	 callback
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
cb	TokenNameIdentifier	 cb
instanceof	TokenNameinstanceof	
AbstractWriteResponseHandler	TokenNameIdentifier	 Abstract Write Response Handler
)	TokenNameRPAREN	
{	TokenNameLBRACE	
PBSPredictor	TokenNameIdentifier	 PBS Predictor
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
logWriteResponse	TokenNameIdentifier	 log Write Response
(	TokenNameLPAREN	
id	TokenNameIdentifier	 id
,	TokenNameCOMMA	
timestamp	TokenNameIdentifier	 timestamp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
cb	TokenNameIdentifier	 cb
instanceof	TokenNameinstanceof	
ReadCallback	TokenNameIdentifier	 Read Callback
)	TokenNameRPAREN	
{	TokenNameLBRACE	
PBSPredictor	TokenNameIdentifier	 PBS Predictor
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
logReadResponse	TokenNameIdentifier	 log Read Response
(	TokenNameLPAREN	
id	TokenNameIdentifier	 id
,	TokenNameCOMMA	
timestamp	TokenNameIdentifier	 timestamp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
stage	TokenNameIdentifier	 stage
.	TokenNameDOT	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
runnable	TokenNameIdentifier	 runnable
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
setCallbackForTests	TokenNameIdentifier	 set Callback For Tests
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
messageId	TokenNameIdentifier	 message Id
,	TokenNameCOMMA	
CallbackInfo	TokenNameIdentifier	 Callback Info
callback	TokenNameIdentifier	 callback
)	TokenNameRPAREN	
{	TokenNameLBRACE	
callbacks	TokenNameIdentifier	 callbacks
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
messageId	TokenNameIdentifier	 message Id
,	TokenNameCOMMA	
callback	TokenNameIdentifier	 callback
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
CallbackInfo	TokenNameIdentifier	 Callback Info
getRegisteredCallback	TokenNameIdentifier	 get Registered Callback
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
messageId	TokenNameIdentifier	 message Id
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
callbacks	TokenNameIdentifier	 callbacks
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
messageId	TokenNameIdentifier	 message Id
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
CallbackInfo	TokenNameIdentifier	 Callback Info
removeRegisteredCallback	TokenNameIdentifier	 remove Registered Callback
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
messageId	TokenNameIdentifier	 message Id
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
callbacks	TokenNameIdentifier	 callbacks
.	TokenNameDOT	
remove	TokenNameIdentifier	 remove
(	TokenNameLPAREN	
messageId	TokenNameIdentifier	 message Id
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
getRegisteredCallbackAge	TokenNameIdentifier	 get Registered Callback Age
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
messageId	TokenNameIdentifier	 message Id
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
callbacks	TokenNameIdentifier	 callbacks
.	TokenNameDOT	
getAge	TokenNameIdentifier	 get Age
(	TokenNameLPAREN	
messageId	TokenNameIdentifier	 message Id
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
static	TokenNamestatic	
void	TokenNamevoid	
validateMagic	TokenNameIdentifier	 validate Magic
(	TokenNameLPAREN	
int	TokenNameint	
magic	TokenNameIdentifier	 magic
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
magic	TokenNameIdentifier	 magic
!=	TokenNameNOT_EQUAL	
PROTOCOL_MAGIC	TokenNameIdentifier	 PROTOCOL  MAGIC
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
IOException	TokenNameIdentifier	 IO Exception
(	TokenNameLPAREN	
"invalid protocol header"	TokenNameStringLiteral	invalid protocol header
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
static	TokenNamestatic	
int	TokenNameint	
getBits	TokenNameIdentifier	 get Bits
(	TokenNameLPAREN	
int	TokenNameint	
packed	TokenNameIdentifier	 packed
,	TokenNameCOMMA	
int	TokenNameint	
start	TokenNameIdentifier	 start
,	TokenNameCOMMA	
int	TokenNameint	
count	TokenNameIdentifier	 count
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
packed	TokenNameIdentifier	 packed
>>>	TokenNameUNSIGNED_RIGHT_SHIFT	
(	TokenNameLPAREN	
start	TokenNameIdentifier	 start
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
-	TokenNameMINUS	
count	TokenNameIdentifier	 count
&	TokenNameAND	
~	TokenNameTWIDDLE	
(	TokenNameLPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
<<	TokenNameLEFT_SHIFT	
count	TokenNameIdentifier	 count
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
constructStreamHeader	TokenNameIdentifier	 construct Stream Header
(	TokenNameLPAREN	
StreamHeader	TokenNameIdentifier	 Stream Header
streamHeader	TokenNameIdentifier	 stream Header
,	TokenNameCOMMA	
boolean	TokenNameboolean	
compress	TokenNameIdentifier	 compress
,	TokenNameCOMMA	
int	TokenNameint	
version	TokenNameIdentifier	 version
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
header	TokenNameIdentifier	 header
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// set compression bit. 	TokenNameCOMMENT_LINE	set compression bit. 
if	TokenNameif	
(	TokenNameLPAREN	
compress	TokenNameIdentifier	 compress
)	TokenNameRPAREN	
header	TokenNameIdentifier	 header
|=	TokenNameOR_EQUAL	
4	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// set streaming bit 	TokenNameCOMMENT_LINE	set streaming bit 
header	TokenNameIdentifier	 header
|=	TokenNameOR_EQUAL	
8	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// Setting up the version bit 	TokenNameCOMMENT_LINE	Setting up the version bit 
header	TokenNameIdentifier	 header
|=	TokenNameOR_EQUAL	
(	TokenNameLPAREN	
version	TokenNameIdentifier	 version
<<	TokenNameLEFT_SHIFT	
8	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/* Adding the StreamHeader which contains the session Id along * with the pendingfile info for the stream. * | Session Id | Pending File Size | Pending File | Bool more files | * | No. of Pending files | Pending Files ... | */	TokenNameCOMMENT_BLOCK	 Adding the StreamHeader which contains the session Id along with the pendingfile info for the stream. | Session Id | Pending File Size | Pending File | Bool more files | | No. of Pending files | Pending Files ... | 
byte	TokenNamebyte	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
bytes	TokenNameIdentifier	 bytes
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
DataOutputBuffer	TokenNameIdentifier	 Data Output Buffer
buffer	TokenNameIdentifier	 buffer
=	TokenNameEQUAL	
new	TokenNamenew	
DataOutputBuffer	TokenNameIdentifier	 Data Output Buffer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
StreamHeader	TokenNameIdentifier	 Stream Header
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
.	TokenNameDOT	
serialize	TokenNameIdentifier	 serialize
(	TokenNameLPAREN	
streamHeader	TokenNameIdentifier	 stream Header
,	TokenNameCOMMA	
buffer	TokenNameIdentifier	 buffer
,	TokenNameCOMMA	
version	TokenNameIdentifier	 version
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
bytes	TokenNameIdentifier	 bytes
=	TokenNameEQUAL	
buffer	TokenNameIdentifier	 buffer
.	TokenNameDOT	
getData	TokenNameIdentifier	 get Data
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
assert	TokenNameassert	
bytes	TokenNameIdentifier	 bytes
.	TokenNameDOT	
length	TokenNameIdentifier	 length
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
buffer	TokenNameIdentifier	 buffer
=	TokenNameEQUAL	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
.	TokenNameDOT	
allocate	TokenNameIdentifier	 allocate
(	TokenNameLPAREN	
4	TokenNameIntegerLiteral	
+	TokenNamePLUS	
4	TokenNameIntegerLiteral	
+	TokenNamePLUS	
4	TokenNameIntegerLiteral	
+	TokenNamePLUS	
bytes	TokenNameIdentifier	 bytes
.	TokenNameDOT	
length	TokenNameIdentifier	 length
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
buffer	TokenNameIdentifier	 buffer
.	TokenNameDOT	
putInt	TokenNameIdentifier	 put Int
(	TokenNameLPAREN	
PROTOCOL_MAGIC	TokenNameIdentifier	 PROTOCOL  MAGIC
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
buffer	TokenNameIdentifier	 buffer
.	TokenNameDOT	
putInt	TokenNameIdentifier	 put Int
(	TokenNameLPAREN	
header	TokenNameIdentifier	 header
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
buffer	TokenNameIdentifier	 buffer
.	TokenNameDOT	
putInt	TokenNameIdentifier	 put Int
(	TokenNameLPAREN	
bytes	TokenNameIdentifier	 bytes
.	TokenNameDOT	
length	TokenNameIdentifier	 length
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
buffer	TokenNameIdentifier	 buffer
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
bytes	TokenNameIdentifier	 bytes
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
buffer	TokenNameIdentifier	 buffer
.	TokenNameDOT	
flip	TokenNameIdentifier	 flip
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
buffer	TokenNameIdentifier	 buffer
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @return the last version associated with address, or @param version if this is the first such version */	TokenNameCOMMENT_JAVADOC	 @return the last version associated with address, or @param version if this is the first such version 
public	TokenNamepublic	
int	TokenNameint	
setVersion	TokenNameIdentifier	 set Version
(	TokenNameLPAREN	
InetAddress	TokenNameIdentifier	 Inet Address
address	TokenNameIdentifier	 address
,	TokenNameCOMMA	
int	TokenNameint	
version	TokenNameIdentifier	 version
)	TokenNameRPAREN	
{	TokenNameLBRACE	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"Setting version {} for {}"	TokenNameStringLiteral	Setting version {} for {}
,	TokenNameCOMMA	
version	TokenNameIdentifier	 version
,	TokenNameCOMMA	
address	TokenNameIdentifier	 address
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Integer	TokenNameIdentifier	 Integer
v	TokenNameIdentifier	 v
=	TokenNameEQUAL	
versions	TokenNameIdentifier	 versions
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
address	TokenNameIdentifier	 address
,	TokenNameCOMMA	
version	TokenNameIdentifier	 version
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
v	TokenNameIdentifier	 v
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
version	TokenNameIdentifier	 version
:	TokenNameCOLON	
v	TokenNameIdentifier	 v
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
resetVersion	TokenNameIdentifier	 reset Version
(	TokenNameLPAREN	
InetAddress	TokenNameIdentifier	 Inet Address
endpoint	TokenNameIdentifier	 endpoint
)	TokenNameRPAREN	
{	TokenNameLBRACE	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"Reseting version for {}"	TokenNameStringLiteral	Reseting version for {}
,	TokenNameCOMMA	
endpoint	TokenNameIdentifier	 endpoint
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
versions	TokenNameIdentifier	 versions
.	TokenNameDOT	
remove	TokenNameIdentifier	 remove
(	TokenNameLPAREN	
endpoint	TokenNameIdentifier	 endpoint
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Integer	TokenNameIdentifier	 Integer
getVersion	TokenNameIdentifier	 get Version
(	TokenNameLPAREN	
InetAddress	TokenNameIdentifier	 Inet Address
address	TokenNameIdentifier	 address
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Integer	TokenNameIdentifier	 Integer
v	TokenNameIdentifier	 v
=	TokenNameEQUAL	
versions	TokenNameIdentifier	 versions
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
address	TokenNameIdentifier	 address
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
v	TokenNameIdentifier	 v
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// we don't know the version. assume current. we'll know soon enough if that was incorrect. 	TokenNameCOMMENT_LINE	we don't know the version. assume current. we'll know soon enough if that was incorrect. 
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
trace	TokenNameIdentifier	 trace
(	TokenNameLPAREN	
"Assuming current protocol version for {}"	TokenNameStringLiteral	Assuming current protocol version for {}
,	TokenNameCOMMA	
address	TokenNameIdentifier	 address
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
MessagingService	TokenNameIdentifier	 Messaging Service
.	TokenNameDOT	
current_version	TokenNameIdentifier	 current version
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
return	TokenNamereturn	
v	TokenNameIdentifier	 v
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
int	TokenNameint	
getVersion	TokenNameIdentifier	 get Version
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
address	TokenNameIdentifier	 address
)	TokenNameRPAREN	
throws	TokenNamethrows	
UnknownHostException	TokenNameIdentifier	 Unknown Host Exception
{	TokenNameLBRACE	
return	TokenNamereturn	
getVersion	TokenNameIdentifier	 get Version
(	TokenNameLPAREN	
InetAddress	TokenNameIdentifier	 Inet Address
.	TokenNameDOT	
getByName	TokenNameIdentifier	 get By Name
(	TokenNameLPAREN	
address	TokenNameIdentifier	 address
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
boolean	TokenNameboolean	
knowsVersion	TokenNameIdentifier	 knows Version
(	TokenNameLPAREN	
InetAddress	TokenNameIdentifier	 Inet Address
endpoint	TokenNameIdentifier	 endpoint
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
versions	TokenNameIdentifier	 versions
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
endpoint	TokenNameIdentifier	 endpoint
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
incrementDroppedMessages	TokenNameIdentifier	 increment Dropped Messages
(	TokenNameLPAREN	
Verb	TokenNameIdentifier	 Verb
verb	TokenNameIdentifier	 verb
)	TokenNameRPAREN	
{	TokenNameLBRACE	
assert	TokenNameassert	
DROPPABLE_VERBS	TokenNameIdentifier	 DROPPABLE  VERBS
.	TokenNameDOT	
contains	TokenNameIdentifier	 contains
(	TokenNameLPAREN	
verb	TokenNameIdentifier	 verb
)	TokenNameRPAREN	
:	TokenNameCOLON	
"Verb "	TokenNameStringLiteral	Verb 
+	TokenNamePLUS	
verb	TokenNameIdentifier	 verb
+	TokenNamePLUS	
" should not legally be dropped"	TokenNameStringLiteral	 should not legally be dropped
;	TokenNameSEMICOLON	
droppedMessages	TokenNameIdentifier	 dropped Messages
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
verb	TokenNameIdentifier	 verb
)	TokenNameRPAREN	
.	TokenNameDOT	
dropped	TokenNameIdentifier	 dropped
.	TokenNameDOT	
mark	TokenNameIdentifier	 mark
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
logDroppedMessages	TokenNameIdentifier	 log Dropped Messages
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
logTpstats	TokenNameIdentifier	 log Tpstats
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Map	TokenNameIdentifier	 Map
.	TokenNameDOT	
Entry	TokenNameIdentifier	 Entry
<	TokenNameLESS	
Verb	TokenNameIdentifier	 Verb
,	TokenNameCOMMA	
DroppedMessageMetrics	TokenNameIdentifier	 Dropped Message Metrics
>	TokenNameGREATER	
entry	TokenNameIdentifier	 entry
:	TokenNameCOLON	
droppedMessages	TokenNameIdentifier	 dropped Messages
.	TokenNameDOT	
entrySet	TokenNameIdentifier	 entry Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
dropped	TokenNameIdentifier	 dropped
=	TokenNameEQUAL	
(	TokenNameLPAREN	
int	TokenNameint	
)	TokenNameRPAREN	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
dropped	TokenNameIdentifier	 dropped
.	TokenNameDOT	
count	TokenNameIdentifier	 count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Verb	TokenNameIdentifier	 Verb
verb	TokenNameIdentifier	 verb
=	TokenNameEQUAL	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getKey	TokenNameIdentifier	 get Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
recent	TokenNameIdentifier	 recent
=	TokenNameEQUAL	
dropped	TokenNameIdentifier	 dropped
-	TokenNameMINUS	
lastDroppedInternal	TokenNameIdentifier	 last Dropped Internal
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
verb	TokenNameIdentifier	 verb
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
recent	TokenNameIdentifier	 recent
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
logTpstats	TokenNameIdentifier	 log Tpstats
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
info	TokenNameIdentifier	 info
(	TokenNameLPAREN	
"{} {} messages dropped in last {}ms"	TokenNameStringLiteral	{} {} messages dropped in last {}ms
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
recent	TokenNameIdentifier	 recent
,	TokenNameCOMMA	
verb	TokenNameIdentifier	 verb
,	TokenNameCOMMA	
LOG_DROPPED_INTERVAL_IN_MS	TokenNameIdentifier	 LOG  DROPPED  INTERVAL  IN  MS
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lastDroppedInternal	TokenNameIdentifier	 last Dropped Internal
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
verb	TokenNameIdentifier	 verb
,	TokenNameCOMMA	
dropped	TokenNameIdentifier	 dropped
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
logTpstats	TokenNameIdentifier	 log Tpstats
)	TokenNameRPAREN	
StatusLogger	TokenNameIdentifier	 Status Logger
.	TokenNameDOT	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
class	TokenNameclass	
SocketThread	TokenNameIdentifier	 Socket Thread
extends	TokenNameextends	
Thread	TokenNameIdentifier	 Thread
{	TokenNameLBRACE	
private	TokenNameprivate	
final	TokenNamefinal	
ServerSocket	TokenNameIdentifier	 Server Socket
server	TokenNameIdentifier	 server
;	TokenNameSEMICOLON	
SocketThread	TokenNameIdentifier	 Socket Thread
(	TokenNameLPAREN	
ServerSocket	TokenNameIdentifier	 Server Socket
server	TokenNameIdentifier	 server
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
server	TokenNameIdentifier	 server
=	TokenNameEQUAL	
server	TokenNameIdentifier	 server
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
Socket	TokenNameIdentifier	 Socket
socket	TokenNameIdentifier	 socket
=	TokenNameEQUAL	
server	TokenNameIdentifier	 server
.	TokenNameDOT	
accept	TokenNameIdentifier	 accept
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
new	TokenNamenew	
IncomingTcpConnection	TokenNameIdentifier	 Incoming Tcp Connection
(	TokenNameLPAREN	
socket	TokenNameIdentifier	 socket
)	TokenNameRPAREN	
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
AsynchronousCloseException	TokenNameIdentifier	 Asynchronous Close Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// this happens when another thread calls close(). 	TokenNameCOMMENT_LINE	this happens when another thread calls close(). 
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
info	TokenNameIdentifier	 info
(	TokenNameLPAREN	
"MessagingService shutting down server thread."	TokenNameStringLiteral	MessagingService shutting down server thread.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
void	TokenNamevoid	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
server	TokenNameIdentifier	 server
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
>	TokenNameGREATER	
getCommandPendingTasks	TokenNameIdentifier	 get Command Pending Tasks
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
>	TokenNameGREATER	
pendingTasks	TokenNameIdentifier	 pending Tasks
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Map	TokenNameIdentifier	 Map
.	TokenNameDOT	
Entry	TokenNameIdentifier	 Entry
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
,	TokenNameCOMMA	
OutboundTcpConnectionPool	TokenNameIdentifier	 Outbound Tcp Connection Pool
>	TokenNameGREATER	
entry	TokenNameIdentifier	 entry
:	TokenNameCOLON	
connectionManagers	TokenNameIdentifier	 connection Managers
.	TokenNameDOT	
entrySet	TokenNameIdentifier	 entry Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
pendingTasks	TokenNameIdentifier	 pending Tasks
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getKey	TokenNameIdentifier	 get Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getHostAddress	TokenNameIdentifier	 get Host Address
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
cmdCon	TokenNameIdentifier	 cmd Con
.	TokenNameDOT	
getPendingMessages	TokenNameIdentifier	 get Pending Messages
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
pendingTasks	TokenNameIdentifier	 pending Tasks
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
int	TokenNameint	
getCommandPendingTasks	TokenNameIdentifier	 get Command Pending Tasks
(	TokenNameLPAREN	
InetAddress	TokenNameIdentifier	 Inet Address
address	TokenNameIdentifier	 address
)	TokenNameRPAREN	
{	TokenNameLBRACE	
OutboundTcpConnectionPool	TokenNameIdentifier	 Outbound Tcp Connection Pool
connection	TokenNameIdentifier	 connection
=	TokenNameEQUAL	
connectionManagers	TokenNameIdentifier	 connection Managers
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
address	TokenNameIdentifier	 address
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
connection	TokenNameIdentifier	 connection
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
0	TokenNameIntegerLiteral	
:	TokenNameCOLON	
connection	TokenNameIdentifier	 connection
.	TokenNameDOT	
cmdCon	TokenNameIdentifier	 cmd Con
.	TokenNameDOT	
getPendingMessages	TokenNameIdentifier	 get Pending Messages
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Long	TokenNameIdentifier	 Long
>	TokenNameGREATER	
getCommandCompletedTasks	TokenNameIdentifier	 get Command Completed Tasks
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Long	TokenNameIdentifier	 Long
>	TokenNameGREATER	
completedTasks	TokenNameIdentifier	 completed Tasks
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Long	TokenNameIdentifier	 Long
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Map	TokenNameIdentifier	 Map
.	TokenNameDOT	
Entry	TokenNameIdentifier	 Entry
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
,	TokenNameCOMMA	
OutboundTcpConnectionPool	TokenNameIdentifier	 Outbound Tcp Connection Pool
>	TokenNameGREATER	
entry	TokenNameIdentifier	 entry
:	TokenNameCOLON	
connectionManagers	TokenNameIdentifier	 connection Managers
.	TokenNameDOT	
entrySet	TokenNameIdentifier	 entry Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
completedTasks	TokenNameIdentifier	 completed Tasks
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getKey	TokenNameIdentifier	 get Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getHostAddress	TokenNameIdentifier	 get Host Address
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
cmdCon	TokenNameIdentifier	 cmd Con
.	TokenNameDOT	
getCompletedMesssages	TokenNameIdentifier	 get Completed Messsages
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
completedTasks	TokenNameIdentifier	 completed Tasks
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Long	TokenNameIdentifier	 Long
>	TokenNameGREATER	
getCommandDroppedTasks	TokenNameIdentifier	 get Command Dropped Tasks
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Long	TokenNameIdentifier	 Long
>	TokenNameGREATER	
droppedTasks	TokenNameIdentifier	 dropped Tasks
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Long	TokenNameIdentifier	 Long
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Map	TokenNameIdentifier	 Map
.	TokenNameDOT	
Entry	TokenNameIdentifier	 Entry
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
,	TokenNameCOMMA	
OutboundTcpConnectionPool	TokenNameIdentifier	 Outbound Tcp Connection Pool
>	TokenNameGREATER	
entry	TokenNameIdentifier	 entry
:	TokenNameCOLON	
connectionManagers	TokenNameIdentifier	 connection Managers
.	TokenNameDOT	
entrySet	TokenNameIdentifier	 entry Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
droppedTasks	TokenNameIdentifier	 dropped Tasks
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getKey	TokenNameIdentifier	 get Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getHostAddress	TokenNameIdentifier	 get Host Address
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
cmdCon	TokenNameIdentifier	 cmd Con
.	TokenNameDOT	
getDroppedMessages	TokenNameIdentifier	 get Dropped Messages
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
droppedTasks	TokenNameIdentifier	 dropped Tasks
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
>	TokenNameGREATER	
getResponsePendingTasks	TokenNameIdentifier	 get Response Pending Tasks
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
>	TokenNameGREATER	
pendingTasks	TokenNameIdentifier	 pending Tasks
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Map	TokenNameIdentifier	 Map
.	TokenNameDOT	
Entry	TokenNameIdentifier	 Entry
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
,	TokenNameCOMMA	
OutboundTcpConnectionPool	TokenNameIdentifier	 Outbound Tcp Connection Pool
>	TokenNameGREATER	
entry	TokenNameIdentifier	 entry
:	TokenNameCOLON	
connectionManagers	TokenNameIdentifier	 connection Managers
.	TokenNameDOT	
entrySet	TokenNameIdentifier	 entry Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
pendingTasks	TokenNameIdentifier	 pending Tasks
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getKey	TokenNameIdentifier	 get Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getHostAddress	TokenNameIdentifier	 get Host Address
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
ackCon	TokenNameIdentifier	 ack Con
.	TokenNameDOT	
getPendingMessages	TokenNameIdentifier	 get Pending Messages
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
pendingTasks	TokenNameIdentifier	 pending Tasks
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Long	TokenNameIdentifier	 Long
>	TokenNameGREATER	
getResponseCompletedTasks	TokenNameIdentifier	 get Response Completed Tasks
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Long	TokenNameIdentifier	 Long
>	TokenNameGREATER	
completedTasks	TokenNameIdentifier	 completed Tasks
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Long	TokenNameIdentifier	 Long
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Map	TokenNameIdentifier	 Map
.	TokenNameDOT	
Entry	TokenNameIdentifier	 Entry
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
,	TokenNameCOMMA	
OutboundTcpConnectionPool	TokenNameIdentifier	 Outbound Tcp Connection Pool
>	TokenNameGREATER	
entry	TokenNameIdentifier	 entry
:	TokenNameCOLON	
connectionManagers	TokenNameIdentifier	 connection Managers
.	TokenNameDOT	
entrySet	TokenNameIdentifier	 entry Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
completedTasks	TokenNameIdentifier	 completed Tasks
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getKey	TokenNameIdentifier	 get Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getHostAddress	TokenNameIdentifier	 get Host Address
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
ackCon	TokenNameIdentifier	 ack Con
.	TokenNameDOT	
getCompletedMesssages	TokenNameIdentifier	 get Completed Messsages
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
completedTasks	TokenNameIdentifier	 completed Tasks
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
>	TokenNameGREATER	
getDroppedMessages	TokenNameIdentifier	 get Dropped Messages
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
>	TokenNameGREATER	
map	TokenNameIdentifier	 map
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Map	TokenNameIdentifier	 Map
.	TokenNameDOT	
Entry	TokenNameIdentifier	 Entry
<	TokenNameLESS	
Verb	TokenNameIdentifier	 Verb
,	TokenNameCOMMA	
DroppedMessageMetrics	TokenNameIdentifier	 Dropped Message Metrics
>	TokenNameGREATER	
entry	TokenNameIdentifier	 entry
:	TokenNameCOLON	
droppedMessages	TokenNameIdentifier	 dropped Messages
.	TokenNameDOT	
entrySet	TokenNameIdentifier	 entry Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
map	TokenNameIdentifier	 map
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getKey	TokenNameIdentifier	 get Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
(	TokenNameLPAREN	
int	TokenNameint	
)	TokenNameRPAREN	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
dropped	TokenNameIdentifier	 dropped
.	TokenNameDOT	
count	TokenNameIdentifier	 count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
map	TokenNameIdentifier	 map
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
>	TokenNameGREATER	
getRecentlyDroppedMessages	TokenNameIdentifier	 get Recently Dropped Messages
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
>	TokenNameGREATER	
map	TokenNameIdentifier	 map
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Map	TokenNameIdentifier	 Map
.	TokenNameDOT	
Entry	TokenNameIdentifier	 Entry
<	TokenNameLESS	
Verb	TokenNameIdentifier	 Verb
,	TokenNameCOMMA	
DroppedMessageMetrics	TokenNameIdentifier	 Dropped Message Metrics
>	TokenNameGREATER	
entry	TokenNameIdentifier	 entry
:	TokenNameCOLON	
droppedMessages	TokenNameIdentifier	 dropped Messages
.	TokenNameDOT	
entrySet	TokenNameIdentifier	 entry Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
map	TokenNameIdentifier	 map
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getKey	TokenNameIdentifier	 get Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getRecentlyDropped	TokenNameIdentifier	 get Recently Dropped
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
map	TokenNameIdentifier	 map
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
getTotalTimeouts	TokenNameIdentifier	 get Total Timeouts
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
ConnectionMetrics	TokenNameIdentifier	 Connection Metrics
.	TokenNameDOT	
totalTimeouts	TokenNameIdentifier	 total Timeouts
.	TokenNameDOT	
count	TokenNameIdentifier	 count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
getRecentTotalTimouts	TokenNameIdentifier	 get Recent Total Timouts
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
ConnectionMetrics	TokenNameIdentifier	 Connection Metrics
.	TokenNameDOT	
getRecentTotalTimeout	TokenNameIdentifier	 get Recent Total Timeout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Long	TokenNameIdentifier	 Long
>	TokenNameGREATER	
getTimeoutsPerHost	TokenNameIdentifier	 get Timeouts Per Host
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Long	TokenNameIdentifier	 Long
>	TokenNameGREATER	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Long	TokenNameIdentifier	 Long
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Map	TokenNameIdentifier	 Map
.	TokenNameDOT	
Entry	TokenNameIdentifier	 Entry
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
,	TokenNameCOMMA	
OutboundTcpConnectionPool	TokenNameIdentifier	 Outbound Tcp Connection Pool
>	TokenNameGREATER	
entry	TokenNameIdentifier	 entry
:	TokenNameCOLON	
connectionManagers	TokenNameIdentifier	 connection Managers
.	TokenNameDOT	
entrySet	TokenNameIdentifier	 entry Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
ip	TokenNameIdentifier	 ip
=	TokenNameEQUAL	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getKey	TokenNameIdentifier	 get Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getHostAddress	TokenNameIdentifier	 get Host Address
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
long	TokenNamelong	
recent	TokenNameIdentifier	 recent
=	TokenNameEQUAL	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getTimeouts	TokenNameIdentifier	 get Timeouts
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
ip	TokenNameIdentifier	 ip
,	TokenNameCOMMA	
recent	TokenNameIdentifier	 recent
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
result	TokenNameIdentifier	 result
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Long	TokenNameIdentifier	 Long
>	TokenNameGREATER	
getRecentTimeoutsPerHost	TokenNameIdentifier	 get Recent Timeouts Per Host
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Long	TokenNameIdentifier	 Long
>	TokenNameGREATER	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Long	TokenNameIdentifier	 Long
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Map	TokenNameIdentifier	 Map
.	TokenNameDOT	
Entry	TokenNameIdentifier	 Entry
<	TokenNameLESS	
InetAddress	TokenNameIdentifier	 Inet Address
,	TokenNameCOMMA	
OutboundTcpConnectionPool	TokenNameIdentifier	 Outbound Tcp Connection Pool
>	TokenNameGREATER	
entry	TokenNameIdentifier	 entry
:	TokenNameCOLON	
connectionManagers	TokenNameIdentifier	 connection Managers
.	TokenNameDOT	
entrySet	TokenNameIdentifier	 entry Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
ip	TokenNameIdentifier	 ip
=	TokenNameEQUAL	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getKey	TokenNameIdentifier	 get Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getHostAddress	TokenNameIdentifier	 get Host Address
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
long	TokenNamelong	
recent	TokenNameIdentifier	 recent
=	TokenNameEQUAL	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getRecentTimeouts	TokenNameIdentifier	 get Recent Timeouts
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
ip	TokenNameIdentifier	 ip
,	TokenNameCOMMA	
recent	TokenNameIdentifier	 recent
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
result	TokenNameIdentifier	 result
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
