/* Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
rendered	TokenNameIdentifier	 rendered
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
CompositeContext	TokenNameIdentifier	 Composite Context
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
Graphics2D	TokenNameIdentifier	 Graphics2 D
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
Point	TokenNameIdentifier	 Point
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
Rectangle	TokenNameIdentifier	 Rectangle
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
color	TokenNameIdentifier	 color
.	TokenNameDOT	
ColorSpace	TokenNameIdentifier	 Color Space
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
BufferedImage	TokenNameIdentifier	 Buffered Image
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
ColorModel	TokenNameIdentifier	 Color Model
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
DataBuffer	TokenNameIdentifier	 Data Buffer
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
DirectColorModel	TokenNameIdentifier	 Direct Color Model
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
Raster	TokenNameIdentifier	 Raster
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
SampleModel	TokenNameIdentifier	 Sample Model
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
WritableRaster	TokenNameIdentifier	 Writable Raster
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Iterator	TokenNameIdentifier	 Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
List	TokenNameIdentifier	 List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ArrayList	TokenNameIdentifier	 Array List
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
CompositeRule	TokenNameIdentifier	 Composite Rule
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
GraphicsUtil	TokenNameIdentifier	 Graphics Util
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
PadMode	TokenNameIdentifier	 Pad Mode
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
SVGComposite	TokenNameIdentifier	 SVG Composite
;	TokenNameSEMICOLON	
/** * This is an implementation of an affine operation as a RenderedImage. * Right now the implementation makes use of the AffineBufferedImageOp * to do the work. Eventually this may move to be more tiled in nature. * * @author <a href="mailto:Thomas.DeWeeese@Kodak.com">Thomas DeWeese</a> * @version $Id: CompositeRed.java 489226 2006-12-21 00:05:36Z cam $ */	TokenNameCOMMENT_JAVADOC	 This is an implementation of an affine operation as a RenderedImage. Right now the implementation makes use of the AffineBufferedImageOp to do the work. Eventually this may move to be more tiled in nature. * @author <a href="mailto:Thomas.DeWeeese@Kodak.com">Thomas DeWeese</a> @version $Id: CompositeRed.java 489226 2006-12-21 00:05:36Z cam $ 
public	TokenNamepublic	
class	TokenNameclass	
CompositeRed	TokenNameIdentifier	 Composite Red
extends	TokenNameextends	
AbstractRed	TokenNameIdentifier	 Abstract Red
{	TokenNameLBRACE	
CompositeRule	TokenNameIdentifier	 Composite Rule
rule	TokenNameIdentifier	 rule
;	TokenNameSEMICOLON	
CompositeContext	TokenNameIdentifier	 Composite Context
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
contexts	TokenNameIdentifier	 contexts
;	TokenNameSEMICOLON	
public	TokenNamepublic	
CompositeRed	TokenNameIdentifier	 Composite Red
(	TokenNameLPAREN	
List	TokenNameIdentifier	 List
srcs	TokenNameIdentifier	 srcs
,	TokenNameCOMMA	
CompositeRule	TokenNameIdentifier	 Composite Rule
rule	TokenNameIdentifier	 rule
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// We _must_ call init... 	TokenNameCOMMENT_LINE	We _must_ call init... 
CachableRed	TokenNameIdentifier	 Cachable Red
src	TokenNameIdentifier	 src
=	TokenNameEQUAL	
(	TokenNameLPAREN	
CachableRed	TokenNameIdentifier	 Cachable Red
)	TokenNameRPAREN	
srcs	TokenNameIdentifier	 srcs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ColorModel	TokenNameIdentifier	 Color Model
cm	TokenNameIdentifier	 cm
=	TokenNameEQUAL	
fixColorModel	TokenNameIdentifier	 fix Color Model
(	TokenNameLPAREN	
src	TokenNameIdentifier	 src
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
rule	TokenNameIdentifier	 rule
=	TokenNameEQUAL	
rule	TokenNameIdentifier	 rule
;	TokenNameSEMICOLON	
SVGComposite	TokenNameIdentifier	 SVG Composite
comp	TokenNameIdentifier	 comp
=	TokenNameEQUAL	
new	TokenNamenew	
SVGComposite	TokenNameIdentifier	 SVG Composite
(	TokenNameLPAREN	
rule	TokenNameIdentifier	 rule
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
contexts	TokenNameIdentifier	 contexts
=	TokenNameEQUAL	
new	TokenNamenew	
CompositeContext	TokenNameIdentifier	 Composite Context
[	TokenNameLBRACKET	
srcs	TokenNameIdentifier	 srcs
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
int	TokenNameint	
idx	TokenNameIdentifier	 idx
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
Iterator	TokenNameIdentifier	 Iterator
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
srcs	TokenNameIdentifier	 srcs
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle	TokenNameIdentifier	 Rectangle
myBounds	TokenNameIdentifier	 my Bounds
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
CachableRed	TokenNameIdentifier	 Cachable Red
cr	TokenNameIdentifier	 cr
=	TokenNameEQUAL	
(	TokenNameLPAREN	
CachableRed	TokenNameIdentifier	 Cachable Red
)	TokenNameRPAREN	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
contexts	TokenNameIdentifier	 contexts
[	TokenNameLBRACKET	
idx	TokenNameIdentifier	 idx
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
comp	TokenNameIdentifier	 comp
.	TokenNameDOT	
createContext	TokenNameIdentifier	 create Context
(	TokenNameLPAREN	
cr	TokenNameIdentifier	 cr
.	TokenNameDOT	
getColorModel	TokenNameIdentifier	 get Color Model
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
cm	TokenNameIdentifier	 cm
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle	TokenNameIdentifier	 Rectangle
newBound	TokenNameIdentifier	 new Bound
=	TokenNameEQUAL	
cr	TokenNameIdentifier	 cr
.	TokenNameDOT	
getBounds	TokenNameIdentifier	 get Bounds
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
myBounds	TokenNameIdentifier	 my Bounds
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
myBounds	TokenNameIdentifier	 my Bounds
=	TokenNameEQUAL	
newBound	TokenNameIdentifier	 new Bound
;	TokenNameSEMICOLON	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
switch	TokenNameswitch	
(	TokenNameLPAREN	
rule	TokenNameIdentifier	 rule
.	TokenNameDOT	
getRule	TokenNameIdentifier	 get Rule
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
case	TokenNamecase	
CompositeRule	TokenNameIdentifier	 Composite Rule
.	TokenNameDOT	
RULE_IN	TokenNameIdentifier	 RULE  IN
:	TokenNameCOLON	
if	TokenNameif	
(	TokenNameLPAREN	
myBounds	TokenNameIdentifier	 my Bounds
.	TokenNameDOT	
intersects	TokenNameIdentifier	 intersects
(	TokenNameLPAREN	
newBound	TokenNameIdentifier	 new Bound
)	TokenNameRPAREN	
)	TokenNameRPAREN	
myBounds	TokenNameIdentifier	 my Bounds
=	TokenNameEQUAL	
myBounds	TokenNameIdentifier	 my Bounds
.	TokenNameDOT	
intersection	TokenNameIdentifier	 intersection
(	TokenNameLPAREN	
newBound	TokenNameIdentifier	 new Bound
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
{	TokenNameLBRACE	
myBounds	TokenNameIdentifier	 my Bounds
.	TokenNameDOT	
width	TokenNameIdentifier	 width
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
myBounds	TokenNameIdentifier	 my Bounds
.	TokenNameDOT	
height	TokenNameIdentifier	 height
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
CompositeRule	TokenNameIdentifier	 Composite Rule
.	TokenNameDOT	
RULE_OUT	TokenNameIdentifier	 RULE  OUT
:	TokenNameCOLON	
// Last node determines bounds... 	TokenNameCOMMENT_LINE	Last node determines bounds... 
myBounds	TokenNameIdentifier	 my Bounds
=	TokenNameEQUAL	
newBound	TokenNameIdentifier	 new Bound
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
default	TokenNamedefault	
:	TokenNameCOLON	
// myBounds= myBounds.union(newBound); 	TokenNameCOMMENT_LINE	myBounds= myBounds.union(newBound); 
myBounds	TokenNameIdentifier	 my Bounds
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
newBound	TokenNameIdentifier	 new Bound
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
myBounds	TokenNameIdentifier	 my Bounds
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalArgumentException	TokenNameIdentifier	 Illegal Argument Exception
(	TokenNameLPAREN	
"Composite Operation Must have some source!"	TokenNameStringLiteral	Composite Operation Must have some source!
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
rule	TokenNameIdentifier	 rule
.	TokenNameDOT	
getRule	TokenNameIdentifier	 get Rule
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
CompositeRule	TokenNameIdentifier	 Composite Rule
.	TokenNameDOT	
RULE_ARITHMETIC	TokenNameIdentifier	 RULE  ARITHMETIC
)	TokenNameRPAREN	
{	TokenNameLBRACE	
List	TokenNameIdentifier	 List
vec	TokenNameIdentifier	 vec
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
(	TokenNameLPAREN	
srcs	TokenNameIdentifier	 srcs
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
srcs	TokenNameIdentifier	 srcs
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
CachableRed	TokenNameIdentifier	 Cachable Red
cr	TokenNameIdentifier	 cr
=	TokenNameEQUAL	
(	TokenNameLPAREN	
CachableRed	TokenNameIdentifier	 Cachable Red
)	TokenNameRPAREN	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle	TokenNameIdentifier	 Rectangle
r	TokenNameIdentifier	 r
=	TokenNameEQUAL	
cr	TokenNameIdentifier	 cr
.	TokenNameDOT	
getBounds	TokenNameIdentifier	 get Bounds
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// For arithmetic make sure they are all the same size... 	TokenNameCOMMENT_LINE	For arithmetic make sure they are all the same size... 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
x	TokenNameIdentifier	 x
!=	TokenNameNOT_EQUAL	
myBounds	TokenNameIdentifier	 my Bounds
.	TokenNameDOT	
x	TokenNameIdentifier	 x
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
y	TokenNameIdentifier	 y
!=	TokenNameNOT_EQUAL	
myBounds	TokenNameIdentifier	 my Bounds
.	TokenNameDOT	
y	TokenNameIdentifier	 y
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
width	TokenNameIdentifier	 width
!=	TokenNameNOT_EQUAL	
myBounds	TokenNameIdentifier	 my Bounds
.	TokenNameDOT	
width	TokenNameIdentifier	 width
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
height	TokenNameIdentifier	 height
!=	TokenNameNOT_EQUAL	
myBounds	TokenNameIdentifier	 my Bounds
.	TokenNameDOT	
height	TokenNameIdentifier	 height
)	TokenNameRPAREN	
)	TokenNameRPAREN	
cr	TokenNameIdentifier	 cr
=	TokenNameEQUAL	
new	TokenNamenew	
PadRed	TokenNameIdentifier	 Pad Red
(	TokenNameLPAREN	
cr	TokenNameIdentifier	 cr
,	TokenNameCOMMA	
myBounds	TokenNameIdentifier	 my Bounds
,	TokenNameCOMMA	
PadMode	TokenNameIdentifier	 Pad Mode
.	TokenNameDOT	
ZERO_PAD	TokenNameIdentifier	 ZERO  PAD
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
vec	TokenNameIdentifier	 vec
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
cr	TokenNameIdentifier	 cr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
srcs	TokenNameIdentifier	 srcs
=	TokenNameEQUAL	
vec	TokenNameIdentifier	 vec
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// fix my sample model so it makes sense given my size. 	TokenNameCOMMENT_LINE	fix my sample model so it makes sense given my size. 
SampleModel	TokenNameIdentifier	 Sample Model
sm	TokenNameIdentifier	 sm
=	TokenNameEQUAL	
fixSampleModel	TokenNameIdentifier	 fix Sample Model
(	TokenNameLPAREN	
src	TokenNameIdentifier	 src
,	TokenNameCOMMA	
cm	TokenNameIdentifier	 cm
,	TokenNameCOMMA	
myBounds	TokenNameIdentifier	 my Bounds
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("Comp: " + myBounds); 	TokenNameCOMMENT_LINE	System.out.println("Comp: " + myBounds); 
// System.out.println(" SM: " + sm.getWidth()+"x"+sm.getHeight()); 	TokenNameCOMMENT_LINE	System.out.println(" SM: " + sm.getWidth()+"x"+sm.getHeight()); 
int	TokenNameint	
defSz	TokenNameIdentifier	 def Sz
=	TokenNameEQUAL	
AbstractTiledRed	TokenNameIdentifier	 Abstract Tiled Red
.	TokenNameDOT	
getDefaultTileSize	TokenNameIdentifier	 get Default Tile Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Make tile(0,0) fall on the closest intersection of defaultSz. 	TokenNameCOMMENT_LINE	Make tile(0,0) fall on the closest intersection of defaultSz. 
int	TokenNameint	
tgX	TokenNameIdentifier	 tg X
=	TokenNameEQUAL	
defSz	TokenNameIdentifier	 def Sz
*	TokenNameMULTIPLY	
(	TokenNameLPAREN	
int	TokenNameint	
)	TokenNameRPAREN	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
floor	TokenNameIdentifier	 floor
(	TokenNameLPAREN	
myBounds	TokenNameIdentifier	 my Bounds
.	TokenNameDOT	
x	TokenNameIdentifier	 x
/	TokenNameDIVIDE	
defSz	TokenNameIdentifier	 def Sz
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
tgY	TokenNameIdentifier	 tg Y
=	TokenNameEQUAL	
defSz	TokenNameIdentifier	 def Sz
*	TokenNameMULTIPLY	
(	TokenNameLPAREN	
int	TokenNameint	
)	TokenNameRPAREN	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
floor	TokenNameIdentifier	 floor
(	TokenNameLPAREN	
myBounds	TokenNameIdentifier	 my Bounds
.	TokenNameDOT	
y	TokenNameIdentifier	 y
/	TokenNameDIVIDE	
defSz	TokenNameIdentifier	 def Sz
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Finish initializing our base class... 	TokenNameCOMMENT_LINE	Finish initializing our base class... 
init	TokenNameIdentifier	 init
(	TokenNameLPAREN	
srcs	TokenNameIdentifier	 srcs
,	TokenNameCOMMA	
myBounds	TokenNameIdentifier	 my Bounds
,	TokenNameCOMMA	
cm	TokenNameIdentifier	 cm
,	TokenNameCOMMA	
sm	TokenNameIdentifier	 sm
,	TokenNameCOMMA	
tgX	TokenNameIdentifier	 tg X
,	TokenNameCOMMA	
tgY	TokenNameIdentifier	 tg Y
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
WritableRaster	TokenNameIdentifier	 Writable Raster
copyData	TokenNameIdentifier	 copy Data
(	TokenNameLPAREN	
WritableRaster	TokenNameIdentifier	 Writable Raster
wr	TokenNameIdentifier	 wr
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// copyToRaster(wr); 	TokenNameCOMMENT_LINE	copyToRaster(wr); 
genRect	TokenNameIdentifier	 gen Rect
(	TokenNameLPAREN	
wr	TokenNameIdentifier	 wr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
wr	TokenNameIdentifier	 wr
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Raster	TokenNameIdentifier	 Raster
getTile	TokenNameIdentifier	 get Tile
(	TokenNameLPAREN	
int	TokenNameint	
x	TokenNameIdentifier	 x
,	TokenNameCOMMA	
int	TokenNameint	
y	TokenNameIdentifier	 y
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
tx	TokenNameIdentifier	 tx
=	TokenNameEQUAL	
tileGridXOff	TokenNameIdentifier	 tile Grid X Off
+	TokenNamePLUS	
x	TokenNameIdentifier	 x
*	TokenNameMULTIPLY	
tileWidth	TokenNameIdentifier	 tile Width
;	TokenNameSEMICOLON	
int	TokenNameint	
ty	TokenNameIdentifier	 ty
=	TokenNameEQUAL	
tileGridYOff	TokenNameIdentifier	 tile Grid Y Off
+	TokenNamePLUS	
y	TokenNameIdentifier	 y
*	TokenNameMULTIPLY	
tileHeight	TokenNameIdentifier	 tile Height
;	TokenNameSEMICOLON	
Point	TokenNameIdentifier	 Point
pt	TokenNameIdentifier	 pt
=	TokenNameEQUAL	
new	TokenNamenew	
Point	TokenNameIdentifier	 Point
(	TokenNameLPAREN	
tx	TokenNameIdentifier	 tx
,	TokenNameCOMMA	
ty	TokenNameIdentifier	 ty
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
WritableRaster	TokenNameIdentifier	 Writable Raster
wr	TokenNameIdentifier	 wr
=	TokenNameEQUAL	
Raster	TokenNameIdentifier	 Raster
.	TokenNameDOT	
createWritableRaster	TokenNameIdentifier	 create Writable Raster
(	TokenNameLPAREN	
sm	TokenNameIdentifier	 sm
,	TokenNameCOMMA	
pt	TokenNameIdentifier	 pt
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
genRect	TokenNameIdentifier	 gen Rect
(	TokenNameLPAREN	
wr	TokenNameIdentifier	 wr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
wr	TokenNameIdentifier	 wr
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
emptyRect	TokenNameIdentifier	 empty Rect
(	TokenNameLPAREN	
WritableRaster	TokenNameIdentifier	 Writable Raster
wr	TokenNameIdentifier	 wr
)	TokenNameRPAREN	
{	TokenNameLBRACE	
PadRed	TokenNameIdentifier	 Pad Red
.	TokenNameDOT	
ZeroRecter	TokenNameIdentifier	 Zero Recter
zr	TokenNameIdentifier	 zr
=	TokenNameEQUAL	
PadRed	TokenNameIdentifier	 Pad Red
.	TokenNameDOT	
ZeroRecter	TokenNameIdentifier	 Zero Recter
.	TokenNameDOT	
getZeroRecter	TokenNameIdentifier	 get Zero Recter
(	TokenNameLPAREN	
wr	TokenNameIdentifier	 wr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
zr	TokenNameIdentifier	 zr
.	TokenNameDOT	
zeroRect	TokenNameIdentifier	 zero Rect
(	TokenNameLPAREN	
new	TokenNamenew	
Rectangle	TokenNameIdentifier	 Rectangle
(	TokenNameLPAREN	
wr	TokenNameIdentifier	 wr
.	TokenNameDOT	
getMinX	TokenNameIdentifier	 get Min X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
wr	TokenNameIdentifier	 wr
.	TokenNameDOT	
getMinY	TokenNameIdentifier	 get Min Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
wr	TokenNameIdentifier	 wr
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
wr	TokenNameIdentifier	 wr
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
genRect	TokenNameIdentifier	 gen Rect
(	TokenNameLPAREN	
WritableRaster	TokenNameIdentifier	 Writable Raster
wr	TokenNameIdentifier	 wr
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// long startTime = System.currentTimeMillis(); 	TokenNameCOMMENT_LINE	long startTime = System.currentTimeMillis(); 
// System.out.println("Comp GenR: " + wr); 	TokenNameCOMMENT_LINE	System.out.println("Comp GenR: " + wr); 
Rectangle	TokenNameIdentifier	 Rectangle
r	TokenNameIdentifier	 r
=	TokenNameEQUAL	
wr	TokenNameIdentifier	 wr
.	TokenNameDOT	
getBounds	TokenNameIdentifier	 get Bounds
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
idx	TokenNameIdentifier	 idx
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
Iterator	TokenNameIdentifier	 Iterator
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
srcs	TokenNameIdentifier	 srcs
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
first	TokenNameIdentifier	 first
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
CachableRed	TokenNameIdentifier	 Cachable Red
cr	TokenNameIdentifier	 cr
=	TokenNameEQUAL	
(	TokenNameLPAREN	
CachableRed	TokenNameIdentifier	 Cachable Red
)	TokenNameRPAREN	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
first	TokenNameIdentifier	 first
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Rectangle	TokenNameIdentifier	 Rectangle
crR	TokenNameIdentifier	 cr R
=	TokenNameEQUAL	
cr	TokenNameIdentifier	 cr
.	TokenNameDOT	
getBounds	TokenNameIdentifier	 get Bounds
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
x	TokenNameIdentifier	 x
<	TokenNameLESS	
crR	TokenNameIdentifier	 cr R
.	TokenNameDOT	
x	TokenNameIdentifier	 x
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
y	TokenNameIdentifier	 y
<	TokenNameLESS	
crR	TokenNameIdentifier	 cr R
.	TokenNameDOT	
y	TokenNameIdentifier	 y
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
x	TokenNameIdentifier	 x
+	TokenNamePLUS	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
width	TokenNameIdentifier	 width
>	TokenNameGREATER	
crR	TokenNameIdentifier	 cr R
.	TokenNameDOT	
x	TokenNameIdentifier	 x
+	TokenNamePLUS	
crR	TokenNameIdentifier	 cr R
.	TokenNameDOT	
width	TokenNameIdentifier	 width
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
y	TokenNameIdentifier	 y
+	TokenNamePLUS	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
height	TokenNameIdentifier	 height
>	TokenNameGREATER	
crR	TokenNameIdentifier	 cr R
.	TokenNameDOT	
y	TokenNameIdentifier	 y
+	TokenNamePLUS	
crR	TokenNameIdentifier	 cr R
.	TokenNameDOT	
height	TokenNameIdentifier	 height
)	TokenNameRPAREN	
)	TokenNameRPAREN	
// Portions outside my bounds, zero them... 	TokenNameCOMMENT_LINE	Portions outside my bounds, zero them... 
emptyRect	TokenNameIdentifier	 empty Rect
(	TokenNameLPAREN	
wr	TokenNameIdentifier	 wr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Fill in initial image... 	TokenNameCOMMENT_LINE	Fill in initial image... 
cr	TokenNameIdentifier	 cr
.	TokenNameDOT	
copyData	TokenNameIdentifier	 copy Data
(	TokenNameLPAREN	
wr	TokenNameIdentifier	 wr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
cr	TokenNameIdentifier	 cr
.	TokenNameDOT	
getColorModel	TokenNameIdentifier	 get Color Model
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
isAlphaPremultiplied	TokenNameIdentifier	 is Alpha Premultiplied
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
GraphicsUtil	TokenNameIdentifier	 Graphics Util
.	TokenNameDOT	
coerceData	TokenNameIdentifier	 coerce Data
(	TokenNameLPAREN	
wr	TokenNameIdentifier	 wr
,	TokenNameCOMMA	
cr	TokenNameIdentifier	 cr
.	TokenNameDOT	
getColorModel	TokenNameIdentifier	 get Color Model
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
first	TokenNameIdentifier	 first
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
Rectangle	TokenNameIdentifier	 Rectangle
crR	TokenNameIdentifier	 cr R
=	TokenNameEQUAL	
cr	TokenNameIdentifier	 cr
.	TokenNameDOT	
getBounds	TokenNameIdentifier	 get Bounds
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
crR	TokenNameIdentifier	 cr R
.	TokenNameDOT	
intersects	TokenNameIdentifier	 intersects
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Rectangle	TokenNameIdentifier	 Rectangle
smR	TokenNameIdentifier	 sm R
=	TokenNameEQUAL	
crR	TokenNameIdentifier	 cr R
.	TokenNameDOT	
intersection	TokenNameIdentifier	 intersection
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Raster	TokenNameIdentifier	 Raster
ras	TokenNameIdentifier	 ras
=	TokenNameEQUAL	
cr	TokenNameIdentifier	 cr
.	TokenNameDOT	
getData	TokenNameIdentifier	 get Data
(	TokenNameLPAREN	
smR	TokenNameIdentifier	 sm R
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
WritableRaster	TokenNameIdentifier	 Writable Raster
smWR	TokenNameIdentifier	 sm WR
=	TokenNameEQUAL	
wr	TokenNameIdentifier	 wr
.	TokenNameDOT	
createWritableChild	TokenNameIdentifier	 create Writable Child
(	TokenNameLPAREN	
smR	TokenNameIdentifier	 sm R
.	TokenNameDOT	
x	TokenNameIdentifier	 x
,	TokenNameCOMMA	
smR	TokenNameIdentifier	 sm R
.	TokenNameDOT	
y	TokenNameIdentifier	 y
,	TokenNameCOMMA	
smR	TokenNameIdentifier	 sm R
.	TokenNameDOT	
width	TokenNameIdentifier	 width
,	TokenNameCOMMA	
smR	TokenNameIdentifier	 sm R
.	TokenNameDOT	
height	TokenNameIdentifier	 height
,	TokenNameCOMMA	
smR	TokenNameIdentifier	 sm R
.	TokenNameDOT	
x	TokenNameIdentifier	 x
,	TokenNameCOMMA	
smR	TokenNameIdentifier	 sm R
.	TokenNameDOT	
y	TokenNameIdentifier	 y
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
contexts	TokenNameIdentifier	 contexts
[	TokenNameLBRACKET	
idx	TokenNameIdentifier	 idx
]	TokenNameRBRACKET	
.	TokenNameDOT	
compose	TokenNameIdentifier	 compose
(	TokenNameLPAREN	
ras	TokenNameIdentifier	 ras
,	TokenNameCOMMA	
smWR	TokenNameIdentifier	 sm WR
,	TokenNameCOMMA	
smWR	TokenNameIdentifier	 sm WR
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
idx	TokenNameIdentifier	 idx
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// long endTime = System.currentTimeMillis(); 	TokenNameCOMMENT_LINE	long endTime = System.currentTimeMillis(); 
// System.out.println("Other: " + (endTime-startTime)); 	TokenNameCOMMENT_LINE	System.out.println("Other: " + (endTime-startTime)); 
}	TokenNameRBRACE	
// This is an alternate Implementation that uses drawImage. 	TokenNameCOMMENT_LINE	This is an alternate Implementation that uses drawImage. 
// In testing this was not significantly faster and it had some 	TokenNameCOMMENT_LINE	In testing this was not significantly faster and it had some 
// problems with alpha premultiplied. 	TokenNameCOMMENT_LINE	problems with alpha premultiplied. 
public	TokenNamepublic	
void	TokenNamevoid	
genRect_OVER	TokenNameIdentifier	 gen Rect  OVER
(	TokenNameLPAREN	
WritableRaster	TokenNameIdentifier	 Writable Raster
wr	TokenNameIdentifier	 wr
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// long startTime = System.currentTimeMillis(); 	TokenNameCOMMENT_LINE	long startTime = System.currentTimeMillis(); 
// System.out.println("Comp GenR: " + wr); 	TokenNameCOMMENT_LINE	System.out.println("Comp GenR: " + wr); 
Rectangle	TokenNameIdentifier	 Rectangle
r	TokenNameIdentifier	 r
=	TokenNameEQUAL	
wr	TokenNameIdentifier	 wr
.	TokenNameDOT	
getBounds	TokenNameIdentifier	 get Bounds
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ColorModel	TokenNameIdentifier	 Color Model
cm	TokenNameIdentifier	 cm
=	TokenNameEQUAL	
getColorModel	TokenNameIdentifier	 get Color Model
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BufferedImage	TokenNameIdentifier	 Buffered Image
bi	TokenNameIdentifier	 bi
=	TokenNameEQUAL	
new	TokenNamenew	
BufferedImage	TokenNameIdentifier	 Buffered Image
(	TokenNameLPAREN	
cm	TokenNameIdentifier	 cm
,	TokenNameCOMMA	
wr	TokenNameIdentifier	 wr
.	TokenNameDOT	
createWritableTranslatedChild	TokenNameIdentifier	 create Writable Translated Child
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
cm	TokenNameIdentifier	 cm
.	TokenNameDOT	
isAlphaPremultiplied	TokenNameIdentifier	 is Alpha Premultiplied
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Graphics2D	TokenNameIdentifier	 Graphics2 D
g2d	TokenNameIdentifier	 g2d
=	TokenNameEQUAL	
GraphicsUtil	TokenNameIdentifier	 Graphics Util
.	TokenNameDOT	
createGraphics	TokenNameIdentifier	 create Graphics
(	TokenNameLPAREN	
bi	TokenNameIdentifier	 bi
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
translate	TokenNameIdentifier	 translate
(	TokenNameLPAREN	
-	TokenNameMINUS	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
x	TokenNameIdentifier	 x
,	TokenNameCOMMA	
-	TokenNameMINUS	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
y	TokenNameIdentifier	 y
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Iterator	TokenNameIdentifier	 Iterator
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
srcs	TokenNameIdentifier	 srcs
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
first	TokenNameIdentifier	 first
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
CachableRed	TokenNameIdentifier	 Cachable Red
cr	TokenNameIdentifier	 cr
=	TokenNameEQUAL	
(	TokenNameLPAREN	
CachableRed	TokenNameIdentifier	 Cachable Red
)	TokenNameRPAREN	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
first	TokenNameIdentifier	 first
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Rectangle	TokenNameIdentifier	 Rectangle
crR	TokenNameIdentifier	 cr R
=	TokenNameEQUAL	
cr	TokenNameIdentifier	 cr
.	TokenNameDOT	
getBounds	TokenNameIdentifier	 get Bounds
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
x	TokenNameIdentifier	 x
<	TokenNameLESS	
crR	TokenNameIdentifier	 cr R
.	TokenNameDOT	
x	TokenNameIdentifier	 x
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
y	TokenNameIdentifier	 y
<	TokenNameLESS	
crR	TokenNameIdentifier	 cr R
.	TokenNameDOT	
y	TokenNameIdentifier	 y
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
x	TokenNameIdentifier	 x
+	TokenNamePLUS	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
width	TokenNameIdentifier	 width
>	TokenNameGREATER	
crR	TokenNameIdentifier	 cr R
.	TokenNameDOT	
x	TokenNameIdentifier	 x
+	TokenNamePLUS	
crR	TokenNameIdentifier	 cr R
.	TokenNameDOT	
width	TokenNameIdentifier	 width
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
y	TokenNameIdentifier	 y
+	TokenNamePLUS	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
height	TokenNameIdentifier	 height
>	TokenNameGREATER	
crR	TokenNameIdentifier	 cr R
.	TokenNameDOT	
y	TokenNameIdentifier	 y
+	TokenNamePLUS	
crR	TokenNameIdentifier	 cr R
.	TokenNameDOT	
height	TokenNameIdentifier	 height
)	TokenNameRPAREN	
)	TokenNameRPAREN	
// Portions outside my bounds, zero them... 	TokenNameCOMMENT_LINE	Portions outside my bounds, zero them... 
emptyRect	TokenNameIdentifier	 empty Rect
(	TokenNameLPAREN	
wr	TokenNameIdentifier	 wr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Fill in initial image... 	TokenNameCOMMENT_LINE	Fill in initial image... 
cr	TokenNameIdentifier	 cr
.	TokenNameDOT	
copyData	TokenNameIdentifier	 copy Data
(	TokenNameLPAREN	
wr	TokenNameIdentifier	 wr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
GraphicsUtil	TokenNameIdentifier	 Graphics Util
.	TokenNameDOT	
coerceData	TokenNameIdentifier	 coerce Data
(	TokenNameLPAREN	
wr	TokenNameIdentifier	 wr
,	TokenNameCOMMA	
cr	TokenNameIdentifier	 cr
.	TokenNameDOT	
getColorModel	TokenNameIdentifier	 get Color Model
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
cm	TokenNameIdentifier	 cm
.	TokenNameDOT	
isAlphaPremultiplied	TokenNameIdentifier	 is Alpha Premultiplied
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
first	TokenNameIdentifier	 first
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
GraphicsUtil	TokenNameIdentifier	 Graphics Util
.	TokenNameDOT	
drawImage	TokenNameIdentifier	 draw Image
(	TokenNameLPAREN	
g2d	TokenNameIdentifier	 g2d
,	TokenNameCOMMA	
cr	TokenNameIdentifier	 cr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// long endTime = System.currentTimeMillis(); 	TokenNameCOMMENT_LINE	long endTime = System.currentTimeMillis(); 
// System.out.println("OVER: " + (endTime-startTime)); 	TokenNameCOMMENT_LINE	System.out.println("OVER: " + (endTime-startTime)); 
}	TokenNameRBRACE	
/** * This function 'fixes' the source's sample model. * right now it just ensures that the sample model isn't * much larger than my width. */	TokenNameCOMMENT_JAVADOC	 This function 'fixes' the source's sample model. right now it just ensures that the sample model isn't much larger than my width. 
protected	TokenNameprotected	
static	TokenNamestatic	
SampleModel	TokenNameIdentifier	 Sample Model
fixSampleModel	TokenNameIdentifier	 fix Sample Model
(	TokenNameLPAREN	
CachableRed	TokenNameIdentifier	 Cachable Red
src	TokenNameIdentifier	 src
,	TokenNameCOMMA	
ColorModel	TokenNameIdentifier	 Color Model
cm	TokenNameIdentifier	 cm
,	TokenNameCOMMA	
Rectangle	TokenNameIdentifier	 Rectangle
bounds	TokenNameIdentifier	 bounds
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
defSz	TokenNameIdentifier	 def Sz
=	TokenNameEQUAL	
AbstractTiledRed	TokenNameIdentifier	 Abstract Tiled Red
.	TokenNameDOT	
getDefaultTileSize	TokenNameIdentifier	 get Default Tile Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Make tile(0,0) fall on the closest intersection of defaultSz. 	TokenNameCOMMENT_LINE	Make tile(0,0) fall on the closest intersection of defaultSz. 
int	TokenNameint	
tgX	TokenNameIdentifier	 tg X
=	TokenNameEQUAL	
defSz	TokenNameIdentifier	 def Sz
*	TokenNameMULTIPLY	
(	TokenNameLPAREN	
int	TokenNameint	
)	TokenNameRPAREN	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
floor	TokenNameIdentifier	 floor
(	TokenNameLPAREN	
bounds	TokenNameIdentifier	 bounds
.	TokenNameDOT	
x	TokenNameIdentifier	 x
/	TokenNameDIVIDE	
defSz	TokenNameIdentifier	 def Sz
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
tgY	TokenNameIdentifier	 tg Y
=	TokenNameEQUAL	
defSz	TokenNameIdentifier	 def Sz
*	TokenNameMULTIPLY	
(	TokenNameLPAREN	
int	TokenNameint	
)	TokenNameRPAREN	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
floor	TokenNameIdentifier	 floor
(	TokenNameLPAREN	
bounds	TokenNameIdentifier	 bounds
.	TokenNameDOT	
y	TokenNameIdentifier	 y
/	TokenNameDIVIDE	
defSz	TokenNameIdentifier	 def Sz
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
tw	TokenNameIdentifier	 tw
=	TokenNameEQUAL	
(	TokenNameLPAREN	
bounds	TokenNameIdentifier	 bounds
.	TokenNameDOT	
x	TokenNameIdentifier	 x
+	TokenNamePLUS	
bounds	TokenNameIdentifier	 bounds
.	TokenNameDOT	
width	TokenNameIdentifier	 width
)	TokenNameRPAREN	
-	TokenNameMINUS	
tgX	TokenNameIdentifier	 tg X
;	TokenNameSEMICOLON	
int	TokenNameint	
th	TokenNameIdentifier	 th
=	TokenNameEQUAL	
(	TokenNameLPAREN	
bounds	TokenNameIdentifier	 bounds
.	TokenNameDOT	
y	TokenNameIdentifier	 y
+	TokenNamePLUS	
bounds	TokenNameIdentifier	 bounds
.	TokenNameDOT	
height	TokenNameIdentifier	 height
)	TokenNameRPAREN	
-	TokenNameMINUS	
tgY	TokenNameIdentifier	 tg Y
;	TokenNameSEMICOLON	
SampleModel	TokenNameIdentifier	 Sample Model
sm	TokenNameIdentifier	 sm
=	TokenNameEQUAL	
src	TokenNameIdentifier	 src
.	TokenNameDOT	
getSampleModel	TokenNameIdentifier	 get Sample Model
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
w	TokenNameIdentifier	 w
=	TokenNameEQUAL	
sm	TokenNameIdentifier	 sm
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
w	TokenNameIdentifier	 w
<	TokenNameLESS	
defSz	TokenNameIdentifier	 def Sz
)	TokenNameRPAREN	
w	TokenNameIdentifier	 w
=	TokenNameEQUAL	
defSz	TokenNameIdentifier	 def Sz
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
w	TokenNameIdentifier	 w
>	TokenNameGREATER	
tw	TokenNameIdentifier	 tw
)	TokenNameRPAREN	
w	TokenNameIdentifier	 w
=	TokenNameEQUAL	
tw	TokenNameIdentifier	 tw
;	TokenNameSEMICOLON	
int	TokenNameint	
h	TokenNameIdentifier	 h
=	TokenNameEQUAL	
sm	TokenNameIdentifier	 sm
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
h	TokenNameIdentifier	 h
<	TokenNameLESS	
defSz	TokenNameIdentifier	 def Sz
)	TokenNameRPAREN	
h	TokenNameIdentifier	 h
=	TokenNameEQUAL	
defSz	TokenNameIdentifier	 def Sz
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
h	TokenNameIdentifier	 h
>	TokenNameGREATER	
th	TokenNameIdentifier	 th
)	TokenNameRPAREN	
h	TokenNameIdentifier	 h
=	TokenNameEQUAL	
th	TokenNameIdentifier	 th
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
w	TokenNameIdentifier	 w
<=	TokenNameLESS_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
h	TokenNameIdentifier	 h
<=	TokenNameLESS_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
w	TokenNameIdentifier	 w
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
h	TokenNameIdentifier	 h
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// System.out.println("tg: " + tgX + "x" + tgY); 	TokenNameCOMMENT_LINE	System.out.println("tg: " + tgX + "x" + tgY); 
// System.out.println("t: " + tw + "x" + th); 	TokenNameCOMMENT_LINE	System.out.println("t: " + tw + "x" + th); 
// System.out.println("sz: " + w + "x" + h); 	TokenNameCOMMENT_LINE	System.out.println("sz: " + w + "x" + h); 
return	TokenNamereturn	
cm	TokenNameIdentifier	 cm
.	TokenNameDOT	
createCompatibleSampleModel	TokenNameIdentifier	 create Compatible Sample Model
(	TokenNameLPAREN	
w	TokenNameIdentifier	 w
,	TokenNameCOMMA	
h	TokenNameIdentifier	 h
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
protected	TokenNameprotected	
static	TokenNamestatic	
ColorModel	TokenNameIdentifier	 Color Model
fixColorModel	TokenNameIdentifier	 fix Color Model
(	TokenNameLPAREN	
CachableRed	TokenNameIdentifier	 Cachable Red
src	TokenNameIdentifier	 src
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ColorModel	TokenNameIdentifier	 Color Model
cm	TokenNameIdentifier	 cm
=	TokenNameEQUAL	
src	TokenNameIdentifier	 src
.	TokenNameDOT	
getColorModel	TokenNameIdentifier	 get Color Model
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
cm	TokenNameIdentifier	 cm
.	TokenNameDOT	
hasAlpha	TokenNameIdentifier	 has Alpha
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
cm	TokenNameIdentifier	 cm
.	TokenNameDOT	
isAlphaPremultiplied	TokenNameIdentifier	 is Alpha Premultiplied
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
cm	TokenNameIdentifier	 cm
=	TokenNameEQUAL	
GraphicsUtil	TokenNameIdentifier	 Graphics Util
.	TokenNameDOT	
coerceColorModel	TokenNameIdentifier	 coerce Color Model
(	TokenNameLPAREN	
cm	TokenNameIdentifier	 cm
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
cm	TokenNameIdentifier	 cm
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
int	TokenNameint	
b	TokenNameIdentifier	 b
=	TokenNameEQUAL	
src	TokenNameIdentifier	 src
.	TokenNameDOT	
getSampleModel	TokenNameIdentifier	 get Sample Model
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getNumBands	TokenNameIdentifier	 get Num Bands
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
b	TokenNameIdentifier	 b
>	TokenNameGREATER	
4	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalArgumentException	TokenNameIdentifier	 Illegal Argument Exception
(	TokenNameLPAREN	
"CompositeRed can only handle up to three band images"	TokenNameStringLiteral	CompositeRed can only handle up to three band images
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
masks	TokenNameIdentifier	 masks
=	TokenNameEQUAL	
new	TokenNamenew	
int	TokenNameint	
[	TokenNameLBRACKET	
4	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
b	TokenNameIdentifier	 b
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
masks	TokenNameIdentifier	 masks
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
0xFF0000	TokenNameIntegerLiteral	
>>	TokenNameRIGHT_SHIFT	
(	TokenNameLPAREN	
8	TokenNameIntegerLiteral	
*	TokenNameMULTIPLY	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
masks	TokenNameIdentifier	 masks
[	TokenNameLBRACKET	
3	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
0xFF	TokenNameIntegerLiteral	
<<	TokenNameLEFT_SHIFT	
(	TokenNameLPAREN	
8	TokenNameIntegerLiteral	
*	TokenNameMULTIPLY	
(	TokenNameLPAREN	
b	TokenNameIdentifier	 b
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ColorSpace	TokenNameIdentifier	 Color Space
cs	TokenNameIdentifier	 cs
=	TokenNameEQUAL	
cm	TokenNameIdentifier	 cm
.	TokenNameDOT	
getColorSpace	TokenNameIdentifier	 get Color Space
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
DirectColorModel	TokenNameIdentifier	 Direct Color Model
(	TokenNameLPAREN	
cs	TokenNameIdentifier	 cs
,	TokenNameCOMMA	
8	TokenNameIntegerLiteral	
*	TokenNameMULTIPLY	
b	TokenNameIdentifier	 b
,	TokenNameCOMMA	
masks	TokenNameIdentifier	 masks
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
masks	TokenNameIdentifier	 masks
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
masks	TokenNameIdentifier	 masks
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
masks	TokenNameIdentifier	 masks
[	TokenNameLBRACKET	
3	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
true	TokenNametrue	
,	TokenNameCOMMA	
DataBuffer	TokenNameIdentifier	 Data Buffer
.	TokenNameDOT	
TYPE_INT	TokenNameIdentifier	 TYPE  INT
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
