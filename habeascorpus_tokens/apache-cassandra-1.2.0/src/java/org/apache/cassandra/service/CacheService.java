/* * Licensed to the Apache Software Foundation (ASF) under one * or more contributor license agreements. See the NOTICE file * distributed with this work for additional information * regarding copyright ownership. The ASF licenses this file * to you under the Apache License, Version 2.0 (the * "License"); you may not use this file except in compliance * with the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to you under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
service	TokenNameIdentifier	 service
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
DataInputStream	TokenNameIdentifier	 Data Input Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
DataOutput	TokenNameIdentifier	 Data Output
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
lang	TokenNameIdentifier	 lang
.	TokenNameDOT	
management	TokenNameIdentifier	 management
.	TokenNameDOT	
ManagementFactory	TokenNameIdentifier	 Management Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
nio	TokenNameIdentifier	 nio
.	TokenNameDOT	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ArrayList	TokenNameIdentifier	 Array List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Collection	TokenNameIdentifier	 Collection
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
List	TokenNameIdentifier	 List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Set	TokenNameIdentifier	 Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
concurrent	TokenNameIdentifier	 concurrent
.	TokenNameDOT	
Callable	TokenNameIdentifier	 Callable
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
concurrent	TokenNameIdentifier	 concurrent
.	TokenNameDOT	
ExecutionException	TokenNameIdentifier	 Execution Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
concurrent	TokenNameIdentifier	 concurrent
.	TokenNameDOT	
Future	TokenNameIdentifier	 Future
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
management	TokenNameIdentifier	 management
.	TokenNameDOT	
MBeanServer	TokenNameIdentifier	 M Bean Server
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
management	TokenNameIdentifier	 management
.	TokenNameDOT	
ObjectName	TokenNameIdentifier	 Object Name
;	TokenNameSEMICOLON	
import	TokenNameimport	
com	TokenNameIdentifier	 com
.	TokenNameDOT	
google	TokenNameIdentifier	 google
.	TokenNameDOT	
common	TokenNameIdentifier	 common
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
concurrent	TokenNameIdentifier	 concurrent
.	TokenNameDOT	
Futures	TokenNameIdentifier	 Futures
;	TokenNameSEMICOLON	
import	TokenNameimport	
com	TokenNameIdentifier	 com
.	TokenNameDOT	
googlecode	TokenNameIdentifier	 googlecode
.	TokenNameDOT	
concurrentlinkedhashmap	TokenNameIdentifier	 concurrentlinkedhashmap
.	TokenNameDOT	
EntryWeigher	TokenNameIdentifier	 Entry Weigher
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
github	TokenNameIdentifier	 github
.	TokenNameDOT	
jamm	TokenNameIdentifier	 jamm
.	TokenNameDOT	
MemoryMeter	TokenNameIdentifier	 Memory Meter
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
slf4j	TokenNameIdentifier	 slf4j
.	TokenNameDOT	
Logger	TokenNameIdentifier	 Logger
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
slf4j	TokenNameIdentifier	 slf4j
.	TokenNameDOT	
LoggerFactory	TokenNameIdentifier	 Logger Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
cache	TokenNameIdentifier	 cache
.	TokenNameDOT	
*	TokenNameMULTIPLY	
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
cache	TokenNameIdentifier	 cache
.	TokenNameDOT	
AutoSavingCache	TokenNameIdentifier	 Auto Saving Cache
.	TokenNameDOT	
CacheSerializer	TokenNameIdentifier	 Cache Serializer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
concurrent	TokenNameIdentifier	 concurrent
.	TokenNameDOT	
Stage	TokenNameIdentifier	 Stage
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
concurrent	TokenNameIdentifier	 concurrent
.	TokenNameDOT	
StageManager	TokenNameIdentifier	 Stage Manager
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
config	TokenNameIdentifier	 config
.	TokenNameDOT	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
ColumnFamily	TokenNameIdentifier	 Column Family
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
ColumnFamilyStore	TokenNameIdentifier	 Column Family Store
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
DecoratedKey	TokenNameIdentifier	 Decorated Key
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
filter	TokenNameIdentifier	 filter
.	TokenNameDOT	
QueryFilter	TokenNameIdentifier	 Query Filter
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
filter	TokenNameIdentifier	 filter
.	TokenNameDOT	
QueryPath	TokenNameIdentifier	 Query Path
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
sstable	TokenNameIdentifier	 sstable
.	TokenNameDOT	
Descriptor	TokenNameIdentifier	 Descriptor
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
sstable	TokenNameIdentifier	 sstable
.	TokenNameDOT	
SSTableReader	TokenNameIdentifier	 SS Table Reader
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
sstable	TokenNameIdentifier	 sstable
.	TokenNameDOT	
SSTableReader	TokenNameIdentifier	 SS Table Reader
.	TokenNameDOT	
Operator	TokenNameIdentifier	 Operator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
ByteBufferUtil	TokenNameIdentifier	 Byte Buffer Util
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
FBUtilities	TokenNameIdentifier	 FB Utilities
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
Pair	TokenNameIdentifier	 Pair
;	TokenNameSEMICOLON	
public	TokenNamepublic	
class	TokenNameclass	
CacheService	TokenNameIdentifier	 Cache Service
implements	TokenNameimplements	
CacheServiceMBean	TokenNameIdentifier	 Cache Service M Bean
{	TokenNameLBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
Logger	TokenNameIdentifier	 Logger
logger	TokenNameIdentifier	 logger
=	TokenNameEQUAL	
LoggerFactory	TokenNameIdentifier	 Logger Factory
.	TokenNameDOT	
getLogger	TokenNameIdentifier	 get Logger
(	TokenNameLPAREN	
CacheService	TokenNameIdentifier	 Cache Service
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
MBEAN_NAME	TokenNameIdentifier	 MBEAN  NAME
=	TokenNameEQUAL	
"org.apache.cassandra.db:type=Caches"	TokenNameStringLiteral	org.apache.cassandra.db:type=Caches
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
enum	TokenNameenum	
CacheType	TokenNameIdentifier	 Cache Type
{	TokenNameLBRACE	
KEY_CACHE	TokenNameIdentifier	 KEY  CACHE
(	TokenNameLPAREN	
"KeyCache"	TokenNameStringLiteral	KeyCache
)	TokenNameRPAREN	
,	TokenNameCOMMA	
ROW_CACHE	TokenNameIdentifier	 ROW  CACHE
(	TokenNameLPAREN	
"RowCache"	TokenNameStringLiteral	RowCache
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
;	TokenNameSEMICOLON	
private	TokenNameprivate	
CacheType	TokenNameIdentifier	 Cache Type
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
typeName	TokenNameIdentifier	 type Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
typeName	TokenNameIdentifier	 type Name
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
name	TokenNameIdentifier	 name
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
final	TokenNamefinal	
static	TokenNamestatic	
CacheService	TokenNameIdentifier	 Cache Service
instance	TokenNameIdentifier	 instance
=	TokenNameEQUAL	
new	TokenNamenew	
CacheService	TokenNameIdentifier	 Cache Service
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
final	TokenNamefinal	
AutoSavingCache	TokenNameIdentifier	 Auto Saving Cache
<	TokenNameLESS	
KeyCacheKey	TokenNameIdentifier	 Key Cache Key
,	TokenNameCOMMA	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
>	TokenNameGREATER	
keyCache	TokenNameIdentifier	 key Cache
;	TokenNameSEMICOLON	
public	TokenNamepublic	
final	TokenNamefinal	
AutoSavingCache	TokenNameIdentifier	 Auto Saving Cache
<	TokenNameLESS	
RowCacheKey	TokenNameIdentifier	 Row Cache Key
,	TokenNameCOMMA	
IRowCacheEntry	TokenNameIdentifier	 I Row Cache Entry
>	TokenNameGREATER	
rowCache	TokenNameIdentifier	 row Cache
;	TokenNameSEMICOLON	
private	TokenNameprivate	
CacheService	TokenNameIdentifier	 Cache Service
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
MBeanServer	TokenNameIdentifier	 M Bean Server
mbs	TokenNameIdentifier	 mbs
=	TokenNameEQUAL	
ManagementFactory	TokenNameIdentifier	 Management Factory
.	TokenNameDOT	
getPlatformMBeanServer	TokenNameIdentifier	 get Platform M Bean Server
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
mbs	TokenNameIdentifier	 mbs
.	TokenNameDOT	
registerMBean	TokenNameIdentifier	 register M Bean
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
new	TokenNamenew	
ObjectName	TokenNameIdentifier	 Object Name
(	TokenNameLPAREN	
MBEAN_NAME	TokenNameIdentifier	 MBEAN  NAME
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
keyCache	TokenNameIdentifier	 key Cache
=	TokenNameEQUAL	
initKeyCache	TokenNameIdentifier	 init Key Cache
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
rowCache	TokenNameIdentifier	 row Cache
=	TokenNameEQUAL	
initRowCache	TokenNameIdentifier	 init Row Cache
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * We can use Weighers.singleton() because Long can't be leaking memory * @return auto saving cache object */	TokenNameCOMMENT_JAVADOC	 We can use Weighers.singleton() because Long can't be leaking memory @return auto saving cache object 
private	TokenNameprivate	
AutoSavingCache	TokenNameIdentifier	 Auto Saving Cache
<	TokenNameLESS	
KeyCacheKey	TokenNameIdentifier	 Key Cache Key
,	TokenNameCOMMA	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
>	TokenNameGREATER	
initKeyCache	TokenNameIdentifier	 init Key Cache
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
info	TokenNameIdentifier	 info
(	TokenNameLPAREN	
"Initializing key cache with capacity of {} MBs."	TokenNameStringLiteral	Initializing key cache with capacity of {} MBs.
,	TokenNameCOMMA	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getKeyCacheSizeInMB	TokenNameIdentifier	 get Key Cache Size In MB
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
long	TokenNamelong	
keyCacheInMemoryCapacity	TokenNameIdentifier	 key Cache In Memory Capacity
=	TokenNameEQUAL	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getKeyCacheSizeInMB	TokenNameIdentifier	 get Key Cache Size In MB
(	TokenNameLPAREN	
)	TokenNameRPAREN	
*	TokenNameMULTIPLY	
1024	TokenNameIntegerLiteral	
*	TokenNameMULTIPLY	
1024	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// as values are constant size we can use singleton weigher 	TokenNameCOMMENT_LINE	as values are constant size we can use singleton weigher 
// where 48 = 40 bytes (average size of the key) + 8 bytes (size of value) 	TokenNameCOMMENT_LINE	where 48 = 40 bytes (average size of the key) + 8 bytes (size of value) 
ICache	TokenNameIdentifier	 I Cache
<	TokenNameLESS	
KeyCacheKey	TokenNameIdentifier	 Key Cache Key
,	TokenNameCOMMA	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
>	TokenNameGREATER	
kc	TokenNameIdentifier	 kc
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
MemoryMeter	TokenNameIdentifier	 Memory Meter
.	TokenNameDOT	
isInitialized	TokenNameIdentifier	 is Initialized
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
kc	TokenNameIdentifier	 kc
=	TokenNameEQUAL	
ConcurrentLinkedHashCache	TokenNameIdentifier	 Concurrent Linked Hash Cache
.	TokenNameDOT	
create	TokenNameIdentifier	 create
(	TokenNameLPAREN	
keyCacheInMemoryCapacity	TokenNameIdentifier	 key Cache In Memory Capacity
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
warn	TokenNameIdentifier	 warn
(	TokenNameLPAREN	
"MemoryMeter uninitialized (jamm not specified as java agent); KeyCache size in JVM Heap will not be calculated accurately. "	TokenNameStringLiteral	MemoryMeter uninitialized (jamm not specified as java agent); KeyCache size in JVM Heap will not be calculated accurately. 
+	TokenNamePLUS	
"Usually this means cassandra-env.sh disabled jamm because you are using a buggy JRE; upgrade to the Sun JRE instead"	TokenNameStringLiteral	Usually this means cassandra-env.sh disabled jamm because you are using a buggy JRE; upgrade to the Sun JRE instead
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/* We don't know the overhead size because memory meter is not enabled. */	TokenNameCOMMENT_BLOCK	 We don't know the overhead size because memory meter is not enabled. 
EntryWeigher	TokenNameIdentifier	 Entry Weigher
<	TokenNameLESS	
KeyCacheKey	TokenNameIdentifier	 Key Cache Key
,	TokenNameCOMMA	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
>	TokenNameGREATER	
weigher	TokenNameIdentifier	 weigher
=	TokenNameEQUAL	
new	TokenNamenew	
EntryWeigher	TokenNameIdentifier	 Entry Weigher
<	TokenNameLESS	
KeyCacheKey	TokenNameIdentifier	 Key Cache Key
,	TokenNameCOMMA	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
public	TokenNamepublic	
int	TokenNameint	
weightOf	TokenNameIdentifier	 weight Of
(	TokenNameLPAREN	
KeyCacheKey	TokenNameIdentifier	 Key Cache Key
key	TokenNameIdentifier	 key
,	TokenNameCOMMA	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
entry	TokenNameIdentifier	 entry
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
key	TokenNameIdentifier	 key
.	TokenNameDOT	
key	TokenNameIdentifier	 key
.	TokenNameDOT	
length	TokenNameIdentifier	 length
+	TokenNamePLUS	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
serializedSize	TokenNameIdentifier	 serialized Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
kc	TokenNameIdentifier	 kc
=	TokenNameEQUAL	
ConcurrentLinkedHashCache	TokenNameIdentifier	 Concurrent Linked Hash Cache
.	TokenNameDOT	
create	TokenNameIdentifier	 create
(	TokenNameLPAREN	
keyCacheInMemoryCapacity	TokenNameIdentifier	 key Cache In Memory Capacity
,	TokenNameCOMMA	
weigher	TokenNameIdentifier	 weigher
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
AutoSavingCache	TokenNameIdentifier	 Auto Saving Cache
<	TokenNameLESS	
KeyCacheKey	TokenNameIdentifier	 Key Cache Key
,	TokenNameCOMMA	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
>	TokenNameGREATER	
keyCache	TokenNameIdentifier	 key Cache
=	TokenNameEQUAL	
new	TokenNamenew	
AutoSavingCache	TokenNameIdentifier	 Auto Saving Cache
<	TokenNameLESS	
KeyCacheKey	TokenNameIdentifier	 Key Cache Key
,	TokenNameCOMMA	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
>	TokenNameGREATER	
(	TokenNameLPAREN	
kc	TokenNameIdentifier	 kc
,	TokenNameCOMMA	
CacheType	TokenNameIdentifier	 Cache Type
.	TokenNameDOT	
KEY_CACHE	TokenNameIdentifier	 KEY  CACHE
,	TokenNameCOMMA	
new	TokenNamenew	
KeyCacheSerializer	TokenNameIdentifier	 Key Cache Serializer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
keyCacheKeysToSave	TokenNameIdentifier	 key Cache Keys To Save
=	TokenNameEQUAL	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getKeyCacheKeysToSave	TokenNameIdentifier	 get Key Cache Keys To Save
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
info	TokenNameIdentifier	 info
(	TokenNameLPAREN	
"Scheduling key cache save to each {} seconds (going to save {} keys)."	TokenNameStringLiteral	Scheduling key cache save to each {} seconds (going to save {} keys).
,	TokenNameCOMMA	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getKeyCacheSavePeriod	TokenNameIdentifier	 get Key Cache Save Period
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
keyCacheKeysToSave	TokenNameIdentifier	 key Cache Keys To Save
==	TokenNameEQUAL_EQUAL	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MAX_VALUE	TokenNameIdentifier	 MAX  VALUE
?	TokenNameQUESTION	
"all"	TokenNameStringLiteral	all
:	TokenNameCOLON	
keyCacheKeysToSave	TokenNameIdentifier	 key Cache Keys To Save
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
keyCache	TokenNameIdentifier	 key Cache
.	TokenNameDOT	
scheduleSaving	TokenNameIdentifier	 schedule Saving
(	TokenNameLPAREN	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getKeyCacheSavePeriod	TokenNameIdentifier	 get Key Cache Save Period
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
keyCacheKeysToSave	TokenNameIdentifier	 key Cache Keys To Save
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
keyCache	TokenNameIdentifier	 key Cache
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @return initialized row cache */	TokenNameCOMMENT_JAVADOC	 @return initialized row cache 
private	TokenNameprivate	
AutoSavingCache	TokenNameIdentifier	 Auto Saving Cache
<	TokenNameLESS	
RowCacheKey	TokenNameIdentifier	 Row Cache Key
,	TokenNameCOMMA	
IRowCacheEntry	TokenNameIdentifier	 I Row Cache Entry
>	TokenNameGREATER	
initRowCache	TokenNameIdentifier	 init Row Cache
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
info	TokenNameIdentifier	 info
(	TokenNameLPAREN	
"Initializing row cache with capacity of {} MBs and provider {}"	TokenNameStringLiteral	Initializing row cache with capacity of {} MBs and provider {}
,	TokenNameCOMMA	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getRowCacheSizeInMB	TokenNameIdentifier	 get Row Cache Size In MB
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getRowCacheProvider	TokenNameIdentifier	 get Row Cache Provider
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getClass	TokenNameIdentifier	 get Class
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
long	TokenNamelong	
rowCacheInMemoryCapacity	TokenNameIdentifier	 row Cache In Memory Capacity
=	TokenNameEQUAL	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getRowCacheSizeInMB	TokenNameIdentifier	 get Row Cache Size In MB
(	TokenNameLPAREN	
)	TokenNameRPAREN	
*	TokenNameMULTIPLY	
1024	TokenNameIntegerLiteral	
*	TokenNameMULTIPLY	
1024	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// cache object 	TokenNameCOMMENT_LINE	cache object 
ICache	TokenNameIdentifier	 I Cache
<	TokenNameLESS	
RowCacheKey	TokenNameIdentifier	 Row Cache Key
,	TokenNameCOMMA	
IRowCacheEntry	TokenNameIdentifier	 I Row Cache Entry
>	TokenNameGREATER	
rc	TokenNameIdentifier	 rc
=	TokenNameEQUAL	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getRowCacheProvider	TokenNameIdentifier	 get Row Cache Provider
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
create	TokenNameIdentifier	 create
(	TokenNameLPAREN	
rowCacheInMemoryCapacity	TokenNameIdentifier	 row Cache In Memory Capacity
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AutoSavingCache	TokenNameIdentifier	 Auto Saving Cache
<	TokenNameLESS	
RowCacheKey	TokenNameIdentifier	 Row Cache Key
,	TokenNameCOMMA	
IRowCacheEntry	TokenNameIdentifier	 I Row Cache Entry
>	TokenNameGREATER	
rowCache	TokenNameIdentifier	 row Cache
=	TokenNameEQUAL	
new	TokenNamenew	
AutoSavingCache	TokenNameIdentifier	 Auto Saving Cache
<	TokenNameLESS	
RowCacheKey	TokenNameIdentifier	 Row Cache Key
,	TokenNameCOMMA	
IRowCacheEntry	TokenNameIdentifier	 I Row Cache Entry
>	TokenNameGREATER	
(	TokenNameLPAREN	
rc	TokenNameIdentifier	 rc
,	TokenNameCOMMA	
CacheType	TokenNameIdentifier	 Cache Type
.	TokenNameDOT	
ROW_CACHE	TokenNameIdentifier	 ROW  CACHE
,	TokenNameCOMMA	
new	TokenNamenew	
RowCacheSerializer	TokenNameIdentifier	 Row Cache Serializer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
rowCacheKeysToSave	TokenNameIdentifier	 row Cache Keys To Save
=	TokenNameEQUAL	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getRowCacheKeysToSave	TokenNameIdentifier	 get Row Cache Keys To Save
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
info	TokenNameIdentifier	 info
(	TokenNameLPAREN	
"Scheduling row cache save to each {} seconds (going to save {} keys)."	TokenNameStringLiteral	Scheduling row cache save to each {} seconds (going to save {} keys).
,	TokenNameCOMMA	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getRowCacheSavePeriod	TokenNameIdentifier	 get Row Cache Save Period
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
rowCacheKeysToSave	TokenNameIdentifier	 row Cache Keys To Save
==	TokenNameEQUAL_EQUAL	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MAX_VALUE	TokenNameIdentifier	 MAX  VALUE
?	TokenNameQUESTION	
"all"	TokenNameStringLiteral	all
:	TokenNameCOLON	
rowCacheKeysToSave	TokenNameIdentifier	 row Cache Keys To Save
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
rowCache	TokenNameIdentifier	 row Cache
.	TokenNameDOT	
scheduleSaving	TokenNameIdentifier	 schedule Saving
(	TokenNameLPAREN	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getRowCacheSavePeriod	TokenNameIdentifier	 get Row Cache Save Period
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
rowCacheKeysToSave	TokenNameIdentifier	 row Cache Keys To Save
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
rowCache	TokenNameIdentifier	 row Cache
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
getKeyCacheHits	TokenNameIdentifier	 get Key Cache Hits
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
keyCache	TokenNameIdentifier	 key Cache
.	TokenNameDOT	
getMetrics	TokenNameIdentifier	 get Metrics
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
count	TokenNameIdentifier	 count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
getRowCacheHits	TokenNameIdentifier	 get Row Cache Hits
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
rowCache	TokenNameIdentifier	 row Cache
.	TokenNameDOT	
getMetrics	TokenNameIdentifier	 get Metrics
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
count	TokenNameIdentifier	 count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
getKeyCacheRequests	TokenNameIdentifier	 get Key Cache Requests
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
keyCache	TokenNameIdentifier	 key Cache
.	TokenNameDOT	
getMetrics	TokenNameIdentifier	 get Metrics
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
requests	TokenNameIdentifier	 requests
.	TokenNameDOT	
count	TokenNameIdentifier	 count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
getRowCacheRequests	TokenNameIdentifier	 get Row Cache Requests
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
rowCache	TokenNameIdentifier	 row Cache
.	TokenNameDOT	
getMetrics	TokenNameIdentifier	 get Metrics
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
requests	TokenNameIdentifier	 requests
.	TokenNameDOT	
count	TokenNameIdentifier	 count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
double	TokenNamedouble	
getKeyCacheRecentHitRate	TokenNameIdentifier	 get Key Cache Recent Hit Rate
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
keyCache	TokenNameIdentifier	 key Cache
.	TokenNameDOT	
getMetrics	TokenNameIdentifier	 get Metrics
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getRecentHitRate	TokenNameIdentifier	 get Recent Hit Rate
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
double	TokenNamedouble	
getRowCacheRecentHitRate	TokenNameIdentifier	 get Row Cache Recent Hit Rate
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
rowCache	TokenNameIdentifier	 row Cache
.	TokenNameDOT	
getMetrics	TokenNameIdentifier	 get Metrics
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getRecentHitRate	TokenNameIdentifier	 get Recent Hit Rate
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
int	TokenNameint	
getRowCacheSavePeriodInSeconds	TokenNameIdentifier	 get Row Cache Save Period In Seconds
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getRowCacheSavePeriod	TokenNameIdentifier	 get Row Cache Save Period
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
setRowCacheSavePeriodInSeconds	TokenNameIdentifier	 set Row Cache Save Period In Seconds
(	TokenNameLPAREN	
int	TokenNameint	
rcspis	TokenNameIdentifier	 rcspis
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
rcspis	TokenNameIdentifier	 rcspis
<	TokenNameLESS	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
"RowCacheSavePeriodInSeconds must be non-negative."	TokenNameStringLiteral	RowCacheSavePeriodInSeconds must be non-negative.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
setRowCacheSavePeriod	TokenNameIdentifier	 set Row Cache Save Period
(	TokenNameLPAREN	
rcspis	TokenNameIdentifier	 rcspis
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
rowCache	TokenNameIdentifier	 row Cache
.	TokenNameDOT	
scheduleSaving	TokenNameIdentifier	 schedule Saving
(	TokenNameLPAREN	
rcspis	TokenNameIdentifier	 rcspis
,	TokenNameCOMMA	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getRowCacheKeysToSave	TokenNameIdentifier	 get Row Cache Keys To Save
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
int	TokenNameint	
getKeyCacheSavePeriodInSeconds	TokenNameIdentifier	 get Key Cache Save Period In Seconds
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getKeyCacheSavePeriod	TokenNameIdentifier	 get Key Cache Save Period
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
setKeyCacheSavePeriodInSeconds	TokenNameIdentifier	 set Key Cache Save Period In Seconds
(	TokenNameLPAREN	
int	TokenNameint	
kcspis	TokenNameIdentifier	 kcspis
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
kcspis	TokenNameIdentifier	 kcspis
<	TokenNameLESS	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
"KeyCacheSavePeriodInSeconds must be non-negative."	TokenNameStringLiteral	KeyCacheSavePeriodInSeconds must be non-negative.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
setKeyCacheSavePeriod	TokenNameIdentifier	 set Key Cache Save Period
(	TokenNameLPAREN	
kcspis	TokenNameIdentifier	 kcspis
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
keyCache	TokenNameIdentifier	 key Cache
.	TokenNameDOT	
scheduleSaving	TokenNameIdentifier	 schedule Saving
(	TokenNameLPAREN	
kcspis	TokenNameIdentifier	 kcspis
,	TokenNameCOMMA	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getKeyCacheKeysToSave	TokenNameIdentifier	 get Key Cache Keys To Save
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
invalidateKeyCache	TokenNameIdentifier	 invalidate Key Cache
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
keyCache	TokenNameIdentifier	 key Cache
.	TokenNameDOT	
clear	TokenNameIdentifier	 clear
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
invalidateRowCache	TokenNameIdentifier	 invalidate Row Cache
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
rowCache	TokenNameIdentifier	 row Cache
.	TokenNameDOT	
clear	TokenNameIdentifier	 clear
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
getRowCacheCapacityInBytes	TokenNameIdentifier	 get Row Cache Capacity In Bytes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
rowCache	TokenNameIdentifier	 row Cache
.	TokenNameDOT	
getMetrics	TokenNameIdentifier	 get Metrics
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
capacity	TokenNameIdentifier	 capacity
.	TokenNameDOT	
value	TokenNameIdentifier	 value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
getRowCacheCapacityInMB	TokenNameIdentifier	 get Row Cache Capacity In MB
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
getRowCacheCapacityInBytes	TokenNameIdentifier	 get Row Cache Capacity In Bytes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
/	TokenNameDIVIDE	
1024	TokenNameIntegerLiteral	
/	TokenNameDIVIDE	
1024	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
setRowCacheCapacityInMB	TokenNameIdentifier	 set Row Cache Capacity In MB
(	TokenNameLPAREN	
long	TokenNamelong	
capacity	TokenNameIdentifier	 capacity
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
capacity	TokenNameIdentifier	 capacity
<	TokenNameLESS	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
"capacity should not be negative."	TokenNameStringLiteral	capacity should not be negative.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
rowCache	TokenNameIdentifier	 row Cache
.	TokenNameDOT	
setCapacity	TokenNameIdentifier	 set Capacity
(	TokenNameLPAREN	
capacity	TokenNameIdentifier	 capacity
*	TokenNameMULTIPLY	
1024	TokenNameIntegerLiteral	
*	TokenNameMULTIPLY	
1024	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
getKeyCacheCapacityInBytes	TokenNameIdentifier	 get Key Cache Capacity In Bytes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
keyCache	TokenNameIdentifier	 key Cache
.	TokenNameDOT	
getMetrics	TokenNameIdentifier	 get Metrics
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
capacity	TokenNameIdentifier	 capacity
.	TokenNameDOT	
value	TokenNameIdentifier	 value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
getKeyCacheCapacityInMB	TokenNameIdentifier	 get Key Cache Capacity In MB
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
getKeyCacheCapacityInBytes	TokenNameIdentifier	 get Key Cache Capacity In Bytes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
/	TokenNameDIVIDE	
1024	TokenNameIntegerLiteral	
/	TokenNameDIVIDE	
1024	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
setKeyCacheCapacityInMB	TokenNameIdentifier	 set Key Cache Capacity In MB
(	TokenNameLPAREN	
long	TokenNamelong	
capacity	TokenNameIdentifier	 capacity
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
capacity	TokenNameIdentifier	 capacity
<	TokenNameLESS	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
"capacity should not be negative."	TokenNameStringLiteral	capacity should not be negative.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
long	TokenNamelong	
weightedCapacity	TokenNameIdentifier	 weighted Capacity
=	TokenNameEQUAL	
capacity	TokenNameIdentifier	 capacity
*	TokenNameMULTIPLY	
1024	TokenNameIntegerLiteral	
*	TokenNameMULTIPLY	
1024	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
keyCache	TokenNameIdentifier	 key Cache
.	TokenNameDOT	
setCapacity	TokenNameIdentifier	 set Capacity
(	TokenNameLPAREN	
MemoryMeter	TokenNameIdentifier	 Memory Meter
.	TokenNameDOT	
isInitialized	TokenNameIdentifier	 is Initialized
(	TokenNameLPAREN	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
weightedCapacity	TokenNameIdentifier	 weighted Capacity
:	TokenNameCOLON	
(	TokenNameLPAREN	
weightedCapacity	TokenNameIdentifier	 weighted Capacity
/	TokenNameDIVIDE	
48	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
getRowCacheSize	TokenNameIdentifier	 get Row Cache Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
rowCache	TokenNameIdentifier	 row Cache
.	TokenNameDOT	
getMetrics	TokenNameIdentifier	 get Metrics
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
size	TokenNameIdentifier	 size
.	TokenNameDOT	
value	TokenNameIdentifier	 value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
getRowCacheEntries	TokenNameIdentifier	 get Row Cache Entries
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
rowCache	TokenNameIdentifier	 row Cache
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
getKeyCacheSize	TokenNameIdentifier	 get Key Cache Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
keyCache	TokenNameIdentifier	 key Cache
.	TokenNameDOT	
getMetrics	TokenNameIdentifier	 get Metrics
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
size	TokenNameIdentifier	 size
.	TokenNameDOT	
value	TokenNameIdentifier	 value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
getKeyCacheEntries	TokenNameIdentifier	 get Key Cache Entries
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
keyCache	TokenNameIdentifier	 key Cache
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
reduceCacheSizes	TokenNameIdentifier	 reduce Cache Sizes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reduceRowCacheSize	TokenNameIdentifier	 reduce Row Cache Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reduceKeyCacheSize	TokenNameIdentifier	 reduce Key Cache Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
reduceRowCacheSize	TokenNameIdentifier	 reduce Row Cache Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
rowCache	TokenNameIdentifier	 row Cache
.	TokenNameDOT	
reduceCacheSize	TokenNameIdentifier	 reduce Cache Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
reduceKeyCacheSize	TokenNameIdentifier	 reduce Key Cache Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
keyCache	TokenNameIdentifier	 key Cache
.	TokenNameDOT	
reduceCacheSize	TokenNameIdentifier	 reduce Cache Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
saveCaches	TokenNameIdentifier	 save Caches
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
ExecutionException	TokenNameIdentifier	 Execution Exception
,	TokenNameCOMMA	
InterruptedException	TokenNameIdentifier	 Interrupted Exception
{	TokenNameLBRACE	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
Future	TokenNameIdentifier	 Future
<	TokenNameLESS	
?	TokenNameQUESTION	
>>	TokenNameRIGHT_SHIFT	
futures	TokenNameIdentifier	 futures
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
Future	TokenNameIdentifier	 Future
<	TokenNameLESS	
?	TokenNameQUESTION	
>>	TokenNameRIGHT_SHIFT	
(	TokenNameLPAREN	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"submitting cache saves"	TokenNameStringLiteral	submitting cache saves
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
futures	TokenNameIdentifier	 futures
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
keyCache	TokenNameIdentifier	 key Cache
.	TokenNameDOT	
submitWrite	TokenNameIdentifier	 submit Write
(	TokenNameLPAREN	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getKeyCacheKeysToSave	TokenNameIdentifier	 get Key Cache Keys To Save
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
futures	TokenNameIdentifier	 futures
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
rowCache	TokenNameIdentifier	 row Cache
.	TokenNameDOT	
submitWrite	TokenNameIdentifier	 submit Write
(	TokenNameLPAREN	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getRowCacheKeysToSave	TokenNameIdentifier	 get Row Cache Keys To Save
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
FBUtilities	TokenNameIdentifier	 FB Utilities
.	TokenNameDOT	
waitOnFutures	TokenNameIdentifier	 wait On Futures
(	TokenNameLPAREN	
futures	TokenNameIdentifier	 futures
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"cache saves completed"	TokenNameStringLiteral	cache saves completed
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
class	TokenNameclass	
RowCacheSerializer	TokenNameIdentifier	 Row Cache Serializer
implements	TokenNameimplements	
CacheSerializer	TokenNameIdentifier	 Cache Serializer
<	TokenNameLESS	
RowCacheKey	TokenNameIdentifier	 Row Cache Key
,	TokenNameCOMMA	
IRowCacheEntry	TokenNameIdentifier	 I Row Cache Entry
>	TokenNameGREATER	
{	TokenNameLBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
serialize	TokenNameIdentifier	 serialize
(	TokenNameLPAREN	
RowCacheKey	TokenNameIdentifier	 Row Cache Key
key	TokenNameIdentifier	 key
,	TokenNameCOMMA	
DataOutput	TokenNameIdentifier	 Data Output
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
ByteBufferUtil	TokenNameIdentifier	 Byte Buffer Util
.	TokenNameDOT	
writeWithLength	TokenNameIdentifier	 write With Length
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
.	TokenNameDOT	
key	TokenNameIdentifier	 key
,	TokenNameCOMMA	
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Future	TokenNameIdentifier	 Future
<	TokenNameLESS	
Pair	TokenNameIdentifier	 Pair
<	TokenNameLESS	
RowCacheKey	TokenNameIdentifier	 Row Cache Key
,	TokenNameCOMMA	
IRowCacheEntry	TokenNameIdentifier	 I Row Cache Entry
>>	TokenNameRIGHT_SHIFT	
deserialize	TokenNameIdentifier	 deserialize
(	TokenNameLPAREN	
DataInputStream	TokenNameIdentifier	 Data Input Stream
in	TokenNameIdentifier	 in
,	TokenNameCOMMA	
final	TokenNamefinal	
ColumnFamilyStore	TokenNameIdentifier	 Column Family Store
cfs	TokenNameIdentifier	 cfs
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
final	TokenNamefinal	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
buffer	TokenNameIdentifier	 buffer
=	TokenNameEQUAL	
ByteBufferUtil	TokenNameIdentifier	 Byte Buffer Util
.	TokenNameDOT	
readWithLength	TokenNameIdentifier	 read With Length
(	TokenNameLPAREN	
in	TokenNameIdentifier	 in
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
StageManager	TokenNameIdentifier	 Stage Manager
.	TokenNameDOT	
getStage	TokenNameIdentifier	 get Stage
(	TokenNameLPAREN	
Stage	TokenNameIdentifier	 Stage
.	TokenNameDOT	
READ	TokenNameIdentifier	 READ
)	TokenNameRPAREN	
.	TokenNameDOT	
submit	TokenNameIdentifier	 submit
(	TokenNameLPAREN	
new	TokenNamenew	
Callable	TokenNameIdentifier	 Callable
<	TokenNameLESS	
Pair	TokenNameIdentifier	 Pair
<	TokenNameLESS	
RowCacheKey	TokenNameIdentifier	 Row Cache Key
,	TokenNameCOMMA	
IRowCacheEntry	TokenNameIdentifier	 I Row Cache Entry
>>	TokenNameRIGHT_SHIFT	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
public	TokenNamepublic	
Pair	TokenNameIdentifier	 Pair
<	TokenNameLESS	
RowCacheKey	TokenNameIdentifier	 Row Cache Key
,	TokenNameCOMMA	
IRowCacheEntry	TokenNameIdentifier	 I Row Cache Entry
>	TokenNameGREATER	
call	TokenNameIdentifier	 call
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
DecoratedKey	TokenNameIdentifier	 Decorated Key
key	TokenNameIdentifier	 key
=	TokenNameEQUAL	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
partitioner	TokenNameIdentifier	 partitioner
.	TokenNameDOT	
decorateKey	TokenNameIdentifier	 decorate Key
(	TokenNameLPAREN	
buffer	TokenNameIdentifier	 buffer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ColumnFamily	TokenNameIdentifier	 Column Family
data	TokenNameIdentifier	 data
=	TokenNameEQUAL	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
getTopLevelColumns	TokenNameIdentifier	 get Top Level Columns
(	TokenNameLPAREN	
QueryFilter	TokenNameIdentifier	 Query Filter
.	TokenNameDOT	
getIdentityFilter	TokenNameIdentifier	 get Identity Filter
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
,	TokenNameCOMMA	
new	TokenNamenew	
QueryPath	TokenNameIdentifier	 Query Path
(	TokenNameLPAREN	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
columnFamily	TokenNameIdentifier	 column Family
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MIN_VALUE	TokenNameIdentifier	 MIN  VALUE
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
Pair	TokenNameIdentifier	 Pair
.	TokenNameDOT	
create	TokenNameIdentifier	 create
(	TokenNameLPAREN	
new	TokenNamenew	
RowCacheKey	TokenNameIdentifier	 Row Cache Key
(	TokenNameLPAREN	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
metadata	TokenNameIdentifier	 metadata
.	TokenNameDOT	
cfId	TokenNameIdentifier	 cf Id
,	TokenNameCOMMA	
key	TokenNameIdentifier	 key
)	TokenNameRPAREN	
,	TokenNameCOMMA	
(	TokenNameLPAREN	
IRowCacheEntry	TokenNameIdentifier	 I Row Cache Entry
)	TokenNameRPAREN	
data	TokenNameIdentifier	 data
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
load	TokenNameIdentifier	 load
(	TokenNameLPAREN	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
>	TokenNameGREATER	
buffers	TokenNameIdentifier	 buffers
,	TokenNameCOMMA	
ColumnFamilyStore	TokenNameIdentifier	 Column Family Store
cfs	TokenNameIdentifier	 cfs
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
key	TokenNameIdentifier	 key
:	TokenNameCOLON	
buffers	TokenNameIdentifier	 buffers
)	TokenNameRPAREN	
{	TokenNameLBRACE	
DecoratedKey	TokenNameIdentifier	 Decorated Key
dk	TokenNameIdentifier	 dk
=	TokenNameEQUAL	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
partitioner	TokenNameIdentifier	 partitioner
.	TokenNameDOT	
decorateKey	TokenNameIdentifier	 decorate Key
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ColumnFamily	TokenNameIdentifier	 Column Family
data	TokenNameIdentifier	 data
=	TokenNameEQUAL	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
getTopLevelColumns	TokenNameIdentifier	 get Top Level Columns
(	TokenNameLPAREN	
QueryFilter	TokenNameIdentifier	 Query Filter
.	TokenNameDOT	
getIdentityFilter	TokenNameIdentifier	 get Identity Filter
(	TokenNameLPAREN	
dk	TokenNameIdentifier	 dk
,	TokenNameCOMMA	
new	TokenNamenew	
QueryPath	TokenNameIdentifier	 Query Path
(	TokenNameLPAREN	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
columnFamily	TokenNameIdentifier	 column Family
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MIN_VALUE	TokenNameIdentifier	 MIN  VALUE
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
rowCache	TokenNameIdentifier	 row Cache
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
new	TokenNamenew	
RowCacheKey	TokenNameIdentifier	 Row Cache Key
(	TokenNameLPAREN	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
metadata	TokenNameIdentifier	 metadata
.	TokenNameDOT	
cfId	TokenNameIdentifier	 cf Id
,	TokenNameCOMMA	
dk	TokenNameIdentifier	 dk
)	TokenNameRPAREN	
,	TokenNameCOMMA	
data	TokenNameIdentifier	 data
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
class	TokenNameclass	
KeyCacheSerializer	TokenNameIdentifier	 Key Cache Serializer
implements	TokenNameimplements	
CacheSerializer	TokenNameIdentifier	 Cache Serializer
<	TokenNameLESS	
KeyCacheKey	TokenNameIdentifier	 Key Cache Key
,	TokenNameCOMMA	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
>	TokenNameGREATER	
{	TokenNameLBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
serialize	TokenNameIdentifier	 serialize
(	TokenNameLPAREN	
KeyCacheKey	TokenNameIdentifier	 Key Cache Key
key	TokenNameIdentifier	 key
,	TokenNameCOMMA	
DataOutput	TokenNameIdentifier	 Data Output
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
entry	TokenNameIdentifier	 entry
=	TokenNameEQUAL	
CacheService	TokenNameIdentifier	 Cache Service
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
.	TokenNameDOT	
keyCache	TokenNameIdentifier	 key Cache
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
entry	TokenNameIdentifier	 entry
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
ByteBufferUtil	TokenNameIdentifier	 Byte Buffer Util
.	TokenNameDOT	
writeWithLength	TokenNameIdentifier	 write With Length
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
.	TokenNameDOT	
key	TokenNameIdentifier	 key
,	TokenNameCOMMA	
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Descriptor	TokenNameIdentifier	 Descriptor
desc	TokenNameIdentifier	 desc
=	TokenNameEQUAL	
key	TokenNameIdentifier	 key
.	TokenNameDOT	
desc	TokenNameIdentifier	 desc
;	TokenNameSEMICOLON	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
writeInt	TokenNameIdentifier	 write Int
(	TokenNameLPAREN	
desc	TokenNameIdentifier	 desc
.	TokenNameDOT	
generation	TokenNameIdentifier	 generation
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
writeBoolean	TokenNameIdentifier	 write Boolean
(	TokenNameLPAREN	
desc	TokenNameIdentifier	 desc
.	TokenNameDOT	
version	TokenNameIdentifier	 version
.	TokenNameDOT	
hasPromotedIndexes	TokenNameIdentifier	 has Promoted Indexes
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
desc	TokenNameIdentifier	 desc
.	TokenNameDOT	
version	TokenNameIdentifier	 version
.	TokenNameDOT	
hasPromotedIndexes	TokenNameIdentifier	 has Promoted Indexes
)	TokenNameRPAREN	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
.	TokenNameDOT	
serialize	TokenNameIdentifier	 serialize
(	TokenNameLPAREN	
entry	TokenNameIdentifier	 entry
,	TokenNameCOMMA	
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Future	TokenNameIdentifier	 Future
<	TokenNameLESS	
Pair	TokenNameIdentifier	 Pair
<	TokenNameLESS	
KeyCacheKey	TokenNameIdentifier	 Key Cache Key
,	TokenNameCOMMA	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
>>	TokenNameRIGHT_SHIFT	
deserialize	TokenNameIdentifier	 deserialize
(	TokenNameLPAREN	
DataInputStream	TokenNameIdentifier	 Data Input Stream
input	TokenNameIdentifier	 input
,	TokenNameCOMMA	
ColumnFamilyStore	TokenNameIdentifier	 Column Family Store
cfs	TokenNameIdentifier	 cfs
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
key	TokenNameIdentifier	 key
=	TokenNameEQUAL	
ByteBufferUtil	TokenNameIdentifier	 Byte Buffer Util
.	TokenNameDOT	
readWithLength	TokenNameIdentifier	 read With Length
(	TokenNameLPAREN	
input	TokenNameIdentifier	 input
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
generation	TokenNameIdentifier	 generation
=	TokenNameEQUAL	
input	TokenNameIdentifier	 input
.	TokenNameDOT	
readInt	TokenNameIdentifier	 read Int
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
SSTableReader	TokenNameIdentifier	 SS Table Reader
reader	TokenNameIdentifier	 reader
=	TokenNameEQUAL	
findDesc	TokenNameIdentifier	 find Desc
(	TokenNameLPAREN	
generation	TokenNameIdentifier	 generation
,	TokenNameCOMMA	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
getSSTables	TokenNameIdentifier	 get SS Tables
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
reader	TokenNameIdentifier	 reader
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
.	TokenNameDOT	
skipPromotedIndex	TokenNameIdentifier	 skip Promoted Index
(	TokenNameLPAREN	
input	TokenNameIdentifier	 input
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
entry	TokenNameIdentifier	 entry
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
input	TokenNameIdentifier	 input
.	TokenNameDOT	
readBoolean	TokenNameIdentifier	 read Boolean
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
entry	TokenNameIdentifier	 entry
=	TokenNameEQUAL	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
.	TokenNameDOT	
deserialize	TokenNameIdentifier	 deserialize
(	TokenNameLPAREN	
input	TokenNameIdentifier	 input
,	TokenNameCOMMA	
reader	TokenNameIdentifier	 reader
.	TokenNameDOT	
descriptor	TokenNameIdentifier	 descriptor
.	TokenNameDOT	
version	TokenNameIdentifier	 version
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
entry	TokenNameIdentifier	 entry
=	TokenNameEQUAL	
reader	TokenNameIdentifier	 reader
.	TokenNameDOT	
getPosition	TokenNameIdentifier	 get Position
(	TokenNameLPAREN	
reader	TokenNameIdentifier	 reader
.	TokenNameDOT	
partitioner	TokenNameIdentifier	 partitioner
.	TokenNameDOT	
decorateKey	TokenNameIdentifier	 decorate Key
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Operator	TokenNameIdentifier	 Operator
.	TokenNameDOT	
EQ	TokenNameIdentifier	 EQ
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
Futures	TokenNameIdentifier	 Futures
.	TokenNameDOT	
immediateFuture	TokenNameIdentifier	 immediate Future
(	TokenNameLPAREN	
Pair	TokenNameIdentifier	 Pair
.	TokenNameDOT	
create	TokenNameIdentifier	 create
(	TokenNameLPAREN	
new	TokenNamenew	
KeyCacheKey	TokenNameIdentifier	 Key Cache Key
(	TokenNameLPAREN	
reader	TokenNameIdentifier	 reader
.	TokenNameDOT	
descriptor	TokenNameIdentifier	 descriptor
,	TokenNameCOMMA	
key	TokenNameIdentifier	 key
)	TokenNameRPAREN	
,	TokenNameCOMMA	
entry	TokenNameIdentifier	 entry
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
SSTableReader	TokenNameIdentifier	 SS Table Reader
findDesc	TokenNameIdentifier	 find Desc
(	TokenNameLPAREN	
int	TokenNameint	
generation	TokenNameIdentifier	 generation
,	TokenNameCOMMA	
Collection	TokenNameIdentifier	 Collection
<	TokenNameLESS	
SSTableReader	TokenNameIdentifier	 SS Table Reader
>	TokenNameGREATER	
collection	TokenNameIdentifier	 collection
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
SSTableReader	TokenNameIdentifier	 SS Table Reader
sstable	TokenNameIdentifier	 sstable
:	TokenNameCOLON	
collection	TokenNameIdentifier	 collection
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
sstable	TokenNameIdentifier	 sstable
.	TokenNameDOT	
descriptor	TokenNameIdentifier	 descriptor
.	TokenNameDOT	
generation	TokenNameIdentifier	 generation
==	TokenNameEQUAL_EQUAL	
generation	TokenNameIdentifier	 generation
)	TokenNameRPAREN	
return	TokenNamereturn	
sstable	TokenNameIdentifier	 sstable
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
load	TokenNameIdentifier	 load
(	TokenNameLPAREN	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
>	TokenNameGREATER	
buffers	TokenNameIdentifier	 buffers
,	TokenNameCOMMA	
ColumnFamilyStore	TokenNameIdentifier	 Column Family Store
cfs	TokenNameIdentifier	 cfs
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
key	TokenNameIdentifier	 key
:	TokenNameCOLON	
buffers	TokenNameIdentifier	 buffers
)	TokenNameRPAREN	
{	TokenNameLBRACE	
DecoratedKey	TokenNameIdentifier	 Decorated Key
dk	TokenNameIdentifier	 dk
=	TokenNameEQUAL	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
partitioner	TokenNameIdentifier	 partitioner
.	TokenNameDOT	
decorateKey	TokenNameIdentifier	 decorate Key
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
SSTableReader	TokenNameIdentifier	 SS Table Reader
sstable	TokenNameIdentifier	 sstable
:	TokenNameCOLON	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
getSSTables	TokenNameIdentifier	 get SS Tables
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
RowIndexEntry	TokenNameIdentifier	 Row Index Entry
entry	TokenNameIdentifier	 entry
=	TokenNameEQUAL	
sstable	TokenNameIdentifier	 sstable
.	TokenNameDOT	
getPosition	TokenNameIdentifier	 get Position
(	TokenNameLPAREN	
dk	TokenNameIdentifier	 dk
,	TokenNameCOMMA	
Operator	TokenNameIdentifier	 Operator
.	TokenNameDOT	
EQ	TokenNameIdentifier	 EQ
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
entry	TokenNameIdentifier	 entry
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
keyCache	TokenNameIdentifier	 key Cache
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
new	TokenNamenew	
KeyCacheKey	TokenNameIdentifier	 Key Cache Key
(	TokenNameLPAREN	
sstable	TokenNameIdentifier	 sstable
.	TokenNameDOT	
descriptor	TokenNameIdentifier	 descriptor
,	TokenNameCOMMA	
key	TokenNameIdentifier	 key
)	TokenNameRPAREN	
,	TokenNameCOMMA	
entry	TokenNameIdentifier	 entry
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
