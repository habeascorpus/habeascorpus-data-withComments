/* * Licensed to the Apache Software Foundation (ASF) under one * or more contributor license agreements. See the NOTICE file * distributed with this work for additional information * regarding copyright ownership. The ASF licenses this file * to you under the Apache License, Version 2.0 (the * "License"); you may not use this file except in compliance * with the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to you under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
index	TokenNameIdentifier	 index
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
nio	TokenNameIdentifier	 nio
.	TokenNameDOT	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
*	TokenNameMULTIPLY	
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
concurrent	TokenNameIdentifier	 concurrent
.	TokenNameDOT	
*	TokenNameMULTIPLY	
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
commons	TokenNameIdentifier	 commons
.	TokenNameDOT	
lang	TokenNameIdentifier	 lang
.	TokenNameDOT	
StringUtils	TokenNameIdentifier	 String Utils
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
slf4j	TokenNameIdentifier	 slf4j
.	TokenNameDOT	
Logger	TokenNameIdentifier	 Logger
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
slf4j	TokenNameIdentifier	 slf4j
.	TokenNameDOT	
LoggerFactory	TokenNameIdentifier	 Logger Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
config	TokenNameIdentifier	 config
.	TokenNameDOT	
CFMetaData	TokenNameIdentifier	 CF Meta Data
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
config	TokenNameIdentifier	 config
.	TokenNameDOT	
ColumnDefinition	TokenNameIdentifier	 Column Definition
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
exceptions	TokenNameIdentifier	 exceptions
.	TokenNameDOT	
ConfigurationException	TokenNameIdentifier	 Configuration Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
ColumnFamilyStore	TokenNameIdentifier	 Column Family Store
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
DecoratedKey	TokenNameIdentifier	 Decorated Key
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
SystemTable	TokenNameIdentifier	 System Table
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
compaction	TokenNameIdentifier	 compaction
.	TokenNameDOT	
CompactionManager	TokenNameIdentifier	 Compaction Manager
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
keys	TokenNameIdentifier	 keys
.	TokenNameDOT	
KeysIndex	TokenNameIdentifier	 Keys Index
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
composites	TokenNameIdentifier	 composites
.	TokenNameDOT	
CompositesIndex	TokenNameIdentifier	 Composites Index
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
marshal	TokenNameIdentifier	 marshal
.	TokenNameDOT	
AbstractType	TokenNameIdentifier	 Abstract Type
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
marshal	TokenNameIdentifier	 marshal
.	TokenNameDOT	
BytesType	TokenNameIdentifier	 Bytes Type
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
marshal	TokenNameIdentifier	 marshal
.	TokenNameDOT	
CompositeType	TokenNameIdentifier	 Composite Type
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
marshal	TokenNameIdentifier	 marshal
.	TokenNameDOT	
LocalByPartionerType	TokenNameIdentifier	 Local By Partioner Type
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
dht	TokenNameIdentifier	 dht
.	TokenNameDOT	
*	TokenNameMULTIPLY	
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
sstable	TokenNameIdentifier	 sstable
.	TokenNameDOT	
ReducingKeyIterator	TokenNameIdentifier	 Reducing Key Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
sstable	TokenNameIdentifier	 sstable
.	TokenNameDOT	
SSTableReader	TokenNameIdentifier	 SS Table Reader
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
thrift	TokenNameIdentifier	 thrift
.	TokenNameDOT	
Column	TokenNameIdentifier	 Column
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
service	TokenNameIdentifier	 service
.	TokenNameDOT	
StorageService	TokenNameIdentifier	 Storage Service
;	TokenNameSEMICOLON	
/** * Abstract base class for different types of secondary indexes. * * Do not extend this directly, please pick from PerColumnSecondaryIndex or PerRowSecondaryIndex */	TokenNameCOMMENT_JAVADOC	 Abstract base class for different types of secondary indexes. * Do not extend this directly, please pick from PerColumnSecondaryIndex or PerRowSecondaryIndex 
public	TokenNamepublic	
abstract	TokenNameabstract	
class	TokenNameclass	
SecondaryIndex	TokenNameIdentifier	 Secondary Index
{	TokenNameLBRACE	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
Logger	TokenNameIdentifier	 Logger
logger	TokenNameIdentifier	 logger
=	TokenNameEQUAL	
LoggerFactory	TokenNameIdentifier	 Logger Factory
.	TokenNameDOT	
getLogger	TokenNameIdentifier	 get Logger
(	TokenNameLPAREN	
SecondaryIndex	TokenNameIdentifier	 Secondary Index
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
CUSTOM_INDEX_OPTION_NAME	TokenNameIdentifier	 CUSTOM  INDEX  OPTION  NAME
=	TokenNameEQUAL	
"class_name"	TokenNameStringLiteral	class_name
;	TokenNameSEMICOLON	
/** * Base CF that has many indexes */	TokenNameCOMMENT_JAVADOC	 Base CF that has many indexes 
protected	TokenNameprotected	
ColumnFamilyStore	TokenNameIdentifier	 Column Family Store
baseCfs	TokenNameIdentifier	 base Cfs
;	TokenNameSEMICOLON	
/** * The column definitions which this index is responsible for */	TokenNameCOMMENT_JAVADOC	 The column definitions which this index is responsible for 
protected	TokenNameprotected	
final	TokenNamefinal	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
ColumnDefinition	TokenNameIdentifier	 Column Definition
>	TokenNameGREATER	
columnDefs	TokenNameIdentifier	 column Defs
=	TokenNameEQUAL	
Collections	TokenNameIdentifier	 Collections
.	TokenNameDOT	
newSetFromMap	TokenNameIdentifier	 new Set From Map
(	TokenNameLPAREN	
new	TokenNamenew	
ConcurrentHashMap	TokenNameIdentifier	 Concurrent Hash Map
<	TokenNameLESS	
ColumnDefinition	TokenNameIdentifier	 Column Definition
,	TokenNameCOMMA	
Boolean	TokenNameIdentifier	 Boolean
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Perform any initialization work */	TokenNameCOMMENT_JAVADOC	 Perform any initialization work 
public	TokenNamepublic	
abstract	TokenNameabstract	
void	TokenNamevoid	
init	TokenNameIdentifier	 init
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Reload an existing index following a change to its configuration, * or that of the indexed column(s). Differs from init() in that we expect * expect new resources (such as CFS for a KEYS index) to be created by * init() but not here */	TokenNameCOMMENT_JAVADOC	 Reload an existing index following a change to its configuration, or that of the indexed column(s). Differs from init() in that we expect expect new resources (such as CFS for a KEYS index) to be created by init() but not here 
public	TokenNamepublic	
abstract	TokenNameabstract	
void	TokenNamevoid	
reload	TokenNameIdentifier	 reload
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Validates the index_options passed in the ColumnDef * @throws ConfigurationException */	TokenNameCOMMENT_JAVADOC	 Validates the index_options passed in the ColumnDef @throws ConfigurationException 
public	TokenNamepublic	
abstract	TokenNameabstract	
void	TokenNamevoid	
validateOptions	TokenNameIdentifier	 validate Options
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
ConfigurationException	TokenNameIdentifier	 Configuration Exception
;	TokenNameSEMICOLON	
/** * @return The name of the index */	TokenNameCOMMENT_JAVADOC	 @return The name of the index 
abstract	TokenNameabstract	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getIndexName	TokenNameIdentifier	 get Index Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Return the unique name for this index and column * to be stored in the SystemTable that tracks if each column is built * * @param columnName the name of the column * @return the unique name */	TokenNameCOMMENT_JAVADOC	 Return the unique name for this index and column to be stored in the SystemTable that tracks if each column is built * @param columnName the name of the column @return the unique name 
abstract	TokenNameabstract	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getNameForSystemTable	TokenNameIdentifier	 get Name For System Table
(	TokenNameLPAREN	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
columnName	TokenNameIdentifier	 column Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Checks if the index for specified column is fully built * * @param columnName the column * @return true if the index is fully built */	TokenNameCOMMENT_JAVADOC	 Checks if the index for specified column is fully built * @param columnName the column @return true if the index is fully built 
public	TokenNamepublic	
boolean	TokenNameboolean	
isIndexBuilt	TokenNameIdentifier	 is Index Built
(	TokenNameLPAREN	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
columnName	TokenNameIdentifier	 column Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
SystemTable	TokenNameIdentifier	 System Table
.	TokenNameDOT	
isIndexBuilt	TokenNameIdentifier	 is Index Built
(	TokenNameLPAREN	
baseCfs	TokenNameIdentifier	 base Cfs
.	TokenNameDOT	
table	TokenNameIdentifier	 table
.	TokenNameDOT	
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
getNameForSystemTable	TokenNameIdentifier	 get Name For System Table
(	TokenNameLPAREN	
columnName	TokenNameIdentifier	 column Name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
setIndexBuilt	TokenNameIdentifier	 set Index Built
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
ColumnDefinition	TokenNameIdentifier	 Column Definition
columnDef	TokenNameIdentifier	 column Def
:	TokenNameCOLON	
columnDefs	TokenNameIdentifier	 column Defs
)	TokenNameRPAREN	
SystemTable	TokenNameIdentifier	 System Table
.	TokenNameDOT	
setIndexBuilt	TokenNameIdentifier	 set Index Built
(	TokenNameLPAREN	
baseCfs	TokenNameIdentifier	 base Cfs
.	TokenNameDOT	
table	TokenNameIdentifier	 table
.	TokenNameDOT	
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
getNameForSystemTable	TokenNameIdentifier	 get Name For System Table
(	TokenNameLPAREN	
columnDef	TokenNameIdentifier	 column Def
.	TokenNameDOT	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
setIndexRemoved	TokenNameIdentifier	 set Index Removed
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
ColumnDefinition	TokenNameIdentifier	 Column Definition
columnDef	TokenNameIdentifier	 column Def
:	TokenNameCOLON	
columnDefs	TokenNameIdentifier	 column Defs
)	TokenNameRPAREN	
SystemTable	TokenNameIdentifier	 System Table
.	TokenNameDOT	
setIndexRemoved	TokenNameIdentifier	 set Index Removed
(	TokenNameLPAREN	
baseCfs	TokenNameIdentifier	 base Cfs
.	TokenNameDOT	
table	TokenNameIdentifier	 table
.	TokenNameDOT	
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
getNameForSystemTable	TokenNameIdentifier	 get Name For System Table
(	TokenNameLPAREN	
columnDef	TokenNameIdentifier	 column Def
.	TokenNameDOT	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Called at query time * Creates a implementation specific searcher instance for this index type * @param columns the list of columns which belong to this index type * @return the secondary index search impl */	TokenNameCOMMENT_JAVADOC	 Called at query time Creates a implementation specific searcher instance for this index type @param columns the list of columns which belong to this index type @return the secondary index search impl 
protected	TokenNameprotected	
abstract	TokenNameabstract	
SecondaryIndexSearcher	TokenNameIdentifier	 Secondary Index Searcher
createSecondaryIndexSearcher	TokenNameIdentifier	 create Secondary Index Searcher
(	TokenNameLPAREN	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
>	TokenNameGREATER	
columns	TokenNameIdentifier	 columns
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Forces this indexes in memory data to disk */	TokenNameCOMMENT_JAVADOC	 Forces this indexes in memory data to disk 
public	TokenNamepublic	
abstract	TokenNameabstract	
void	TokenNamevoid	
forceBlockingFlush	TokenNameIdentifier	 force Blocking Flush
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Get current amount of memory this index is consuming (in bytes) */	TokenNameCOMMENT_JAVADOC	 Get current amount of memory this index is consuming (in bytes) 
public	TokenNamepublic	
abstract	TokenNameabstract	
long	TokenNamelong	
getLiveSize	TokenNameIdentifier	 get Live Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Allow access to the underlying column family store if there is one * @return the underlying column family store or null */	TokenNameCOMMENT_JAVADOC	 Allow access to the underlying column family store if there is one @return the underlying column family store or null 
public	TokenNamepublic	
abstract	TokenNameabstract	
ColumnFamilyStore	TokenNameIdentifier	 Column Family Store
getIndexCfs	TokenNameIdentifier	 get Index Cfs
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Delete all files and references to this index * @param columnName the indexed column to remove */	TokenNameCOMMENT_JAVADOC	 Delete all files and references to this index @param columnName the indexed column to remove 
public	TokenNamepublic	
abstract	TokenNameabstract	
void	TokenNamevoid	
removeIndex	TokenNameIdentifier	 remove Index
(	TokenNameLPAREN	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
columnName	TokenNameIdentifier	 column Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Remove the index and unregisters this index's mbean if one exists */	TokenNameCOMMENT_JAVADOC	 Remove the index and unregisters this index's mbean if one exists 
public	TokenNamepublic	
abstract	TokenNameabstract	
void	TokenNamevoid	
invalidate	TokenNameIdentifier	 invalidate
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Truncate all the data from the current index * * @param truncatedAt The truncation timestamp, all data before that timestamp should be rejected. */	TokenNameCOMMENT_JAVADOC	 Truncate all the data from the current index * @param truncatedAt The truncation timestamp, all data before that timestamp should be rejected. 
public	TokenNamepublic	
abstract	TokenNameabstract	
void	TokenNamevoid	
truncate	TokenNameIdentifier	 truncate
(	TokenNameLPAREN	
long	TokenNamelong	
truncatedAt	TokenNameIdentifier	 truncated At
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Builds the index using the data in the underlying CFS * Blocks till it's complete */	TokenNameCOMMENT_JAVADOC	 Builds the index using the data in the underlying CFS Blocks till it's complete 
protected	TokenNameprotected	
void	TokenNamevoid	
buildIndexBlocking	TokenNameIdentifier	 build Index Blocking
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
info	TokenNameIdentifier	 info
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
.	TokenNameDOT	
format	TokenNameIdentifier	 format
(	TokenNameLPAREN	
"Submitting index build of %s for data in %s"	TokenNameStringLiteral	Submitting index build of %s for data in %s
,	TokenNameCOMMA	
getIndexName	TokenNameIdentifier	 get Index Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
StringUtils	TokenNameIdentifier	 String Utils
.	TokenNameDOT	
join	TokenNameIdentifier	 join
(	TokenNameLPAREN	
baseCfs	TokenNameIdentifier	 base Cfs
.	TokenNameDOT	
getSSTables	TokenNameIdentifier	 get SS Tables
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
", "	TokenNameStringLiteral	, 
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Collection	TokenNameIdentifier	 Collection
<	TokenNameLESS	
SSTableReader	TokenNameIdentifier	 SS Table Reader
>	TokenNameGREATER	
sstables	TokenNameIdentifier	 sstables
=	TokenNameEQUAL	
baseCfs	TokenNameIdentifier	 base Cfs
.	TokenNameDOT	
markCurrentSSTablesReferenced	TokenNameIdentifier	 mark Current SS Tables Referenced
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
SecondaryIndexBuilder	TokenNameIdentifier	 Secondary Index Builder
builder	TokenNameIdentifier	 builder
=	TokenNameEQUAL	
new	TokenNamenew	
SecondaryIndexBuilder	TokenNameIdentifier	 Secondary Index Builder
(	TokenNameLPAREN	
baseCfs	TokenNameIdentifier	 base Cfs
,	TokenNameCOMMA	
Collections	TokenNameIdentifier	 Collections
.	TokenNameDOT	
singleton	TokenNameIdentifier	 singleton
(	TokenNameLPAREN	
getIndexName	TokenNameIdentifier	 get Index Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
ReducingKeyIterator	TokenNameIdentifier	 Reducing Key Iterator
(	TokenNameLPAREN	
sstables	TokenNameIdentifier	 sstables
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Future	TokenNameIdentifier	 Future
<	TokenNameLESS	
?	TokenNameQUESTION	
>	TokenNameGREATER	
future	TokenNameIdentifier	 future
=	TokenNameEQUAL	
CompactionManager	TokenNameIdentifier	 Compaction Manager
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
.	TokenNameDOT	
submitIndexBuild	TokenNameIdentifier	 submit Index Build
(	TokenNameLPAREN	
builder	TokenNameIdentifier	 builder
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
future	TokenNameIdentifier	 future
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
forceBlockingFlush	TokenNameIdentifier	 force Blocking Flush
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
setIndexBuilt	TokenNameIdentifier	 set Index Built
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
InterruptedException	TokenNameIdentifier	 Interrupted Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
AssertionError	TokenNameIdentifier	 Assertion Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
ExecutionException	TokenNameIdentifier	 Execution Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
SSTableReader	TokenNameIdentifier	 SS Table Reader
.	TokenNameDOT	
releaseReferences	TokenNameIdentifier	 release References
(	TokenNameLPAREN	
sstables	TokenNameIdentifier	 sstables
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
info	TokenNameIdentifier	 info
(	TokenNameLPAREN	
"Index build of "	TokenNameStringLiteral	Index build of 
+	TokenNamePLUS	
getIndexName	TokenNameIdentifier	 get Index Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" complete"	TokenNameStringLiteral	 complete
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Builds the index using the data in the underlying CF, non blocking * * * @return A future object which the caller can block on (optional) */	TokenNameCOMMENT_JAVADOC	 Builds the index using the data in the underlying CF, non blocking * @return A future object which the caller can block on (optional) 
public	TokenNamepublic	
Future	TokenNameIdentifier	 Future
<	TokenNameLESS	
?	TokenNameQUESTION	
>	TokenNameGREATER	
buildIndexAsync	TokenNameIdentifier	 build Index Async
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// if we're just linking in the index to indexedColumns on an already-built index post-restart, we're done 	TokenNameCOMMENT_LINE	if we're just linking in the index to indexedColumns on an already-built index post-restart, we're done 
boolean	TokenNameboolean	
allAreBuilt	TokenNameIdentifier	 all Are Built
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
ColumnDefinition	TokenNameIdentifier	 Column Definition
cdef	TokenNameIdentifier	 cdef
:	TokenNameCOLON	
columnDefs	TokenNameIdentifier	 column Defs
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
SystemTable	TokenNameIdentifier	 System Table
.	TokenNameDOT	
isIndexBuilt	TokenNameIdentifier	 is Index Built
(	TokenNameLPAREN	
baseCfs	TokenNameIdentifier	 base Cfs
.	TokenNameDOT	
table	TokenNameIdentifier	 table
.	TokenNameDOT	
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
getNameForSystemTable	TokenNameIdentifier	 get Name For System Table
(	TokenNameLPAREN	
cdef	TokenNameIdentifier	 cdef
.	TokenNameDOT	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
allAreBuilt	TokenNameIdentifier	 all Are Built
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
allAreBuilt	TokenNameIdentifier	 all Are Built
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// build it asynchronously; addIndex gets called by CFS open and schema update, neither of which 	TokenNameCOMMENT_LINE	build it asynchronously; addIndex gets called by CFS open and schema update, neither of which 
// we want to block for a long period. (actual build is serialized on CompactionManager.) 	TokenNameCOMMENT_LINE	we want to block for a long period. (actual build is serialized on CompactionManager.) 
Runnable	TokenNameIdentifier	 Runnable
runnable	TokenNameIdentifier	 runnable
=	TokenNameEQUAL	
new	TokenNamenew	
Runnable	TokenNameIdentifier	 Runnable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
baseCfs	TokenNameIdentifier	 base Cfs
.	TokenNameDOT	
forceBlockingFlush	TokenNameIdentifier	 force Blocking Flush
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
buildIndexBlocking	TokenNameIdentifier	 build Index Blocking
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
ExecutionException	TokenNameIdentifier	 Execution Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
InterruptedException	TokenNameIdentifier	 Interrupted Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
AssertionError	TokenNameIdentifier	 Assertion Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
FutureTask	TokenNameIdentifier	 Future Task
<	TokenNameLESS	
?	TokenNameQUESTION	
>	TokenNameGREATER	
f	TokenNameIdentifier	 f
=	TokenNameEQUAL	
new	TokenNamenew	
FutureTask	TokenNameIdentifier	 Future Task
<	TokenNameLESS	
Object	TokenNameIdentifier	 Object
>	TokenNameGREATER	
(	TokenNameLPAREN	
runnable	TokenNameIdentifier	 runnable
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
new	TokenNamenew	
Thread	TokenNameIdentifier	 Thread
(	TokenNameLPAREN	
f	TokenNameIdentifier	 f
,	TokenNameCOMMA	
"Creating index: "	TokenNameStringLiteral	Creating index: 
+	TokenNamePLUS	
getIndexName	TokenNameIdentifier	 get Index Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
f	TokenNameIdentifier	 f
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
ColumnFamilyStore	TokenNameIdentifier	 Column Family Store
getBaseCfs	TokenNameIdentifier	 get Base Cfs
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
baseCfs	TokenNameIdentifier	 base Cfs
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
setBaseCfs	TokenNameIdentifier	 set Base Cfs
(	TokenNameLPAREN	
ColumnFamilyStore	TokenNameIdentifier	 Column Family Store
baseCfs	TokenNameIdentifier	 base Cfs
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
baseCfs	TokenNameIdentifier	 base Cfs
=	TokenNameEQUAL	
baseCfs	TokenNameIdentifier	 base Cfs
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
ColumnDefinition	TokenNameIdentifier	 Column Definition
>	TokenNameGREATER	
getColumnDefs	TokenNameIdentifier	 get Column Defs
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
columnDefs	TokenNameIdentifier	 column Defs
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
void	TokenNamevoid	
addColumnDef	TokenNameIdentifier	 add Column Def
(	TokenNameLPAREN	
ColumnDefinition	TokenNameIdentifier	 Column Definition
columnDef	TokenNameIdentifier	 column Def
)	TokenNameRPAREN	
{	TokenNameLBRACE	
columnDefs	TokenNameIdentifier	 column Defs
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
columnDef	TokenNameIdentifier	 column Def
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
void	TokenNamevoid	
removeColumnDef	TokenNameIdentifier	 remove Column Def
(	TokenNameLPAREN	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
ColumnDefinition	TokenNameIdentifier	 Column Definition
>	TokenNameGREATER	
it	TokenNameIdentifier	 it
=	TokenNameEQUAL	
columnDefs	TokenNameIdentifier	 column Defs
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
it	TokenNameIdentifier	 it
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
it	TokenNameIdentifier	 it
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
name	TokenNameIdentifier	 name
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
it	TokenNameIdentifier	 it
.	TokenNameDOT	
remove	TokenNameIdentifier	 remove
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Returns the decoratedKey for a column value * @param value column value * @return decorated key */	TokenNameCOMMENT_JAVADOC	 Returns the decoratedKey for a column value @param value column value @return decorated key 
public	TokenNamepublic	
DecoratedKey	TokenNameIdentifier	 Decorated Key
getIndexKeyFor	TokenNameIdentifier	 get Index Key For
(	TokenNameLPAREN	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// FIXME: this imply one column definition per index 	TokenNameCOMMENT_LINE	FIXME: this imply one column definition per index 
ByteBuffer	TokenNameIdentifier	 Byte Buffer
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
columnDefs	TokenNameIdentifier	 column Defs
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
name	TokenNameIdentifier	 name
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
DecoratedKey	TokenNameIdentifier	 Decorated Key
(	TokenNameLPAREN	
new	TokenNamenew	
LocalToken	TokenNameIdentifier	 Local Token
(	TokenNameLPAREN	
baseCfs	TokenNameIdentifier	 base Cfs
.	TokenNameDOT	
metadata	TokenNameIdentifier	 metadata
.	TokenNameDOT	
getColumnDefinition	TokenNameIdentifier	 get Column Definition
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
.	TokenNameDOT	
getValidator	TokenNameIdentifier	 get Validator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
,	TokenNameCOMMA	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns true if the provided column name is indexed by this secondary index. * * The default implement checks whether the name is one the columnDef name, * but this should be overriden but subclass if needed. */	TokenNameCOMMENT_JAVADOC	 Returns true if the provided column name is indexed by this secondary index. * The default implement checks whether the name is one the columnDef name, but this should be overriden but subclass if needed. 
public	TokenNamepublic	
boolean	TokenNameboolean	
indexes	TokenNameIdentifier	 indexes
(	TokenNameLPAREN	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
ColumnDefinition	TokenNameIdentifier	 Column Definition
columnDef	TokenNameIdentifier	 column Def
:	TokenNameCOLON	
columnDefs	TokenNameIdentifier	 column Defs
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
baseCfs	TokenNameIdentifier	 base Cfs
.	TokenNameDOT	
getComparator	TokenNameIdentifier	 get Comparator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
compare	TokenNameIdentifier	 compare
(	TokenNameLPAREN	
columnDef	TokenNameIdentifier	 column Def
.	TokenNameDOT	
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * This is the primary way to create a secondary index instance for a CF column. * It will validate the index_options before initializing. * * @param baseCfs the source of data for the Index * @param cdef the meta information about this column (index_type, index_options, name, etc...) * * @return The secondary index instance for this column * @throws ConfigurationException */	TokenNameCOMMENT_JAVADOC	 This is the primary way to create a secondary index instance for a CF column. It will validate the index_options before initializing. * @param baseCfs the source of data for the Index @param cdef the meta information about this column (index_type, index_options, name, etc...) * @return The secondary index instance for this column @throws ConfigurationException 
public	TokenNamepublic	
static	TokenNamestatic	
SecondaryIndex	TokenNameIdentifier	 Secondary Index
createInstance	TokenNameIdentifier	 create Instance
(	TokenNameLPAREN	
ColumnFamilyStore	TokenNameIdentifier	 Column Family Store
baseCfs	TokenNameIdentifier	 base Cfs
,	TokenNameCOMMA	
ColumnDefinition	TokenNameIdentifier	 Column Definition
cdef	TokenNameIdentifier	 cdef
)	TokenNameRPAREN	
throws	TokenNamethrows	
ConfigurationException	TokenNameIdentifier	 Configuration Exception
{	TokenNameLBRACE	
SecondaryIndex	TokenNameIdentifier	 Secondary Index
index	TokenNameIdentifier	 index
;	TokenNameSEMICOLON	
switch	TokenNameswitch	
(	TokenNameLPAREN	
cdef	TokenNameIdentifier	 cdef
.	TokenNameDOT	
getIndexType	TokenNameIdentifier	 get Index Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
case	TokenNamecase	
KEYS	TokenNameIdentifier	 KEYS
:	TokenNameCOLON	
index	TokenNameIdentifier	 index
=	TokenNameEQUAL	
new	TokenNamenew	
KeysIndex	TokenNameIdentifier	 Keys Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
COMPOSITES	TokenNameIdentifier	 COMPOSITES
:	TokenNameCOLON	
index	TokenNameIdentifier	 index
=	TokenNameEQUAL	
new	TokenNamenew	
CompositesIndex	TokenNameIdentifier	 Composites Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
CUSTOM	TokenNameIdentifier	 CUSTOM
:	TokenNameCOLON	
assert	TokenNameassert	
cdef	TokenNameIdentifier	 cdef
.	TokenNameDOT	
getIndexOptions	TokenNameIdentifier	 get Index Options
(	TokenNameLPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
class_name	TokenNameIdentifier	 class name
=	TokenNameEQUAL	
cdef	TokenNameIdentifier	 cdef
.	TokenNameDOT	
getIndexOptions	TokenNameIdentifier	 get Index Options
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
CUSTOM_INDEX_OPTION_NAME	TokenNameIdentifier	 CUSTOM  INDEX  OPTION  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assert	TokenNameassert	
class_name	TokenNameIdentifier	 class name
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
index	TokenNameIdentifier	 index
=	TokenNameEQUAL	
(	TokenNameLPAREN	
SecondaryIndex	TokenNameIdentifier	 Secondary Index
)	TokenNameRPAREN	
Class	TokenNameIdentifier	 Class
.	TokenNameDOT	
forName	TokenNameIdentifier	 for Name
(	TokenNameLPAREN	
class_name	TokenNameIdentifier	 class name
)	TokenNameRPAREN	
.	TokenNameDOT	
newInstance	TokenNameIdentifier	 new Instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
default	TokenNamedefault	
:	TokenNameCOLON	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
"Unknown index type: "	TokenNameStringLiteral	Unknown index type: 
+	TokenNamePLUS	
cdef	TokenNameIdentifier	 cdef
.	TokenNameDOT	
getIndexName	TokenNameIdentifier	 get Index Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
addColumnDef	TokenNameIdentifier	 add Column Def
(	TokenNameLPAREN	
cdef	TokenNameIdentifier	 cdef
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
validateOptions	TokenNameIdentifier	 validate Options
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
setBaseCfs	TokenNameIdentifier	 set Base Cfs
(	TokenNameLPAREN	
baseCfs	TokenNameIdentifier	 base Cfs
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
index	TokenNameIdentifier	 index
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
abstract	TokenNameabstract	
boolean	TokenNameboolean	
validate	TokenNameIdentifier	 validate
(	TokenNameLPAREN	
Column	TokenNameIdentifier	 Column
column	TokenNameIdentifier	 column
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Returns the index comparator for index backed by CFS, or null. * * Note: it would be cleaner to have this be a member method. However we need this when opening indexes * sstables, but by then the CFS won't be fully initiated, so the SecondaryIndex object won't be accessible. */	TokenNameCOMMENT_JAVADOC	 Returns the index comparator for index backed by CFS, or null. * Note: it would be cleaner to have this be a member method. However we need this when opening indexes sstables, but by then the CFS won't be fully initiated, so the SecondaryIndex object won't be accessible. 
public	TokenNamepublic	
static	TokenNamestatic	
AbstractType	TokenNameIdentifier	 Abstract Type
<	TokenNameLESS	
?	TokenNameQUESTION	
>	TokenNameGREATER	
getIndexComparator	TokenNameIdentifier	 get Index Comparator
(	TokenNameLPAREN	
CFMetaData	TokenNameIdentifier	 CF Meta Data
baseMetadata	TokenNameIdentifier	 base Metadata
,	TokenNameCOMMA	
ColumnDefinition	TokenNameIdentifier	 Column Definition
cdef	TokenNameIdentifier	 cdef
)	TokenNameRPAREN	
{	TokenNameLBRACE	
IPartitioner	TokenNameIdentifier	 I Partitioner
rowPartitioner	TokenNameIdentifier	 row Partitioner
=	TokenNameEQUAL	
StorageService	TokenNameIdentifier	 Storage Service
.	TokenNameDOT	
getPartitioner	TokenNameIdentifier	 get Partitioner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AbstractType	TokenNameIdentifier	 Abstract Type
<	TokenNameLESS	
?	TokenNameQUESTION	
>	TokenNameGREATER	
keyComparator	TokenNameIdentifier	 key Comparator
=	TokenNameEQUAL	
(	TokenNameLPAREN	
rowPartitioner	TokenNameIdentifier	 row Partitioner
instanceof	TokenNameinstanceof	
OrderPreservingPartitioner	TokenNameIdentifier	 Order Preserving Partitioner
||	TokenNameOR_OR	
rowPartitioner	TokenNameIdentifier	 row Partitioner
instanceof	TokenNameinstanceof	
ByteOrderedPartitioner	TokenNameIdentifier	 Byte Ordered Partitioner
)	TokenNameRPAREN	
?	TokenNameQUESTION	
BytesType	TokenNameIdentifier	 Bytes Type
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
:	TokenNameCOLON	
new	TokenNamenew	
LocalByPartionerType	TokenNameIdentifier	 Local By Partioner Type
(	TokenNameLPAREN	
rowPartitioner	TokenNameIdentifier	 row Partitioner
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
switch	TokenNameswitch	
(	TokenNameLPAREN	
cdef	TokenNameIdentifier	 cdef
.	TokenNameDOT	
getIndexType	TokenNameIdentifier	 get Index Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
case	TokenNamecase	
KEYS	TokenNameIdentifier	 KEYS
:	TokenNameCOLON	
return	TokenNamereturn	
keyComparator	TokenNameIdentifier	 key Comparator
;	TokenNameSEMICOLON	
case	TokenNamecase	
COMPOSITES	TokenNameIdentifier	 COMPOSITES
:	TokenNameCOLON	
assert	TokenNameassert	
baseMetadata	TokenNameIdentifier	 base Metadata
.	TokenNameDOT	
comparator	TokenNameIdentifier	 comparator
instanceof	TokenNameinstanceof	
CompositeType	TokenNameIdentifier	 Composite Type
;	TokenNameSEMICOLON	
int	TokenNameint	
prefixSize	TokenNameIdentifier	 prefix Size
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
prefixSize	TokenNameIdentifier	 prefix Size
=	TokenNameEQUAL	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
parseInt	TokenNameIdentifier	 parse Int
(	TokenNameLPAREN	
cdef	TokenNameIdentifier	 cdef
.	TokenNameDOT	
getIndexOptions	TokenNameIdentifier	 get Index Options
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
CompositesIndex	TokenNameIdentifier	 Composites Index
.	TokenNameDOT	
PREFIX_SIZE_OPTION	TokenNameIdentifier	 PREFIX  SIZE  OPTION
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
NumberFormatException	TokenNameIdentifier	 Number Format Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// This shouldn't happen if validation has been done correctly 	TokenNameCOMMENT_LINE	This shouldn't happen if validation has been done correctly 
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
AbstractType	TokenNameIdentifier	 Abstract Type
<	TokenNameLESS	
?	TokenNameQUESTION	
>>	TokenNameRIGHT_SHIFT	
types	TokenNameIdentifier	 types
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
AbstractType	TokenNameIdentifier	 Abstract Type
<	TokenNameLESS	
?	TokenNameQUESTION	
>>	TokenNameRIGHT_SHIFT	
(	TokenNameLPAREN	
prefixSize	TokenNameIdentifier	 prefix Size
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
keyComparator	TokenNameIdentifier	 key Comparator
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
prefixSize	TokenNameIdentifier	 prefix Size
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
CompositeType	TokenNameIdentifier	 Composite Type
)	TokenNameRPAREN	
baseMetadata	TokenNameIdentifier	 base Metadata
.	TokenNameDOT	
comparator	TokenNameIdentifier	 comparator
)	TokenNameRPAREN	
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
CompositeType	TokenNameIdentifier	 Composite Type
.	TokenNameDOT	
getInstance	TokenNameIdentifier	 get Instance
(	TokenNameLPAREN	
types	TokenNameIdentifier	 types
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
case	TokenNamecase	
CUSTOM	TokenNameIdentifier	 CUSTOM
:	TokenNameCOLON	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
AssertionError	TokenNameIdentifier	 Assertion Error
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
