/* Copyright 2003, Carnegie Mellon, All Rights Reserved */	TokenNameCOMMENT_BLOCK	 Copyright 2003, Carnegie Mellon, All Rights Reserved 
package	TokenNamepackage	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
learn	TokenNameIdentifier	 learn
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
BorderLayout	TokenNameIdentifier	 Border Layout
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
File	TokenNameIdentifier	 File
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
Serializable	TokenNameIdentifier	 Serializable
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ArrayList	TokenNameIdentifier	 Array List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Iterator	TokenNameIdentifier	 Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
List	TokenNameIdentifier	 List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Set	TokenNameIdentifier	 Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
TreeSet	TokenNameIdentifier	 Tree Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
swing	TokenNameIdentifier	 swing
.	TokenNameDOT	
JComponent	TokenNameIdentifier	 J Component
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
swing	TokenNameIdentifier	 swing
.	TokenNameDOT	
JLabel	TokenNameIdentifier	 J Label
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
swing	TokenNameIdentifier	 swing
.	TokenNameDOT	
JPanel	TokenNameIdentifier	 J Panel
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
swing	TokenNameIdentifier	 swing
.	TokenNameDOT	
JScrollPane	TokenNameIdentifier	 J Scroll Pane
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
swing	TokenNameIdentifier	 swing
.	TokenNameDOT	
border	TokenNameIdentifier	 border
.	TokenNameDOT	
TitledBorder	TokenNameIdentifier	 Titled Border
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
log4j	TokenNameIdentifier	 log4j
.	TokenNameDOT	
Logger	TokenNameIdentifier	 Logger
;	TokenNameSEMICOLON	
import	TokenNameimport	
com	TokenNameIdentifier	 com
.	TokenNameDOT	
wcohen	TokenNameIdentifier	 wcohen
.	TokenNameDOT	
ss	TokenNameIdentifier	 ss
.	TokenNameDOT	
BasicStringWrapper	TokenNameIdentifier	 Basic String Wrapper
;	TokenNameSEMICOLON	
import	TokenNameimport	
com	TokenNameIdentifier	 com
.	TokenNameDOT	
wcohen	TokenNameIdentifier	 wcohen
.	TokenNameDOT	
ss	TokenNameIdentifier	 ss
.	TokenNameDOT	
DistanceLearnerFactory	TokenNameIdentifier	 Distance Learner Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
com	TokenNameIdentifier	 com
.	TokenNameDOT	
wcohen	TokenNameIdentifier	 wcohen
.	TokenNameDOT	
ss	TokenNameIdentifier	 ss
.	TokenNameDOT	
api	TokenNameIdentifier	 api
.	TokenNameDOT	
StringDistance	TokenNameIdentifier	 String Distance
;	TokenNameSEMICOLON	
import	TokenNameimport	
com	TokenNameIdentifier	 com
.	TokenNameDOT	
wcohen	TokenNameIdentifier	 wcohen
.	TokenNameDOT	
ss	TokenNameIdentifier	 ss
.	TokenNameDOT	
api	TokenNameIdentifier	 api
.	TokenNameDOT	
StringDistanceLearner	TokenNameIdentifier	 String Distance Learner
;	TokenNameSEMICOLON	
import	TokenNameimport	
com	TokenNameIdentifier	 com
.	TokenNameDOT	
wcohen	TokenNameIdentifier	 wcohen
.	TokenNameDOT	
ss	TokenNameIdentifier	 ss
.	TokenNameDOT	
api	TokenNameIdentifier	 api
.	TokenNameDOT	
StringWrapper	TokenNameIdentifier	 String Wrapper
;	TokenNameSEMICOLON	
import	TokenNameimport	
com	TokenNameIdentifier	 com
.	TokenNameDOT	
wcohen	TokenNameIdentifier	 wcohen
.	TokenNameDOT	
ss	TokenNameIdentifier	 ss
.	TokenNameDOT	
lookup	TokenNameIdentifier	 lookup
.	TokenNameDOT	
SoftDictionary	TokenNameIdentifier	 Soft Dictionary
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
BinaryClassifier	TokenNameIdentifier	 Binary Classifier
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
ClassLabel	TokenNameIdentifier	 Class Label
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
Example	TokenNameIdentifier	 Example
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
ExampleSchema	TokenNameIdentifier	 Example Schema
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
Feature	TokenNameIdentifier	 Feature
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
Instance	TokenNameIdentifier	 Instance
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
OnlineBinaryClassifierLearner	TokenNameIdentifier	 Online Binary Classifier Learner
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
algorithms	TokenNameIdentifier	 algorithms
.	TokenNameDOT	
linear	TokenNameIdentifier	 linear
.	TokenNameDOT	
VotedPerceptron	TokenNameIdentifier	 Voted Perceptron
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
sequential	TokenNameIdentifier	 sequential
.	TokenNameDOT	
InstanceFromSequence	TokenNameIdentifier	 Instance From Sequence
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
AbstractAnnotator	TokenNameIdentifier	 Abstract Annotator
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
Annotator	TokenNameIdentifier	 Annotator
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
EmptyLabels	TokenNameIdentifier	 Empty Labels
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
MonotonicTextLabels	TokenNameIdentifier	 Monotonic Text Labels
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
Span	TokenNameIdentifier	 Span
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
TextLabels	TokenNameIdentifier	 Text Labels
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ProgressCounter	TokenNameIdentifier	 Progress Counter
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
gui	TokenNameIdentifier	 gui
.	TokenNameDOT	
ComponentViewer	TokenNameIdentifier	 Component Viewer
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
gui	TokenNameIdentifier	 gui
.	TokenNameDOT	
SmartVanillaViewer	TokenNameIdentifier	 Smart Vanilla Viewer
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
gui	TokenNameIdentifier	 gui
.	TokenNameDOT	
Viewer	TokenNameIdentifier	 Viewer
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
gui	TokenNameIdentifier	 gui
.	TokenNameDOT	
ViewerFrame	TokenNameIdentifier	 Viewer Frame
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
gui	TokenNameIdentifier	 gui
.	TokenNameDOT	
Visible	TokenNameIdentifier	 Visible
;	TokenNameSEMICOLON	
/** * Learn to annotate based on a conditional semi-markov model, learned from * examples. * * @author William Cohen */	TokenNameCOMMENT_JAVADOC	 Learn to annotate based on a conditional semi-markov model, learned from examples. * @author William Cohen 
/* * status/limitations: this only learns one label type, with a single binary * classifier. */	TokenNameCOMMENT_BLOCK	 status/limitations: this only learns one label type, with a single binary classifier. 
public	TokenNamepublic	
class	TokenNameclass	
ConditionalSemiMarkovModel	TokenNameIdentifier	 Conditional Semi Markov Model
{	TokenNameLBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
Logger	TokenNameIdentifier	 Logger
log	TokenNameIdentifier	 log
=	TokenNameEQUAL	
Logger	TokenNameIdentifier	 Logger
.	TokenNameDOT	
getLogger	TokenNameIdentifier	 get Logger
(	TokenNameLPAREN	
ConditionalSemiMarkovModel	TokenNameIdentifier	 Conditional Semi Markov Model
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
boolean	TokenNameboolean	
DEBUG	TokenNameIdentifier	 DEBUG
=	TokenNameEQUAL	
log	TokenNameIdentifier	 log
.	TokenNameDOT	
isDebugEnabled	TokenNameIdentifier	 is Debug Enabled
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * A learner for ConditionalSemiMarkovModel's. */	TokenNameCOMMENT_JAVADOC	 A learner for ConditionalSemiMarkovModel's. 
static	TokenNamestatic	
public	TokenNamepublic	
class	TokenNameclass	
CSMMLearner	TokenNameIdentifier	 CSMM Learner
extends	TokenNameextends	
AnnotatorLearner	TokenNameIdentifier	 Annotator Learner
{	TokenNameLBRACE	
private	TokenNameprivate	
SpanFeatureExtractor	TokenNameIdentifier	 Span Feature Extractor
fe	TokenNameIdentifier	 fe
;	TokenNameSEMICOLON	
private	TokenNameprivate	
OnlineBinaryClassifierLearner	TokenNameIdentifier	 Online Binary Classifier Learner
classifierLearner	TokenNameIdentifier	 classifier Learner
;	TokenNameSEMICOLON	
private	TokenNameprivate	
int	TokenNameint	
epochs	TokenNameIdentifier	 epochs
;	TokenNameSEMICOLON	
private	TokenNameprivate	
int	TokenNameint	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
=	TokenNameEQUAL	
5	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// temporary storage 	TokenNameCOMMENT_LINE	temporary storage 
private	TokenNameprivate	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
documentLooper	TokenNameIdentifier	 document Looper
;	TokenNameSEMICOLON	
private	TokenNameprivate	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
AnnotationExample	TokenNameIdentifier	 Annotation Example
>	TokenNameGREATER	
exampleList	TokenNameIdentifier	 example List
;	TokenNameSEMICOLON	
// type of annotation to produce 	TokenNameCOMMENT_LINE	type of annotation to produce 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
annotationType	TokenNameIdentifier	 annotation Type
;	TokenNameSEMICOLON	
// 	TokenNameCOMMENT_LINE	 
// constructors 	TokenNameCOMMENT_LINE	constructors 
// 	TokenNameCOMMENT_LINE	 
public	TokenNamepublic	
CSMMLearner	TokenNameIdentifier	 CSMM Learner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
(	TokenNameLPAREN	
new	TokenNamenew	
CSMMSpanFE	TokenNameIdentifier	 CSMM Span FE
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
VotedPerceptron	TokenNameIdentifier	 Voted Perceptron
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
5	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
5	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
CSMMLearner	TokenNameIdentifier	 CSMM Learner
(	TokenNameLPAREN	
int	TokenNameint	
epochs	TokenNameIdentifier	 epochs
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
(	TokenNameLPAREN	
new	TokenNamenew	
CSMMSpanFE	TokenNameIdentifier	 CSMM Span FE
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
VotedPerceptron	TokenNameIdentifier	 Voted Perceptron
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
epochs	TokenNameIdentifier	 epochs
,	TokenNameCOMMA	
5	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
CSMMLearner	TokenNameIdentifier	 CSMM Learner
(	TokenNameLPAREN	
int	TokenNameint	
epochs	TokenNameIdentifier	 epochs
,	TokenNameCOMMA	
int	TokenNameint	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
(	TokenNameLPAREN	
new	TokenNamenew	
CSMMSpanFE	TokenNameIdentifier	 CSMM Span FE
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
VotedPerceptron	TokenNameIdentifier	 Voted Perceptron
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
epochs	TokenNameIdentifier	 epochs
,	TokenNameCOMMA	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
,	TokenNameCOMMA	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
CSMMLearner	TokenNameIdentifier	 CSMM Learner
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
annotation	TokenNameIdentifier	 annotation
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
(	TokenNameLPAREN	
new	TokenNamenew	
CSMMSpanFE	TokenNameIdentifier	 CSMM Span FE
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
VotedPerceptron	TokenNameIdentifier	 Voted Perceptron
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
5	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
5	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
annotation	TokenNameIdentifier	 annotation
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
CSMMLearner	TokenNameIdentifier	 CSMM Learner
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
dictionaryFile	TokenNameIdentifier	 dictionary File
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
distanceNames	TokenNameIdentifier	 distance Names
,	TokenNameCOMMA	
int	TokenNameint	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
(	TokenNameLPAREN	
dictionaryFile	TokenNameIdentifier	 dictionary File
,	TokenNameCOMMA	
distanceNames	TokenNameIdentifier	 distance Names
,	TokenNameCOMMA	
5	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
CSMMLearner	TokenNameIdentifier	 CSMM Learner
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
dictionaryFile	TokenNameIdentifier	 dictionary File
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
distanceNames	TokenNameIdentifier	 distance Names
,	TokenNameCOMMA	
int	TokenNameint	
epoch	TokenNameIdentifier	 epoch
,	TokenNameCOMMA	
int	TokenNameint	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
(	TokenNameLPAREN	
dictionaryFile	TokenNameIdentifier	 dictionary File
,	TokenNameCOMMA	
distanceNames	TokenNameIdentifier	 distance Names
,	TokenNameCOMMA	
epoch	TokenNameIdentifier	 epoch
,	TokenNameCOMMA	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
,	TokenNameCOMMA	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
CSMMLearner	TokenNameIdentifier	 CSMM Learner
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
dictionaryFile	TokenNameIdentifier	 dictionary File
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
distanceNames	TokenNameIdentifier	 distance Names
,	TokenNameCOMMA	
int	TokenNameint	
epoch	TokenNameIdentifier	 epoch
,	TokenNameCOMMA	
int	TokenNameint	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
mixFile	TokenNameIdentifier	 mix File
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
(	TokenNameLPAREN	
dictionaryFile	TokenNameIdentifier	 dictionary File
,	TokenNameCOMMA	
distanceNames	TokenNameIdentifier	 distance Names
,	TokenNameCOMMA	
epoch	TokenNameIdentifier	 epoch
,	TokenNameCOMMA	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
mixFile	TokenNameIdentifier	 mix File
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
CSMMLearner	TokenNameIdentifier	 CSMM Learner
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
dictionaryFile	TokenNameIdentifier	 dictionary File
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
distanceNames	TokenNameIdentifier	 distance Names
,	TokenNameCOMMA	
int	TokenNameint	
epochSize	TokenNameIdentifier	 epoch Size
,	TokenNameCOMMA	
int	TokenNameint	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
,	TokenNameCOMMA	
boolean	TokenNameboolean	
addTraining	TokenNameIdentifier	 add Training
,	TokenNameCOMMA	
boolean	TokenNameboolean	
doCrossVal	TokenNameIdentifier	 do Cross Val
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
mixFile	TokenNameIdentifier	 mix File
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
(	TokenNameLPAREN	
new	TokenNamenew	
CSMMWithDictionarySpanFE	TokenNameIdentifier	 CSMM With Dictionary Span FE
(	TokenNameLPAREN	
dictionaryFile	TokenNameIdentifier	 dictionary File
,	TokenNameCOMMA	
distanceNames	TokenNameIdentifier	 distance Names
,	TokenNameCOMMA	
addTraining	TokenNameIdentifier	 add Training
,	TokenNameCOMMA	
doCrossVal	TokenNameIdentifier	 do Cross Val
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
VotedPerceptron	TokenNameIdentifier	 Voted Perceptron
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
epochSize	TokenNameIdentifier	 epoch Size
,	TokenNameCOMMA	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
,	TokenNameCOMMA	
mixFile	TokenNameIdentifier	 mix File
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
CSMMLearner	TokenNameIdentifier	 CSMM Learner
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
dictionaryFile	TokenNameIdentifier	 dictionary File
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
distanceNames	TokenNameIdentifier	 distance Names
,	TokenNameCOMMA	
int	TokenNameint	
epoch	TokenNameIdentifier	 epoch
,	TokenNameCOMMA	
int	TokenNameint	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
,	TokenNameCOMMA	
boolean	TokenNameboolean	
addTraining	TokenNameIdentifier	 add Training
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
mixFile	TokenNameIdentifier	 mix File
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
(	TokenNameLPAREN	
dictionaryFile	TokenNameIdentifier	 dictionary File
,	TokenNameCOMMA	
distanceNames	TokenNameIdentifier	 distance Names
,	TokenNameCOMMA	
epoch	TokenNameIdentifier	 epoch
,	TokenNameCOMMA	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
,	TokenNameCOMMA	
addTraining	TokenNameIdentifier	 add Training
,	TokenNameCOMMA	
true	TokenNametrue	
,	TokenNameCOMMA	
mixFile	TokenNameIdentifier	 mix File
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
CSMMLearner	TokenNameIdentifier	 CSMM Learner
(	TokenNameLPAREN	
SpanFeatureExtractor	TokenNameIdentifier	 Span Feature Extractor
fe	TokenNameIdentifier	 fe
,	TokenNameCOMMA	
OnlineBinaryClassifierLearner	TokenNameIdentifier	 Online Binary Classifier Learner
classifierLearner	TokenNameIdentifier	 classifier Learner
,	TokenNameCOMMA	
int	TokenNameint	
epochs	TokenNameIdentifier	 epochs
,	TokenNameCOMMA	
int	TokenNameint	
maxSegSz	TokenNameIdentifier	 max Seg Sz
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
annotation	TokenNameIdentifier	 annotation
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
fe	TokenNameIdentifier	 fe
=	TokenNameEQUAL	
fe	TokenNameIdentifier	 fe
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
annotation	TokenNameIdentifier	 annotation
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Reading annotations"	TokenNameStringLiteral	Reading annotations
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
CSMMSpanFE	TokenNameIdentifier	 CSMM Span FE
)	TokenNameRPAREN	
fe	TokenNameIdentifier	 fe
)	TokenNameRPAREN	
.	TokenNameDOT	
setRequiredAnnotation	TokenNameIdentifier	 set Required Annotation
(	TokenNameLPAREN	
annotation	TokenNameIdentifier	 annotation
,	TokenNameCOMMA	
annotation	TokenNameIdentifier	 annotation
+	TokenNamePLUS	
".mixup"	TokenNameStringLiteral	.mixup
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
CSMMSpanFE	TokenNameIdentifier	 CSMM Span FE
)	TokenNameRPAREN	
fe	TokenNameIdentifier	 fe
)	TokenNameRPAREN	
.	TokenNameDOT	
setTokenPropertyFeatures	TokenNameIdentifier	 set Token Property Features
(	TokenNameLPAREN	
"*"	TokenNameStringLiteral	*
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// use all defined 	TokenNameCOMMENT_LINE	use all defined 
// properties 	TokenNameCOMMENT_LINE	properties 
}	TokenNameRBRACE	
this	TokenNamethis	
.	TokenNameDOT	
classifierLearner	TokenNameIdentifier	 classifier Learner
=	TokenNameEQUAL	
classifierLearner	TokenNameIdentifier	 classifier Learner
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
epochs	TokenNameIdentifier	 epochs
=	TokenNameEQUAL	
epochs	TokenNameIdentifier	 epochs
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
=	TokenNameEQUAL	
maxSegSz	TokenNameIdentifier	 max Seg Sz
;	TokenNameSEMICOLON	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// 	TokenNameCOMMENT_LINE	 
// getters/setters for gui 	TokenNameCOMMENT_LINE	getters/setters for gui 
// 	TokenNameCOMMENT_LINE	 
public	TokenNamepublic	
OnlineBinaryClassifierLearner	TokenNameIdentifier	 Online Binary Classifier Learner
getLearner	TokenNameIdentifier	 get Learner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
classifierLearner	TokenNameIdentifier	 classifier Learner
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
setLearner	TokenNameIdentifier	 set Learner
(	TokenNameLPAREN	
OnlineBinaryClassifierLearner	TokenNameIdentifier	 Online Binary Classifier Learner
newLearner	TokenNameIdentifier	 new Learner
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
classifierLearner	TokenNameIdentifier	 classifier Learner
=	TokenNameEQUAL	
newLearner	TokenNameIdentifier	 new Learner
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
int	TokenNameint	
getEpochs	TokenNameIdentifier	 get Epochs
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
epochs	TokenNameIdentifier	 epochs
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
setEpochs	TokenNameIdentifier	 set Epochs
(	TokenNameLPAREN	
int	TokenNameint	
newEpochs	TokenNameIdentifier	 new Epochs
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
epochs	TokenNameIdentifier	 epochs
=	TokenNameEQUAL	
newEpochs	TokenNameIdentifier	 new Epochs
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
int	TokenNameint	
getMaxSegmentSize	TokenNameIdentifier	 get Max Segment Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
setMaxSegmentSize	TokenNameIdentifier	 set Max Segment Size
(	TokenNameLPAREN	
int	TokenNameint	
newMaxSize	TokenNameIdentifier	 new Max Size
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
=	TokenNameEQUAL	
newMaxSize	TokenNameIdentifier	 new Max Size
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// 	TokenNameCOMMENT_LINE	 
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
SpanFeatureExtractor	TokenNameIdentifier	 Span Feature Extractor
getSpanFeatureExtractor	TokenNameIdentifier	 get Span Feature Extractor
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
fe	TokenNameIdentifier	 fe
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
setSpanFeatureExtractor	TokenNameIdentifier	 set Span Feature Extractor
(	TokenNameLPAREN	
SpanFeatureExtractor	TokenNameIdentifier	 Span Feature Extractor
fe	TokenNameIdentifier	 fe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
fe	TokenNameIdentifier	 fe
=	TokenNameEQUAL	
fe	TokenNameIdentifier	 fe
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// 	TokenNameCOMMENT_LINE	 
// AnnotatorLearner implementation: query all documents, and accumulate 	TokenNameCOMMENT_LINE	AnnotatorLearner implementation: query all documents, and accumulate 
// examples in exampleList 	TokenNameCOMMENT_LINE	examples in exampleList 
// 	TokenNameCOMMENT_LINE	 
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
exampleList	TokenNameIdentifier	 example List
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
AnnotationExample	TokenNameIdentifier	 Annotation Example
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
setDocumentPool	TokenNameIdentifier	 set Document Pool
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
documentLooper	TokenNameIdentifier	 document Looper
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
documentLooper	TokenNameIdentifier	 document Looper
=	TokenNameEQUAL	
documentLooper	TokenNameIdentifier	 document Looper
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
boolean	TokenNameboolean	
hasNextQuery	TokenNameIdentifier	 has Next Query
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
documentLooper	TokenNameIdentifier	 document Looper
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
Span	TokenNameIdentifier	 Span
nextQuery	TokenNameIdentifier	 next Query
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
documentLooper	TokenNameIdentifier	 document Looper
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
setAnswer	TokenNameIdentifier	 set Answer
(	TokenNameLPAREN	
AnnotationExample	TokenNameIdentifier	 Annotation Example
answeredQuery	TokenNameIdentifier	 answered Query
)	TokenNameRPAREN	
{	TokenNameLBRACE	
exampleList	TokenNameIdentifier	 example List
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
answeredQuery	TokenNameIdentifier	 answered Query
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
setAnnotationType	TokenNameIdentifier	 set Annotation Type
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
s	TokenNameIdentifier	 s
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
annotationType	TokenNameIdentifier	 annotation Type
=	TokenNameEQUAL	
s	TokenNameIdentifier	 s
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getAnnotationType	TokenNameIdentifier	 get Annotation Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
annotationType	TokenNameIdentifier	 annotation Type
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Learning takes place here. */	TokenNameCOMMENT_JAVADOC	 Learning takes place here. 
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
Annotator	TokenNameIdentifier	 Annotator
getAnnotator	TokenNameIdentifier	 get Annotator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
classifierLearner	TokenNameIdentifier	 classifier Learner
.	TokenNameDOT	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
log	TokenNameIdentifier	 log
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"processing "	TokenNameStringLiteral	processing 
+	TokenNamePLUS	
exampleList	TokenNameIdentifier	 example List
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" examples for "	TokenNameStringLiteral	 examples for 
+	TokenNamePLUS	
epochs	TokenNameIdentifier	 epochs
+	TokenNamePLUS	
" epochs"	TokenNameStringLiteral	 epochs
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ProgressCounter	TokenNameIdentifier	 Progress Counter
pc	TokenNameIdentifier	 pc
=	TokenNameEQUAL	
new	TokenNamenew	
ProgressCounter	TokenNameIdentifier	 Progress Counter
(	TokenNameLPAREN	
"training CSMM"	TokenNameStringLiteral	training CSMM
,	TokenNameCOMMA	
"document"	TokenNameStringLiteral	document
,	TokenNameCOMMA	
epochs	TokenNameIdentifier	 epochs
*	TokenNameMULTIPLY	
exampleList	TokenNameIdentifier	 example List
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fe	TokenNameIdentifier	 fe
.	TokenNameDOT	
getClass	TokenNameIdentifier	 get Class
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
endsWith	TokenNameIdentifier	 ends With
(	TokenNameLPAREN	
"CSMMWithDictionarySpanFE"	TokenNameStringLiteral	CSMMWithDictionarySpanFE
)	TokenNameRPAREN	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
CSMMWithDictionarySpanFE	TokenNameIdentifier	 CSMM With Dictionary Span FE
)	TokenNameRPAREN	
fe	TokenNameIdentifier	 fe
)	TokenNameRPAREN	
.	TokenNameDOT	
train	TokenNameIdentifier	 train
(	TokenNameLPAREN	
exampleList	TokenNameIdentifier	 example List
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
epochs	TokenNameIdentifier	 epochs
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
AnnotationExample	TokenNameIdentifier	 Annotation Example
>	TokenNameGREATER	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
exampleList	TokenNameIdentifier	 example List
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
AnnotationExample	TokenNameIdentifier	 Annotation Example
example	TokenNameIdentifier	 example
=	TokenNameEQUAL	
j	TokenNameIdentifier	 j
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Span	TokenNameIdentifier	 Span
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
example	TokenNameIdentifier	 example
.	TokenNameDOT	
getDocumentSpan	TokenNameIdentifier	 get Document Span
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
log	TokenNameIdentifier	 log
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"updating from "	TokenNameStringLiteral	updating from 
+	TokenNamePLUS	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// get best segmentation, given current classifier 	TokenNameCOMMENT_LINE	get best segmentation, given current classifier 
Segments	TokenNameIdentifier	 Segments
viterbi	TokenNameIdentifier	 viterbi
=	TokenNameEQUAL	
bestSegments	TokenNameIdentifier	 best Segments
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
,	TokenNameCOMMA	
example	TokenNameIdentifier	 example
.	TokenNameDOT	
getLabels	TokenNameIdentifier	 get Labels
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fe	TokenNameIdentifier	 fe
,	TokenNameCOMMA	
classifierLearner	TokenNameIdentifier	 classifier Learner
.	TokenNameDOT	
getBinaryClassifier	TokenNameIdentifier	 get Binary Classifier
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
log	TokenNameIdentifier	 log
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"viterbi solution: "	TokenNameStringLiteral	viterbi solution: 
+	TokenNamePLUS	
viterbi	TokenNameIdentifier	 viterbi
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// train classifier on any false positives 	TokenNameCOMMENT_LINE	train classifier on any false positives 
Segments	TokenNameIdentifier	 Segments
correct	TokenNameIdentifier	 correct
=	TokenNameEQUAL	
correctSegments	TokenNameIdentifier	 correct Segments
(	TokenNameLPAREN	
example	TokenNameIdentifier	 example
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
log	TokenNameIdentifier	 log
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"correct spans: "	TokenNameStringLiteral	correct spans: 
+	TokenNamePLUS	
correct	TokenNameIdentifier	 correct
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Span	TokenNameIdentifier	 Span
previousSpan	TokenNameIdentifier	 previous Span
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
k	TokenNameIdentifier	 k
=	TokenNameEQUAL	
viterbi	TokenNameIdentifier	 viterbi
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
k	TokenNameIdentifier	 k
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Span	TokenNameIdentifier	 Span
span	TokenNameIdentifier	 span
=	TokenNameEQUAL	
k	TokenNameIdentifier	 k
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
correct	TokenNameIdentifier	 correct
.	TokenNameDOT	
contains	TokenNameIdentifier	 contains
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
log	TokenNameIdentifier	 log
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"false pos: "	TokenNameStringLiteral	false pos: 
+	TokenNamePLUS	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
classifierLearner	TokenNameIdentifier	 classifier Learner
.	TokenNameDOT	
addExample	TokenNameIdentifier	 add Example
(	TokenNameLPAREN	
exampleFor	TokenNameIdentifier	 example For
(	TokenNameLPAREN	
example	TokenNameIdentifier	 example
,	TokenNameCOMMA	
span	TokenNameIdentifier	 span
,	TokenNameCOMMA	
previousSpan	TokenNameIdentifier	 previous Span
,	TokenNameCOMMA	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
previousSpan	TokenNameIdentifier	 previous Span
=	TokenNameEQUAL	
span	TokenNameIdentifier	 span
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// train classifier on any false negatives 	TokenNameCOMMENT_LINE	train classifier on any false negatives 
// ignoring context (for now) 	TokenNameCOMMENT_LINE	ignoring context (for now) 
previousSpan	TokenNameIdentifier	 previous Span
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
k	TokenNameIdentifier	 k
=	TokenNameEQUAL	
correct	TokenNameIdentifier	 correct
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
k	TokenNameIdentifier	 k
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Span	TokenNameIdentifier	 Span
span	TokenNameIdentifier	 span
=	TokenNameEQUAL	
k	TokenNameIdentifier	 k
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
viterbi	TokenNameIdentifier	 viterbi
.	TokenNameDOT	
contains	TokenNameIdentifier	 contains
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
log	TokenNameIdentifier	 log
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"false neg: "	TokenNameStringLiteral	false neg: 
+	TokenNamePLUS	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
classifierLearner	TokenNameIdentifier	 classifier Learner
.	TokenNameDOT	
addExample	TokenNameIdentifier	 add Example
(	TokenNameLPAREN	
exampleFor	TokenNameIdentifier	 example For
(	TokenNameLPAREN	
example	TokenNameIdentifier	 example
,	TokenNameCOMMA	
span	TokenNameIdentifier	 span
,	TokenNameCOMMA	
previousSpan	TokenNameIdentifier	 previous Span
,	TokenNameCOMMA	
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
previousSpan	TokenNameIdentifier	 previous Span
=	TokenNameEQUAL	
span	TokenNameIdentifier	 span
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
pc	TokenNameIdentifier	 pc
.	TokenNameDOT	
progress	TokenNameIdentifier	 progress
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// epoch 	TokenNameCOMMENT_LINE	epoch 
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
{	TokenNameLBRACE	
new	TokenNamenew	
ViewerFrame	TokenNameIdentifier	 Viewer Frame
(	TokenNameLPAREN	
"classifier after epoch "	TokenNameStringLiteral	classifier after epoch 
+	TokenNamePLUS	
i	TokenNameIdentifier	 i
,	TokenNameCOMMA	
new	TokenNamenew	
SmartVanillaViewer	TokenNameIdentifier	 Smart Vanilla Viewer
(	TokenNameLPAREN	
classifierLearner	TokenNameIdentifier	 classifier Learner
.	TokenNameDOT	
getBinaryClassifier	TokenNameIdentifier	 get Binary Classifier
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
pc	TokenNameIdentifier	 pc
.	TokenNameDOT	
finished	TokenNameIdentifier	 finished
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// all epochs 	TokenNameCOMMENT_LINE	all epochs 
return	TokenNamereturn	
new	TokenNamenew	
CSMMAnnotator	TokenNameIdentifier	 CSMM Annotator
(	TokenNameLPAREN	
fe	TokenNameIdentifier	 fe
,	TokenNameCOMMA	
classifierLearner	TokenNameIdentifier	 classifier Learner
.	TokenNameDOT	
getBinaryClassifier	TokenNameIdentifier	 get Binary Classifier
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
annotationType	TokenNameIdentifier	 annotation Type
,	TokenNameCOMMA	
maxSegmentSize	TokenNameIdentifier	 max Segment Size
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// build an example from a span and its context 	TokenNameCOMMENT_LINE	build an example from a span and its context 
private	TokenNameprivate	
Example	TokenNameIdentifier	 Example
exampleFor	TokenNameIdentifier	 example For
(	TokenNameLPAREN	
AnnotationExample	TokenNameIdentifier	 Annotation Example
example	TokenNameIdentifier	 example
,	TokenNameCOMMA	
Span	TokenNameIdentifier	 Span
span	TokenNameIdentifier	 span
,	TokenNameCOMMA	
Span	TokenNameIdentifier	 Span
prevSpan	TokenNameIdentifier	 prev Span
,	TokenNameCOMMA	
double	TokenNamedouble	
numberLabel	TokenNameIdentifier	 number Label
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Instance	TokenNameIdentifier	 Instance
instance	TokenNameIdentifier	 instance
=	TokenNameEQUAL	
fe	TokenNameIdentifier	 fe
.	TokenNameDOT	
extractInstance	TokenNameIdentifier	 extract Instance
(	TokenNameLPAREN	
example	TokenNameIdentifier	 example
.	TokenNameDOT	
getLabels	TokenNameIdentifier	 get Labels
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
prevLabel	TokenNameIdentifier	 prev Label
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
prevSpan	TokenNameIdentifier	 prev Span
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
prevSpan	TokenNameIdentifier	 prev Span
.	TokenNameDOT	
getRightBoundary	TokenNameIdentifier	 get Right Boundary
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
.	TokenNameDOT	
getLeftBoundary	TokenNameIdentifier	 get Left Boundary
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
prevLabel	TokenNameIdentifier	 prev Label
=	TokenNameEQUAL	
ExampleSchema	TokenNameIdentifier	 Example Schema
.	TokenNameDOT	
POS_CLASS_NAME	TokenNameIdentifier	 POS  CLASS  NAME
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
prevLabel	TokenNameIdentifier	 prev Label
=	TokenNameEQUAL	
ExampleSchema	TokenNameIdentifier	 Example Schema
.	TokenNameDOT	
NEG_CLASS_NAME	TokenNameIdentifier	 NEG  CLASS  NAME
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Instance	TokenNameIdentifier	 Instance
instanceFromSeq	TokenNameIdentifier	 instance From Seq
=	TokenNameEQUAL	
new	TokenNamenew	
InstanceFromSequence	TokenNameIdentifier	 Instance From Sequence
(	TokenNameLPAREN	
instance	TokenNameIdentifier	 instance
,	TokenNameCOMMA	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
prevLabel	TokenNameIdentifier	 prev Label
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
log	TokenNameIdentifier	 log
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"example for "	TokenNameStringLiteral	example for 
+	TokenNamePLUS	
span	TokenNameIdentifier	 span
+	TokenNamePLUS	
": "	TokenNameStringLiteral	: 
+	TokenNamePLUS	
instanceFromSeq	TokenNameIdentifier	 instance From Seq
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
Example	TokenNameIdentifier	 Example
(	TokenNameLPAREN	
instanceFromSeq	TokenNameIdentifier	 instance From Seq
,	TokenNameCOMMA	
ClassLabel	TokenNameIdentifier	 Class Label
.	TokenNameDOT	
binaryLabel	TokenNameIdentifier	 binary Label
(	TokenNameLPAREN	
numberLabel	TokenNameIdentifier	 number Label
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// the correct segments, as defined by the example 	TokenNameCOMMENT_LINE	the correct segments, as defined by the example 
private	TokenNameprivate	
Segments	TokenNameIdentifier	 Segments
correctSegments	TokenNameIdentifier	 correct Segments
(	TokenNameLPAREN	
AnnotationExample	TokenNameIdentifier	 Annotation Example
example	TokenNameIdentifier	 example
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
set	TokenNameIdentifier	 set
=	TokenNameEQUAL	
new	TokenNamenew	
TreeSet	TokenNameIdentifier	 Tree Set
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
id	TokenNameIdentifier	 id
=	TokenNameEQUAL	
example	TokenNameIdentifier	 example
.	TokenNameDOT	
getDocumentSpan	TokenNameIdentifier	 get Document Span
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getDocumentId	TokenNameIdentifier	 get Document Id
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
type	TokenNameIdentifier	 type
=	TokenNameEQUAL	
example	TokenNameIdentifier	 example
.	TokenNameDOT	
getInputType	TokenNameIdentifier	 get Input Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
example	TokenNameIdentifier	 example
.	TokenNameDOT	
getLabels	TokenNameIdentifier	 get Labels
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
instanceIterator	TokenNameIdentifier	 instance Iterator
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
,	TokenNameCOMMA	
id	TokenNameIdentifier	 id
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
set	TokenNameIdentifier	 set
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
new	TokenNamenew	
Segments	TokenNameIdentifier	 Segments
(	TokenNameLPAREN	
set	TokenNameIdentifier	 set
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// class CSMMLearner 	TokenNameCOMMENT_LINE	class CSMMLearner 
// annotate a document using a learned model 	TokenNameCOMMENT_LINE	annotate a document using a learned model 
static	TokenNamestatic	
public	TokenNamepublic	
class	TokenNameclass	
CSMMAnnotator	TokenNameIdentifier	 CSMM Annotator
extends	TokenNameextends	
AbstractAnnotator	TokenNameIdentifier	 Abstract Annotator
implements	TokenNameimplements	
Visible	TokenNameIdentifier	 Visible
,	TokenNameCOMMA	
ExtractorAnnotator	TokenNameIdentifier	 Extractor Annotator
,	TokenNameCOMMA	
Serializable	TokenNameIdentifier	 Serializable
{	TokenNameLBRACE	
static	TokenNamestatic	
private	TokenNameprivate	
final	TokenNamefinal	
long	TokenNamelong	
serialVersionUID	TokenNameIdentifier	 serial Version UID
=	TokenNameEQUAL	
20080306L	TokenNameLongLiteral	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
SpanFeatureExtractor	TokenNameIdentifier	 Span Feature Extractor
fe	TokenNameIdentifier	 fe
;	TokenNameSEMICOLON	
private	TokenNameprivate	
BinaryClassifier	TokenNameIdentifier	 Binary Classifier
classifier	TokenNameIdentifier	 classifier
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
annotationType	TokenNameIdentifier	 annotation Type
;	TokenNameSEMICOLON	
private	TokenNameprivate	
int	TokenNameint	
maxSegSize	TokenNameIdentifier	 max Seg Size
;	TokenNameSEMICOLON	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
Viewer	TokenNameIdentifier	 Viewer
toGUI	TokenNameIdentifier	 to GUI
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Viewer	TokenNameIdentifier	 Viewer
v	TokenNameIdentifier	 v
=	TokenNameEQUAL	
new	TokenNamenew	
ComponentViewer	TokenNameIdentifier	 Component Viewer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
static	TokenNamestatic	
final	TokenNamefinal	
long	TokenNamelong	
serialVersionUID	TokenNameIdentifier	 serial Version UID
=	TokenNameEQUAL	
20080306L	TokenNameLongLiteral	
;	TokenNameSEMICOLON	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
JComponent	TokenNameIdentifier	 J Component
componentFor	TokenNameIdentifier	 component For
(	TokenNameLPAREN	
Object	TokenNameIdentifier	 Object
o	TokenNameIdentifier	 o
)	TokenNameRPAREN	
{	TokenNameLBRACE	
CSMMAnnotator	TokenNameIdentifier	 CSMM Annotator
ann	TokenNameIdentifier	 ann
=	TokenNameEQUAL	
(	TokenNameLPAREN	
CSMMAnnotator	TokenNameIdentifier	 CSMM Annotator
)	TokenNameRPAREN	
o	TokenNameIdentifier	 o
;	TokenNameSEMICOLON	
JPanel	TokenNameIdentifier	 J Panel
mainPanel	TokenNameIdentifier	 main Panel
=	TokenNameEQUAL	
new	TokenNamenew	
JPanel	TokenNameIdentifier	 J Panel
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
mainPanel	TokenNameIdentifier	 main Panel
.	TokenNameDOT	
setLayout	TokenNameIdentifier	 set Layout
(	TokenNameLPAREN	
new	TokenNamenew	
BorderLayout	TokenNameIdentifier	 Border Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
mainPanel	TokenNameIdentifier	 main Panel
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
JLabel	TokenNameIdentifier	 J Label
(	TokenNameLPAREN	
"CSMM: segsize "	TokenNameStringLiteral	CSMM: segsize 
+	TokenNamePLUS	
maxSegSize	TokenNameIdentifier	 max Seg Size
)	TokenNameRPAREN	
,	TokenNameCOMMA	
BorderLayout	TokenNameIdentifier	 Border Layout
.	TokenNameDOT	
NORTH	TokenNameIdentifier	 NORTH
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Viewer	TokenNameIdentifier	 Viewer
subView	TokenNameIdentifier	 sub View
=	TokenNameEQUAL	
new	TokenNamenew	
SmartVanillaViewer	TokenNameIdentifier	 Smart Vanilla Viewer
(	TokenNameLPAREN	
ann	TokenNameIdentifier	 ann
.	TokenNameDOT	
classifier	TokenNameIdentifier	 classifier
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
subView	TokenNameIdentifier	 sub View
.	TokenNameDOT	
setSuperView	TokenNameIdentifier	 set Super View
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
mainPanel	TokenNameIdentifier	 main Panel
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
subView	TokenNameIdentifier	 sub View
,	TokenNameCOMMA	
BorderLayout	TokenNameIdentifier	 Border Layout
.	TokenNameDOT	
SOUTH	TokenNameIdentifier	 SOUTH
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
mainPanel	TokenNameIdentifier	 main Panel
.	TokenNameDOT	
setBorder	TokenNameIdentifier	 set Border
(	TokenNameLPAREN	
new	TokenNamenew	
TitledBorder	TokenNameIdentifier	 Titled Border
(	TokenNameLPAREN	
"Conditional Semi-Markov-Model"	TokenNameStringLiteral	Conditional Semi-Markov-Model
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
JScrollPane	TokenNameIdentifier	 J Scroll Pane
(	TokenNameLPAREN	
mainPanel	TokenNameIdentifier	 main Panel
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
v	TokenNameIdentifier	 v
.	TokenNameDOT	
setContent	TokenNameIdentifier	 set Content
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
v	TokenNameIdentifier	 v
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
CSMMAnnotator	TokenNameIdentifier	 CSMM Annotator
(	TokenNameLPAREN	
SpanFeatureExtractor	TokenNameIdentifier	 Span Feature Extractor
fe	TokenNameIdentifier	 fe
,	TokenNameCOMMA	
BinaryClassifier	TokenNameIdentifier	 Binary Classifier
classifier	TokenNameIdentifier	 classifier
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
annotationType	TokenNameIdentifier	 annotation Type
,	TokenNameCOMMA	
int	TokenNameint	
maxSegSize	TokenNameIdentifier	 max Seg Size
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
fe	TokenNameIdentifier	 fe
=	TokenNameEQUAL	
fe	TokenNameIdentifier	 fe
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
classifier	TokenNameIdentifier	 classifier
=	TokenNameEQUAL	
classifier	TokenNameIdentifier	 classifier
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
annotationType	TokenNameIdentifier	 annotation Type
=	TokenNameEQUAL	
annotationType	TokenNameIdentifier	 annotation Type
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
maxSegSize	TokenNameIdentifier	 max Seg Size
=	TokenNameEQUAL	
maxSegSize	TokenNameIdentifier	 max Seg Size
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getSpanType	TokenNameIdentifier	 get Span Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
annotationType	TokenNameIdentifier	 annotation Type
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
doAnnotate	TokenNameIdentifier	 do Annotate
(	TokenNameLPAREN	
MonotonicTextLabels	TokenNameIdentifier	 Monotonic Text Labels
labels	TokenNameIdentifier	 labels
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ProgressCounter	TokenNameIdentifier	 Progress Counter
pc	TokenNameIdentifier	 pc
=	TokenNameEQUAL	
new	TokenNamenew	
ProgressCounter	TokenNameIdentifier	 Progress Counter
(	TokenNameLPAREN	
"annotating"	TokenNameStringLiteral	annotating
,	TokenNameCOMMA	
"document"	TokenNameStringLiteral	document
,	TokenNameCOMMA	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
getTextBase	TokenNameIdentifier	 get Text Base
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
getTextBase	TokenNameIdentifier	 get Text Base
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
documentSpanIterator	TokenNameIdentifier	 document Span Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Span	TokenNameIdentifier	 Span
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Segments	TokenNameIdentifier	 Segments
viterbi	TokenNameIdentifier	 viterbi
=	TokenNameEQUAL	
bestSegments	TokenNameIdentifier	 best Segments
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
,	TokenNameCOMMA	
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
fe	TokenNameIdentifier	 fe
,	TokenNameCOMMA	
classifier	TokenNameIdentifier	 classifier
,	TokenNameCOMMA	
maxSegSize	TokenNameIdentifier	 max Seg Size
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
viterbi	TokenNameIdentifier	 viterbi
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Span	TokenNameIdentifier	 Span
span	TokenNameIdentifier	 span
=	TokenNameEQUAL	
j	TokenNameIdentifier	 j
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
addToType	TokenNameIdentifier	 add To Type
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
,	TokenNameCOMMA	
annotationType	TokenNameIdentifier	 annotation Type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
pc	TokenNameIdentifier	 pc
.	TokenNameDOT	
progress	TokenNameIdentifier	 progress
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
pc	TokenNameIdentifier	 pc
.	TokenNameDOT	
finished	TokenNameIdentifier	 finished
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
String	TokenNameIdentifier	 String
explainAnnotation	TokenNameIdentifier	 explain Annotation
(	TokenNameLPAREN	
TextLabels	TokenNameIdentifier	 Text Labels
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
Span	TokenNameIdentifier	 Span
documentSpan	TokenNameIdentifier	 document Span
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
"not implemented"	TokenNameStringLiteral	not implemented
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// 	TokenNameCOMMENT_LINE	 
// viterbi algorithm 	TokenNameCOMMENT_LINE	viterbi algorithm 
// 	TokenNameCOMMENT_LINE	 
static	TokenNamestatic	
public	TokenNamepublic	
Segments	TokenNameIdentifier	 Segments
bestSegments	TokenNameIdentifier	 best Segments
(	TokenNameLPAREN	
Span	TokenNameIdentifier	 Span
documentSpan	TokenNameIdentifier	 document Span
,	TokenNameCOMMA	
TextLabels	TokenNameIdentifier	 Text Labels
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
SpanFeatureExtractor	TokenNameIdentifier	 Span Feature Extractor
fe	TokenNameIdentifier	 fe
,	TokenNameCOMMA	
BinaryClassifier	TokenNameIdentifier	 Binary Classifier
classifier	TokenNameIdentifier	 classifier
,	TokenNameCOMMA	
int	TokenNameint	
maxSegSize	TokenNameIdentifier	 max Seg Size
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// for t=0..size, y=0 or 1, fty[t][y] is the highest score that 	TokenNameCOMMENT_LINE	for t=0..size, y=0 or 1, fty[t][y] is the highest score that 
// can be obtained with a segmentation of the tokens from 0..t 	TokenNameCOMMENT_LINE	can be obtained with a segmentation of the tokens from 0..t 
// that ends with class y (where y=1 means "from dictionary", y=0 	TokenNameCOMMENT_LINE	that ends with class y (where y=1 means "from dictionary", y=0 
// means "from null model") 	TokenNameCOMMENT_LINE	means "from null model") 
// initialize 	TokenNameCOMMENT_LINE	initialize 
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
fty	TokenNameIdentifier	 fty
=	TokenNameEQUAL	
new	TokenNamenew	
double	TokenNamedouble	
[	TokenNameLBRACKET	
documentSpan	TokenNameIdentifier	 document Span
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
BackPointer	TokenNameIdentifier	 Back Pointer
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
trace	TokenNameIdentifier	 trace
=	TokenNameEQUAL	
new	TokenNamenew	
BackPointer	TokenNameIdentifier	 Back Pointer
[	TokenNameLBRACKET	
documentSpan	TokenNameIdentifier	 document Span
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
t	TokenNameIdentifier	 t
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
<	TokenNameLESS	
documentSpan	TokenNameIdentifier	 document Span
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
y	TokenNameIdentifier	 y
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
y	TokenNameIdentifier	 y
<	TokenNameLESS	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
y	TokenNameIdentifier	 y
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fty	TokenNameIdentifier	 fty
[	TokenNameLBRACKET	
t	TokenNameIdentifier	 t
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
y	TokenNameIdentifier	 y
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
-	TokenNameMINUS	
99999	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// could be -Double.MAX_VALUE; 	TokenNameCOMMENT_LINE	could be -Double.MAX_VALUE; 
trace	TokenNameIdentifier	 trace
[	TokenNameLBRACKET	
t	TokenNameIdentifier	 t
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
y	TokenNameIdentifier	 y
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
fty	TokenNameIdentifier	 fty
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
fty	TokenNameIdentifier	 fty
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// fill the fty matrix 	TokenNameCOMMENT_LINE	fill the fty matrix 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
t	TokenNameIdentifier	 t
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
<	TokenNameLESS	
documentSpan	TokenNameIdentifier	 document Span
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
y	TokenNameIdentifier	 y
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
y	TokenNameIdentifier	 y
<	TokenNameLESS	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
y	TokenNameIdentifier	 y
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
lastY	TokenNameIdentifier	 last Y
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
lastY	TokenNameIdentifier	 last Y
<	TokenNameLESS	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
lastY	TokenNameIdentifier	 last Y
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
maxSegSizeForY	TokenNameIdentifier	 max Seg Size For Y
=	TokenNameEQUAL	
y	TokenNameIdentifier	 y
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
?	TokenNameQUESTION	
1	TokenNameIntegerLiteral	
:	TokenNameCOLON	
maxSegSize	TokenNameIdentifier	 max Seg Size
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
lastT	TokenNameIdentifier	 last T
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
max	TokenNameIdentifier	 max
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
t	TokenNameIdentifier	 t
-	TokenNameMINUS	
maxSegSizeForY	TokenNameIdentifier	 max Seg Size For Y
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lastT	TokenNameIdentifier	 last T
<	TokenNameLESS	
t	TokenNameIdentifier	 t
;	TokenNameSEMICOLON	
lastT	TokenNameIdentifier	 last T
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Span	TokenNameIdentifier	 Span
segment	TokenNameIdentifier	 segment
=	TokenNameEQUAL	
documentSpan	TokenNameIdentifier	 document Span
.	TokenNameDOT	
subSpan	TokenNameIdentifier	 sub Span
(	TokenNameLPAREN	
lastT	TokenNameIdentifier	 last T
,	TokenNameCOMMA	
t	TokenNameIdentifier	 t
-	TokenNameMINUS	
lastT	TokenNameIdentifier	 last T
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
segmentScore	TokenNameIdentifier	 segment Score
=	TokenNameEQUAL	
score	TokenNameIdentifier	 score
(	TokenNameLPAREN	
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
lastY	TokenNameIdentifier	 last Y
,	TokenNameCOMMA	
y	TokenNameIdentifier	 y
,	TokenNameCOMMA	
lastT	TokenNameIdentifier	 last T
,	TokenNameCOMMA	
t	TokenNameIdentifier	 t
,	TokenNameCOMMA	
segment	TokenNameIdentifier	 segment
,	TokenNameCOMMA	
fe	TokenNameIdentifier	 fe
,	TokenNameCOMMA	
classifier	TokenNameIdentifier	 classifier
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
segmentScore	TokenNameIdentifier	 segment Score
+	TokenNamePLUS	
fty	TokenNameIdentifier	 fty
[	TokenNameLBRACKET	
lastT	TokenNameIdentifier	 last T
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
lastY	TokenNameIdentifier	 last Y
]	TokenNameRBRACKET	
>	TokenNameGREATER	
fty	TokenNameIdentifier	 fty
[	TokenNameLBRACKET	
t	TokenNameIdentifier	 t
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
y	TokenNameIdentifier	 y
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fty	TokenNameIdentifier	 fty
[	TokenNameLBRACKET	
t	TokenNameIdentifier	 t
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
y	TokenNameIdentifier	 y
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
segmentScore	TokenNameIdentifier	 segment Score
+	TokenNamePLUS	
fty	TokenNameIdentifier	 fty
[	TokenNameLBRACKET	
lastT	TokenNameIdentifier	 last T
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
lastY	TokenNameIdentifier	 last Y
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
trace	TokenNameIdentifier	 trace
[	TokenNameLBRACKET	
t	TokenNameIdentifier	 t
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
y	TokenNameIdentifier	 y
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
BackPointer	TokenNameIdentifier	 Back Pointer
(	TokenNameLPAREN	
segment	TokenNameIdentifier	 segment
,	TokenNameCOMMA	
lastT	TokenNameIdentifier	 last T
,	TokenNameCOMMA	
lastY	TokenNameIdentifier	 last Y
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// use the back pointers to find the best segmentation that ends at 	TokenNameCOMMENT_LINE	use the back pointers to find the best segmentation that ends at 
// t==documentSize 	TokenNameCOMMENT_LINE	t==documentSize 
int	TokenNameint	
y	TokenNameIdentifier	 y
=	TokenNameEQUAL	
(	TokenNameLPAREN	
fty	TokenNameIdentifier	 fty
[	TokenNameLBRACKET	
documentSpan	TokenNameIdentifier	 document Span
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
>	TokenNameGREATER	
fty	TokenNameIdentifier	 fty
[	TokenNameLBRACKET	
documentSpan	TokenNameIdentifier	 document Span
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
1	TokenNameIntegerLiteral	
:	TokenNameCOLON	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
new	TokenNamenew	
TreeSet	TokenNameIdentifier	 Tree Set
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
BackPointer	TokenNameIdentifier	 Back Pointer
bp	TokenNameIdentifier	 bp
=	TokenNameEQUAL	
trace	TokenNameIdentifier	 trace
[	TokenNameLBRACKET	
documentSpan	TokenNameIdentifier	 document Span
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
y	TokenNameIdentifier	 y
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
bp	TokenNameIdentifier	 bp
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
bp	TokenNameIdentifier	 bp
=	TokenNameEQUAL	
trace	TokenNameIdentifier	 trace
[	TokenNameLBRACKET	
bp	TokenNameIdentifier	 bp
.	TokenNameDOT	
lastT	TokenNameIdentifier	 last T
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
bp	TokenNameIdentifier	 bp
.	TokenNameDOT	
lastY	TokenNameIdentifier	 last Y
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
bp	TokenNameIdentifier	 bp
.	TokenNameDOT	
onBestPath	TokenNameIdentifier	 on Best Path
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
y	TokenNameIdentifier	 y
==	TokenNameEQUAL_EQUAL	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
result	TokenNameIdentifier	 result
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
bp	TokenNameIdentifier	 bp
.	TokenNameDOT	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
y	TokenNameIdentifier	 y
=	TokenNameEQUAL	
bp	TokenNameIdentifier	 bp
.	TokenNameDOT	
lastY	TokenNameIdentifier	 last Y
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
dumpStuff	TokenNameIdentifier	 dump Stuff
(	TokenNameLPAREN	
fty	TokenNameIdentifier	 fty
,	TokenNameCOMMA	
trace	TokenNameIdentifier	 trace
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
Segments	TokenNameIdentifier	 Segments
(	TokenNameLPAREN	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
void	TokenNamevoid	
dumpStuff	TokenNameIdentifier	 dump Stuff
(	TokenNameLPAREN	
double	TokenNamedouble	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
fty	TokenNameIdentifier	 fty
,	TokenNameCOMMA	
BackPointer	TokenNameIdentifier	 Back Pointer
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
trace	TokenNameIdentifier	 trace
)	TokenNameRPAREN	
{	TokenNameLBRACE	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
DecimalFormat	TokenNameIdentifier	 Decimal Format
format	TokenNameIdentifier	 format
=	TokenNameEQUAL	
new	TokenNamenew	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
DecimalFormat	TokenNameIdentifier	 Decimal Format
(	TokenNameLPAREN	
"####.###"	TokenNameStringLiteral	####.###
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"t.y f(t,y) t'.y' span"	TokenNameStringLiteral	t.y f(t,y) t'.y' span
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
t	TokenNameIdentifier	 t
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
<	TokenNameLESS	
fty	TokenNameIdentifier	 fty
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
y	TokenNameIdentifier	 y
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
y	TokenNameIdentifier	 y
<	TokenNameLESS	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
y	TokenNameIdentifier	 y
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
BackPointer	TokenNameIdentifier	 Back Pointer
bp	TokenNameIdentifier	 bp
=	TokenNameEQUAL	
trace	TokenNameIdentifier	 trace
[	TokenNameLBRACKET	
t	TokenNameIdentifier	 t
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
y	TokenNameIdentifier	 y
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
spanText	TokenNameIdentifier	 span Text
=	TokenNameEQUAL	
bp	TokenNameIdentifier	 bp
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
"*NULL*"	TokenNameStringLiteral	*NULL*
:	TokenNameCOLON	
bp	TokenNameIdentifier	 bp
.	TokenNameDOT	
span	TokenNameIdentifier	 span
.	TokenNameDOT	
asString	TokenNameIdentifier	 as String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
bp	TokenNameIdentifier	 bp
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
bp	TokenNameIdentifier	 bp
=	TokenNameEQUAL	
new	TokenNamenew	
BackPointer	TokenNameIdentifier	 Back Pointer
(	TokenNameLPAREN	
(	TokenNameLPAREN	
Span	TokenNameIdentifier	 Span
)	TokenNameRPAREN	
null	TokenNamenull	
,	TokenNameCOMMA	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
marker	TokenNameIdentifier	 marker
=	TokenNameEQUAL	
bp	TokenNameIdentifier	 bp
.	TokenNameDOT	
onBestPath	TokenNameIdentifier	 on Best Path
?	TokenNameQUESTION	
"<=="	TokenNameStringLiteral	<==
:	TokenNameCOLON	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
t	TokenNameIdentifier	 t
+	TokenNamePLUS	
"."	TokenNameStringLiteral	.
+	TokenNamePLUS	
y	TokenNameIdentifier	 y
+	TokenNamePLUS	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
format	TokenNameIdentifier	 format
.	TokenNameDOT	
format	TokenNameIdentifier	 format
(	TokenNameLPAREN	
fty	TokenNameIdentifier	 fty
[	TokenNameLBRACKET	
t	TokenNameIdentifier	 t
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
y	TokenNameIdentifier	 y
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
bp	TokenNameIdentifier	 bp
.	TokenNameDOT	
lastT	TokenNameIdentifier	 last T
+	TokenNamePLUS	
"."	TokenNameStringLiteral	.
+	TokenNamePLUS	
bp	TokenNameIdentifier	 bp
.	TokenNameDOT	
lastY	TokenNameIdentifier	 last Y
+	TokenNamePLUS	
" '"	TokenNameStringLiteral	 '
+	TokenNamePLUS	
spanText	TokenNameIdentifier	 span Text
+	TokenNamePLUS	
"' "	TokenNameStringLiteral	' 
+	TokenNamePLUS	
marker	TokenNameIdentifier	 marker
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// used by viterbi 	TokenNameCOMMENT_LINE	used by viterbi 
static	TokenNamestatic	
private	TokenNameprivate	
double	TokenNamedouble	
score	TokenNameIdentifier	 score
(	TokenNameLPAREN	
TextLabels	TokenNameIdentifier	 Text Labels
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
int	TokenNameint	
lastY	TokenNameIdentifier	 last Y
,	TokenNameCOMMA	
int	TokenNameint	
y	TokenNameIdentifier	 y
,	TokenNameCOMMA	
int	TokenNameint	
lastT	TokenNameIdentifier	 last T
,	TokenNameCOMMA	
int	TokenNameint	
t	TokenNameIdentifier	 t
,	TokenNameCOMMA	
Span	TokenNameIdentifier	 Span
segment	TokenNameIdentifier	 segment
,	TokenNameCOMMA	
SpanFeatureExtractor	TokenNameIdentifier	 Span Feature Extractor
fe	TokenNameIdentifier	 fe
,	TokenNameCOMMA	
BinaryClassifier	TokenNameIdentifier	 Binary Classifier
cls	TokenNameIdentifier	 cls
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
y	TokenNameIdentifier	 y
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
return	TokenNamereturn	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
prevLabel	TokenNameIdentifier	 prev Label
=	TokenNameEQUAL	
lastY	TokenNameIdentifier	 last Y
==	TokenNameEQUAL_EQUAL	
1	TokenNameIntegerLiteral	
?	TokenNameQUESTION	
ExampleSchema	TokenNameIdentifier	 Example Schema
.	TokenNameDOT	
POS_CLASS_NAME	TokenNameIdentifier	 POS  CLASS  NAME
:	TokenNameCOLON	
ExampleSchema	TokenNameIdentifier	 Example Schema
.	TokenNameDOT	
NEG_CLASS_NAME	TokenNameIdentifier	 NEG  CLASS  NAME
;	TokenNameSEMICOLON	
// System.out.println("score with labels "+labels.getClass()); 	TokenNameCOMMENT_LINE	System.out.println("score with labels "+labels.getClass()); 
Instance	TokenNameIdentifier	 Instance
segmentInstance	TokenNameIdentifier	 segment Instance
=	TokenNameEQUAL	
new	TokenNamenew	
InstanceFromSequence	TokenNameIdentifier	 Instance From Sequence
(	TokenNameLPAREN	
fe	TokenNameIdentifier	 fe
.	TokenNameDOT	
extractInstance	TokenNameIdentifier	 extract Instance
(	TokenNameLPAREN	
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
segment	TokenNameIdentifier	 segment
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
prevLabel	TokenNameIdentifier	 prev Label
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
log	TokenNameIdentifier	 log
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"score: "	TokenNameStringLiteral	score: 
+	TokenNamePLUS	
cls	TokenNameIdentifier	 cls
.	TokenNameDOT	
score	TokenNameIdentifier	 score
(	TokenNameLPAREN	
segmentInstance	TokenNameIdentifier	 segment Instance
)	TokenNameRPAREN	
+	TokenNamePLUS	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
segment	TokenNameIdentifier	 segment
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("score" + cls.score(segmentInstance)+"\t"+segment + " 	TokenNameCOMMENT_LINE	System.out.println("score" + cls.score(segmentInstance)+"\t"+segment + " 
// instance " + segmentInstance); 	TokenNameCOMMENT_LINE	instance " + segmentInstance); 
return	TokenNamereturn	
cls	TokenNameIdentifier	 cls
.	TokenNameDOT	
score	TokenNameIdentifier	 score
(	TokenNameLPAREN	
segmentInstance	TokenNameIdentifier	 segment Instance
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
class	TokenNameclass	
BackPointer	TokenNameIdentifier	 Back Pointer
{	TokenNameLBRACE	
public	TokenNamepublic	
Span	TokenNameIdentifier	 Span
span	TokenNameIdentifier	 span
;	TokenNameSEMICOLON	
public	TokenNamepublic	
int	TokenNameint	
lastT	TokenNameIdentifier	 last T
,	TokenNameCOMMA	
lastY	TokenNameIdentifier	 last Y
;	TokenNameSEMICOLON	
public	TokenNamepublic	
boolean	TokenNameboolean	
onBestPath	TokenNameIdentifier	 on Best Path
;	TokenNameSEMICOLON	
public	TokenNamepublic	
BackPointer	TokenNameIdentifier	 Back Pointer
(	TokenNameLPAREN	
Span	TokenNameIdentifier	 Span
span	TokenNameIdentifier	 span
,	TokenNameCOMMA	
int	TokenNameint	
lastT	TokenNameIdentifier	 last T
,	TokenNameCOMMA	
int	TokenNameint	
lastY	TokenNameIdentifier	 last Y
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
span	TokenNameIdentifier	 span
=	TokenNameEQUAL	
span	TokenNameIdentifier	 span
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
lastT	TokenNameIdentifier	 last T
=	TokenNameEQUAL	
lastT	TokenNameIdentifier	 last T
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
lastY	TokenNameIdentifier	 last Y
=	TokenNameEQUAL	
lastY	TokenNameIdentifier	 last Y
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
onBestPath	TokenNameIdentifier	 on Best Path
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// 	TokenNameCOMMENT_LINE	 
// convert a span to an instance 	TokenNameCOMMENT_LINE	convert a span to an instance 
// 	TokenNameCOMMENT_LINE	 
static	TokenNamestatic	
public	TokenNamepublic	
class	TokenNameclass	
CSMMSpanFE	TokenNameIdentifier	 CSMM Span FE
extends	TokenNameextends	
SampleFE	TokenNameIdentifier	 Sample FE
.	TokenNameDOT	
ExtractionFE	TokenNameIdentifier	 Extraction FE
{	TokenNameLBRACE	
static	TokenNamestatic	
final	TokenNamefinal	
long	TokenNamelong	
serialVersionUID	TokenNameIdentifier	 serial Version UID
=	TokenNameEQUAL	
20080306L	TokenNameLongLiteral	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
CSMMSpanFE	TokenNameIdentifier	 CSMM Span FE
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
CSMMSpanFE	TokenNameIdentifier	 CSMM Span FE
(	TokenNameLPAREN	
int	TokenNameint	
windowSize	TokenNameIdentifier	 window Size
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
windowSize	TokenNameIdentifier	 window Size
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
CSMMSpanFE	TokenNameIdentifier	 CSMM Span FE
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
mixupFile	TokenNameIdentifier	 mixup File
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
setRequiredAnnotation	TokenNameIdentifier	 set Required Annotation
(	TokenNameLPAREN	
mixupFile	TokenNameIdentifier	 mixup File
,	TokenNameCOMMA	
mixupFile	TokenNameIdentifier	 mixup File
+	TokenNamePLUS	
".mixup"	TokenNameStringLiteral	.mixup
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
setTokenPropertyFeatures	TokenNameIdentifier	 set Token Property Features
(	TokenNameLPAREN	
"*"	TokenNameStringLiteral	*
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
extractFeatures	TokenNameIdentifier	 extract Features
(	TokenNameLPAREN	
Span	TokenNameIdentifier	 Span
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
{	TokenNameLBRACE	
extractFeatures	TokenNameIdentifier	 extract Features
(	TokenNameLPAREN	
new	TokenNamenew	
EmptyLabels	TokenNameIdentifier	 Empty Labels
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
extractFeatures	TokenNameIdentifier	 extract Features
(	TokenNameLPAREN	
TextLabels	TokenNameIdentifier	 Text Labels
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
Span	TokenNameIdentifier	 Span
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
.	TokenNameDOT	
extractFeatures	TokenNameIdentifier	 extract Features
(	TokenNameLPAREN	
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// text of span & its charTypePattern 	TokenNameCOMMENT_LINE	text of span & its charTypePattern 
from	TokenNameIdentifier	 from
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
.	TokenNameDOT	
eq	TokenNameIdentifier	 eq
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
lc	TokenNameIdentifier	 lc
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
emit	TokenNameIdentifier	 emit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
useCharType	TokenNameIdentifier	 use Char Type
)	TokenNameRPAREN	
from	TokenNameIdentifier	 from
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
.	TokenNameDOT	
eq	TokenNameIdentifier	 eq
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
charTypes	TokenNameIdentifier	 char Types
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
emit	TokenNameIdentifier	 emit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
useCompressedCharType	TokenNameIdentifier	 use Compressed Char Type
)	TokenNameRPAREN	
from	TokenNameIdentifier	 from
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
.	TokenNameDOT	
eq	TokenNameIdentifier	 eq
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
charTypePattern	TokenNameIdentifier	 char Type Pattern
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
emit	TokenNameIdentifier	 emit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// length properties of span 	TokenNameCOMMENT_LINE	length properties of span 
from	TokenNameIdentifier	 from
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
emit	TokenNameIdentifier	 emit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
from	TokenNameIdentifier	 from
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
.	TokenNameDOT	
exactSize	TokenNameIdentifier	 exact Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
emit	TokenNameIdentifier	 emit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// first and last tokens 	TokenNameCOMMENT_LINE	first and last tokens 
from	TokenNameIdentifier	 from
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
.	TokenNameDOT	
token	TokenNameIdentifier	 token
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
.	TokenNameDOT	
eq	TokenNameIdentifier	 eq
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
lc	TokenNameIdentifier	 lc
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
emit	TokenNameIdentifier	 emit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
from	TokenNameIdentifier	 from
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
.	TokenNameDOT	
token	TokenNameIdentifier	 token
(	TokenNameLPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
.	TokenNameDOT	
eq	TokenNameIdentifier	 eq
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
lc	TokenNameIdentifier	 lc
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
emit	TokenNameIdentifier	 emit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
useCharType	TokenNameIdentifier	 use Char Type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
from	TokenNameIdentifier	 from
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
.	TokenNameDOT	
token	TokenNameIdentifier	 token
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
.	TokenNameDOT	
eq	TokenNameIdentifier	 eq
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
charTypes	TokenNameIdentifier	 char Types
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
lc	TokenNameIdentifier	 lc
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
emit	TokenNameIdentifier	 emit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
from	TokenNameIdentifier	 from
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
.	TokenNameDOT	
token	TokenNameIdentifier	 token
(	TokenNameLPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
.	TokenNameDOT	
eq	TokenNameIdentifier	 eq
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
charTypes	TokenNameIdentifier	 char Types
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
lc	TokenNameIdentifier	 lc
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
emit	TokenNameIdentifier	 emit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
useCompressedCharType	TokenNameIdentifier	 use Compressed Char Type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
from	TokenNameIdentifier	 from
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
.	TokenNameDOT	
token	TokenNameIdentifier	 token
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
.	TokenNameDOT	
eq	TokenNameIdentifier	 eq
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
charTypePattern	TokenNameIdentifier	 char Type Pattern
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
lc	TokenNameIdentifier	 lc
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
emit	TokenNameIdentifier	 emit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
from	TokenNameIdentifier	 from
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
.	TokenNameDOT	
token	TokenNameIdentifier	 token
(	TokenNameLPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
.	TokenNameDOT	
eq	TokenNameIdentifier	 eq
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
charTypePattern	TokenNameIdentifier	 char Type Pattern
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
lc	TokenNameIdentifier	 lc
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
emit	TokenNameIdentifier	 emit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// use marked properties of tokens for first & last tokens in span 	TokenNameCOMMENT_LINE	use marked properties of tokens for first & last tokens in span 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
tokenPropertyFeatures	TokenNameIdentifier	 token Property Features
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
p	TokenNameIdentifier	 p
=	TokenNameEQUAL	
tokenPropertyFeatures	TokenNameIdentifier	 token Property Features
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// first & last tokens 	TokenNameCOMMENT_LINE	first & last tokens 
from	TokenNameIdentifier	 from
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
.	TokenNameDOT	
token	TokenNameIdentifier	 token
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
.	TokenNameDOT	
prop	TokenNameIdentifier	 prop
(	TokenNameLPAREN	
p	TokenNameIdentifier	 p
)	TokenNameRPAREN	
.	TokenNameDOT	
emit	TokenNameIdentifier	 emit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
from	TokenNameIdentifier	 from
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
.	TokenNameDOT	
token	TokenNameIdentifier	 token
(	TokenNameLPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
.	TokenNameDOT	
prop	TokenNameIdentifier	 prop
(	TokenNameLPAREN	
p	TokenNameIdentifier	 p
)	TokenNameRPAREN	
.	TokenNameDOT	
emit	TokenNameIdentifier	 emit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
from	TokenNameIdentifier	 from
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
.	TokenNameDOT	
subSpan	TokenNameIdentifier	 sub Span
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
span	TokenNameIdentifier	 span
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
.	TokenNameDOT	
tokens	TokenNameIdentifier	 tokens
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
prop	TokenNameIdentifier	 prop
(	TokenNameLPAREN	
p	TokenNameIdentifier	 p
)	TokenNameRPAREN	
.	TokenNameDOT	
emit	TokenNameIdentifier	 emit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
/** * Feature extractor for providing distance-based features on terms. * Dictionary can be specified either as an external file or by using the * training spans. - Sunita Sarawagi */	TokenNameCOMMENT_JAVADOC	 Feature extractor for providing distance-based features on terms. Dictionary can be specified either as an external file or by using the training spans. - Sunita Sarawagi 
static	TokenNamestatic	
public	TokenNamepublic	
class	TokenNameclass	
CSMMWithDictionarySpanFE	TokenNameIdentifier	 CSMM With Dictionary Span FE
extends	TokenNameextends	
CSMMSpanFE	TokenNameIdentifier	 CSMM Span FE
{	TokenNameLBRACE	
static	TokenNamestatic	
final	TokenNamefinal	
long	TokenNamelong	
serialVersionUID	TokenNameIdentifier	 serial Version UID
=	TokenNameEQUAL	
20080306L	TokenNameLongLiteral	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
addTrainingSegsToDictionary	TokenNameIdentifier	 add Training Segs To Dictionary
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
useCrossVal	TokenNameIdentifier	 use Cross Val
;	TokenNameSEMICOLON	
SoftDictionary	TokenNameIdentifier	 Soft Dictionary
dictionary	TokenNameIdentifier	 dictionary
;	TokenNameSEMICOLON	
StringDistance	TokenNameIdentifier	 String Distance
distances	TokenNameIdentifier	 distances
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
Feature	TokenNameIdentifier	 Feature
features	TokenNameIdentifier	 features
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// distanceNames has to be "/" separated list of distance functions that 	TokenNameCOMMENT_LINE	distanceNames has to be "/" separated list of distance functions that 
// we want to apply 	TokenNameCOMMENT_LINE	we want to apply 
public	TokenNamepublic	
CSMMWithDictionarySpanFE	TokenNameIdentifier	 CSMM With Dictionary Span FE
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
dictionaryFile	TokenNameIdentifier	 dictionary File
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
distanceNames	TokenNameIdentifier	 distance Names
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
(	TokenNameLPAREN	
dictionaryFile	TokenNameIdentifier	 dictionary File
,	TokenNameCOMMA	
distanceNames	TokenNameIdentifier	 distance Names
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
CSMMWithDictionarySpanFE	TokenNameIdentifier	 CSMM With Dictionary Span FE
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
dictionaryFile	TokenNameIdentifier	 dictionary File
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
distanceNames	TokenNameIdentifier	 distance Names
,	TokenNameCOMMA	
boolean	TokenNameboolean	
addTraining	TokenNameIdentifier	 add Training
,	TokenNameCOMMA	
boolean	TokenNameboolean	
useCrossValArg	TokenNameIdentifier	 use Cross Val Arg
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
addTrainingSegsToDictionary	TokenNameIdentifier	 add Training Segs To Dictionary
=	TokenNameEQUAL	
addTraining	TokenNameIdentifier	 add Training
;	TokenNameSEMICOLON	
useCrossVal	TokenNameIdentifier	 use Cross Val
=	TokenNameEQUAL	
useCrossValArg	TokenNameIdentifier	 use Cross Val Arg
;	TokenNameSEMICOLON	
dictionary	TokenNameIdentifier	 dictionary
=	TokenNameEQUAL	
new	TokenNamenew	
SoftDictionary	TokenNameIdentifier	 Soft Dictionary
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
distances	TokenNameIdentifier	 distances
=	TokenNameEQUAL	
DistanceLearnerFactory	TokenNameIdentifier	 Distance Learner Factory
.	TokenNameDOT	
buildArray	TokenNameIdentifier	 build Array
(	TokenNameLPAREN	
distanceNames	TokenNameIdentifier	 distance Names
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
dictionaryFile	TokenNameIdentifier	 dictionary File
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
dictionary	TokenNameIdentifier	 dictionary
.	TokenNameDOT	
load	TokenNameIdentifier	 load
(	TokenNameLPAREN	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
dictionaryFile	TokenNameIdentifier	 dictionary File
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
trainDistances	TokenNameIdentifier	 train Distances
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// now create features corresponding to each distance function. 	TokenNameCOMMENT_LINE	now create features corresponding to each distance function. 
features	TokenNameIdentifier	 features
=	TokenNameEQUAL	
new	TokenNamenew	
Feature	TokenNameIdentifier	 Feature
[	TokenNameLBRACKET	
distances	TokenNameIdentifier	 distances
.	TokenNameDOT	
length	TokenNameIdentifier	 length
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
d	TokenNameIdentifier	 d
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
d	TokenNameIdentifier	 d
<	TokenNameLESS	
distances	TokenNameIdentifier	 distances
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
d	TokenNameIdentifier	 d
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// save the feature name 	TokenNameCOMMENT_LINE	save the feature name 
features	TokenNameIdentifier	 features
[	TokenNameLBRACKET	
d	TokenNameIdentifier	 d
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
Feature	TokenNameIdentifier	 Feature
(	TokenNameLPAREN	
distances	TokenNameIdentifier	 distances
[	TokenNameLBRACKET	
d	TokenNameIdentifier	 d
]	TokenNameRBRACKET	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
printStackTrace	TokenNameIdentifier	 print Stack Trace
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
trainDistances	TokenNameIdentifier	 train Distances
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
d	TokenNameIdentifier	 d
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
d	TokenNameIdentifier	 d
<	TokenNameLESS	
distances	TokenNameIdentifier	 distances
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
d	TokenNameIdentifier	 d
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// train anything that's also a distance learner 	TokenNameCOMMENT_LINE	train anything that's also a distance learner 
if	TokenNameif	
(	TokenNameLPAREN	
distances	TokenNameIdentifier	 distances
[	TokenNameLBRACKET	
d	TokenNameIdentifier	 d
]	TokenNameRBRACKET	
instanceof	TokenNameinstanceof	
StringDistanceLearner	TokenNameIdentifier	 String Distance Learner
)	TokenNameRPAREN	
{	TokenNameLBRACE	
distances	TokenNameIdentifier	 distances
[	TokenNameLBRACKET	
d	TokenNameIdentifier	 d
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
dictionary	TokenNameIdentifier	 dictionary
.	TokenNameDOT	
getTeacher	TokenNameIdentifier	 get Teacher
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
train	TokenNameIdentifier	 train
(	TokenNameLPAREN	
(	TokenNameLPAREN	
StringDistanceLearner	TokenNameIdentifier	 String Distance Learner
)	TokenNameRPAREN	
distances	TokenNameIdentifier	 distances
[	TokenNameLBRACKET	
d	TokenNameIdentifier	 d
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
train	TokenNameIdentifier	 train
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
AnnotationExample	TokenNameIdentifier	 Annotation Example
>	TokenNameGREATER	
iter	TokenNameIdentifier	 iter
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
addTrainingSegsToDictionary	TokenNameIdentifier	 add Training Segs To Dictionary
)	TokenNameRPAREN	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
int	TokenNameint	
numAdded	TokenNameIdentifier	 num Added
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
//float total=0; 	TokenNameCOMMENT_LINE	float total=0; 
for	TokenNamefor	
(	TokenNameLPAREN	
;	TokenNameSEMICOLON	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
AnnotationExample	TokenNameIdentifier	 Annotation Example
example	TokenNameIdentifier	 example
=	TokenNameEQUAL	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
id	TokenNameIdentifier	 id
=	TokenNameEQUAL	
example	TokenNameIdentifier	 example
.	TokenNameDOT	
getDocumentSpan	TokenNameIdentifier	 get Document Span
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getDocumentId	TokenNameIdentifier	 get Document Id
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
type	TokenNameIdentifier	 type
=	TokenNameEQUAL	
example	TokenNameIdentifier	 example
.	TokenNameDOT	
getInputType	TokenNameIdentifier	 get Input Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
example	TokenNameIdentifier	 example
.	TokenNameDOT	
getLabels	TokenNameIdentifier	 get Labels
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
instanceIterator	TokenNameIdentifier	 instance Iterator
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
,	TokenNameCOMMA	
id	TokenNameIdentifier	 id
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
thisSeg	TokenNameIdentifier	 this Seg
=	TokenNameEQUAL	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
asString	TokenNameIdentifier	 as String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Uncomment for reporting distances.. * * float dist = (float)dictionary.lookupDistance(thisSeg); * System.out.println("Match " + thisSeg + " => " + * dictionary.lookup(thisSeg)+ " at " + * dictionary.lookupDistance(thisSeg)); if (dist > 0) total += dist; */	TokenNameCOMMENT_JAVADOC	 Uncomment for reporting distances.. * float dist = (float)dictionary.lookupDistance(thisSeg); System.out.println("Match " + thisSeg + " => " + dictionary.lookup(thisSeg)+ " at " + dictionary.lookupDistance(thisSeg)); if (dist > 0) total += dist; 
numAdded	TokenNameIdentifier	 num Added
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
dictionary	TokenNameIdentifier	 dictionary
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
id	TokenNameIdentifier	 id
,	TokenNameCOMMA	
thisSeg	TokenNameIdentifier	 this Seg
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
trainDistances	TokenNameIdentifier	 train Distances
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("Average distance " + total/numAdded + " over " + 	TokenNameCOMMENT_LINE	System.out.println("Average distance " + total/numAdded + " over " + 
// numAdded); 	TokenNameCOMMENT_LINE	numAdded); 
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
extractFeatures	TokenNameIdentifier	 extract Features
(	TokenNameLPAREN	
TextLabels	TokenNameIdentifier	 Text Labels
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
Span	TokenNameIdentifier	 Span
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
.	TokenNameDOT	
extractFeatures	TokenNameIdentifier	 extract Features
(	TokenNameLPAREN	
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
StringWrapper	TokenNameIdentifier	 String Wrapper
spanString	TokenNameIdentifier	 span String
=	TokenNameEQUAL	
new	TokenNamenew	
BasicStringWrapper	TokenNameIdentifier	 Basic String Wrapper
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
.	TokenNameDOT	
asString	TokenNameIdentifier	 as String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
id	TokenNameIdentifier	 id
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
addTrainingSegsToDictionary	TokenNameIdentifier	 add Training Segs To Dictionary
&&	TokenNameAND_AND	
useCrossVal	TokenNameIdentifier	 use Cross Val
)	TokenNameRPAREN	
?	TokenNameQUESTION	
span	TokenNameIdentifier	 span
.	TokenNameDOT	
getDocumentId	TokenNameIdentifier	 get Document Id
(	TokenNameLPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Object	TokenNameIdentifier	 Object
closestMatch	TokenNameIdentifier	 closest Match
=	TokenNameEQUAL	
dictionary	TokenNameIdentifier	 dictionary
.	TokenNameDOT	
lookup	TokenNameIdentifier	 lookup
(	TokenNameLPAREN	
id	TokenNameIdentifier	 id
,	TokenNameCOMMA	
spanString	TokenNameIdentifier	 span String
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
closestMatch	TokenNameIdentifier	 closest Match
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// create various types of similarity measures. 	TokenNameCOMMENT_LINE	create various types of similarity measures. 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
d	TokenNameIdentifier	 d
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
d	TokenNameIdentifier	 d
<	TokenNameLESS	
distances	TokenNameIdentifier	 distances
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
d	TokenNameIdentifier	 d
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
score	TokenNameIdentifier	 score
=	TokenNameEQUAL	
distances	TokenNameIdentifier	 distances
[	TokenNameLBRACKET	
d	TokenNameIdentifier	 d
]	TokenNameRBRACKET	
.	TokenNameDOT	
score	TokenNameIdentifier	 score
(	TokenNameLPAREN	
spanString	TokenNameIdentifier	 span String
,	TokenNameCOMMA	
(	TokenNameLPAREN	
StringWrapper	TokenNameIdentifier	 String Wrapper
)	TokenNameRPAREN	
closestMatch	TokenNameIdentifier	 closest Match
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
score	TokenNameIdentifier	 score
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// instance has been created by the parent. 	TokenNameCOMMENT_LINE	instance has been created by the parent. 
instance	TokenNameIdentifier	 instance
.	TokenNameDOT	
addNumeric	TokenNameIdentifier	 add Numeric
(	TokenNameLPAREN	
features	TokenNameIdentifier	 features
[	TokenNameLBRACKET	
d	TokenNameIdentifier	 d
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
score	TokenNameIdentifier	 score
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
// a proposed segmentation of a document 	TokenNameCOMMENT_LINE	a proposed segmentation of a document 
static	TokenNamestatic	
public	TokenNamepublic	
class	TokenNameclass	
Segments	TokenNameIdentifier	 Segments
{	TokenNameLBRACE	
private	TokenNameprivate	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
spanSet	TokenNameIdentifier	 span Set
;	TokenNameSEMICOLON	
public	TokenNamepublic	
Segments	TokenNameIdentifier	 Segments
(	TokenNameLPAREN	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
spanSet	TokenNameIdentifier	 span Set
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
spanSet	TokenNameIdentifier	 span Set
=	TokenNameEQUAL	
spanSet	TokenNameIdentifier	 span Set
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
spanSet	TokenNameIdentifier	 span Set
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
boolean	TokenNameboolean	
contains	TokenNameIdentifier	 contains
(	TokenNameLPAREN	
Span	TokenNameIdentifier	 Span
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
spanSet	TokenNameIdentifier	 span Set
.	TokenNameDOT	
contains	TokenNameIdentifier	 contains
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
String	TokenNameIdentifier	 String
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
"[Segments: "	TokenNameStringLiteral	[Segments: 
+	TokenNamePLUS	
spanSet	TokenNameIdentifier	 span Set
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
"]"	TokenNameStringLiteral	]
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
