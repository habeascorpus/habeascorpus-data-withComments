/* Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
renderer	TokenNameIdentifier	 renderer
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
Graphics2D	TokenNameIdentifier	 Graphics2 D
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
Paint	TokenNameIdentifier	 Paint
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
RenderingHints	TokenNameIdentifier	 Rendering Hints
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
Shape	TokenNameIdentifier	 Shape
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
Stroke	TokenNameIdentifier	 Stroke
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
font	TokenNameIdentifier	 font
.	TokenNameDOT	
FontRenderContext	TokenNameIdentifier	 Font Render Context
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
font	TokenNameIdentifier	 font
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
geom	TokenNameIdentifier	 geom
.	TokenNameDOT	
GeneralPath	TokenNameIdentifier	 General Path
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
geom	TokenNameIdentifier	 geom
.	TokenNameDOT	
Point2D	TokenNameIdentifier	 Point2 D
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
geom	TokenNameIdentifier	 geom
.	TokenNameDOT	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
AttributedString	TokenNameIdentifier	 Attributed String
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
CharacterIterator	TokenNameIdentifier	 Character Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ArrayList	TokenNameIdentifier	 Array List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
HashSet	TokenNameIdentifier	 Hash Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Iterator	TokenNameIdentifier	 Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
List	TokenNameIdentifier	 List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Set	TokenNameIdentifier	 Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
TextNode	TokenNameIdentifier	 Text Node
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
TextPainter	TokenNameIdentifier	 Text Painter
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
font	TokenNameIdentifier	 font
.	TokenNameDOT	
FontFamilyResolver	TokenNameIdentifier	 Font Family Resolver
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
font	TokenNameIdentifier	 font
.	TokenNameDOT	
GVTFont	TokenNameIdentifier	 GVT Font
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
font	TokenNameIdentifier	 font
.	TokenNameDOT	
GVTFontFamily	TokenNameIdentifier	 GVT Font Family
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
font	TokenNameIdentifier	 font
.	TokenNameDOT	
GVTGlyphMetrics	TokenNameIdentifier	 GVT Glyph Metrics
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
font	TokenNameIdentifier	 font
.	TokenNameDOT	
GVTLineMetrics	TokenNameIdentifier	 GVT Line Metrics
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
AttributedCharacterSpanIterator	TokenNameIdentifier	 Attributed Character Span Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
BidiAttributedCharacterIterator	TokenNameIdentifier	 Bidi Attributed Character Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
Mark	TokenNameIdentifier	 Mark
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
TextHit	TokenNameIdentifier	 Text Hit
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
TextPaintInfo	TokenNameIdentifier	 Text Paint Info
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
TextPath	TokenNameIdentifier	 Text Path
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
;	TokenNameSEMICOLON	
/** * More sophisticated implementation of TextPainter which * renders the attributed character iterator of a <tt>TextNode</tt>. * <em>StrokingTextPainter includes support for stroke, fill, opacity, * text-decoration, and other attributes.</em> * * @see org.apache.batik.gvt.TextPainter * @see org.apache.batik.gvt.text.GVTAttributedCharacterIterator * * @author <a href="mailto:bill.haneman@ireland.sun.com">Bill Haneman</a> * @version $Id: StrokingTextPainter.java 579030 2007-09-25 01:50:15Z cam $ */	TokenNameCOMMENT_JAVADOC	 More sophisticated implementation of TextPainter which renders the attributed character iterator of a <tt>TextNode</tt>. <em>StrokingTextPainter includes support for stroke, fill, opacity, text-decoration, and other attributes.</em> * @see org.apache.batik.gvt.TextPainter @see org.apache.batik.gvt.text.GVTAttributedCharacterIterator * @author <a href="mailto:bill.haneman@ireland.sun.com">Bill Haneman</a> @version $Id: StrokingTextPainter.java 579030 2007-09-25 01:50:15Z cam $ 
public	TokenNamepublic	
class	TokenNameclass	
StrokingTextPainter	TokenNameIdentifier	 Stroking Text Painter
extends	TokenNameextends	
BasicTextPainter	TokenNameIdentifier	 Basic Text Painter
{	TokenNameLBRACE	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
.	TokenNameDOT	
Attribute	TokenNameIdentifier	 Attribute
PAINT_INFO	TokenNameIdentifier	 PAINT  INFO
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
PAINT_INFO	TokenNameIdentifier	 PAINT  INFO
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
.	TokenNameDOT	
Attribute	TokenNameIdentifier	 Attribute
FLOW_REGIONS	TokenNameIdentifier	 FLOW  REGIONS
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
FLOW_REGIONS	TokenNameIdentifier	 FLOW  REGIONS
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
.	TokenNameDOT	
Attribute	TokenNameIdentifier	 Attribute
FLOW_PARAGRAPH	TokenNameIdentifier	 FLOW  PARAGRAPH
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
FLOW_PARAGRAPH	TokenNameIdentifier	 FLOW  PARAGRAPH
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
.	TokenNameDOT	
Attribute	TokenNameIdentifier	 Attribute
TEXT_COMPOUND_ID	TokenNameIdentifier	 TEXT  COMPOUND  ID
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
TEXT_COMPOUND_ID	TokenNameIdentifier	 TEXT  COMPOUND  ID
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
.	TokenNameDOT	
Attribute	TokenNameIdentifier	 Attribute
GVT_FONT	TokenNameIdentifier	 GVT  FONT
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
GVT_FONT	TokenNameIdentifier	 GVT  FONT
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
.	TokenNameDOT	
Attribute	TokenNameIdentifier	 Attribute
GVT_FONTS	TokenNameIdentifier	 GVT  FONTS
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
GVT_FONTS	TokenNameIdentifier	 GVT  FONTS
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
.	TokenNameDOT	
Attribute	TokenNameIdentifier	 Attribute
BIDI_LEVEL	TokenNameIdentifier	 BIDI  LEVEL
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
BIDI_LEVEL	TokenNameIdentifier	 BIDI  LEVEL
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
.	TokenNameDOT	
Attribute	TokenNameIdentifier	 Attribute
XPOS	TokenNameIdentifier	 XPOS
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
X	TokenNameIdentifier	 X
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
.	TokenNameDOT	
Attribute	TokenNameIdentifier	 Attribute
YPOS	TokenNameIdentifier	 YPOS
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
Y	TokenNameIdentifier	 Y
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
.	TokenNameDOT	
Attribute	TokenNameIdentifier	 Attribute
TEXTPATH	TokenNameIdentifier	 TEXTPATH
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
TEXTPATH	TokenNameIdentifier	 TEXTPATH
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
.	TokenNameDOT	
Attribute	TokenNameIdentifier	 Attribute
WRITING_MODE	TokenNameIdentifier	 WRITING  MODE
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
WRITING_MODE	TokenNameIdentifier	 WRITING  MODE
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
Integer	TokenNameIdentifier	 Integer
WRITING_MODE_TTB	TokenNameIdentifier	 WRITING  MODE  TTB
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
WRITING_MODE_TTB	TokenNameIdentifier	 WRITING  MODE  TTB
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
Integer	TokenNameIdentifier	 Integer
WRITING_MODE_RTL	TokenNameIdentifier	 WRITING  MODE  RTL
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
WRITING_MODE_RTL	TokenNameIdentifier	 WRITING  MODE  RTL
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
.	TokenNameDOT	
Attribute	TokenNameIdentifier	 Attribute
ANCHOR_TYPE	TokenNameIdentifier	 ANCHOR  TYPE
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
ANCHOR_TYPE	TokenNameIdentifier	 ANCHOR  TYPE
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
Integer	TokenNameIdentifier	 Integer
ADJUST_SPACING	TokenNameIdentifier	 ADJUST  SPACING
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
ADJUST_SPACING	TokenNameIdentifier	 ADJUST  SPACING
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
Integer	TokenNameIdentifier	 Integer
ADJUST_ALL	TokenNameIdentifier	 ADJUST  ALL
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
ADJUST_ALL	TokenNameIdentifier	 ADJUST  ALL
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
ALT_GLYPH_HANDLER	TokenNameIdentifier	 ALT  GLYPH  HANDLER
=	TokenNameEQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
ALT_GLYPH_HANDLER	TokenNameIdentifier	 ALT  GLYPH  HANDLER
;	TokenNameSEMICOLON	
static	TokenNamestatic	
Set	TokenNameIdentifier	 Set
extendedAtts	TokenNameIdentifier	 extended Atts
=	TokenNameEQUAL	
new	TokenNamenew	
HashSet	TokenNameIdentifier	 Hash Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
static	TokenNamestatic	
{	TokenNameLBRACE	
extendedAtts	TokenNameIdentifier	 extended Atts
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
FLOW_PARAGRAPH	TokenNameIdentifier	 FLOW  PARAGRAPH
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
extendedAtts	TokenNameIdentifier	 extended Atts
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
TEXT_COMPOUND_ID	TokenNameIdentifier	 TEXT  COMPOUND  ID
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
extendedAtts	TokenNameIdentifier	 extended Atts
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
GVT_FONT	TokenNameIdentifier	 GVT  FONT
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// extendedAtts.add(BIDI_LEVEL); 	TokenNameCOMMENT_LINE	extendedAtts.add(BIDI_LEVEL); 
}	TokenNameRBRACE	
/** * A unique instance of this class. */	TokenNameCOMMENT_JAVADOC	 A unique instance of this class. 
protected	TokenNameprotected	
static	TokenNamestatic	
TextPainter	TokenNameIdentifier	 Text Painter
singleton	TokenNameIdentifier	 singleton
=	TokenNameEQUAL	
new	TokenNamenew	
StrokingTextPainter	TokenNameIdentifier	 Stroking Text Painter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Returns a unique instance of this class. */	TokenNameCOMMENT_JAVADOC	 Returns a unique instance of this class. 
public	TokenNamepublic	
static	TokenNamestatic	
TextPainter	TokenNameIdentifier	 Text Painter
getInstance	TokenNameIdentifier	 get Instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
singleton	TokenNameIdentifier	 singleton
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Paints the specified text node using the specified Graphics2D. * * @param node the text node to paint * @param g2d the Graphics2D to use */	TokenNameCOMMENT_JAVADOC	 Paints the specified text node using the specified Graphics2D. * @param node the text node to paint @param g2d the Graphics2D to use 
public	TokenNamepublic	
void	TokenNamevoid	
paint	TokenNameIdentifier	 paint
(	TokenNameLPAREN	
TextNode	TokenNameIdentifier	 Text Node
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
Graphics2D	TokenNameIdentifier	 Graphics2 D
g2d	TokenNameIdentifier	 g2d
)	TokenNameRPAREN	
{	TokenNameLBRACE	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
;	TokenNameSEMICOLON	
aci	TokenNameIdentifier	 aci
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getAttributedCharacterIterator	TokenNameIdentifier	 get Attributed Character Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
List	TokenNameIdentifier	 List
textRuns	TokenNameIdentifier	 text Runs
=	TokenNameEQUAL	
getTextRuns	TokenNameIdentifier	 get Text Runs
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
aci	TokenNameIdentifier	 aci
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// draw the underline and overline first, then the actual text 	TokenNameCOMMENT_LINE	draw the underline and overline first, then the actual text 
// and finally the strikethrough 	TokenNameCOMMENT_LINE	and finally the strikethrough 
paintDecorations	TokenNameIdentifier	 paint Decorations
(	TokenNameLPAREN	
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
g2d	TokenNameIdentifier	 g2d
,	TokenNameCOMMA	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_UNDERLINE	TokenNameIdentifier	 DECORATION  UNDERLINE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
paintDecorations	TokenNameIdentifier	 paint Decorations
(	TokenNameLPAREN	
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
g2d	TokenNameIdentifier	 g2d
,	TokenNameCOMMA	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_OVERLINE	TokenNameIdentifier	 DECORATION  OVERLINE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
paintTextRuns	TokenNameIdentifier	 paint Text Runs
(	TokenNameLPAREN	
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
g2d	TokenNameIdentifier	 g2d
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
paintDecorations	TokenNameIdentifier	 paint Decorations
(	TokenNameLPAREN	
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
g2d	TokenNameIdentifier	 g2d
,	TokenNameCOMMA	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_STRIKETHROUGH	TokenNameIdentifier	 DECORATION  STRIKETHROUGH
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
protected	TokenNameprotected	
void	TokenNamevoid	
printAttrs	TokenNameIdentifier	 print Attrs
(	TokenNameLPAREN	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
)	TokenNameRPAREN	
{	TokenNameLBRACE	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
first	TokenNameIdentifier	 first
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
start	TokenNameIdentifier	 start
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getBeginIndex	TokenNameIdentifier	 get Begin Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
print	TokenNameIdentifier	 print
(	TokenNameLPAREN	
"AttrRuns: "	TokenNameStringLiteral	AttrRuns: 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
current	TokenNameIdentifier	 current
(	TokenNameLPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
CharacterIterator	TokenNameIdentifier	 Character Iterator
.	TokenNameDOT	
DONE	TokenNameIdentifier	 DONE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
end	TokenNameIdentifier	 end
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getRunLimit	TokenNameIdentifier	 get Run Limit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
print	TokenNameIdentifier	 print
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
+	TokenNamePLUS	
(	TokenNameLPAREN	
end	TokenNameIdentifier	 end
-	TokenNameMINUS	
start	TokenNameIdentifier	 start
)	TokenNameRPAREN	
+	TokenNamePLUS	
", "	TokenNameStringLiteral	, 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
setIndex	TokenNameIdentifier	 set Index
(	TokenNameLPAREN	
end	TokenNameIdentifier	 end
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
start	TokenNameIdentifier	 start
=	TokenNameEQUAL	
end	TokenNameIdentifier	 end
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// static long reorderTime, fontMatchingTime, layoutTime; 	TokenNameCOMMENT_LINE	static long reorderTime, fontMatchingTime, layoutTime; 
public	TokenNamepublic	
List	TokenNameIdentifier	 List
getTextRuns	TokenNameIdentifier	 get Text Runs
(	TokenNameLPAREN	
TextNode	TokenNameIdentifier	 Text Node
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
)	TokenNameRPAREN	
{	TokenNameLBRACE	
List	TokenNameIdentifier	 List
textRuns	TokenNameIdentifier	 text Runs
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getTextRuns	TokenNameIdentifier	 get Text Runs
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
textRuns	TokenNameIdentifier	 text Runs
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
textRuns	TokenNameIdentifier	 text Runs
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
chunkACIs	TokenNameIdentifier	 chunk AC Is
=	TokenNameEQUAL	
getTextChunkACIs	TokenNameIdentifier	 get Text Chunk AC Is
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
textRuns	TokenNameIdentifier	 text Runs
=	TokenNameEQUAL	
computeTextRuns	TokenNameIdentifier	 compute Text Runs
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
aci	TokenNameIdentifier	 aci
,	TokenNameCOMMA	
chunkACIs	TokenNameIdentifier	 chunk AC Is
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// t1 = System.currentTimeMillis(); 	TokenNameCOMMENT_LINE	t1 = System.currentTimeMillis(); 
// layoutTime += t1-t0; 	TokenNameCOMMENT_LINE	layoutTime += t1-t0; 
// System.out.println("Reorder: " + reorderTime + " FontMatching: " + fontMatchingTime + " Layout: " + layoutTime); 	TokenNameCOMMENT_LINE	System.out.println("Reorder: " + reorderTime + " FontMatching: " + fontMatchingTime + " Layout: " + layoutTime); 
// cache the textRuns so don't need to recalculate 	TokenNameCOMMENT_LINE	cache the textRuns so don't need to recalculate 
node	TokenNameIdentifier	 node
.	TokenNameDOT	
setTextRuns	TokenNameIdentifier	 set Text Runs
(	TokenNameLPAREN	
textRuns	TokenNameIdentifier	 text Runs
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getTextRuns	TokenNameIdentifier	 get Text Runs
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
List	TokenNameIdentifier	 List
computeTextRuns	TokenNameIdentifier	 compute Text Runs
(	TokenNameLPAREN	
TextNode	TokenNameIdentifier	 Text Node
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
,	TokenNameCOMMA	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
chunkACIs	TokenNameIdentifier	 chunk AC Is
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
chunkCharMaps	TokenNameIdentifier	 chunk Char Maps
=	TokenNameEQUAL	
new	TokenNamenew	
int	TokenNameint	
[	TokenNameLBRACKET	
chunkACIs	TokenNameIdentifier	 chunk AC Is
.	TokenNameDOT	
length	TokenNameIdentifier	 length
]	TokenNameRBRACKET	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// long t0, t1; 	TokenNameCOMMENT_LINE	long t0, t1; 
// t0 = System.currentTimeMillis(); 	TokenNameCOMMENT_LINE	t0 = System.currentTimeMillis(); 
// reorder each chunk ACI for bidi text 	TokenNameCOMMENT_LINE	reorder each chunk ACI for bidi text 
int	TokenNameint	
chunkStart	TokenNameIdentifier	 chunk Start
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getBeginIndex	TokenNameIdentifier	 get Begin Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
chunkACIs	TokenNameIdentifier	 chunk AC Is
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
BidiAttributedCharacterIterator	TokenNameIdentifier	 Bidi Attributed Character Iterator
iter	TokenNameIdentifier	 iter
;	TokenNameSEMICOLON	
iter	TokenNameIdentifier	 iter
=	TokenNameEQUAL	
new	TokenNamenew	
BidiAttributedCharacterIterator	TokenNameIdentifier	 Bidi Attributed Character Iterator
(	TokenNameLPAREN	
chunkACIs	TokenNameIdentifier	 chunk AC Is
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
fontRenderContext	TokenNameIdentifier	 font Render Context
,	TokenNameCOMMA	
chunkStart	TokenNameIdentifier	 chunk Start
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
chunkACIs	TokenNameIdentifier	 chunk AC Is
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
iter	TokenNameIdentifier	 iter
;	TokenNameSEMICOLON	
chunkCharMaps	TokenNameIdentifier	 chunk Char Maps
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
getCharMap	TokenNameIdentifier	 get Char Map
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// t1 = System.currentTimeMillis(); 	TokenNameCOMMENT_LINE	t1 = System.currentTimeMillis(); 
// reorderTime += t1-t0; 	TokenNameCOMMENT_LINE	reorderTime += t1-t0; 
// t0=t1; 	TokenNameCOMMENT_LINE	t0=t1; 
chunkACIs	TokenNameIdentifier	 chunk AC Is
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
createModifiedACIForFontMatching	TokenNameIdentifier	 create Modified ACI For Font Matching
(	TokenNameLPAREN	
chunkACIs	TokenNameIdentifier	 chunk AC Is
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
chunkStart	TokenNameIdentifier	 chunk Start
+=	TokenNamePLUS_EQUAL	
(	TokenNameLPAREN	
chunkACIs	TokenNameIdentifier	 chunk AC Is
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
getEndIndex	TokenNameIdentifier	 get End Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
chunkACIs	TokenNameIdentifier	 chunk AC Is
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
getBeginIndex	TokenNameIdentifier	 get Begin Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// t1 = System.currentTimeMillis(); 	TokenNameCOMMENT_LINE	t1 = System.currentTimeMillis(); 
// fontMatchingTime += t1-t0; 	TokenNameCOMMENT_LINE	fontMatchingTime += t1-t0; 
// t0 = t1; 	TokenNameCOMMENT_LINE	t0 = t1; 
}	TokenNameRBRACE	
// create text runs for each chunk and add them to the list 	TokenNameCOMMENT_LINE	create text runs for each chunk and add them to the list 
List	TokenNameIdentifier	 List
textRuns	TokenNameIdentifier	 text Runs
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TextChunk	TokenNameIdentifier	 Text Chunk
chunk	TokenNameIdentifier	 chunk
,	TokenNameCOMMA	
prevChunk	TokenNameIdentifier	 prev Chunk
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
int	TokenNameint	
currentChunk	TokenNameIdentifier	 current Chunk
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
Point2D	TokenNameIdentifier	 Point2 D
location	TokenNameIdentifier	 location
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
do	TokenNamedo	
{	TokenNameLBRACE	
// Text Chunks contain one or more TextRuns, which they 	TokenNameCOMMENT_LINE	Text Chunks contain one or more TextRuns, which they 
// create from the ACI. 	TokenNameCOMMENT_LINE	create from the ACI. 
chunkACIs	TokenNameIdentifier	 chunk AC Is
[	TokenNameLBRACKET	
currentChunk	TokenNameIdentifier	 current Chunk
]	TokenNameRBRACKET	
.	TokenNameDOT	
first	TokenNameIdentifier	 first
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
chunk	TokenNameIdentifier	 chunk
=	TokenNameEQUAL	
getTextChunk	TokenNameIdentifier	 get Text Chunk
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
chunkACIs	TokenNameIdentifier	 chunk AC Is
[	TokenNameLBRACKET	
currentChunk	TokenNameIdentifier	 current Chunk
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
chunkCharMaps	TokenNameIdentifier	 chunk Char Maps
[	TokenNameLBRACKET	
currentChunk	TokenNameIdentifier	 current Chunk
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
prevChunk	TokenNameIdentifier	 prev Chunk
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Adjust according to text-anchor property value 	TokenNameCOMMENT_LINE	Adjust according to text-anchor property value 
chunkACIs	TokenNameIdentifier	 chunk AC Is
[	TokenNameLBRACKET	
currentChunk	TokenNameIdentifier	 current Chunk
]	TokenNameRBRACKET	
.	TokenNameDOT	
first	TokenNameIdentifier	 first
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
chunk	TokenNameIdentifier	 chunk
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
location	TokenNameIdentifier	 location
=	TokenNameEQUAL	
adjustChunkOffsets	TokenNameIdentifier	 adjust Chunk Offsets
(	TokenNameLPAREN	
location	TokenNameIdentifier	 location
,	TokenNameCOMMA	
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
chunk	TokenNameIdentifier	 chunk
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
prevChunk	TokenNameIdentifier	 prev Chunk
=	TokenNameEQUAL	
chunk	TokenNameIdentifier	 chunk
;	TokenNameSEMICOLON	
currentChunk	TokenNameIdentifier	 current Chunk
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
chunk	TokenNameIdentifier	 chunk
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
currentChunk	TokenNameIdentifier	 current Chunk
<	TokenNameLESS	
chunkACIs	TokenNameIdentifier	 chunk AC Is
.	TokenNameDOT	
length	TokenNameIdentifier	 length
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
textRuns	TokenNameIdentifier	 text Runs
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns an array of ACIs, one for each text chunk within the given * text node. */	TokenNameCOMMENT_JAVADOC	 Returns an array of ACIs, one for each text chunk within the given text node. 
protected	TokenNameprotected	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
getTextChunkACIs	TokenNameIdentifier	 get Text Chunk AC Is
(	TokenNameLPAREN	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
)	TokenNameRPAREN	
{	TokenNameLBRACE	
List	TokenNameIdentifier	 List
aciList	TokenNameIdentifier	 aci List
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
chunkStartIndex	TokenNameIdentifier	 chunk Start Index
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getBeginIndex	TokenNameIdentifier	 get Begin Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
first	TokenNameIdentifier	 first
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Object	TokenNameIdentifier	 Object
writingMode	TokenNameIdentifier	 writing Mode
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
WRITING_MODE	TokenNameIdentifier	 WRITING  MODE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
vertical	TokenNameIdentifier	 vertical
=	TokenNameEQUAL	
(	TokenNameLPAREN	
writingMode	TokenNameIdentifier	 writing Mode
==	TokenNameEQUAL_EQUAL	
WRITING_MODE_TTB	TokenNameIdentifier	 WRITING  MODE  TTB
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
setIndex	TokenNameIdentifier	 set Index
(	TokenNameLPAREN	
chunkStartIndex	TokenNameIdentifier	 chunk Start Index
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
CharacterIterator	TokenNameIdentifier	 Character Iterator
.	TokenNameDOT	
DONE	TokenNameIdentifier	 DONE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TextPath	TokenNameIdentifier	 Text Path
prevTextPath	TokenNameIdentifier	 prev Text Path
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
start	TokenNameIdentifier	 start
=	TokenNameEQUAL	
chunkStartIndex	TokenNameIdentifier	 chunk Start Index
,	TokenNameCOMMA	
end	TokenNameIdentifier	 end
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
setIndex	TokenNameIdentifier	 set Index
(	TokenNameLPAREN	
start	TokenNameIdentifier	 start
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
CharacterIterator	TokenNameIdentifier	 Character Iterator
.	TokenNameDOT	
DONE	TokenNameIdentifier	 DONE
;	TokenNameSEMICOLON	
start	TokenNameIdentifier	 start
=	TokenNameEQUAL	
end	TokenNameIdentifier	 end
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TextPath	TokenNameIdentifier	 Text Path
textPath	TokenNameIdentifier	 text Path
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextPath	TokenNameIdentifier	 Text Path
)	TokenNameRPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
TEXTPATH	TokenNameIdentifier	 TEXTPATH
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
start	TokenNameIdentifier	 start
!=	TokenNameNOT_EQUAL	
chunkStartIndex	TokenNameIdentifier	 chunk Start Index
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// If we aren't the first composite in a chunck see 	TokenNameCOMMENT_LINE	If we aren't the first composite in a chunck see 
// if we need to form a new TextChunk... 	TokenNameCOMMENT_LINE	if we need to form a new TextChunk... 
// We only create new chunks when given an absolute 	TokenNameCOMMENT_LINE	We only create new chunks when given an absolute 
// location in progression direction [Spec says 	TokenNameCOMMENT_LINE	location in progression direction [Spec says 
// to do it for either but this doesn't make sense]. 	TokenNameCOMMENT_LINE	to do it for either but this doesn't make sense]. 
if	TokenNameif	
(	TokenNameLPAREN	
vertical	TokenNameIdentifier	 vertical
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Float	TokenNameIdentifier	 Float
runY	TokenNameIdentifier	 run Y
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Float	TokenNameIdentifier	 Float
)	TokenNameRPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
YPOS	TokenNameIdentifier	 YPOS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Check for absolute location in layout direction. 	TokenNameCOMMENT_LINE	Check for absolute location in layout direction. 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
runY	TokenNameIdentifier	 run Y
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
runY	TokenNameIdentifier	 run Y
.	TokenNameDOT	
isNaN	TokenNameIdentifier	 is Na N
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
// If so end of chunk... 	TokenNameCOMMENT_LINE	If so end of chunk... 
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
Float	TokenNameIdentifier	 Float
runX	TokenNameIdentifier	 run X
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Float	TokenNameIdentifier	 Float
)	TokenNameRPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
XPOS	TokenNameIdentifier	 XPOS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Check for absolute location in layout direction. 	TokenNameCOMMENT_LINE	Check for absolute location in layout direction. 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
runX	TokenNameIdentifier	 run X
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
runX	TokenNameIdentifier	 run X
.	TokenNameDOT	
isNaN	TokenNameIdentifier	 is Na N
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
// If so end of chunk... 	TokenNameCOMMENT_LINE	If so end of chunk... 
}	TokenNameRBRACE	
// Do additional check for the start of a textPath 	TokenNameCOMMENT_LINE	Do additional check for the start of a textPath 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
prevTextPath	TokenNameIdentifier	 prev Text Path
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
textPath	TokenNameIdentifier	 text Path
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
// If so end of chunk. 	TokenNameCOMMENT_LINE	If so end of chunk. 
// Form a new chunk at the end of a text path. 	TokenNameCOMMENT_LINE	Form a new chunk at the end of a text path. 
// [ This is not mentioned in the spec but makes 	TokenNameCOMMENT_LINE	[ This is not mentioned in the spec but makes 
// sense]. 	TokenNameCOMMENT_LINE	sense]. 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
prevTextPath	TokenNameIdentifier	 prev Text Path
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
textPath	TokenNameIdentifier	 text Path
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
prevTextPath	TokenNameIdentifier	 prev Text Path
=	TokenNameEQUAL	
textPath	TokenNameIdentifier	 text Path
;	TokenNameSEMICOLON	
// We need to text chunk based on flow paragraphs. 	TokenNameCOMMENT_LINE	We need to text chunk based on flow paragraphs. 
// This prevents BIDI reordering across paragraphs. 	TokenNameCOMMENT_LINE	This prevents BIDI reordering across paragraphs. 
if	TokenNameif	
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
FLOW_PARAGRAPH	TokenNameIdentifier	 FLOW  PARAGRAPH
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
end	TokenNameIdentifier	 end
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getRunLimit	TokenNameIdentifier	 get Run Limit
(	TokenNameLPAREN	
FLOW_PARAGRAPH	TokenNameIdentifier	 FLOW  PARAGRAPH
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("End: " + end); 	TokenNameCOMMENT_LINE	System.out.println("End: " + end); 
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
setIndex	TokenNameIdentifier	 set Index
(	TokenNameLPAREN	
end	TokenNameIdentifier	 end
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// find end of compound. 	TokenNameCOMMENT_LINE	find end of compound. 
end	TokenNameIdentifier	 end
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getRunLimit	TokenNameIdentifier	 get Run Limit
(	TokenNameLPAREN	
TEXT_COMPOUND_ID	TokenNameIdentifier	 TEXT  COMPOUND  ID
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
start	TokenNameIdentifier	 start
!=	TokenNameNOT_EQUAL	
chunkStartIndex	TokenNameIdentifier	 chunk Start Index
)	TokenNameRPAREN	
// If we aren't starting a new chunk then we know 	TokenNameCOMMENT_LINE	If we aren't starting a new chunk then we know 
// we don't have any absolute positioning so there 	TokenNameCOMMENT_LINE	we don't have any absolute positioning so there 
// is no reason to consider spliting the chunk further. 	TokenNameCOMMENT_LINE	is no reason to consider spliting the chunk further. 
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
// We are starting a new chunk 	TokenNameCOMMENT_LINE	We are starting a new chunk 
// So check if we need to split it further... 	TokenNameCOMMENT_LINE	So check if we need to split it further... 
TextNode	TokenNameIdentifier	 Text Node
.	TokenNameDOT	
Anchor	TokenNameIdentifier	 Anchor
anchor	TokenNameIdentifier	 anchor
;	TokenNameSEMICOLON	
anchor	TokenNameIdentifier	 anchor
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextNode	TokenNameIdentifier	 Text Node
.	TokenNameDOT	
Anchor	TokenNameIdentifier	 Anchor
)	TokenNameRPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
ANCHOR_TYPE	TokenNameIdentifier	 ANCHOR  TYPE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
anchor	TokenNameIdentifier	 anchor
==	TokenNameEQUAL_EQUAL	
TextNode	TokenNameIdentifier	 Text Node
.	TokenNameDOT	
Anchor	TokenNameIdentifier	 Anchor
.	TokenNameDOT	
START	TokenNameIdentifier	 START
)	TokenNameRPAREN	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
// We need to check if we have a list of X's & Y's if 	TokenNameCOMMENT_LINE	We need to check if we have a list of X's & Y's if 
// so we need to create TextChunk ACI's for each char 	TokenNameCOMMENT_LINE	so we need to create TextChunk ACI's for each char 
// (technically we have to do this for 	TokenNameCOMMENT_LINE	(technically we have to do this for 
// text-anchor:start as well but since that is the 	TokenNameCOMMENT_LINE	text-anchor:start as well but since that is the 
// default layout it doesn't matter in that case. 	TokenNameCOMMENT_LINE	default layout it doesn't matter in that case. 
if	TokenNameif	
(	TokenNameLPAREN	
vertical	TokenNameIdentifier	 vertical
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Float	TokenNameIdentifier	 Float
runY	TokenNameIdentifier	 run Y
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Float	TokenNameIdentifier	 Float
)	TokenNameRPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
YPOS	TokenNameIdentifier	 YPOS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Check for absolute location in layout direction. 	TokenNameCOMMENT_LINE	Check for absolute location in layout direction. 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
runY	TokenNameIdentifier	 run Y
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
runY	TokenNameIdentifier	 run Y
.	TokenNameDOT	
isNaN	TokenNameIdentifier	 is Na N
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
// No absolute positioning in text direction continue 	TokenNameCOMMENT_LINE	No absolute positioning in text direction continue 
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
Float	TokenNameIdentifier	 Float
runX	TokenNameIdentifier	 run X
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Float	TokenNameIdentifier	 Float
)	TokenNameRPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
XPOS	TokenNameIdentifier	 XPOS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Check for absolute location in layout direction. 	TokenNameCOMMENT_LINE	Check for absolute location in layout direction. 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
runX	TokenNameIdentifier	 run X
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
runX	TokenNameIdentifier	 run X
.	TokenNameDOT	
isNaN	TokenNameIdentifier	 is Na N
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
// No absolute positioning in text direction continue 	TokenNameCOMMENT_LINE	No absolute positioning in text direction continue 
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Splitting the compound into one char chunks until 	TokenNameCOMMENT_LINE	Splitting the compound into one char chunks until 
// we run out of Xs. 	TokenNameCOMMENT_LINE	we run out of Xs. 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
start	TokenNameIdentifier	 start
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
end	TokenNameIdentifier	 end
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
setIndex	TokenNameIdentifier	 set Index
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
vertical	TokenNameIdentifier	 vertical
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Float	TokenNameIdentifier	 Float
runY	TokenNameIdentifier	 run Y
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Float	TokenNameIdentifier	 Float
)	TokenNameRPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
YPOS	TokenNameIdentifier	 YPOS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
runY	TokenNameIdentifier	 run Y
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
runY	TokenNameIdentifier	 run Y
.	TokenNameDOT	
isNaN	TokenNameIdentifier	 is Na N
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
Float	TokenNameIdentifier	 Float
runX	TokenNameIdentifier	 run X
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Float	TokenNameIdentifier	 Float
)	TokenNameRPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
XPOS	TokenNameIdentifier	 XPOS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
runX	TokenNameIdentifier	 run X
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
runX	TokenNameIdentifier	 run X
.	TokenNameDOT	
isNaN	TokenNameIdentifier	 is Na N
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
aciList	TokenNameIdentifier	 aci List
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
AttributedCharacterSpanIterator	TokenNameIdentifier	 Attributed Character Span Iterator
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
,	TokenNameCOMMA	
i	TokenNameIdentifier	 i
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
chunkStartIndex	TokenNameIdentifier	 chunk Start Index
=	TokenNameEQUAL	
i	TokenNameIdentifier	 i
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// found the end of a text chunck 	TokenNameCOMMENT_LINE	found the end of a text chunck 
int	TokenNameint	
chunkEndIndex	TokenNameIdentifier	 chunk End Index
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getIndex	TokenNameIdentifier	 get Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("Bounds: " + chunkStartIndex + 	TokenNameCOMMENT_LINE	System.out.println("Bounds: " + chunkStartIndex + 
// "," + chunkEndIndex); 	TokenNameCOMMENT_LINE	"," + chunkEndIndex); 
aciList	TokenNameIdentifier	 aci List
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
AttributedCharacterSpanIterator	TokenNameIdentifier	 Attributed Character Span Iterator
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
,	TokenNameCOMMA	
chunkStartIndex	TokenNameIdentifier	 chunk Start Index
,	TokenNameCOMMA	
chunkEndIndex	TokenNameIdentifier	 chunk End Index
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
chunkStartIndex	TokenNameIdentifier	 chunk Start Index
=	TokenNameEQUAL	
chunkEndIndex	TokenNameIdentifier	 chunk End Index
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// copy the text chunks into an array 	TokenNameCOMMENT_LINE	copy the text chunks into an array 
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
aciArray	TokenNameIdentifier	 aci Array
=	TokenNameEQUAL	
new	TokenNamenew	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
[	TokenNameLBRACKET	
aciList	TokenNameIdentifier	 aci List
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
Iterator	TokenNameIdentifier	 Iterator
iter	TokenNameIdentifier	 iter
=	TokenNameEQUAL	
aciList	TokenNameIdentifier	 aci List
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
++	TokenNamePLUS_PLUS	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
{	TokenNameLBRACE	
aciArray	TokenNameIdentifier	 aci Array
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
(	TokenNameLPAREN	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
)	TokenNameRPAREN	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
aciArray	TokenNameIdentifier	 aci Array
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns a new AttributedCharacterIterator that contains resolved GVTFont * attributes. This is then used when creating the text runs so that the * text can be split on changes of font as well as tspans and trefs. * * @param aci The aci to be modified should already be split into * text chunks. * * @return The new modified aci. */	TokenNameCOMMENT_JAVADOC	 Returns a new AttributedCharacterIterator that contains resolved GVTFont attributes. This is then used when creating the text runs so that the text can be split on changes of font as well as tspans and trefs. * @param aci The aci to be modified should already be split into text chunks. * @return The new modified aci. 
protected	TokenNameprotected	
static	TokenNamestatic	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
createModifiedACIForFontMatching	TokenNameIdentifier	 create Modified ACI For Font Matching
(	TokenNameLPAREN	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
)	TokenNameRPAREN	
{	TokenNameLBRACE	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
first	TokenNameIdentifier	 first
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AttributedString	TokenNameIdentifier	 Attributed String
as	TokenNameIdentifier	 as
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
int	TokenNameint	
asOff	TokenNameIdentifier	 as Off
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
int	TokenNameint	
begin	TokenNameIdentifier	 begin
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getBeginIndex	TokenNameIdentifier	 get Begin Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
moreChunks	TokenNameIdentifier	 more Chunks
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
int	TokenNameint	
start	TokenNameIdentifier	 start
,	TokenNameCOMMA	
end	TokenNameIdentifier	 end
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getRunStart	TokenNameIdentifier	 get Run Start
(	TokenNameLPAREN	
TEXT_COMPOUND_ID	TokenNameIdentifier	 TEXT  COMPOUND  ID
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
moreChunks	TokenNameIdentifier	 more Chunks
)	TokenNameRPAREN	
{	TokenNameLBRACE	
start	TokenNameIdentifier	 start
=	TokenNameEQUAL	
end	TokenNameIdentifier	 end
;	TokenNameSEMICOLON	
end	TokenNameIdentifier	 end
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getRunLimit	TokenNameIdentifier	 get Run Limit
(	TokenNameLPAREN	
TEXT_COMPOUND_ID	TokenNameIdentifier	 TEXT  COMPOUND  ID
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
aciLength	TokenNameIdentifier	 aci Length
=	TokenNameEQUAL	
end	TokenNameIdentifier	 end
-	TokenNameMINUS	
start	TokenNameIdentifier	 start
;	TokenNameSEMICOLON	
List	TokenNameIdentifier	 List
fonts	TokenNameIdentifier	 fonts
;	TokenNameSEMICOLON	
fonts	TokenNameIdentifier	 fonts
=	TokenNameEQUAL	
(	TokenNameLPAREN	
List	TokenNameIdentifier	 List
)	TokenNameRPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
GVT_FONTS	TokenNameIdentifier	 GVT  FONTS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
float	TokenNamefloat	
fontSize	TokenNameIdentifier	 font Size
=	TokenNameEQUAL	
12	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
Float	TokenNameIdentifier	 Float
fsFloat	TokenNameIdentifier	 fs Float
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Float	TokenNameIdentifier	 Float
)	TokenNameRPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
SIZE	TokenNameIdentifier	 SIZE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fsFloat	TokenNameIdentifier	 fs Float
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
fontSize	TokenNameIdentifier	 font Size
=	TokenNameEQUAL	
fsFloat	TokenNameIdentifier	 fs Float
.	TokenNameDOT	
floatValue	TokenNameIdentifier	 float Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// if could not resolve at least one of the fontFamilies 	TokenNameCOMMENT_LINE	if could not resolve at least one of the fontFamilies 
// then use the default font 	TokenNameCOMMENT_LINE	then use the default font 
if	TokenNameif	
(	TokenNameLPAREN	
fonts	TokenNameIdentifier	 fonts
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// create a list of fonts of the correct size 	TokenNameCOMMENT_LINE	create a list of fonts of the correct size 
fonts	TokenNameIdentifier	 fonts
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
FontFamilyResolver	TokenNameIdentifier	 Font Family Resolver
.	TokenNameDOT	
defaultFont	TokenNameIdentifier	 default Font
.	TokenNameDOT	
deriveFont	TokenNameIdentifier	 derive Font
(	TokenNameLPAREN	
fontSize	TokenNameIdentifier	 font Size
,	TokenNameCOMMA	
aci	TokenNameIdentifier	 aci
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// now for each char or group of chars in the string, 	TokenNameCOMMENT_LINE	now for each char or group of chars in the string, 
// find a font that can display it. 	TokenNameCOMMENT_LINE	find a font that can display it. 
boolean	TokenNameboolean	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
fontAssigned	TokenNameIdentifier	 font Assigned
=	TokenNameEQUAL	
new	TokenNamenew	
boolean	TokenNameboolean	
[	TokenNameLBRACKET	
aciLength	TokenNameIdentifier	 aci Length
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
as	TokenNameIdentifier	 as
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
as	TokenNameIdentifier	 as
=	TokenNameEQUAL	
new	TokenNamenew	
AttributedString	TokenNameIdentifier	 Attributed String
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
GVTFont	TokenNameIdentifier	 GVT Font
defaultFont	TokenNameIdentifier	 default Font
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
int	TokenNameint	
numSet	TokenNameIdentifier	 num Set
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
int	TokenNameint	
firstUnset	TokenNameIdentifier	 first Unset
=	TokenNameEQUAL	
start	TokenNameIdentifier	 start
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
firstUnsetSet	TokenNameIdentifier	 first Unset Set
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
fonts	TokenNameIdentifier	 fonts
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// assign this font to all characters it can display if it has 	TokenNameCOMMENT_LINE	assign this font to all characters it can display if it has 
// not already been assigned 	TokenNameCOMMENT_LINE	not already been assigned 
int	TokenNameint	
currentIndex	TokenNameIdentifier	 current Index
=	TokenNameEQUAL	
firstUnset	TokenNameIdentifier	 first Unset
;	TokenNameSEMICOLON	
firstUnsetSet	TokenNameIdentifier	 first Unset Set
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
setIndex	TokenNameIdentifier	 set Index
(	TokenNameLPAREN	
currentIndex	TokenNameIdentifier	 current Index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
GVTFont	TokenNameIdentifier	 GVT Font
font	TokenNameIdentifier	 font
=	TokenNameEQUAL	
(	TokenNameLPAREN	
GVTFont	TokenNameIdentifier	 GVT Font
)	TokenNameRPAREN	
fonts	TokenNameIdentifier	 fonts
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
defaultFont	TokenNameIdentifier	 default Font
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
defaultFont	TokenNameIdentifier	 default Font
=	TokenNameEQUAL	
font	TokenNameIdentifier	 font
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
currentIndex	TokenNameIdentifier	 current Index
<	TokenNameLESS	
end	TokenNameIdentifier	 end
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
displayUpToIndex	TokenNameIdentifier	 display Up To Index
=	TokenNameEQUAL	
font	TokenNameIdentifier	 font
.	TokenNameDOT	
canDisplayUpTo	TokenNameIdentifier	 can Display Up To
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
,	TokenNameCOMMA	
currentIndex	TokenNameIdentifier	 current Index
,	TokenNameCOMMA	
end	TokenNameIdentifier	 end
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Object	TokenNameIdentifier	 Object
altGlyphElement	TokenNameIdentifier	 alt Glyph Element
;	TokenNameSEMICOLON	
altGlyphElement	TokenNameIdentifier	 alt Glyph Element
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
ALT_GLYPH_HANDLER	TokenNameIdentifier	 ALT  GLYPH  HANDLER
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
altGlyphElement	TokenNameIdentifier	 alt Glyph Element
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//found all the glyph to be displayed 	TokenNameCOMMENT_LINE	found all the glyph to be displayed 
//consider the font matching done 	TokenNameCOMMENT_LINE	consider the font matching done 
displayUpToIndex	TokenNameIdentifier	 display Up To Index
=	TokenNameEQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
displayUpToIndex	TokenNameIdentifier	 display Up To Index
==	TokenNameEQUAL_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Can handle the whole thing... 	TokenNameCOMMENT_LINE	Can handle the whole thing... 
displayUpToIndex	TokenNameIdentifier	 display Up To Index
=	TokenNameEQUAL	
end	TokenNameIdentifier	 end
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
displayUpToIndex	TokenNameIdentifier	 display Up To Index
<=	TokenNameLESS_EQUAL	
currentIndex	TokenNameIdentifier	 current Index
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
firstUnsetSet	TokenNameIdentifier	 first Unset Set
)	TokenNameRPAREN	
{	TokenNameLBRACE	
firstUnset	TokenNameIdentifier	 first Unset
=	TokenNameEQUAL	
currentIndex	TokenNameIdentifier	 current Index
;	TokenNameSEMICOLON	
firstUnsetSet	TokenNameIdentifier	 first Unset Set
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// couldn't display the current char 	TokenNameCOMMENT_LINE	couldn't display the current char 
currentIndex	TokenNameIdentifier	 current Index
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// could display some text, so for each 	TokenNameCOMMENT_LINE	could display some text, so for each 
// char it can display, if char not already 	TokenNameCOMMENT_LINE	char it can display, if char not already 
// assigned a font, assign this font to it 	TokenNameCOMMENT_LINE	assigned a font, assign this font to it 
int	TokenNameint	
runStart	TokenNameIdentifier	 run Start
=	TokenNameEQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
currentIndex	TokenNameIdentifier	 current Index
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
displayUpToIndex	TokenNameIdentifier	 display Up To Index
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fontAssigned	TokenNameIdentifier	 font Assigned
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
-	TokenNameMINUS	
start	TokenNameIdentifier	 start
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
runStart	TokenNameIdentifier	 run Start
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// System.out.println("Font 1: " + font); 	TokenNameCOMMENT_LINE	System.out.println("Font 1: " + font); 
as	TokenNameIdentifier	 as
.	TokenNameDOT	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
GVT_FONT	TokenNameIdentifier	 GVT  FONT
,	TokenNameCOMMA	
font	TokenNameIdentifier	 font
,	TokenNameCOMMA	
runStart	TokenNameIdentifier	 run Start
-	TokenNameMINUS	
begin	TokenNameIdentifier	 begin
,	TokenNameCOMMA	
j	TokenNameIdentifier	 j
-	TokenNameMINUS	
begin	TokenNameIdentifier	 begin
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
runStart	TokenNameIdentifier	 run Start
=	TokenNameEQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
runStart	TokenNameIdentifier	 run Start
==	TokenNameEQUAL_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
runStart	TokenNameIdentifier	 run Start
=	TokenNameEQUAL	
j	TokenNameIdentifier	 j
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
fontAssigned	TokenNameIdentifier	 font Assigned
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
-	TokenNameMINUS	
start	TokenNameIdentifier	 start
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
numSet	TokenNameIdentifier	 num Set
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
runStart	TokenNameIdentifier	 run Start
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// System.out.println("Font 2: " + font); 	TokenNameCOMMENT_LINE	System.out.println("Font 2: " + font); 
as	TokenNameIdentifier	 as
.	TokenNameDOT	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
GVT_FONT	TokenNameIdentifier	 GVT  FONT
,	TokenNameCOMMA	
font	TokenNameIdentifier	 font
,	TokenNameCOMMA	
runStart	TokenNameIdentifier	 run Start
-	TokenNameMINUS	
begin	TokenNameIdentifier	 begin
,	TokenNameCOMMA	
displayUpToIndex	TokenNameIdentifier	 display Up To Index
-	TokenNameMINUS	
begin	TokenNameIdentifier	 begin
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// set currentIndex to be one after the char 	TokenNameCOMMENT_LINE	set currentIndex to be one after the char 
// that couldn't display 	TokenNameCOMMENT_LINE	that couldn't display 
currentIndex	TokenNameIdentifier	 current Index
=	TokenNameEQUAL	
displayUpToIndex	TokenNameIdentifier	 display Up To Index
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
numSet	TokenNameIdentifier	 num Set
==	TokenNameEQUAL_EQUAL	
aciLength	TokenNameIdentifier	 aci Length
)	TokenNameRPAREN	
// all chars have font set; 	TokenNameCOMMENT_LINE	all chars have font set; 
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// assign the first font to any chars haven't alreay been assigned 	TokenNameCOMMENT_LINE	assign the first font to any chars haven't alreay been assigned 
int	TokenNameint	
runStart	TokenNameIdentifier	 run Start
=	TokenNameEQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
GVTFontFamily	TokenNameIdentifier	 GVT Font Family
prevFF	TokenNameIdentifier	 prev FF
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
GVTFont	TokenNameIdentifier	 GVT Font
prevF	TokenNameIdentifier	 prev F
=	TokenNameEQUAL	
defaultFont	TokenNameIdentifier	 default Font
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
aciLength	TokenNameIdentifier	 aci Length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fontAssigned	TokenNameIdentifier	 font Assigned
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
runStart	TokenNameIdentifier	 run Start
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// System.out.println("Font 3: " + prevF); 	TokenNameCOMMENT_LINE	System.out.println("Font 3: " + prevF); 
as	TokenNameIdentifier	 as
.	TokenNameDOT	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
GVT_FONT	TokenNameIdentifier	 GVT  FONT
,	TokenNameCOMMA	
prevF	TokenNameIdentifier	 prev F
,	TokenNameCOMMA	
runStart	TokenNameIdentifier	 run Start
+	TokenNamePLUS	
asOff	TokenNameIdentifier	 as Off
,	TokenNameCOMMA	
i	TokenNameIdentifier	 i
+	TokenNamePLUS	
asOff	TokenNameIdentifier	 as Off
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
runStart	TokenNameIdentifier	 run Start
=	TokenNameEQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
prevF	TokenNameIdentifier	 prev F
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
prevFF	TokenNameIdentifier	 prev FF
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
char	TokenNamechar	
c	TokenNameIdentifier	 c
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
setIndex	TokenNameIdentifier	 set Index
(	TokenNameLPAREN	
start	TokenNameIdentifier	 start
+	TokenNamePLUS	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
GVTFontFamily	TokenNameIdentifier	 GVT Font Family
fontFamily	TokenNameIdentifier	 font Family
;	TokenNameSEMICOLON	
fontFamily	TokenNameIdentifier	 font Family
=	TokenNameEQUAL	
FontFamilyResolver	TokenNameIdentifier	 Font Family Resolver
.	TokenNameDOT	
getFamilyThatCanDisplay	TokenNameIdentifier	 get Family That Can Display
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// fontFamily = (GVTFontFamily)resolvedFontFamilies.get(0); 	TokenNameCOMMENT_LINE	fontFamily = (GVTFontFamily)resolvedFontFamilies.get(0); 
if	TokenNameif	
(	TokenNameLPAREN	
runStart	TokenNameIdentifier	 run Start
==	TokenNameEQUAL_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Starting a new run... 	TokenNameCOMMENT_LINE	Starting a new run... 
runStart	TokenNameIdentifier	 run Start
=	TokenNameEQUAL	
i	TokenNameIdentifier	 i
;	TokenNameSEMICOLON	
prevFF	TokenNameIdentifier	 prev FF
=	TokenNameEQUAL	
fontFamily	TokenNameIdentifier	 font Family
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
prevFF	TokenNameIdentifier	 prev FF
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
prevF	TokenNameIdentifier	 prev F
=	TokenNameEQUAL	
defaultFont	TokenNameIdentifier	 default Font
;	TokenNameSEMICOLON	
else	TokenNameelse	
prevF	TokenNameIdentifier	 prev F
=	TokenNameEQUAL	
fontFamily	TokenNameIdentifier	 font Family
.	TokenNameDOT	
deriveFont	TokenNameIdentifier	 derive Font
(	TokenNameLPAREN	
fontSize	TokenNameIdentifier	 font Size
,	TokenNameCOMMA	
aci	TokenNameIdentifier	 aci
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
prevFF	TokenNameIdentifier	 prev FF
!=	TokenNameNOT_EQUAL	
fontFamily	TokenNameIdentifier	 font Family
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Font family changed... 	TokenNameCOMMENT_LINE	Font family changed... 
// System.out.println("Font 4: " + prevF); 	TokenNameCOMMENT_LINE	System.out.println("Font 4: " + prevF); 
as	TokenNameIdentifier	 as
.	TokenNameDOT	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
GVT_FONT	TokenNameIdentifier	 GVT  FONT
,	TokenNameCOMMA	
prevF	TokenNameIdentifier	 prev F
,	TokenNameCOMMA	
runStart	TokenNameIdentifier	 run Start
+	TokenNamePLUS	
asOff	TokenNameIdentifier	 as Off
,	TokenNameCOMMA	
i	TokenNameIdentifier	 i
+	TokenNamePLUS	
asOff	TokenNameIdentifier	 as Off
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
runStart	TokenNameIdentifier	 run Start
=	TokenNameEQUAL	
i	TokenNameIdentifier	 i
;	TokenNameSEMICOLON	
prevFF	TokenNameIdentifier	 prev FF
=	TokenNameEQUAL	
fontFamily	TokenNameIdentifier	 font Family
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
prevFF	TokenNameIdentifier	 prev FF
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
prevF	TokenNameIdentifier	 prev F
=	TokenNameEQUAL	
defaultFont	TokenNameIdentifier	 default Font
;	TokenNameSEMICOLON	
else	TokenNameelse	
prevF	TokenNameIdentifier	 prev F
=	TokenNameEQUAL	
fontFamily	TokenNameIdentifier	 font Family
.	TokenNameDOT	
deriveFont	TokenNameIdentifier	 derive Font
(	TokenNameLPAREN	
fontSize	TokenNameIdentifier	 font Size
,	TokenNameCOMMA	
aci	TokenNameIdentifier	 aci
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
runStart	TokenNameIdentifier	 run Start
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// System.out.println("Font 5: " + prevF); 	TokenNameCOMMENT_LINE	System.out.println("Font 5: " + prevF); 
as	TokenNameIdentifier	 as
.	TokenNameDOT	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
GVT_FONT	TokenNameIdentifier	 GVT  FONT
,	TokenNameCOMMA	
prevF	TokenNameIdentifier	 prev F
,	TokenNameCOMMA	
runStart	TokenNameIdentifier	 run Start
+	TokenNamePLUS	
asOff	TokenNameIdentifier	 as Off
,	TokenNameCOMMA	
aciLength	TokenNameIdentifier	 aci Length
+	TokenNamePLUS	
asOff	TokenNameIdentifier	 as Off
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
asOff	TokenNameIdentifier	 as Off
+=	TokenNamePLUS_EQUAL	
aciLength	TokenNameIdentifier	 aci Length
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
setIndex	TokenNameIdentifier	 set Index
(	TokenNameLPAREN	
end	TokenNameIdentifier	 end
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
.	TokenNameDOT	
DONE	TokenNameIdentifier	 DONE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
moreChunks	TokenNameIdentifier	 more Chunks
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
start	TokenNameIdentifier	 start
=	TokenNameEQUAL	
end	TokenNameIdentifier	 end
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
as	TokenNameIdentifier	 as
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
as	TokenNameIdentifier	 as
.	TokenNameDOT	
getIterator	TokenNameIdentifier	 get Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Didn't do anything return original ACI 	TokenNameCOMMENT_LINE	Didn't do anything return original ACI 
return	TokenNamereturn	
aci	TokenNameIdentifier	 aci
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
protected	TokenNameprotected	
TextChunk	TokenNameIdentifier	 Text Chunk
getTextChunk	TokenNameIdentifier	 get Text Chunk
(	TokenNameLPAREN	
TextNode	TokenNameIdentifier	 Text Node
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
,	TokenNameCOMMA	
int	TokenNameint	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
charMap	TokenNameIdentifier	 char Map
,	TokenNameCOMMA	
List	TokenNameIdentifier	 List
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
TextChunk	TokenNameIdentifier	 Text Chunk
prevChunk	TokenNameIdentifier	 prev Chunk
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
beginChunk	TokenNameIdentifier	 begin Chunk
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
prevChunk	TokenNameIdentifier	 prev Chunk
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
beginChunk	TokenNameIdentifier	 begin Chunk
=	TokenNameEQUAL	
prevChunk	TokenNameIdentifier	 prev Chunk
.	TokenNameDOT	
end	TokenNameIdentifier	 end
;	TokenNameSEMICOLON	
int	TokenNameint	
endChunk	TokenNameIdentifier	 end Chunk
=	TokenNameEQUAL	
beginChunk	TokenNameIdentifier	 begin Chunk
;	TokenNameSEMICOLON	
int	TokenNameint	
begin	TokenNameIdentifier	 begin
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getIndex	TokenNameIdentifier	 get Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("New Chunk"); 	TokenNameCOMMENT_LINE	System.out.println("New Chunk"); 
if	TokenNameif	
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
current	TokenNameIdentifier	 current
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
CharacterIterator	TokenNameIdentifier	 Character Iterator
.	TokenNameDOT	
DONE	TokenNameIdentifier	 DONE
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// we now lay all aci's out at 0,0 then move them 	TokenNameCOMMENT_LINE	we now lay all aci's out at 0,0 then move them 
// when we adjust the chunk offsets. 	TokenNameCOMMENT_LINE	when we adjust the chunk offsets. 
Point2D	TokenNameIdentifier	 Point2 D
.	TokenNameDOT	
Float	TokenNameIdentifier	 Float
offset	TokenNameIdentifier	 offset
=	TokenNameEQUAL	
new	TokenNamenew	
Point2D	TokenNameIdentifier	 Point2 D
.	TokenNameDOT	
Float	TokenNameIdentifier	 Float
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Point2D	TokenNameIdentifier	 Point2 D
.	TokenNameDOT	
Float	TokenNameIdentifier	 Float
advance	TokenNameIdentifier	 advance
=	TokenNameEQUAL	
new	TokenNamenew	
Point2D	TokenNameIdentifier	 Point2 D
.	TokenNameDOT	
Float	TokenNameIdentifier	 Float
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
isChunkStart	TokenNameIdentifier	 is Chunk Start
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
layout	TokenNameIdentifier	 layout
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
do	TokenNamedo	
{	TokenNameLBRACE	
int	TokenNameint	
start	TokenNameIdentifier	 start
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getRunStart	TokenNameIdentifier	 get Run Start
(	TokenNameLPAREN	
extendedAtts	TokenNameIdentifier	 extended Atts
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
end	TokenNameIdentifier	 end
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getRunLimit	TokenNameIdentifier	 get Run Limit
(	TokenNameLPAREN	
extendedAtts	TokenNameIdentifier	 extended Atts
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
runaci	TokenNameIdentifier	 runaci
;	TokenNameSEMICOLON	
runaci	TokenNameIdentifier	 runaci
=	TokenNameEQUAL	
new	TokenNamenew	
AttributedCharacterSpanIterator	TokenNameIdentifier	 Attributed Character Span Iterator
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
,	TokenNameCOMMA	
start	TokenNameIdentifier	 start
,	TokenNameCOMMA	
end	TokenNameIdentifier	 end
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
subCharMap	TokenNameIdentifier	 sub Char Map
=	TokenNameEQUAL	
new	TokenNamenew	
int	TokenNameint	
[	TokenNameLBRACKET	
end	TokenNameIdentifier	 end
-	TokenNameMINUS	
start	TokenNameIdentifier	 start
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
arraycopy	TokenNameIdentifier	 arraycopy
(	TokenNameLPAREN	
charMap	TokenNameIdentifier	 char Map
,	TokenNameCOMMA	
start	TokenNameIdentifier	 start
-	TokenNameMINUS	
begin	TokenNameIdentifier	 begin
,	TokenNameCOMMA	
subCharMap	TokenNameIdentifier	 sub Char Map
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
subCharMap	TokenNameIdentifier	 sub Char Map
.	TokenNameDOT	
length	TokenNameIdentifier	 length
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
FontRenderContext	TokenNameIdentifier	 Font Render Context
frc	TokenNameIdentifier	 frc
=	TokenNameEQUAL	
fontRenderContext	TokenNameIdentifier	 font Render Context
;	TokenNameSEMICOLON	
RenderingHints	TokenNameIdentifier	 Rendering Hints
rh	TokenNameIdentifier	 rh
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getRenderingHints	TokenNameIdentifier	 get Rendering Hints
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Check for optimizeSpeed, optimizeLegibility 	TokenNameCOMMENT_LINE	Check for optimizeSpeed, optimizeLegibility 
// in these cases setup hintedFRC 	TokenNameCOMMENT_LINE	in these cases setup hintedFRC 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
rh	TokenNameIdentifier	 rh
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
rh	TokenNameIdentifier	 rh
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
RenderingHints	TokenNameIdentifier	 Rendering Hints
.	TokenNameDOT	
KEY_TEXT_ANTIALIASING	TokenNameIdentifier	 KEY  TEXT  ANTIALIASING
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
RenderingHints	TokenNameIdentifier	 Rendering Hints
.	TokenNameDOT	
VALUE_TEXT_ANTIALIAS_OFF	TokenNameIdentifier	 VALUE  TEXT  ANTIALIAS  OFF
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// In both these cases we want the non-antialiased 	TokenNameCOMMENT_LINE	In both these cases we want the non-antialiased 
// font render context. 	TokenNameCOMMENT_LINE	font render context. 
frc	TokenNameIdentifier	 frc
=	TokenNameEQUAL	
aaOffFontRenderContext	TokenNameIdentifier	 aa Off Font Render Context
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
layout	TokenNameIdentifier	 layout
=	TokenNameEQUAL	
getTextLayoutFactory	TokenNameIdentifier	 get Text Layout Factory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
createTextLayout	TokenNameIdentifier	 create Text Layout
(	TokenNameLPAREN	
runaci	TokenNameIdentifier	 runaci
,	TokenNameCOMMA	
subCharMap	TokenNameIdentifier	 sub Char Map
,	TokenNameCOMMA	
offset	TokenNameIdentifier	 offset
,	TokenNameCOMMA	
frc	TokenNameIdentifier	 frc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
TextRun	TokenNameIdentifier	 Text Run
(	TokenNameLPAREN	
layout	TokenNameIdentifier	 layout
,	TokenNameCOMMA	
runaci	TokenNameIdentifier	 runaci
,	TokenNameCOMMA	
isChunkStart	TokenNameIdentifier	 is Chunk Start
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("TextRun: " + start + "->" + end + 	TokenNameCOMMENT_LINE	System.out.println("TextRun: " + start + "->" + end + 
// " Start: " + isChunkStart); 	TokenNameCOMMENT_LINE	" Start: " + isChunkStart); 
Point2D	TokenNameIdentifier	 Point2 D
layoutAdvance	TokenNameIdentifier	 layout Advance
=	TokenNameEQUAL	
layout	TokenNameIdentifier	 layout
.	TokenNameDOT	
getAdvance2D	TokenNameIdentifier	 get Advance2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("layoutAdv: " + layoutAdvance); 	TokenNameCOMMENT_LINE	System.out.println("layoutAdv: " + layoutAdvance); 
advance	TokenNameIdentifier	 advance
.	TokenNameDOT	
x	TokenNameIdentifier	 x
+=	TokenNamePLUS_EQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
layoutAdvance	TokenNameIdentifier	 layout Advance
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
advance	TokenNameIdentifier	 advance
.	TokenNameDOT	
y	TokenNameIdentifier	 y
+=	TokenNamePLUS_EQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
layoutAdvance	TokenNameIdentifier	 layout Advance
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
++	TokenNamePLUS_PLUS	
endChunk	TokenNameIdentifier	 end Chunk
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
setIndex	TokenNameIdentifier	 set Index
(	TokenNameLPAREN	
end	TokenNameIdentifier	 end
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
CharacterIterator	TokenNameIdentifier	 Character Iterator
.	TokenNameDOT	
DONE	TokenNameIdentifier	 DONE
)	TokenNameRPAREN	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
isChunkStart	TokenNameIdentifier	 is Chunk Start
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("Adv: " + advance); 	TokenNameCOMMENT_LINE	System.out.println("Adv: " + advance); 
// System.out.println("Chunks: [" + beginChunk + ", " + 	TokenNameCOMMENT_LINE	System.out.println("Chunks: [" + beginChunk + ", " + 
// endChunk + "]"); 	TokenNameCOMMENT_LINE	endChunk + "]"); 
return	TokenNamereturn	
new	TokenNamenew	
TextChunk	TokenNameIdentifier	 Text Chunk
(	TokenNameLPAREN	
beginChunk	TokenNameIdentifier	 begin Chunk
,	TokenNameCOMMA	
endChunk	TokenNameIdentifier	 end Chunk
,	TokenNameCOMMA	
advance	TokenNameIdentifier	 advance
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Adjusts the position of the text runs within the specified text chunk * to account for any text anchor properties. */	TokenNameCOMMENT_JAVADOC	 Adjusts the position of the text runs within the specified text chunk to account for any text anchor properties. 
protected	TokenNameprotected	
Point2D	TokenNameIdentifier	 Point2 D
adjustChunkOffsets	TokenNameIdentifier	 adjust Chunk Offsets
(	TokenNameLPAREN	
Point2D	TokenNameIdentifier	 Point2 D
location	TokenNameIdentifier	 location
,	TokenNameCOMMA	
List	TokenNameIdentifier	 List
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
TextChunk	TokenNameIdentifier	 Text Chunk
chunk	TokenNameIdentifier	 chunk
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TextRun	TokenNameIdentifier	 Text Run
r	TokenNameIdentifier	 r
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextRun	TokenNameIdentifier	 Text Run
)	TokenNameRPAREN	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
chunk	TokenNameIdentifier	 chunk
.	TokenNameDOT	
begin	TokenNameIdentifier	 begin
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
anchorType	TokenNameIdentifier	 anchor Type
=	TokenNameEQUAL	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
getAnchorType	TokenNameIdentifier	 get Anchor Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Float	TokenNameIdentifier	 Float
length	TokenNameIdentifier	 length
=	TokenNameEQUAL	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Integer	TokenNameIdentifier	 Integer
lengthAdj	TokenNameIdentifier	 length Adj
=	TokenNameEQUAL	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
getLengthAdjust	TokenNameIdentifier	 get Length Adjust
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
doAdjust	TokenNameIdentifier	 do Adjust
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
length	TokenNameIdentifier	 length
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
length	TokenNameIdentifier	 length
.	TokenNameDOT	
isNaN	TokenNameIdentifier	 is Na N
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
doAdjust	TokenNameIdentifier	 do Adjust
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
int	TokenNameint	
numChars	TokenNameIdentifier	 num Chars
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
chunk	TokenNameIdentifier	 chunk
.	TokenNameDOT	
begin	TokenNameIdentifier	 begin
;	TokenNameSEMICOLON	
n	TokenNameIdentifier	 n
<	TokenNameLESS	
chunk	TokenNameIdentifier	 chunk
.	TokenNameDOT	
end	TokenNameIdentifier	 end
;	TokenNameSEMICOLON	
++	TokenNamePLUS_PLUS	
n	TokenNameIdentifier	 n
)	TokenNameRPAREN	
{	TokenNameLBRACE	
r	TokenNameIdentifier	 r
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextRun	TokenNameIdentifier	 Text Run
)	TokenNameRPAREN	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
n	TokenNameIdentifier	 n
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
=	TokenNameEQUAL	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
getACI	TokenNameIdentifier	 get ACI
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
numChars	TokenNameIdentifier	 num Chars
+=	TokenNamePLUS_EQUAL	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getEndIndex	TokenNameIdentifier	 get End Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getBeginIndex	TokenNameIdentifier	 get Begin Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
lengthAdj	TokenNameIdentifier	 length Adj
==	TokenNameEQUAL_EQUAL	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
ADJUST_SPACING	TokenNameIdentifier	 ADJUST  SPACING
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
numChars	TokenNameIdentifier	 num Chars
==	TokenNameEQUAL_EQUAL	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
doAdjust	TokenNameIdentifier	 do Adjust
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
float	TokenNamefloat	
xScale	TokenNameIdentifier	 x Scale
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
float	TokenNamefloat	
yScale	TokenNameIdentifier	 y Scale
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
r	TokenNameIdentifier	 r
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextRun	TokenNameIdentifier	 Text Run
)	TokenNameRPAREN	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
chunk	TokenNameIdentifier	 chunk
.	TokenNameDOT	
end	TokenNameIdentifier	 end
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
layout	TokenNameIdentifier	 layout
=	TokenNameEQUAL	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
GVTGlyphMetrics	TokenNameIdentifier	 GVT Glyph Metrics
lastMetrics	TokenNameIdentifier	 last Metrics
=	TokenNameEQUAL	
layout	TokenNameIdentifier	 layout
.	TokenNameDOT	
getGlyphMetrics	TokenNameIdentifier	 get Glyph Metrics
(	TokenNameLPAREN	
layout	TokenNameIdentifier	 layout
.	TokenNameDOT	
getGlyphCount	TokenNameIdentifier	 get Glyph Count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
GVTLineMetrics	TokenNameIdentifier	 GVT Line Metrics
lastLineMetrics	TokenNameIdentifier	 last Line Metrics
=	TokenNameEQUAL	
layout	TokenNameIdentifier	 layout
.	TokenNameDOT	
getLineMetrics	TokenNameIdentifier	 get Line Metrics
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
lastBounds	TokenNameIdentifier	 last Bounds
=	TokenNameEQUAL	
lastMetrics	TokenNameIdentifier	 last Metrics
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
float	TokenNamefloat	
halfLeading	TokenNameIdentifier	 half Leading
=	TokenNameEQUAL	
(	TokenNameLPAREN	
lastMetrics	TokenNameIdentifier	 last Metrics
.	TokenNameDOT	
getVerticalAdvance	TokenNameIdentifier	 get Vertical Advance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
(	TokenNameLPAREN	
lastLineMetrics	TokenNameIdentifier	 last Line Metrics
.	TokenNameDOT	
getAscent	TokenNameIdentifier	 get Ascent
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
lastLineMetrics	TokenNameIdentifier	 last Line Metrics
.	TokenNameDOT	
getDescent	TokenNameIdentifier	 get Descent
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
/	TokenNameDIVIDE	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
float	TokenNamefloat	
lastW	TokenNameIdentifier	 last W
=	TokenNameEQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
lastBounds	TokenNameIdentifier	 last Bounds
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
lastBounds	TokenNameIdentifier	 last Bounds
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
float	TokenNamefloat	
lastH	TokenNameIdentifier	 last H
=	TokenNameEQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
halfLeading	TokenNameIdentifier	 half Leading
+	TokenNamePLUS	
lastLineMetrics	TokenNameIdentifier	 last Line Metrics
.	TokenNameDOT	
getAscent	TokenNameIdentifier	 get Ascent
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
(	TokenNameLPAREN	
lastBounds	TokenNameIdentifier	 last Bounds
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
lastBounds	TokenNameIdentifier	 last Bounds
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Point2D	TokenNameIdentifier	 Point2 D
visualAdvance	TokenNameIdentifier	 visual Advance
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
doAdjust	TokenNameIdentifier	 do Adjust
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// System.err.println("Anchor: " + anchorType); 	TokenNameCOMMENT_LINE	System.err.println("Anchor: " + anchorType); 
// System.err.println("Advance: " + chunk.advance); 	TokenNameCOMMENT_LINE	System.err.println("Advance: " + chunk.advance); 
// System.err.println("LastBounds: " + lastBounds); 	TokenNameCOMMENT_LINE	System.err.println("LastBounds: " + lastBounds); 
// System.err.println("LastMetrics.hadv: " + 	TokenNameCOMMENT_LINE	System.err.println("LastMetrics.hadv: " + 
// lastMetrics.getHorizontalAdvance()); 	TokenNameCOMMENT_LINE	lastMetrics.getHorizontalAdvance()); 
// System.err.println("LastMetrics.vadv: " + 	TokenNameCOMMENT_LINE	System.err.println("LastMetrics.vadv: " + 
// lastMetrics.getVerticalAdvance()); 	TokenNameCOMMENT_LINE	lastMetrics.getVerticalAdvance()); 
visualAdvance	TokenNameIdentifier	 visual Advance
=	TokenNameEQUAL	
new	TokenNamenew	
Point2D	TokenNameIdentifier	 Point2 D
.	TokenNameDOT	
Float	TokenNameIdentifier	 Float
(	TokenNameLPAREN	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
chunk	TokenNameIdentifier	 chunk
.	TokenNameDOT	
advance	TokenNameIdentifier	 advance
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
lastW	TokenNameIdentifier	 last W
-	TokenNameMINUS	
lastMetrics	TokenNameIdentifier	 last Metrics
.	TokenNameDOT	
getHorizontalAdvance	TokenNameIdentifier	 get Horizontal Advance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
chunk	TokenNameIdentifier	 chunk
.	TokenNameDOT	
advance	TokenNameIdentifier	 advance
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
lastMetrics	TokenNameIdentifier	 last Metrics
.	TokenNameDOT	
getVerticalAdvance	TokenNameIdentifier	 get Vertical Advance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
lastH	TokenNameIdentifier	 last H
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
Point2D	TokenNameIdentifier	 Point2 D
advance	TokenNameIdentifier	 advance
=	TokenNameEQUAL	
chunk	TokenNameIdentifier	 chunk
.	TokenNameDOT	
advance	TokenNameIdentifier	 advance
;	TokenNameSEMICOLON	
// We have to do this here since textLength needs to be 	TokenNameCOMMENT_LINE	We have to do this here since textLength needs to be 
// handled at the text chunk level. Otherwise tspans get 	TokenNameCOMMENT_LINE	handled at the text chunk level. Otherwise tspans get 
// messed up. 	TokenNameCOMMENT_LINE	messed up. 
if	TokenNameif	
(	TokenNameLPAREN	
layout	TokenNameIdentifier	 layout
.	TokenNameDOT	
isVertical	TokenNameIdentifier	 is Vertical
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
lengthAdj	TokenNameIdentifier	 length Adj
==	TokenNameEQUAL_EQUAL	
ADJUST_SPACING	TokenNameIdentifier	 ADJUST  SPACING
)	TokenNameRPAREN	
{	TokenNameLBRACE	
yScale	TokenNameIdentifier	 y Scale
=	TokenNameEQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
length	TokenNameIdentifier	 length
.	TokenNameDOT	
floatValue	TokenNameIdentifier	 float Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
lastH	TokenNameIdentifier	 last H
)	TokenNameRPAREN	
/	TokenNameDIVIDE	
(	TokenNameLPAREN	
advance	TokenNameIdentifier	 advance
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
lastMetrics	TokenNameIdentifier	 last Metrics
.	TokenNameDOT	
getVerticalAdvance	TokenNameIdentifier	 get Vertical Advance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
double	TokenNamedouble	
adv	TokenNameIdentifier	 adv
=	TokenNameEQUAL	
(	TokenNameLPAREN	
advance	TokenNameIdentifier	 advance
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
lastMetrics	TokenNameIdentifier	 last Metrics
.	TokenNameDOT	
getVerticalAdvance	TokenNameIdentifier	 get Vertical Advance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
lastH	TokenNameIdentifier	 last H
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
yScale	TokenNameIdentifier	 y Scale
=	TokenNameEQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
length	TokenNameIdentifier	 length
.	TokenNameDOT	
floatValue	TokenNameIdentifier	 float Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
/	TokenNameDIVIDE	
adv	TokenNameIdentifier	 adv
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
visualAdvance	TokenNameIdentifier	 visual Advance
=	TokenNameEQUAL	
new	TokenNamenew	
Point2D	TokenNameIdentifier	 Point2 D
.	TokenNameDOT	
Float	TokenNameIdentifier	 Float
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
length	TokenNameIdentifier	 length
.	TokenNameDOT	
floatValue	TokenNameIdentifier	 float Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
lengthAdj	TokenNameIdentifier	 length Adj
==	TokenNameEQUAL_EQUAL	
ADJUST_SPACING	TokenNameIdentifier	 ADJUST  SPACING
)	TokenNameRPAREN	
{	TokenNameLBRACE	
xScale	TokenNameIdentifier	 x Scale
=	TokenNameEQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
length	TokenNameIdentifier	 length
.	TokenNameDOT	
floatValue	TokenNameIdentifier	 float Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
lastW	TokenNameIdentifier	 last W
)	TokenNameRPAREN	
/	TokenNameDIVIDE	
(	TokenNameLPAREN	
advance	TokenNameIdentifier	 advance
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
lastMetrics	TokenNameIdentifier	 last Metrics
.	TokenNameDOT	
getHorizontalAdvance	TokenNameIdentifier	 get Horizontal Advance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
double	TokenNamedouble	
adv	TokenNameIdentifier	 adv
=	TokenNameEQUAL	
(	TokenNameLPAREN	
advance	TokenNameIdentifier	 advance
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
lastW	TokenNameIdentifier	 last W
-	TokenNameMINUS	
lastMetrics	TokenNameIdentifier	 last Metrics
.	TokenNameDOT	
getHorizontalAdvance	TokenNameIdentifier	 get Horizontal Advance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
xScale	TokenNameIdentifier	 x Scale
=	TokenNameEQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
length	TokenNameIdentifier	 length
.	TokenNameDOT	
floatValue	TokenNameIdentifier	 float Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
/	TokenNameDIVIDE	
adv	TokenNameIdentifier	 adv
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
visualAdvance	TokenNameIdentifier	 visual Advance
=	TokenNameEQUAL	
new	TokenNamenew	
Point2D	TokenNameIdentifier	 Point2 D
.	TokenNameDOT	
Float	TokenNameIdentifier	 Float
(	TokenNameLPAREN	
length	TokenNameIdentifier	 length
.	TokenNameDOT	
floatValue	TokenNameIdentifier	 float Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// System.out.println("Adv: " + advance + " Len: " + length + 	TokenNameCOMMENT_LINE	System.out.println("Adv: " + advance + " Len: " + length + 
// " scale: [" + xScale + ", " + yScale + "]"); 	TokenNameCOMMENT_LINE	" scale: [" + xScale + ", " + yScale + "]"); 
Point2D	TokenNameIdentifier	 Point2 D
.	TokenNameDOT	
Float	TokenNameIdentifier	 Float
adv	TokenNameIdentifier	 adv
=	TokenNameEQUAL	
new	TokenNamenew	
Point2D	TokenNameIdentifier	 Point2 D
.	TokenNameDOT	
Float	TokenNameIdentifier	 Float
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
chunk	TokenNameIdentifier	 chunk
.	TokenNameDOT	
begin	TokenNameIdentifier	 begin
;	TokenNameSEMICOLON	
n	TokenNameIdentifier	 n
<	TokenNameLESS	
chunk	TokenNameIdentifier	 chunk
.	TokenNameDOT	
end	TokenNameIdentifier	 end
;	TokenNameSEMICOLON	
++	TokenNamePLUS_PLUS	
n	TokenNameIdentifier	 n
)	TokenNameRPAREN	
{	TokenNameLBRACE	
r	TokenNameIdentifier	 r
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextRun	TokenNameIdentifier	 Text Run
)	TokenNameRPAREN	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
n	TokenNameIdentifier	 n
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
layout	TokenNameIdentifier	 layout
=	TokenNameEQUAL	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
layout	TokenNameIdentifier	 layout
.	TokenNameDOT	
setScale	TokenNameIdentifier	 set Scale
(	TokenNameLPAREN	
xScale	TokenNameIdentifier	 x Scale
,	TokenNameCOMMA	
yScale	TokenNameIdentifier	 y Scale
,	TokenNameCOMMA	
lengthAdj	TokenNameIdentifier	 length Adj
==	TokenNameEQUAL_EQUAL	
ADJUST_SPACING	TokenNameIdentifier	 ADJUST  SPACING
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Point2D	TokenNameIdentifier	 Point2 D
lAdv	TokenNameIdentifier	 l Adv
=	TokenNameEQUAL	
layout	TokenNameIdentifier	 layout
.	TokenNameDOT	
getAdvance2D	TokenNameIdentifier	 get Advance2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
adv	TokenNameIdentifier	 adv
.	TokenNameDOT	
x	TokenNameIdentifier	 x
+=	TokenNamePLUS_EQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
lAdv	TokenNameIdentifier	 l Adv
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
adv	TokenNameIdentifier	 adv
.	TokenNameDOT	
y	TokenNameIdentifier	 y
+=	TokenNamePLUS_EQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
lAdv	TokenNameIdentifier	 l Adv
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
chunk	TokenNameIdentifier	 chunk
.	TokenNameDOT	
advance	TokenNameIdentifier	 advance
=	TokenNameEQUAL	
adv	TokenNameIdentifier	 adv
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
float	TokenNamefloat	
dx	TokenNameIdentifier	 dx
=	TokenNameEQUAL	
0f	TokenNameFloatingPointLiteral	
;	TokenNameSEMICOLON	
float	TokenNamefloat	
dy	TokenNameIdentifier	 dy
=	TokenNameEQUAL	
0f	TokenNameFloatingPointLiteral	
;	TokenNameSEMICOLON	
switch	TokenNameswitch	
(	TokenNameLPAREN	
anchorType	TokenNameIdentifier	 anchor Type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
case	TokenNamecase	
TextNode	TokenNameIdentifier	 Text Node
.	TokenNameDOT	
Anchor	TokenNameIdentifier	 Anchor
.	TokenNameDOT	
ANCHOR_MIDDLE	TokenNameIdentifier	 ANCHOR  MIDDLE
:	TokenNameCOLON	
dx	TokenNameIdentifier	 dx
=	TokenNameEQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
-	TokenNameMINUS	
visualAdvance	TokenNameIdentifier	 visual Advance
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
/	TokenNameDIVIDE	
2d	TokenNameDoubleLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
dy	TokenNameIdentifier	 dy
=	TokenNameEQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
-	TokenNameMINUS	
visualAdvance	TokenNameIdentifier	 visual Advance
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
/	TokenNameDIVIDE	
2d	TokenNameDoubleLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
TextNode	TokenNameIdentifier	 Text Node
.	TokenNameDOT	
Anchor	TokenNameIdentifier	 Anchor
.	TokenNameDOT	
ANCHOR_END	TokenNameIdentifier	 ANCHOR  END
:	TokenNameCOLON	
dx	TokenNameIdentifier	 dx
=	TokenNameEQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
-	TokenNameMINUS	
visualAdvance	TokenNameIdentifier	 visual Advance
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
dy	TokenNameIdentifier	 dy
=	TokenNameEQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
-	TokenNameMINUS	
visualAdvance	TokenNameIdentifier	 visual Advance
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
default	TokenNamedefault	
:	TokenNameCOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
// leave untouched 	TokenNameCOMMENT_LINE	leave untouched 
}	TokenNameRBRACE	
// System.out.println("DX/DY: [" + dx + ", " + dy + "]"); 	TokenNameCOMMENT_LINE	System.out.println("DX/DY: [" + dx + ", " + dy + "]"); 
r	TokenNameIdentifier	 r
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextRun	TokenNameIdentifier	 Text Run
)	TokenNameRPAREN	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
chunk	TokenNameIdentifier	 chunk
.	TokenNameDOT	
begin	TokenNameIdentifier	 begin
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
layout	TokenNameIdentifier	 layout
=	TokenNameEQUAL	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
runaci	TokenNameIdentifier	 runaci
=	TokenNameEQUAL	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
getACI	TokenNameIdentifier	 get ACI
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
runaci	TokenNameIdentifier	 runaci
.	TokenNameDOT	
first	TokenNameIdentifier	 first
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
vertical	TokenNameIdentifier	 vertical
=	TokenNameEQUAL	
layout	TokenNameIdentifier	 layout
.	TokenNameDOT	
isVertical	TokenNameIdentifier	 is Vertical
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Float	TokenNameIdentifier	 Float
runX	TokenNameIdentifier	 run X
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Float	TokenNameIdentifier	 Float
)	TokenNameRPAREN	
runaci	TokenNameIdentifier	 runaci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
XPOS	TokenNameIdentifier	 XPOS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Float	TokenNameIdentifier	 Float
runY	TokenNameIdentifier	 run Y
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Float	TokenNameIdentifier	 Float
)	TokenNameRPAREN	
runaci	TokenNameIdentifier	 runaci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
YPOS	TokenNameIdentifier	 YPOS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TextPath	TokenNameIdentifier	 Text Path
textPath	TokenNameIdentifier	 text Path
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextPath	TokenNameIdentifier	 Text Path
)	TokenNameRPAREN	
runaci	TokenNameIdentifier	 runaci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
TEXTPATH	TokenNameIdentifier	 TEXTPATH
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// The point that the next peice of normal text should be 	TokenNameCOMMENT_LINE	The point that the next peice of normal text should be 
// layed out from, only used for normal text not text on a path. 	TokenNameCOMMENT_LINE	layed out from, only used for normal text not text on a path. 
float	TokenNamefloat	
absX	TokenNameIdentifier	 abs X
=	TokenNameEQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
location	TokenNameIdentifier	 location
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
float	TokenNamefloat	
absY	TokenNameIdentifier	 abs Y
=	TokenNameEQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
location	TokenNameIdentifier	 location
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// TextPath Shift used to account for startOffset. 	TokenNameCOMMENT_LINE	TextPath Shift used to account for startOffset. 
float	TokenNamefloat	
tpShiftX	TokenNameIdentifier	 tp Shift X
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
float	TokenNamefloat	
tpShiftY	TokenNameIdentifier	 tp Shift Y
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// Of course X and Y override that, but they don't apply for 	TokenNameCOMMENT_LINE	Of course X and Y override that, but they don't apply for 
// text on a path. 	TokenNameCOMMENT_LINE	text on a path. 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
runX	TokenNameIdentifier	 run X
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
!	TokenNameNOT	
runX	TokenNameIdentifier	 run X
.	TokenNameDOT	
isNaN	TokenNameIdentifier	 is Na N
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
absX	TokenNameIdentifier	 abs X
=	TokenNameEQUAL	
runX	TokenNameIdentifier	 run X
.	TokenNameDOT	
floatValue	TokenNameIdentifier	 float Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
tpShiftX	TokenNameIdentifier	 tp Shift X
=	TokenNameEQUAL	
absX	TokenNameIdentifier	 abs X
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
runY	TokenNameIdentifier	 run Y
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
!	TokenNameNOT	
runY	TokenNameIdentifier	 run Y
.	TokenNameDOT	
isNaN	TokenNameIdentifier	 is Na N
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
absY	TokenNameIdentifier	 abs Y
=	TokenNameEQUAL	
runY	TokenNameIdentifier	 run Y
.	TokenNameDOT	
floatValue	TokenNameIdentifier	 float Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
tpShiftY	TokenNameIdentifier	 tp Shift Y
=	TokenNameEQUAL	
absY	TokenNameIdentifier	 abs Y
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Factor in text-anchor in writing direction. 	TokenNameCOMMENT_LINE	Factor in text-anchor in writing direction. 
// Ignore tpShift in non-writing direction. 	TokenNameCOMMENT_LINE	Ignore tpShift in non-writing direction. 
if	TokenNameif	
(	TokenNameLPAREN	
vertical	TokenNameIdentifier	 vertical
)	TokenNameRPAREN	
{	TokenNameLBRACE	
absY	TokenNameIdentifier	 abs Y
+=	TokenNamePLUS_EQUAL	
dy	TokenNameIdentifier	 dy
;	TokenNameSEMICOLON	
tpShiftY	TokenNameIdentifier	 tp Shift Y
+=	TokenNamePLUS_EQUAL	
dy	TokenNameIdentifier	 dy
;	TokenNameSEMICOLON	
tpShiftX	TokenNameIdentifier	 tp Shift X
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
absX	TokenNameIdentifier	 abs X
+=	TokenNamePLUS_EQUAL	
dx	TokenNameIdentifier	 dx
;	TokenNameSEMICOLON	
tpShiftX	TokenNameIdentifier	 tp Shift X
+=	TokenNamePLUS_EQUAL	
dx	TokenNameIdentifier	 dx
;	TokenNameSEMICOLON	
tpShiftY	TokenNameIdentifier	 tp Shift Y
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// System.out.println("ABS: [" + absX + "," + absY + "," + 	TokenNameCOMMENT_LINE	System.out.println("ABS: [" + absX + "," + absY + "," + 
// visualAdvance.getX() + "," + 	TokenNameCOMMENT_LINE	visualAdvance.getX() + "," + 
// visualAdvance.getY() + "]"); 	TokenNameCOMMENT_LINE	visualAdvance.getY() + "]"); 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
chunk	TokenNameIdentifier	 chunk
.	TokenNameDOT	
begin	TokenNameIdentifier	 begin
;	TokenNameSEMICOLON	
n	TokenNameIdentifier	 n
<	TokenNameLESS	
chunk	TokenNameIdentifier	 chunk
.	TokenNameDOT	
end	TokenNameIdentifier	 end
;	TokenNameSEMICOLON	
++	TokenNamePLUS_PLUS	
n	TokenNameIdentifier	 n
)	TokenNameRPAREN	
{	TokenNameLBRACE	
r	TokenNameIdentifier	 r
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextRun	TokenNameIdentifier	 Text Run
)	TokenNameRPAREN	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
n	TokenNameIdentifier	 n
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
layout	TokenNameIdentifier	 layout
=	TokenNameEQUAL	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
runaci	TokenNameIdentifier	 runaci
=	TokenNameEQUAL	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
getACI	TokenNameIdentifier	 get ACI
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
runaci	TokenNameIdentifier	 runaci
.	TokenNameDOT	
first	TokenNameIdentifier	 first
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
textPath	TokenNameIdentifier	 text Path
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextPath	TokenNameIdentifier	 Text Path
)	TokenNameRPAREN	
runaci	TokenNameIdentifier	 runaci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
TEXTPATH	TokenNameIdentifier	 TEXTPATH
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
vertical	TokenNameIdentifier	 vertical
)	TokenNameRPAREN	
{	TokenNameLBRACE	
runX	TokenNameIdentifier	 run X
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Float	TokenNameIdentifier	 Float
)	TokenNameRPAREN	
runaci	TokenNameIdentifier	 runaci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
XPOS	TokenNameIdentifier	 XPOS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
runX	TokenNameIdentifier	 run X
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
!	TokenNameNOT	
runX	TokenNameIdentifier	 run X
.	TokenNameDOT	
isNaN	TokenNameIdentifier	 is Na N
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
absX	TokenNameIdentifier	 abs X
=	TokenNameEQUAL	
runX	TokenNameIdentifier	 run X
.	TokenNameDOT	
floatValue	TokenNameIdentifier	 float Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
runY	TokenNameIdentifier	 run Y
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Float	TokenNameIdentifier	 Float
)	TokenNameRPAREN	
runaci	TokenNameIdentifier	 runaci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
YPOS	TokenNameIdentifier	 YPOS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
runY	TokenNameIdentifier	 run Y
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
!	TokenNameNOT	
runY	TokenNameIdentifier	 run Y
.	TokenNameDOT	
isNaN	TokenNameIdentifier	 is Na N
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
absY	TokenNameIdentifier	 abs Y
=	TokenNameEQUAL	
runY	TokenNameIdentifier	 run Y
.	TokenNameDOT	
floatValue	TokenNameIdentifier	 float Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
textPath	TokenNameIdentifier	 text Path
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
layout	TokenNameIdentifier	 layout
.	TokenNameDOT	
setOffset	TokenNameIdentifier	 set Offset
(	TokenNameLPAREN	
new	TokenNamenew	
Point2D	TokenNameIdentifier	 Point2 D
.	TokenNameDOT	
Float	TokenNameIdentifier	 Float
(	TokenNameLPAREN	
absX	TokenNameIdentifier	 abs X
,	TokenNameCOMMA	
absY	TokenNameIdentifier	 abs Y
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Point2D	TokenNameIdentifier	 Point2 D
ladv	TokenNameIdentifier	 ladv
=	TokenNameEQUAL	
layout	TokenNameIdentifier	 layout
.	TokenNameDOT	
getAdvance2D	TokenNameIdentifier	 get Advance2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
absX	TokenNameIdentifier	 abs X
+=	TokenNamePLUS_EQUAL	
ladv	TokenNameIdentifier	 ladv
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
absY	TokenNameIdentifier	 abs Y
+=	TokenNamePLUS_EQUAL	
ladv	TokenNameIdentifier	 ladv
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
layout	TokenNameIdentifier	 layout
.	TokenNameDOT	
setOffset	TokenNameIdentifier	 set Offset
(	TokenNameLPAREN	
new	TokenNamenew	
Point2D	TokenNameIdentifier	 Point2 D
.	TokenNameDOT	
Float	TokenNameIdentifier	 Float
(	TokenNameLPAREN	
tpShiftX	TokenNameIdentifier	 tp Shift X
,	TokenNameCOMMA	
tpShiftY	TokenNameIdentifier	 tp Shift Y
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Point2D	TokenNameIdentifier	 Point2 D
ladv	TokenNameIdentifier	 ladv
=	TokenNameEQUAL	
layout	TokenNameIdentifier	 layout
.	TokenNameDOT	
getAdvance2D	TokenNameIdentifier	 get Advance2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
tpShiftX	TokenNameIdentifier	 tp Shift X
+=	TokenNamePLUS_EQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
ladv	TokenNameIdentifier	 ladv
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
tpShiftY	TokenNameIdentifier	 tp Shift Y
+=	TokenNamePLUS_EQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
ladv	TokenNameIdentifier	 ladv
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ladv	TokenNameIdentifier	 ladv
=	TokenNameEQUAL	
layout	TokenNameIdentifier	 layout
.	TokenNameDOT	
getTextPathAdvance	TokenNameIdentifier	 get Text Path Advance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
absX	TokenNameIdentifier	 abs X
=	TokenNameEQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
ladv	TokenNameIdentifier	 ladv
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
absY	TokenNameIdentifier	 abs Y
=	TokenNameEQUAL	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
ladv	TokenNameIdentifier	 ladv
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
new	TokenNamenew	
Point2D	TokenNameIdentifier	 Point2 D
.	TokenNameDOT	
Float	TokenNameIdentifier	 Float
(	TokenNameLPAREN	
absX	TokenNameIdentifier	 abs X
,	TokenNameCOMMA	
absY	TokenNameIdentifier	 abs Y
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Paints decorations of the specified type. */	TokenNameCOMMENT_JAVADOC	 Paints decorations of the specified type. 
protected	TokenNameprotected	
void	TokenNamevoid	
paintDecorations	TokenNameIdentifier	 paint Decorations
(	TokenNameLPAREN	
List	TokenNameIdentifier	 List
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
Graphics2D	TokenNameIdentifier	 Graphics2 D
g2d	TokenNameIdentifier	 g2d
,	TokenNameCOMMA	
int	TokenNameint	
decorationType	TokenNameIdentifier	 decoration Type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Paint	TokenNameIdentifier	 Paint
prevPaint	TokenNameIdentifier	 prev Paint
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Paint	TokenNameIdentifier	 Paint
prevStrokePaint	TokenNameIdentifier	 prev Stroke Paint
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Stroke	TokenNameIdentifier	 Stroke
prevStroke	TokenNameIdentifier	 prev Stroke
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
decorationRect	TokenNameIdentifier	 decoration Rect
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
yLoc	TokenNameIdentifier	 y Loc
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
height	TokenNameIdentifier	 height
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TextRun	TokenNameIdentifier	 Text Run
textRun	TokenNameIdentifier	 text Run
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextRun	TokenNameIdentifier	 Text Run
)	TokenNameRPAREN	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
runaci	TokenNameIdentifier	 runaci
=	TokenNameEQUAL	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getACI	TokenNameIdentifier	 get ACI
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
runaci	TokenNameIdentifier	 runaci
.	TokenNameDOT	
first	TokenNameIdentifier	 first
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TextPaintInfo	TokenNameIdentifier	 Text Paint Info
tpi	TokenNameIdentifier	 tpi
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextPaintInfo	TokenNameIdentifier	 Text Paint Info
)	TokenNameRPAREN	
runaci	TokenNameIdentifier	 runaci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
PAINT_INFO	TokenNameIdentifier	 PAINT  INFO
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
tpi	TokenNameIdentifier	 tpi
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
composite	TokenNameIdentifier	 composite
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
setComposite	TokenNameIdentifier	 set Composite
(	TokenNameLPAREN	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
composite	TokenNameIdentifier	 composite
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Paint	TokenNameIdentifier	 Paint
paint	TokenNameIdentifier	 paint
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Stroke	TokenNameIdentifier	 Stroke
stroke	TokenNameIdentifier	 stroke
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Paint	TokenNameIdentifier	 Paint
strokePaint	TokenNameIdentifier	 stroke Paint
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
tpi	TokenNameIdentifier	 tpi
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
switch	TokenNameswitch	
(	TokenNameLPAREN	
decorationType	TokenNameIdentifier	 decoration Type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
case	TokenNamecase	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_UNDERLINE	TokenNameIdentifier	 DECORATION  UNDERLINE
:	TokenNameCOLON	
paint	TokenNameIdentifier	 paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
underlinePaint	TokenNameIdentifier	 underline Paint
;	TokenNameSEMICOLON	
stroke	TokenNameIdentifier	 stroke
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
underlineStroke	TokenNameIdentifier	 underline Stroke
;	TokenNameSEMICOLON	
strokePaint	TokenNameIdentifier	 stroke Paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
underlineStrokePaint	TokenNameIdentifier	 underline Stroke Paint
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_OVERLINE	TokenNameIdentifier	 DECORATION  OVERLINE
:	TokenNameCOLON	
paint	TokenNameIdentifier	 paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
overlinePaint	TokenNameIdentifier	 overline Paint
;	TokenNameSEMICOLON	
stroke	TokenNameIdentifier	 stroke
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
overlineStroke	TokenNameIdentifier	 overline Stroke
;	TokenNameSEMICOLON	
strokePaint	TokenNameIdentifier	 stroke Paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
overlineStrokePaint	TokenNameIdentifier	 overline Stroke Paint
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_STRIKETHROUGH	TokenNameIdentifier	 DECORATION  STRIKETHROUGH
:	TokenNameCOLON	
paint	TokenNameIdentifier	 paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
strikethroughPaint	TokenNameIdentifier	 strikethrough Paint
;	TokenNameSEMICOLON	
stroke	TokenNameIdentifier	 stroke
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
strikethroughStroke	TokenNameIdentifier	 strikethrough Stroke
;	TokenNameSEMICOLON	
strokePaint	TokenNameIdentifier	 stroke Paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
strikethroughStrokePaint	TokenNameIdentifier	 strikethrough Stroke Paint
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
default	TokenNamedefault	
:	TokenNameCOLON	
// should never get here 	TokenNameCOMMENT_LINE	should never get here 
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
isFirstRunInChunk	TokenNameIdentifier	 is First Run In Chunk
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Shape	TokenNameIdentifier	 Shape
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getDecorationOutline	TokenNameIdentifier	 get Decoration Outline
(	TokenNameLPAREN	
decorationType	TokenNameIdentifier	 decoration Type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
r2d	TokenNameIdentifier	 r2d
=	TokenNameEQUAL	
s	TokenNameIdentifier	 s
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
yLoc	TokenNameIdentifier	 y Loc
=	TokenNameEQUAL	
r2d	TokenNameIdentifier	 r2d
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
height	TokenNameIdentifier	 height
=	TokenNameEQUAL	
r2d	TokenNameIdentifier	 r2d
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
isFirstRunInChunk	TokenNameIdentifier	 is First Run In Chunk
(	TokenNameLPAREN	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
paint	TokenNameIdentifier	 paint
!=	TokenNameNOT_EQUAL	
prevPaint	TokenNameIdentifier	 prev Paint
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
stroke	TokenNameIdentifier	 stroke
!=	TokenNameNOT_EQUAL	
prevStroke	TokenNameIdentifier	 prev Stroke
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
strokePaint	TokenNameIdentifier	 stroke Paint
!=	TokenNameNOT_EQUAL	
prevStrokePaint	TokenNameIdentifier	 prev Stroke Paint
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// if there is a current decoration, draw it now 	TokenNameCOMMENT_LINE	if there is a current decoration, draw it now 
if	TokenNameif	
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
prevPaint	TokenNameIdentifier	 prev Paint
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// fill the decoration 	TokenNameCOMMENT_LINE	fill the decoration 
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
setPaint	TokenNameIdentifier	 set Paint
(	TokenNameLPAREN	
prevPaint	TokenNameIdentifier	 prev Paint
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
fill	TokenNameIdentifier	 fill
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
prevStroke	TokenNameIdentifier	 prev Stroke
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
prevStrokePaint	TokenNameIdentifier	 prev Stroke Paint
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// stroke the decoration 	TokenNameCOMMENT_LINE	stroke the decoration 
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
setPaint	TokenNameIdentifier	 set Paint
(	TokenNameLPAREN	
prevStrokePaint	TokenNameIdentifier	 prev Stroke Paint
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
setStroke	TokenNameIdentifier	 set Stroke
(	TokenNameLPAREN	
prevStroke	TokenNameIdentifier	 prev Stroke
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
draw	TokenNameIdentifier	 draw
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
decorationRect	TokenNameIdentifier	 decoration Rect
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
paint	TokenNameIdentifier	 paint
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
strokePaint	TokenNameIdentifier	 stroke Paint
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
isVertical	TokenNameIdentifier	 is Vertical
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
isOnATextPath	TokenNameIdentifier	 is On A Text Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// this text run should be decorated with the 	TokenNameCOMMENT_LINE	this text run should be decorated with the 
// specified decoration type 	TokenNameCOMMENT_LINE	specified decoration type 
// NOTE: decorations are only supported for plain 	TokenNameCOMMENT_LINE	NOTE: decorations are only supported for plain 
// horizontal layouts 	TokenNameCOMMENT_LINE	horizontal layouts 
Shape	TokenNameIdentifier	 Shape
decorationShape	TokenNameIdentifier	 decoration Shape
=	TokenNameEQUAL	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getDecorationOutline	TokenNameIdentifier	 get Decoration Outline
(	TokenNameLPAREN	
decorationType	TokenNameIdentifier	 decoration Type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// create a new one 	TokenNameCOMMENT_LINE	create a new one 
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
r2d	TokenNameIdentifier	 r2d
=	TokenNameEQUAL	
decorationShape	TokenNameIdentifier	 decoration Shape
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
decorationRect	TokenNameIdentifier	 decoration Rect
=	TokenNameEQUAL	
new	TokenNamenew	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
(	TokenNameLPAREN	
r2d	TokenNameIdentifier	 r2d
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
yLoc	TokenNameIdentifier	 y Loc
,	TokenNameCOMMA	
r2d	TokenNameIdentifier	 r2d
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
height	TokenNameIdentifier	 height
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// extend the current one 	TokenNameCOMMENT_LINE	extend the current one 
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
bounds	TokenNameIdentifier	 bounds
=	TokenNameEQUAL	
decorationShape	TokenNameIdentifier	 decoration Shape
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
minX	TokenNameIdentifier	 min X
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
min	TokenNameIdentifier	 min
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
bounds	TokenNameIdentifier	 bounds
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
maxX	TokenNameIdentifier	 max X
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
max	TokenNameIdentifier	 max
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
.	TokenNameDOT	
getMaxX	TokenNameIdentifier	 get Max X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
bounds	TokenNameIdentifier	 bounds
.	TokenNameDOT	
getMaxX	TokenNameIdentifier	 get Max X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
decorationRect	TokenNameIdentifier	 decoration Rect
.	TokenNameDOT	
setRect	TokenNameIdentifier	 set Rect
(	TokenNameLPAREN	
minX	TokenNameIdentifier	 min X
,	TokenNameCOMMA	
yLoc	TokenNameIdentifier	 y Loc
,	TokenNameCOMMA	
maxX	TokenNameIdentifier	 max X
-	TokenNameMINUS	
minX	TokenNameIdentifier	 min X
,	TokenNameCOMMA	
height	TokenNameIdentifier	 height
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
prevPaint	TokenNameIdentifier	 prev Paint
=	TokenNameEQUAL	
paint	TokenNameIdentifier	 paint
;	TokenNameSEMICOLON	
prevStroke	TokenNameIdentifier	 prev Stroke
=	TokenNameEQUAL	
stroke	TokenNameIdentifier	 stroke
;	TokenNameSEMICOLON	
prevStrokePaint	TokenNameIdentifier	 prev Stroke Paint
=	TokenNameEQUAL	
strokePaint	TokenNameIdentifier	 stroke Paint
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// if there is a decoration rect that hasn't been drawn yet, draw it now 	TokenNameCOMMENT_LINE	if there is a decoration rect that hasn't been drawn yet, draw it now 
if	TokenNameif	
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
prevPaint	TokenNameIdentifier	 prev Paint
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// fill the decoration 	TokenNameCOMMENT_LINE	fill the decoration 
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
setPaint	TokenNameIdentifier	 set Paint
(	TokenNameLPAREN	
prevPaint	TokenNameIdentifier	 prev Paint
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
fill	TokenNameIdentifier	 fill
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
prevStroke	TokenNameIdentifier	 prev Stroke
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
prevStrokePaint	TokenNameIdentifier	 prev Stroke Paint
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// stroke the decoration 	TokenNameCOMMENT_LINE	stroke the decoration 
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
setPaint	TokenNameIdentifier	 set Paint
(	TokenNameLPAREN	
prevStrokePaint	TokenNameIdentifier	 prev Stroke Paint
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
setStroke	TokenNameIdentifier	 set Stroke
(	TokenNameLPAREN	
prevStroke	TokenNameIdentifier	 prev Stroke
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
draw	TokenNameIdentifier	 draw
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Paints the text in each text run. Decorations are not painted here. */	TokenNameCOMMENT_JAVADOC	 Paints the text in each text run. Decorations are not painted here. 
protected	TokenNameprotected	
void	TokenNamevoid	
paintTextRuns	TokenNameIdentifier	 paint Text Runs
(	TokenNameLPAREN	
List	TokenNameIdentifier	 List
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
Graphics2D	TokenNameIdentifier	 Graphics2 D
g2d	TokenNameIdentifier	 g2d
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TextRun	TokenNameIdentifier	 Text Run
textRun	TokenNameIdentifier	 text Run
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextRun	TokenNameIdentifier	 Text Run
)	TokenNameRPAREN	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
runaci	TokenNameIdentifier	 runaci
=	TokenNameEQUAL	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getACI	TokenNameIdentifier	 get ACI
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
runaci	TokenNameIdentifier	 runaci
.	TokenNameDOT	
first	TokenNameIdentifier	 first
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TextPaintInfo	TokenNameIdentifier	 Text Paint Info
tpi	TokenNameIdentifier	 tpi
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextPaintInfo	TokenNameIdentifier	 Text Paint Info
)	TokenNameRPAREN	
runaci	TokenNameIdentifier	 runaci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
PAINT_INFO	TokenNameIdentifier	 PAINT  INFO
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
tpi	TokenNameIdentifier	 tpi
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
composite	TokenNameIdentifier	 composite
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
setComposite	TokenNameIdentifier	 set Composite
(	TokenNameLPAREN	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
composite	TokenNameIdentifier	 composite
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
draw	TokenNameIdentifier	 draw
(	TokenNameLPAREN	
g2d	TokenNameIdentifier	 g2d
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Get a Shape in userspace coords which defines the textnode glyph outlines. * @param node the TextNode to measure */	TokenNameCOMMENT_JAVADOC	 Get a Shape in userspace coords which defines the textnode glyph outlines. @param node the TextNode to measure 
public	TokenNamepublic	
Shape	TokenNameIdentifier	 Shape
getOutline	TokenNameIdentifier	 get Outline
(	TokenNameLPAREN	
TextNode	TokenNameIdentifier	 Text Node
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
{	TokenNameLBRACE	
GeneralPath	TokenNameIdentifier	 General Path
outline	TokenNameIdentifier	 outline
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
;	TokenNameSEMICOLON	
aci	TokenNameIdentifier	 aci
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getAttributedCharacterIterator	TokenNameIdentifier	 get Attributed Character Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// get the list of text runs 	TokenNameCOMMENT_LINE	get the list of text runs 
List	TokenNameIdentifier	 List
textRuns	TokenNameIdentifier	 text Runs
=	TokenNameEQUAL	
getTextRuns	TokenNameIdentifier	 get Text Runs
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
aci	TokenNameIdentifier	 aci
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// for each text run, get its outline and append it to the overall 	TokenNameCOMMENT_LINE	for each text run, get its outline and append it to the overall 
// outline 	TokenNameCOMMENT_LINE	outline 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
++	TokenNamePLUS_PLUS	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TextRun	TokenNameIdentifier	 Text Run
textRun	TokenNameIdentifier	 text Run
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextRun	TokenNameIdentifier	 Text Run
)	TokenNameRPAREN	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
textRunLayout	TokenNameIdentifier	 text Run Layout
=	TokenNameEQUAL	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
GeneralPath	TokenNameIdentifier	 General Path
textRunOutline	TokenNameIdentifier	 text Run Outline
=	TokenNameEQUAL	
new	TokenNamenew	
GeneralPath	TokenNameIdentifier	 General Path
(	TokenNameLPAREN	
textRunLayout	TokenNameIdentifier	 text Run Layout
.	TokenNameDOT	
getOutline	TokenNameIdentifier	 get Outline
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
outline	TokenNameIdentifier	 outline
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
outline	TokenNameIdentifier	 outline
=	TokenNameEQUAL	
textRunOutline	TokenNameIdentifier	 text Run Outline
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
outline	TokenNameIdentifier	 outline
.	TokenNameDOT	
setWindingRule	TokenNameIdentifier	 set Winding Rule
(	TokenNameLPAREN	
GeneralPath	TokenNameIdentifier	 General Path
.	TokenNameDOT	
WIND_NON_ZERO	TokenNameIdentifier	 WIND  NON  ZERO
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
outline	TokenNameIdentifier	 outline
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
textRunOutline	TokenNameIdentifier	 text Run Outline
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// append any decoration outlines 	TokenNameCOMMENT_LINE	append any decoration outlines 
Shape	TokenNameIdentifier	 Shape
underline	TokenNameIdentifier	 underline
=	TokenNameEQUAL	
getDecorationOutline	TokenNameIdentifier	 get Decoration Outline
(	TokenNameLPAREN	
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_UNDERLINE	TokenNameIdentifier	 DECORATION  UNDERLINE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Shape	TokenNameIdentifier	 Shape
strikeThrough	TokenNameIdentifier	 strike Through
=	TokenNameEQUAL	
getDecorationOutline	TokenNameIdentifier	 get Decoration Outline
(	TokenNameLPAREN	
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_STRIKETHROUGH	TokenNameIdentifier	 DECORATION  STRIKETHROUGH
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Shape	TokenNameIdentifier	 Shape
overline	TokenNameIdentifier	 overline
=	TokenNameEQUAL	
getDecorationOutline	TokenNameIdentifier	 get Decoration Outline
(	TokenNameLPAREN	
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_OVERLINE	TokenNameIdentifier	 DECORATION  OVERLINE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
underline	TokenNameIdentifier	 underline
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
outline	TokenNameIdentifier	 outline
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
outline	TokenNameIdentifier	 outline
=	TokenNameEQUAL	
new	TokenNamenew	
GeneralPath	TokenNameIdentifier	 General Path
(	TokenNameLPAREN	
underline	TokenNameIdentifier	 underline
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
outline	TokenNameIdentifier	 outline
.	TokenNameDOT	
setWindingRule	TokenNameIdentifier	 set Winding Rule
(	TokenNameLPAREN	
GeneralPath	TokenNameIdentifier	 General Path
.	TokenNameDOT	
WIND_NON_ZERO	TokenNameIdentifier	 WIND  NON  ZERO
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
outline	TokenNameIdentifier	 outline
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
underline	TokenNameIdentifier	 underline
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
strikeThrough	TokenNameIdentifier	 strike Through
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
outline	TokenNameIdentifier	 outline
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
outline	TokenNameIdentifier	 outline
=	TokenNameEQUAL	
new	TokenNamenew	
GeneralPath	TokenNameIdentifier	 General Path
(	TokenNameLPAREN	
strikeThrough	TokenNameIdentifier	 strike Through
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
outline	TokenNameIdentifier	 outline
.	TokenNameDOT	
setWindingRule	TokenNameIdentifier	 set Winding Rule
(	TokenNameLPAREN	
GeneralPath	TokenNameIdentifier	 General Path
.	TokenNameDOT	
WIND_NON_ZERO	TokenNameIdentifier	 WIND  NON  ZERO
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
outline	TokenNameIdentifier	 outline
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
strikeThrough	TokenNameIdentifier	 strike Through
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
overline	TokenNameIdentifier	 overline
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
outline	TokenNameIdentifier	 outline
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
outline	TokenNameIdentifier	 outline
=	TokenNameEQUAL	
new	TokenNamenew	
GeneralPath	TokenNameIdentifier	 General Path
(	TokenNameLPAREN	
overline	TokenNameIdentifier	 overline
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
outline	TokenNameIdentifier	 outline
.	TokenNameDOT	
setWindingRule	TokenNameIdentifier	 set Winding Rule
(	TokenNameLPAREN	
GeneralPath	TokenNameIdentifier	 General Path
.	TokenNameDOT	
WIND_NON_ZERO	TokenNameIdentifier	 WIND  NON  ZERO
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
outline	TokenNameIdentifier	 outline
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
overline	TokenNameIdentifier	 overline
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
outline	TokenNameIdentifier	 outline
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get a Rectangle2D in userspace coords which encloses the textnode * glyphs including stroke etc. */	TokenNameCOMMENT_JAVADOC	 Get a Rectangle2D in userspace coords which encloses the textnode glyphs including stroke etc. 
public	TokenNamepublic	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
TextNode	TokenNameIdentifier	 Text Node
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
{	TokenNameLBRACE	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
;	TokenNameSEMICOLON	
aci	TokenNameIdentifier	 aci
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getAttributedCharacterIterator	TokenNameIdentifier	 get Attributed Character Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// get the list of text runs 	TokenNameCOMMENT_LINE	get the list of text runs 
List	TokenNameIdentifier	 List
textRuns	TokenNameIdentifier	 text Runs
=	TokenNameEQUAL	
getTextRuns	TokenNameIdentifier	 get Text Runs
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
aci	TokenNameIdentifier	 aci
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
bounds	TokenNameIdentifier	 bounds
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// for each text run, get its stroke outline and append it to 	TokenNameCOMMENT_LINE	for each text run, get its stroke outline and append it to 
// the overall outline 	TokenNameCOMMENT_LINE	the overall outline 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
++	TokenNamePLUS_PLUS	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TextRun	TokenNameIdentifier	 Text Run
textRun	TokenNameIdentifier	 text Run
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextRun	TokenNameIdentifier	 Text Run
)	TokenNameRPAREN	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
textRunLayout	TokenNameIdentifier	 text Run Layout
=	TokenNameEQUAL	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
runBounds	TokenNameIdentifier	 run Bounds
=	TokenNameEQUAL	
textRunLayout	TokenNameIdentifier	 text Run Layout
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
runBounds	TokenNameIdentifier	 run Bounds
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
bounds	TokenNameIdentifier	 bounds
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
bounds	TokenNameIdentifier	 bounds
=	TokenNameEQUAL	
runBounds	TokenNameIdentifier	 run Bounds
;	TokenNameSEMICOLON	
else	TokenNameelse	
//bounds = bounds.createUnion(runBounds); 	TokenNameCOMMENT_LINE	bounds = bounds.createUnion(runBounds); 
bounds	TokenNameIdentifier	 bounds
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
runBounds	TokenNameIdentifier	 run Bounds
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// append any stroked decoration outlines 	TokenNameCOMMENT_LINE	append any stroked decoration outlines 
Shape	TokenNameIdentifier	 Shape
underline	TokenNameIdentifier	 underline
=	TokenNameEQUAL	
getDecorationStrokeOutline	TokenNameIdentifier	 get Decoration Stroke Outline
(	TokenNameLPAREN	
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_UNDERLINE	TokenNameIdentifier	 DECORATION  UNDERLINE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
underline	TokenNameIdentifier	 underline
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
bounds	TokenNameIdentifier	 bounds
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
bounds	TokenNameIdentifier	 bounds
=	TokenNameEQUAL	
underline	TokenNameIdentifier	 underline
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
//bounds = bounds.createUnion(underline.getBounds2D()); 	TokenNameCOMMENT_LINE	bounds = bounds.createUnion(underline.getBounds2D()); 
bounds	TokenNameIdentifier	 bounds
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
underline	TokenNameIdentifier	 underline
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Shape	TokenNameIdentifier	 Shape
strikeThrough	TokenNameIdentifier	 strike Through
=	TokenNameEQUAL	
getDecorationStrokeOutline	TokenNameIdentifier	 get Decoration Stroke Outline
(	TokenNameLPAREN	
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_STRIKETHROUGH	TokenNameIdentifier	 DECORATION  STRIKETHROUGH
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
strikeThrough	TokenNameIdentifier	 strike Through
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
bounds	TokenNameIdentifier	 bounds
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
bounds	TokenNameIdentifier	 bounds
=	TokenNameEQUAL	
strikeThrough	TokenNameIdentifier	 strike Through
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
//bounds = bounds.createUnion(strikeThrough.getBounds2D()); 	TokenNameCOMMENT_LINE	bounds = bounds.createUnion(strikeThrough.getBounds2D()); 
bounds	TokenNameIdentifier	 bounds
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
strikeThrough	TokenNameIdentifier	 strike Through
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Shape	TokenNameIdentifier	 Shape
overline	TokenNameIdentifier	 overline
=	TokenNameEQUAL	
getDecorationStrokeOutline	TokenNameIdentifier	 get Decoration Stroke Outline
(	TokenNameLPAREN	
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_OVERLINE	TokenNameIdentifier	 DECORATION  OVERLINE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
overline	TokenNameIdentifier	 overline
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
bounds	TokenNameIdentifier	 bounds
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
bounds	TokenNameIdentifier	 bounds
=	TokenNameEQUAL	
overline	TokenNameIdentifier	 overline
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
//bounds = bounds.createUnion(overline.getBounds2D()); 	TokenNameCOMMENT_LINE	bounds = bounds.createUnion(overline.getBounds2D()); 
bounds	TokenNameIdentifier	 bounds
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
overline	TokenNameIdentifier	 overline
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
bounds	TokenNameIdentifier	 bounds
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns the outline of the specified decoration type. * * @param textRuns The list of text runs to get the decoration outline for. * @param decorationType Indicates the type of decoration required. * eg. underline, overline or strikethrough. * * @return The decoration outline or null if the text is not decorated. */	TokenNameCOMMENT_JAVADOC	 Returns the outline of the specified decoration type. * @param textRuns The list of text runs to get the decoration outline for. @param decorationType Indicates the type of decoration required. eg. underline, overline or strikethrough. * @return The decoration outline or null if the text is not decorated. 
protected	TokenNameprotected	
Shape	TokenNameIdentifier	 Shape
getDecorationOutline	TokenNameIdentifier	 get Decoration Outline
(	TokenNameLPAREN	
List	TokenNameIdentifier	 List
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
int	TokenNameint	
decorationType	TokenNameIdentifier	 decoration Type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
GeneralPath	TokenNameIdentifier	 General Path
outline	TokenNameIdentifier	 outline
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Paint	TokenNameIdentifier	 Paint
prevPaint	TokenNameIdentifier	 prev Paint
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Paint	TokenNameIdentifier	 Paint
prevStrokePaint	TokenNameIdentifier	 prev Stroke Paint
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Stroke	TokenNameIdentifier	 Stroke
prevStroke	TokenNameIdentifier	 prev Stroke
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
decorationRect	TokenNameIdentifier	 decoration Rect
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
yLoc	TokenNameIdentifier	 y Loc
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
height	TokenNameIdentifier	 height
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TextRun	TokenNameIdentifier	 Text Run
textRun	TokenNameIdentifier	 text Run
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextRun	TokenNameIdentifier	 Text Run
)	TokenNameRPAREN	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
runaci	TokenNameIdentifier	 runaci
=	TokenNameEQUAL	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getACI	TokenNameIdentifier	 get ACI
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
runaci	TokenNameIdentifier	 runaci
.	TokenNameDOT	
first	TokenNameIdentifier	 first
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Paint	TokenNameIdentifier	 Paint
paint	TokenNameIdentifier	 paint
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Stroke	TokenNameIdentifier	 Stroke
stroke	TokenNameIdentifier	 stroke
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Paint	TokenNameIdentifier	 Paint
strokePaint	TokenNameIdentifier	 stroke Paint
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
TextPaintInfo	TokenNameIdentifier	 Text Paint Info
tpi	TokenNameIdentifier	 tpi
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextPaintInfo	TokenNameIdentifier	 Text Paint Info
)	TokenNameRPAREN	
runaci	TokenNameIdentifier	 runaci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
PAINT_INFO	TokenNameIdentifier	 PAINT  INFO
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
tpi	TokenNameIdentifier	 tpi
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
switch	TokenNameswitch	
(	TokenNameLPAREN	
decorationType	TokenNameIdentifier	 decoration Type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
case	TokenNamecase	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_UNDERLINE	TokenNameIdentifier	 DECORATION  UNDERLINE
:	TokenNameCOLON	
paint	TokenNameIdentifier	 paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
underlinePaint	TokenNameIdentifier	 underline Paint
;	TokenNameSEMICOLON	
stroke	TokenNameIdentifier	 stroke
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
underlineStroke	TokenNameIdentifier	 underline Stroke
;	TokenNameSEMICOLON	
strokePaint	TokenNameIdentifier	 stroke Paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
underlineStrokePaint	TokenNameIdentifier	 underline Stroke Paint
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_OVERLINE	TokenNameIdentifier	 DECORATION  OVERLINE
:	TokenNameCOLON	
paint	TokenNameIdentifier	 paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
overlinePaint	TokenNameIdentifier	 overline Paint
;	TokenNameSEMICOLON	
stroke	TokenNameIdentifier	 stroke
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
overlineStroke	TokenNameIdentifier	 overline Stroke
;	TokenNameSEMICOLON	
strokePaint	TokenNameIdentifier	 stroke Paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
overlineStrokePaint	TokenNameIdentifier	 overline Stroke Paint
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_STRIKETHROUGH	TokenNameIdentifier	 DECORATION  STRIKETHROUGH
:	TokenNameCOLON	
paint	TokenNameIdentifier	 paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
strikethroughPaint	TokenNameIdentifier	 strikethrough Paint
;	TokenNameSEMICOLON	
stroke	TokenNameIdentifier	 stroke
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
strikethroughStroke	TokenNameIdentifier	 strikethrough Stroke
;	TokenNameSEMICOLON	
strokePaint	TokenNameIdentifier	 stroke Paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
strikethroughStrokePaint	TokenNameIdentifier	 strikethrough Stroke Paint
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
default	TokenNamedefault	
:	TokenNameCOLON	
// should never get here 	TokenNameCOMMENT_LINE	should never get here 
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
isFirstRunInChunk	TokenNameIdentifier	 is First Run In Chunk
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Shape	TokenNameIdentifier	 Shape
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getDecorationOutline	TokenNameIdentifier	 get Decoration Outline
(	TokenNameLPAREN	
decorationType	TokenNameIdentifier	 decoration Type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
r2d	TokenNameIdentifier	 r2d
=	TokenNameEQUAL	
s	TokenNameIdentifier	 s
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
yLoc	TokenNameIdentifier	 y Loc
=	TokenNameEQUAL	
r2d	TokenNameIdentifier	 r2d
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
height	TokenNameIdentifier	 height
=	TokenNameEQUAL	
r2d	TokenNameIdentifier	 r2d
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
isFirstRunInChunk	TokenNameIdentifier	 is First Run In Chunk
(	TokenNameLPAREN	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
paint	TokenNameIdentifier	 paint
!=	TokenNameNOT_EQUAL	
prevPaint	TokenNameIdentifier	 prev Paint
||	TokenNameOR_OR	
stroke	TokenNameIdentifier	 stroke
!=	TokenNameNOT_EQUAL	
prevStroke	TokenNameIdentifier	 prev Stroke
||	TokenNameOR_OR	
strokePaint	TokenNameIdentifier	 stroke Paint
!=	TokenNameNOT_EQUAL	
prevStrokePaint	TokenNameIdentifier	 prev Stroke Paint
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// if there is a current decoration, added it to the overall 	TokenNameCOMMENT_LINE	if there is a current decoration, added it to the overall 
// outline 	TokenNameCOMMENT_LINE	outline 
if	TokenNameif	
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
outline	TokenNameIdentifier	 outline
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
outline	TokenNameIdentifier	 outline
=	TokenNameEQUAL	
new	TokenNamenew	
GeneralPath	TokenNameIdentifier	 General Path
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
outline	TokenNameIdentifier	 outline
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
decorationRect	TokenNameIdentifier	 decoration Rect
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
paint	TokenNameIdentifier	 paint
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
strokePaint	TokenNameIdentifier	 stroke Paint
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
isVertical	TokenNameIdentifier	 is Vertical
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
isOnATextPath	TokenNameIdentifier	 is On A Text Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// this text run should be decorated with the specified 	TokenNameCOMMENT_LINE	this text run should be decorated with the specified 
// decoration type note: decorations are only supported for 	TokenNameCOMMENT_LINE	decoration type note: decorations are only supported for 
// plain horizontal layouts 	TokenNameCOMMENT_LINE	plain horizontal layouts 
Shape	TokenNameIdentifier	 Shape
decorationShape	TokenNameIdentifier	 decoration Shape
=	TokenNameEQUAL	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getDecorationOutline	TokenNameIdentifier	 get Decoration Outline
(	TokenNameLPAREN	
decorationType	TokenNameIdentifier	 decoration Type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// create a new one 	TokenNameCOMMENT_LINE	create a new one 
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
r2d	TokenNameIdentifier	 r2d
=	TokenNameEQUAL	
decorationShape	TokenNameIdentifier	 decoration Shape
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
decorationRect	TokenNameIdentifier	 decoration Rect
=	TokenNameEQUAL	
new	TokenNamenew	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
(	TokenNameLPAREN	
r2d	TokenNameIdentifier	 r2d
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
yLoc	TokenNameIdentifier	 y Loc
,	TokenNameCOMMA	
r2d	TokenNameIdentifier	 r2d
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
height	TokenNameIdentifier	 height
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// extend the current one 	TokenNameCOMMENT_LINE	extend the current one 
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
bounds	TokenNameIdentifier	 bounds
=	TokenNameEQUAL	
decorationShape	TokenNameIdentifier	 decoration Shape
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
minX	TokenNameIdentifier	 min X
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
min	TokenNameIdentifier	 min
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
bounds	TokenNameIdentifier	 bounds
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
maxX	TokenNameIdentifier	 max X
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
max	TokenNameIdentifier	 max
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
.	TokenNameDOT	
getMaxX	TokenNameIdentifier	 get Max X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
bounds	TokenNameIdentifier	 bounds
.	TokenNameDOT	
getMaxX	TokenNameIdentifier	 get Max X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
decorationRect	TokenNameIdentifier	 decoration Rect
.	TokenNameDOT	
setRect	TokenNameIdentifier	 set Rect
(	TokenNameLPAREN	
minX	TokenNameIdentifier	 min X
,	TokenNameCOMMA	
yLoc	TokenNameIdentifier	 y Loc
,	TokenNameCOMMA	
maxX	TokenNameIdentifier	 max X
-	TokenNameMINUS	
minX	TokenNameIdentifier	 min X
,	TokenNameCOMMA	
height	TokenNameIdentifier	 height
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
prevPaint	TokenNameIdentifier	 prev Paint
=	TokenNameEQUAL	
paint	TokenNameIdentifier	 paint
;	TokenNameSEMICOLON	
prevStroke	TokenNameIdentifier	 prev Stroke
=	TokenNameEQUAL	
stroke	TokenNameIdentifier	 stroke
;	TokenNameSEMICOLON	
prevStrokePaint	TokenNameIdentifier	 prev Stroke Paint
=	TokenNameEQUAL	
strokePaint	TokenNameIdentifier	 stroke Paint
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// if there is a decoration rect that hasn't been added to the overall outline 	TokenNameCOMMENT_LINE	if there is a decoration rect that hasn't been added to the overall outline 
if	TokenNameif	
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
outline	TokenNameIdentifier	 outline
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
outline	TokenNameIdentifier	 outline
=	TokenNameEQUAL	
new	TokenNamenew	
GeneralPath	TokenNameIdentifier	 General Path
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
outline	TokenNameIdentifier	 outline
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
outline	TokenNameIdentifier	 outline
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns the strokeed outline of the specified decoration type. * If the decoration has no stroke it will return the fill outline * * @param textRuns The list of text runs to get the decoration outline for. * @param decorationType Indicates the type of decoration required. * eg. underline, overline or strikethrough. * * @return The decoration outline or null if the text is not decorated. */	TokenNameCOMMENT_JAVADOC	 Returns the strokeed outline of the specified decoration type. If the decoration has no stroke it will return the fill outline * @param textRuns The list of text runs to get the decoration outline for. @param decorationType Indicates the type of decoration required. eg. underline, overline or strikethrough. * @return The decoration outline or null if the text is not decorated. 
protected	TokenNameprotected	
Shape	TokenNameIdentifier	 Shape
getDecorationStrokeOutline	TokenNameIdentifier	 get Decoration Stroke Outline
(	TokenNameLPAREN	
List	TokenNameIdentifier	 List
textRuns	TokenNameIdentifier	 text Runs
,	TokenNameCOMMA	
int	TokenNameint	
decorationType	TokenNameIdentifier	 decoration Type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
GeneralPath	TokenNameIdentifier	 General Path
outline	TokenNameIdentifier	 outline
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Paint	TokenNameIdentifier	 Paint
prevPaint	TokenNameIdentifier	 prev Paint
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Paint	TokenNameIdentifier	 Paint
prevStrokePaint	TokenNameIdentifier	 prev Stroke Paint
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Stroke	TokenNameIdentifier	 Stroke
prevStroke	TokenNameIdentifier	 prev Stroke
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
decorationRect	TokenNameIdentifier	 decoration Rect
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
yLoc	TokenNameIdentifier	 y Loc
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
height	TokenNameIdentifier	 height
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TextRun	TokenNameIdentifier	 Text Run
textRun	TokenNameIdentifier	 text Run
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextRun	TokenNameIdentifier	 Text Run
)	TokenNameRPAREN	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
runaci	TokenNameIdentifier	 runaci
=	TokenNameEQUAL	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getACI	TokenNameIdentifier	 get ACI
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
runaci	TokenNameIdentifier	 runaci
.	TokenNameDOT	
first	TokenNameIdentifier	 first
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Paint	TokenNameIdentifier	 Paint
paint	TokenNameIdentifier	 paint
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Stroke	TokenNameIdentifier	 Stroke
stroke	TokenNameIdentifier	 stroke
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Paint	TokenNameIdentifier	 Paint
strokePaint	TokenNameIdentifier	 stroke Paint
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
TextPaintInfo	TokenNameIdentifier	 Text Paint Info
tpi	TokenNameIdentifier	 tpi
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextPaintInfo	TokenNameIdentifier	 Text Paint Info
)	TokenNameRPAREN	
runaci	TokenNameIdentifier	 runaci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
PAINT_INFO	TokenNameIdentifier	 PAINT  INFO
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
tpi	TokenNameIdentifier	 tpi
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
switch	TokenNameswitch	
(	TokenNameLPAREN	
decorationType	TokenNameIdentifier	 decoration Type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
case	TokenNamecase	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_UNDERLINE	TokenNameIdentifier	 DECORATION  UNDERLINE
:	TokenNameCOLON	
paint	TokenNameIdentifier	 paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
underlinePaint	TokenNameIdentifier	 underline Paint
;	TokenNameSEMICOLON	
stroke	TokenNameIdentifier	 stroke
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
underlineStroke	TokenNameIdentifier	 underline Stroke
;	TokenNameSEMICOLON	
strokePaint	TokenNameIdentifier	 stroke Paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
underlineStrokePaint	TokenNameIdentifier	 underline Stroke Paint
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_OVERLINE	TokenNameIdentifier	 DECORATION  OVERLINE
:	TokenNameCOLON	
paint	TokenNameIdentifier	 paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
overlinePaint	TokenNameIdentifier	 overline Paint
;	TokenNameSEMICOLON	
stroke	TokenNameIdentifier	 stroke
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
overlineStroke	TokenNameIdentifier	 overline Stroke
;	TokenNameSEMICOLON	
strokePaint	TokenNameIdentifier	 stroke Paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
overlineStrokePaint	TokenNameIdentifier	 overline Stroke Paint
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
.	TokenNameDOT	
DECORATION_STRIKETHROUGH	TokenNameIdentifier	 DECORATION  STRIKETHROUGH
:	TokenNameCOLON	
paint	TokenNameIdentifier	 paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
strikethroughPaint	TokenNameIdentifier	 strikethrough Paint
;	TokenNameSEMICOLON	
stroke	TokenNameIdentifier	 stroke
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
strikethroughStroke	TokenNameIdentifier	 strikethrough Stroke
;	TokenNameSEMICOLON	
strokePaint	TokenNameIdentifier	 stroke Paint
=	TokenNameEQUAL	
tpi	TokenNameIdentifier	 tpi
.	TokenNameDOT	
strikethroughStrokePaint	TokenNameIdentifier	 strikethrough Stroke Paint
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
default	TokenNamedefault	
:	TokenNameCOLON	
// should never get here 	TokenNameCOMMENT_LINE	should never get here 
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
isFirstRunInChunk	TokenNameIdentifier	 is First Run In Chunk
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Shape	TokenNameIdentifier	 Shape
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getDecorationOutline	TokenNameIdentifier	 get Decoration Outline
(	TokenNameLPAREN	
decorationType	TokenNameIdentifier	 decoration Type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
r2d	TokenNameIdentifier	 r2d
=	TokenNameEQUAL	
s	TokenNameIdentifier	 s
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
yLoc	TokenNameIdentifier	 y Loc
=	TokenNameEQUAL	
r2d	TokenNameIdentifier	 r2d
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
height	TokenNameIdentifier	 height
=	TokenNameEQUAL	
r2d	TokenNameIdentifier	 r2d
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
isFirstRunInChunk	TokenNameIdentifier	 is First Run In Chunk
(	TokenNameLPAREN	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
paint	TokenNameIdentifier	 paint
!=	TokenNameNOT_EQUAL	
prevPaint	TokenNameIdentifier	 prev Paint
||	TokenNameOR_OR	
stroke	TokenNameIdentifier	 stroke
!=	TokenNameNOT_EQUAL	
prevStroke	TokenNameIdentifier	 prev Stroke
||	TokenNameOR_OR	
strokePaint	TokenNameIdentifier	 stroke Paint
!=	TokenNameNOT_EQUAL	
prevStrokePaint	TokenNameIdentifier	 prev Stroke Paint
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// if there is a current decoration, added it to the overall 	TokenNameCOMMENT_LINE	if there is a current decoration, added it to the overall 
// outline 	TokenNameCOMMENT_LINE	outline 
if	TokenNameif	
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Shape	TokenNameIdentifier	 Shape
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
prevStroke	TokenNameIdentifier	 prev Stroke
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
prevStrokePaint	TokenNameIdentifier	 prev Stroke Paint
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
prevStroke	TokenNameIdentifier	 prev Stroke
.	TokenNameDOT	
createStrokedShape	TokenNameIdentifier	 create Stroked Shape
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
prevPaint	TokenNameIdentifier	 prev Paint
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
decorationRect	TokenNameIdentifier	 decoration Rect
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
s	TokenNameIdentifier	 s
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
outline	TokenNameIdentifier	 outline
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
outline	TokenNameIdentifier	 outline
=	TokenNameEQUAL	
new	TokenNamenew	
GeneralPath	TokenNameIdentifier	 General Path
(	TokenNameLPAREN	
s	TokenNameIdentifier	 s
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
outline	TokenNameIdentifier	 outline
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
decorationRect	TokenNameIdentifier	 decoration Rect
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
paint	TokenNameIdentifier	 paint
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
strokePaint	TokenNameIdentifier	 stroke Paint
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
isVertical	TokenNameIdentifier	 is Vertical
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
isOnATextPath	TokenNameIdentifier	 is On A Text Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// this text run should be decorated with the specified 	TokenNameCOMMENT_LINE	this text run should be decorated with the specified 
// decoration type note: decorations are only supported for 	TokenNameCOMMENT_LINE	decoration type note: decorations are only supported for 
// plain horizontal layouts 	TokenNameCOMMENT_LINE	plain horizontal layouts 
Shape	TokenNameIdentifier	 Shape
decorationShape	TokenNameIdentifier	 decoration Shape
=	TokenNameEQUAL	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getDecorationOutline	TokenNameIdentifier	 get Decoration Outline
(	TokenNameLPAREN	
decorationType	TokenNameIdentifier	 decoration Type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// create a new one 	TokenNameCOMMENT_LINE	create a new one 
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
r2d	TokenNameIdentifier	 r2d
=	TokenNameEQUAL	
decorationShape	TokenNameIdentifier	 decoration Shape
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
decorationRect	TokenNameIdentifier	 decoration Rect
=	TokenNameEQUAL	
new	TokenNamenew	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
(	TokenNameLPAREN	
r2d	TokenNameIdentifier	 r2d
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
yLoc	TokenNameIdentifier	 y Loc
,	TokenNameCOMMA	
r2d	TokenNameIdentifier	 r2d
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
height	TokenNameIdentifier	 height
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// extend the current one 	TokenNameCOMMENT_LINE	extend the current one 
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
bounds	TokenNameIdentifier	 bounds
=	TokenNameEQUAL	
decorationShape	TokenNameIdentifier	 decoration Shape
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
minX	TokenNameIdentifier	 min X
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
min	TokenNameIdentifier	 min
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
bounds	TokenNameIdentifier	 bounds
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
maxX	TokenNameIdentifier	 max X
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
max	TokenNameIdentifier	 max
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
.	TokenNameDOT	
getMaxX	TokenNameIdentifier	 get Max X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
bounds	TokenNameIdentifier	 bounds
.	TokenNameDOT	
getMaxX	TokenNameIdentifier	 get Max X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
decorationRect	TokenNameIdentifier	 decoration Rect
.	TokenNameDOT	
setRect	TokenNameIdentifier	 set Rect
(	TokenNameLPAREN	
minX	TokenNameIdentifier	 min X
,	TokenNameCOMMA	
yLoc	TokenNameIdentifier	 y Loc
,	TokenNameCOMMA	
maxX	TokenNameIdentifier	 max X
-	TokenNameMINUS	
minX	TokenNameIdentifier	 min X
,	TokenNameCOMMA	
height	TokenNameIdentifier	 height
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
prevPaint	TokenNameIdentifier	 prev Paint
=	TokenNameEQUAL	
paint	TokenNameIdentifier	 paint
;	TokenNameSEMICOLON	
prevStroke	TokenNameIdentifier	 prev Stroke
=	TokenNameEQUAL	
stroke	TokenNameIdentifier	 stroke
;	TokenNameSEMICOLON	
prevStrokePaint	TokenNameIdentifier	 prev Stroke Paint
=	TokenNameEQUAL	
strokePaint	TokenNameIdentifier	 stroke Paint
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// if there is a decoration rect that hasn't been added to the overall 	TokenNameCOMMENT_LINE	if there is a decoration rect that hasn't been added to the overall 
// outline 	TokenNameCOMMENT_LINE	outline 
if	TokenNameif	
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Shape	TokenNameIdentifier	 Shape
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
prevStroke	TokenNameIdentifier	 prev Stroke
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
prevStrokePaint	TokenNameIdentifier	 prev Stroke Paint
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
prevStroke	TokenNameIdentifier	 prev Stroke
.	TokenNameDOT	
createStrokedShape	TokenNameIdentifier	 create Stroked Shape
(	TokenNameLPAREN	
decorationRect	TokenNameIdentifier	 decoration Rect
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
prevPaint	TokenNameIdentifier	 prev Paint
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
decorationRect	TokenNameIdentifier	 decoration Rect
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
s	TokenNameIdentifier	 s
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
outline	TokenNameIdentifier	 outline
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
outline	TokenNameIdentifier	 outline
=	TokenNameEQUAL	
new	TokenNamenew	
GeneralPath	TokenNameIdentifier	 General Path
(	TokenNameLPAREN	
s	TokenNameIdentifier	 s
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
outline	TokenNameIdentifier	 outline
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
outline	TokenNameIdentifier	 outline
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Mark	TokenNameIdentifier	 Mark
getMark	TokenNameIdentifier	 get Mark
(	TokenNameLPAREN	
TextNode	TokenNameIdentifier	 Text Node
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
int	TokenNameint	
index	TokenNameIdentifier	 index
,	TokenNameCOMMA	
boolean	TokenNameboolean	
leadingEdge	TokenNameIdentifier	 leading Edge
)	TokenNameRPAREN	
{	TokenNameLBRACE	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
;	TokenNameSEMICOLON	
aci	TokenNameIdentifier	 aci
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getAttributedCharacterIterator	TokenNameIdentifier	 get Attributed Character Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
index	TokenNameIdentifier	 index
<	TokenNameLESS	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getBeginIndex	TokenNameIdentifier	 get Begin Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
index	TokenNameIdentifier	 index
>	TokenNameGREATER	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getEndIndex	TokenNameIdentifier	 get End Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
TextHit	TokenNameIdentifier	 Text Hit
textHit	TokenNameIdentifier	 text Hit
=	TokenNameEQUAL	
new	TokenNamenew	
TextHit	TokenNameIdentifier	 Text Hit
(	TokenNameLPAREN	
index	TokenNameIdentifier	 index
,	TokenNameCOMMA	
leadingEdge	TokenNameIdentifier	 leading Edge
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
BasicTextPainter	TokenNameIdentifier	 Basic Text Painter
.	TokenNameDOT	
BasicMark	TokenNameIdentifier	 Basic Mark
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
textHit	TokenNameIdentifier	 text Hit
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
protected	TokenNameprotected	
Mark	TokenNameIdentifier	 Mark
hitTest	TokenNameIdentifier	 hit Test
(	TokenNameLPAREN	
double	TokenNamedouble	
x	TokenNameIdentifier	 x
,	TokenNameCOMMA	
double	TokenNamedouble	
y	TokenNameIdentifier	 y
,	TokenNameCOMMA	
TextNode	TokenNameIdentifier	 Text Node
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
{	TokenNameLBRACE	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
;	TokenNameSEMICOLON	
aci	TokenNameIdentifier	 aci
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getAttributedCharacterIterator	TokenNameIdentifier	 get Attributed Character Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// get the list of text runs 	TokenNameCOMMENT_LINE	get the list of text runs 
List	TokenNameIdentifier	 List
textRuns	TokenNameIdentifier	 text Runs
=	TokenNameEQUAL	
getTextRuns	TokenNameIdentifier	 get Text Runs
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
aci	TokenNameIdentifier	 aci
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// for each text run, see if its been hit 	TokenNameCOMMENT_LINE	for each text run, see if its been hit 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
++	TokenNamePLUS_PLUS	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TextRun	TokenNameIdentifier	 Text Run
textRun	TokenNameIdentifier	 text Run
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextRun	TokenNameIdentifier	 Text Run
)	TokenNameRPAREN	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
layout	TokenNameIdentifier	 layout
=	TokenNameEQUAL	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TextHit	TokenNameIdentifier	 Text Hit
textHit	TokenNameIdentifier	 text Hit
=	TokenNameEQUAL	
layout	TokenNameIdentifier	 layout
.	TokenNameDOT	
hitTestChar	TokenNameIdentifier	 hit Test Char
(	TokenNameLPAREN	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
x	TokenNameIdentifier	 x
,	TokenNameCOMMA	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
y	TokenNameIdentifier	 y
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
textHit	TokenNameIdentifier	 text Hit
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
layout	TokenNameIdentifier	 layout
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
contains	TokenNameIdentifier	 contains
(	TokenNameLPAREN	
x	TokenNameIdentifier	 x
,	TokenNameCOMMA	
y	TokenNameIdentifier	 y
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
new	TokenNamenew	
BasicTextPainter	TokenNameIdentifier	 Basic Text Painter
.	TokenNameDOT	
BasicMark	TokenNameIdentifier	 Basic Mark
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
textHit	TokenNameIdentifier	 text Hit
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Selects the first glyph in the text node. */	TokenNameCOMMENT_JAVADOC	 Selects the first glyph in the text node. 
public	TokenNamepublic	
Mark	TokenNameIdentifier	 Mark
selectFirst	TokenNameIdentifier	 select First
(	TokenNameLPAREN	
TextNode	TokenNameIdentifier	 Text Node
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
{	TokenNameLBRACE	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
;	TokenNameSEMICOLON	
aci	TokenNameIdentifier	 aci
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getAttributedCharacterIterator	TokenNameIdentifier	 get Attributed Character Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
TextHit	TokenNameIdentifier	 Text Hit
textHit	TokenNameIdentifier	 text Hit
=	TokenNameEQUAL	
new	TokenNamenew	
TextHit	TokenNameIdentifier	 Text Hit
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getBeginIndex	TokenNameIdentifier	 get Begin Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
BasicTextPainter	TokenNameIdentifier	 Basic Text Painter
.	TokenNameDOT	
BasicMark	TokenNameIdentifier	 Basic Mark
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
textHit	TokenNameIdentifier	 text Hit
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Selects the last glyph in the text node. */	TokenNameCOMMENT_JAVADOC	 Selects the last glyph in the text node. 
public	TokenNamepublic	
Mark	TokenNameIdentifier	 Mark
selectLast	TokenNameIdentifier	 select Last
(	TokenNameLPAREN	
TextNode	TokenNameIdentifier	 Text Node
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
{	TokenNameLBRACE	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
;	TokenNameSEMICOLON	
aci	TokenNameIdentifier	 aci
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getAttributedCharacterIterator	TokenNameIdentifier	 get Attributed Character Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
TextHit	TokenNameIdentifier	 Text Hit
textHit	TokenNameIdentifier	 text Hit
=	TokenNameEQUAL	
new	TokenNamenew	
TextHit	TokenNameIdentifier	 Text Hit
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getEndIndex	TokenNameIdentifier	 get End Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
BasicTextPainter	TokenNameIdentifier	 Basic Text Painter
.	TokenNameDOT	
BasicMark	TokenNameIdentifier	 Basic Mark
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
textHit	TokenNameIdentifier	 text Hit
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns an array of ints representing begin/end index pairs into * an AttributedCharacterIterator which represents the text * selection delineated by two Mark instances. * <em>Note: The Mark instances passed must have been instantiated by * an instance of this enclosing TextPainter implementation.</em> */	TokenNameCOMMENT_JAVADOC	 Returns an array of ints representing begin/end index pairs into an AttributedCharacterIterator which represents the text selection delineated by two Mark instances. <em>Note: The Mark instances passed must have been instantiated by an instance of this enclosing TextPainter implementation.</em> 
public	TokenNamepublic	
int	TokenNameint	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
getSelected	TokenNameIdentifier	 get Selected
(	TokenNameLPAREN	
Mark	TokenNameIdentifier	 Mark
startMark	TokenNameIdentifier	 start Mark
,	TokenNameCOMMA	
Mark	TokenNameIdentifier	 Mark
finishMark	TokenNameIdentifier	 finish Mark
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
startMark	TokenNameIdentifier	 start Mark
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
finishMark	TokenNameIdentifier	 finish Mark
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
BasicTextPainter	TokenNameIdentifier	 Basic Text Painter
.	TokenNameDOT	
BasicMark	TokenNameIdentifier	 Basic Mark
start	TokenNameIdentifier	 start
;	TokenNameSEMICOLON	
BasicTextPainter	TokenNameIdentifier	 Basic Text Painter
.	TokenNameDOT	
BasicMark	TokenNameIdentifier	 Basic Mark
finish	TokenNameIdentifier	 finish
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
start	TokenNameIdentifier	 start
=	TokenNameEQUAL	
(	TokenNameLPAREN	
BasicTextPainter	TokenNameIdentifier	 Basic Text Painter
.	TokenNameDOT	
BasicMark	TokenNameIdentifier	 Basic Mark
)	TokenNameRPAREN	
startMark	TokenNameIdentifier	 start Mark
;	TokenNameSEMICOLON	
finish	TokenNameIdentifier	 finish
=	TokenNameEQUAL	
(	TokenNameLPAREN	
BasicTextPainter	TokenNameIdentifier	 Basic Text Painter
.	TokenNameDOT	
BasicMark	TokenNameIdentifier	 Basic Mark
)	TokenNameRPAREN	
finishMark	TokenNameIdentifier	 finish Mark
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
ClassCastException	TokenNameIdentifier	 Class Cast Exception
cce	TokenNameIdentifier	 cce
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
Error	TokenNameIdentifier	 Error
(	TokenNameLPAREN	
"This Mark was not instantiated by this TextPainter class!"	TokenNameStringLiteral	This Mark was not instantiated by this TextPainter class!
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
TextNode	TokenNameIdentifier	 Text Node
textNode	TokenNameIdentifier	 text Node
=	TokenNameEQUAL	
start	TokenNameIdentifier	 start
.	TokenNameDOT	
getTextNode	TokenNameIdentifier	 get Text Node
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
textNode	TokenNameIdentifier	 text Node
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
textNode	TokenNameIdentifier	 text Node
!=	TokenNameNOT_EQUAL	
finish	TokenNameIdentifier	 finish
.	TokenNameDOT	
getTextNode	TokenNameIdentifier	 get Text Node
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
Error	TokenNameIdentifier	 Error
(	TokenNameLPAREN	
"Markers are from different TextNodes!"	TokenNameStringLiteral	Markers are from different TextNodes!
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
;	TokenNameSEMICOLON	
aci	TokenNameIdentifier	 aci
=	TokenNameEQUAL	
textNode	TokenNameIdentifier	 text Node
.	TokenNameDOT	
getAttributedCharacterIterator	TokenNameIdentifier	 get Attributed Character Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
int	TokenNameint	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
new	TokenNamenew	
int	TokenNameint	
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
start	TokenNameIdentifier	 start
.	TokenNameDOT	
getHit	TokenNameIdentifier	 get Hit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getCharIndex	TokenNameIdentifier	 get Char Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
finish	TokenNameIdentifier	 finish
.	TokenNameDOT	
getHit	TokenNameIdentifier	 get Hit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getCharIndex	TokenNameIdentifier	 get Char Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// get the list of text runs 	TokenNameCOMMENT_LINE	get the list of text runs 
List	TokenNameIdentifier	 List
textRuns	TokenNameIdentifier	 text Runs
=	TokenNameEQUAL	
getTextRuns	TokenNameIdentifier	 get Text Runs
(	TokenNameLPAREN	
textNode	TokenNameIdentifier	 text Node
,	TokenNameCOMMA	
aci	TokenNameIdentifier	 aci
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Iterator	TokenNameIdentifier	 Iterator
trI	TokenNameIdentifier	 tr I
=	TokenNameEQUAL	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
startGlyphIndex	TokenNameIdentifier	 start Glyph Index
=	TokenNameEQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
int	TokenNameint	
endGlyphIndex	TokenNameIdentifier	 end Glyph Index
=	TokenNameEQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
startLayout	TokenNameIdentifier	 start Layout
=	TokenNameEQUAL	
null	TokenNamenull	
,	TokenNameCOMMA	
endLayout	TokenNameIdentifier	 end Layout
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
trI	TokenNameIdentifier	 tr I
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TextRun	TokenNameIdentifier	 Text Run
tr	TokenNameIdentifier	 tr
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextRun	TokenNameIdentifier	 Text Run
)	TokenNameRPAREN	
trI	TokenNameIdentifier	 tr I
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
tsl	TokenNameIdentifier	 tsl
=	TokenNameEQUAL	
tr	TokenNameIdentifier	 tr
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
startGlyphIndex	TokenNameIdentifier	 start Glyph Index
==	TokenNameEQUAL_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
startGlyphIndex	TokenNameIdentifier	 start Glyph Index
=	TokenNameEQUAL	
tsl	TokenNameIdentifier	 tsl
.	TokenNameDOT	
getGlyphIndex	TokenNameIdentifier	 get Glyph Index
(	TokenNameLPAREN	
result	TokenNameIdentifier	 result
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
startGlyphIndex	TokenNameIdentifier	 start Glyph Index
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
startLayout	TokenNameIdentifier	 start Layout
=	TokenNameEQUAL	
tsl	TokenNameIdentifier	 tsl
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
endGlyphIndex	TokenNameIdentifier	 end Glyph Index
==	TokenNameEQUAL_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
endGlyphIndex	TokenNameIdentifier	 end Glyph Index
=	TokenNameEQUAL	
tsl	TokenNameIdentifier	 tsl
.	TokenNameDOT	
getGlyphIndex	TokenNameIdentifier	 get Glyph Index
(	TokenNameLPAREN	
result	TokenNameIdentifier	 result
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
endGlyphIndex	TokenNameIdentifier	 end Glyph Index
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
endLayout	TokenNameIdentifier	 end Layout
=	TokenNameEQUAL	
tsl	TokenNameIdentifier	 tsl
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
startGlyphIndex	TokenNameIdentifier	 start Glyph Index
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
endGlyphIndex	TokenNameIdentifier	 end Glyph Index
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
startLayout	TokenNameIdentifier	 start Layout
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
endLayout	TokenNameIdentifier	 end Layout
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
int	TokenNameint	
startCharCount	TokenNameIdentifier	 start Char Count
=	TokenNameEQUAL	
startLayout	TokenNameIdentifier	 start Layout
.	TokenNameDOT	
getCharacterCount	TokenNameIdentifier	 get Character Count
(	TokenNameLPAREN	
startGlyphIndex	TokenNameIdentifier	 start Glyph Index
,	TokenNameCOMMA	
startGlyphIndex	TokenNameIdentifier	 start Glyph Index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
endCharCount	TokenNameIdentifier	 end Char Count
=	TokenNameEQUAL	
endLayout	TokenNameIdentifier	 end Layout
.	TokenNameDOT	
getCharacterCount	TokenNameIdentifier	 get Character Count
(	TokenNameLPAREN	
endGlyphIndex	TokenNameIdentifier	 end Glyph Index
,	TokenNameCOMMA	
endGlyphIndex	TokenNameIdentifier	 end Glyph Index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
startCharCount	TokenNameIdentifier	 start Char Count
>	TokenNameGREATER	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
result	TokenNameIdentifier	 result
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
>	TokenNameGREATER	
result	TokenNameIdentifier	 result
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
&&	TokenNameAND_AND	
startLayout	TokenNameIdentifier	 start Layout
.	TokenNameDOT	
isLeftToRight	TokenNameIdentifier	 is Left To Right
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
result	TokenNameIdentifier	 result
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
+=	TokenNamePLUS_EQUAL	
startCharCount	TokenNameIdentifier	 start Char Count
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
result	TokenNameIdentifier	 result
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
>	TokenNameGREATER	
result	TokenNameIdentifier	 result
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
&&	TokenNameAND_AND	
!	TokenNameNOT	
startLayout	TokenNameIdentifier	 start Layout
.	TokenNameDOT	
isLeftToRight	TokenNameIdentifier	 is Left To Right
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
result	TokenNameIdentifier	 result
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
-=	TokenNameMINUS_EQUAL	
startCharCount	TokenNameIdentifier	 start Char Count
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
endCharCount	TokenNameIdentifier	 end Char Count
>	TokenNameGREATER	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
result	TokenNameIdentifier	 result
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
>	TokenNameGREATER	
result	TokenNameIdentifier	 result
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
&&	TokenNameAND_AND	
endLayout	TokenNameIdentifier	 end Layout
.	TokenNameDOT	
isLeftToRight	TokenNameIdentifier	 is Left To Right
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
result	TokenNameIdentifier	 result
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
+=	TokenNamePLUS_EQUAL	
endCharCount	TokenNameIdentifier	 end Char Count
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
result	TokenNameIdentifier	 result
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
>	TokenNameGREATER	
result	TokenNameIdentifier	 result
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
&&	TokenNameAND_AND	
!	TokenNameNOT	
endLayout	TokenNameIdentifier	 end Layout
.	TokenNameDOT	
isLeftToRight	TokenNameIdentifier	 is Left To Right
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
result	TokenNameIdentifier	 result
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
-=	TokenNameMINUS_EQUAL	
endCharCount	TokenNameIdentifier	 end Char Count
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
result	TokenNameIdentifier	 result
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Return a Shape, in the coordinate system of the text layout, * which encloses the text selection delineated by two Mark instances. * <em>Note: The Mark instances passed must have been instantiated by * an instance of this enclosing TextPainter implementation.</em> */	TokenNameCOMMENT_JAVADOC	 Return a Shape, in the coordinate system of the text layout, which encloses the text selection delineated by two Mark instances. <em>Note: The Mark instances passed must have been instantiated by an instance of this enclosing TextPainter implementation.</em> 
public	TokenNamepublic	
Shape	TokenNameIdentifier	 Shape
getHighlightShape	TokenNameIdentifier	 get Highlight Shape
(	TokenNameLPAREN	
Mark	TokenNameIdentifier	 Mark
beginMark	TokenNameIdentifier	 begin Mark
,	TokenNameCOMMA	
Mark	TokenNameIdentifier	 Mark
endMark	TokenNameIdentifier	 end Mark
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
beginMark	TokenNameIdentifier	 begin Mark
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
endMark	TokenNameIdentifier	 end Mark
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
BasicTextPainter	TokenNameIdentifier	 Basic Text Painter
.	TokenNameDOT	
BasicMark	TokenNameIdentifier	 Basic Mark
begin	TokenNameIdentifier	 begin
;	TokenNameSEMICOLON	
BasicTextPainter	TokenNameIdentifier	 Basic Text Painter
.	TokenNameDOT	
BasicMark	TokenNameIdentifier	 Basic Mark
end	TokenNameIdentifier	 end
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
begin	TokenNameIdentifier	 begin
=	TokenNameEQUAL	
(	TokenNameLPAREN	
BasicTextPainter	TokenNameIdentifier	 Basic Text Painter
.	TokenNameDOT	
BasicMark	TokenNameIdentifier	 Basic Mark
)	TokenNameRPAREN	
beginMark	TokenNameIdentifier	 begin Mark
;	TokenNameSEMICOLON	
end	TokenNameIdentifier	 end
=	TokenNameEQUAL	
(	TokenNameLPAREN	
BasicTextPainter	TokenNameIdentifier	 Basic Text Painter
.	TokenNameDOT	
BasicMark	TokenNameIdentifier	 Basic Mark
)	TokenNameRPAREN	
endMark	TokenNameIdentifier	 end Mark
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
ClassCastException	TokenNameIdentifier	 Class Cast Exception
cce	TokenNameIdentifier	 cce
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
Error	TokenNameIdentifier	 Error
(	TokenNameLPAREN	
"This Mark was not instantiated by this TextPainter class!"	TokenNameStringLiteral	This Mark was not instantiated by this TextPainter class!
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
TextNode	TokenNameIdentifier	 Text Node
textNode	TokenNameIdentifier	 text Node
=	TokenNameEQUAL	
begin	TokenNameIdentifier	 begin
.	TokenNameDOT	
getTextNode	TokenNameIdentifier	 get Text Node
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
textNode	TokenNameIdentifier	 text Node
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
textNode	TokenNameIdentifier	 text Node
!=	TokenNameNOT_EQUAL	
end	TokenNameIdentifier	 end
.	TokenNameDOT	
getTextNode	TokenNameIdentifier	 get Text Node
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
Error	TokenNameIdentifier	 Error
(	TokenNameLPAREN	
"Markers are from different TextNodes!"	TokenNameStringLiteral	Markers are from different TextNodes!
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
;	TokenNameSEMICOLON	
aci	TokenNameIdentifier	 aci
=	TokenNameEQUAL	
textNode	TokenNameIdentifier	 text Node
.	TokenNameDOT	
getAttributedCharacterIterator	TokenNameIdentifier	 get Attributed Character Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
int	TokenNameint	
beginIndex	TokenNameIdentifier	 begin Index
=	TokenNameEQUAL	
begin	TokenNameIdentifier	 begin
.	TokenNameDOT	
getHit	TokenNameIdentifier	 get Hit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getCharIndex	TokenNameIdentifier	 get Char Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
endIndex	TokenNameIdentifier	 end Index
=	TokenNameEQUAL	
end	TokenNameIdentifier	 end
.	TokenNameDOT	
getHit	TokenNameIdentifier	 get Hit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getCharIndex	TokenNameIdentifier	 get Char Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
beginIndex	TokenNameIdentifier	 begin Index
>	TokenNameGREATER	
endIndex	TokenNameIdentifier	 end Index
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Swap them... 	TokenNameCOMMENT_LINE	Swap them... 
BasicTextPainter	TokenNameIdentifier	 Basic Text Painter
.	TokenNameDOT	
BasicMark	TokenNameIdentifier	 Basic Mark
tmpMark	TokenNameIdentifier	 tmp Mark
=	TokenNameEQUAL	
begin	TokenNameIdentifier	 begin
;	TokenNameSEMICOLON	
begin	TokenNameIdentifier	 begin
=	TokenNameEQUAL	
end	TokenNameIdentifier	 end
;	TokenNameSEMICOLON	
end	TokenNameIdentifier	 end
=	TokenNameEQUAL	
tmpMark	TokenNameIdentifier	 tmp Mark
;	TokenNameSEMICOLON	
int	TokenNameint	
tmpIndex	TokenNameIdentifier	 tmp Index
=	TokenNameEQUAL	
beginIndex	TokenNameIdentifier	 begin Index
;	TokenNameSEMICOLON	
beginIndex	TokenNameIdentifier	 begin Index
=	TokenNameEQUAL	
endIndex	TokenNameIdentifier	 end Index
;	TokenNameSEMICOLON	
endIndex	TokenNameIdentifier	 end Index
=	TokenNameEQUAL	
tmpIndex	TokenNameIdentifier	 tmp Index
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// get the list of text runs 	TokenNameCOMMENT_LINE	get the list of text runs 
List	TokenNameIdentifier	 List
textRuns	TokenNameIdentifier	 text Runs
=	TokenNameEQUAL	
getTextRuns	TokenNameIdentifier	 get Text Runs
(	TokenNameLPAREN	
textNode	TokenNameIdentifier	 text Node
,	TokenNameCOMMA	
aci	TokenNameIdentifier	 aci
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
GeneralPath	TokenNameIdentifier	 General Path
highlightedShape	TokenNameIdentifier	 highlighted Shape
=	TokenNameEQUAL	
new	TokenNamenew	
GeneralPath	TokenNameIdentifier	 General Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// for each text run, append any highlight it may contain for 	TokenNameCOMMENT_LINE	for each text run, append any highlight it may contain for 
// the current selection 	TokenNameCOMMENT_LINE	the current selection 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
++	TokenNamePLUS_PLUS	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TextRun	TokenNameIdentifier	 Text Run
textRun	TokenNameIdentifier	 text Run
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextRun	TokenNameIdentifier	 Text Run
)	TokenNameRPAREN	
textRuns	TokenNameIdentifier	 text Runs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
layout	TokenNameIdentifier	 layout
=	TokenNameEQUAL	
textRun	TokenNameIdentifier	 text Run
.	TokenNameDOT	
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Shape	TokenNameIdentifier	 Shape
layoutHighlightedShape	TokenNameIdentifier	 layout Highlighted Shape
=	TokenNameEQUAL	
layout	TokenNameIdentifier	 layout
.	TokenNameDOT	
getHighlightShape	TokenNameIdentifier	 get Highlight Shape
(	TokenNameLPAREN	
beginIndex	TokenNameIdentifier	 begin Index
,	TokenNameCOMMA	
endIndex	TokenNameIdentifier	 end Index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// append the highlighted shape of this layout to the 	TokenNameCOMMENT_LINE	append the highlighted shape of this layout to the 
// overall hightlighted shape 	TokenNameCOMMENT_LINE	overall hightlighted shape 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
layoutHighlightedShape	TokenNameIdentifier	 layout Highlighted Shape
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
!	TokenNameNOT	
layoutHighlightedShape	TokenNameIdentifier	 layout Highlighted Shape
.	TokenNameDOT	
getBounds	TokenNameIdentifier	 get Bounds
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
isEmpty	TokenNameIdentifier	 is Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
highlightedShape	TokenNameIdentifier	 highlighted Shape
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
layoutHighlightedShape	TokenNameIdentifier	 layout Highlighted Shape
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
highlightedShape	TokenNameIdentifier	 highlighted Shape
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// inner classes 	TokenNameCOMMENT_LINE	inner classes 
class	TokenNameclass	
TextChunk	TokenNameIdentifier	 Text Chunk
{	TokenNameLBRACE	
public	TokenNamepublic	
int	TokenNameint	
begin	TokenNameIdentifier	 begin
;	TokenNameSEMICOLON	
public	TokenNamepublic	
int	TokenNameint	
end	TokenNameIdentifier	 end
;	TokenNameSEMICOLON	
public	TokenNamepublic	
Point2D	TokenNameIdentifier	 Point2 D
advance	TokenNameIdentifier	 advance
;	TokenNameSEMICOLON	
public	TokenNamepublic	
TextChunk	TokenNameIdentifier	 Text Chunk
(	TokenNameLPAREN	
int	TokenNameint	
begin	TokenNameIdentifier	 begin
,	TokenNameCOMMA	
int	TokenNameint	
end	TokenNameIdentifier	 end
,	TokenNameCOMMA	
Point2D	TokenNameIdentifier	 Point2 D
advance	TokenNameIdentifier	 advance
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
begin	TokenNameIdentifier	 begin
=	TokenNameEQUAL	
begin	TokenNameIdentifier	 begin
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
end	TokenNameIdentifier	 end
=	TokenNameEQUAL	
end	TokenNameIdentifier	 end
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
advance	TokenNameIdentifier	 advance
=	TokenNameEQUAL	
new	TokenNamenew	
Point2D	TokenNameIdentifier	 Point2 D
.	TokenNameDOT	
Float	TokenNameIdentifier	 Float
(	TokenNameLPAREN	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
advance	TokenNameIdentifier	 advance
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
(	TokenNameLPAREN	
float	TokenNamefloat	
)	TokenNameRPAREN	
advance	TokenNameIdentifier	 advance
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Inner convenience class for associating a TextLayout for * sub-spans, and the ACI which iterates over that subspan. */	TokenNameCOMMENT_JAVADOC	 Inner convenience class for associating a TextLayout for sub-spans, and the ACI which iterates over that subspan. 
public	TokenNamepublic	
class	TokenNameclass	
TextRun	TokenNameIdentifier	 Text Run
{	TokenNameLBRACE	
protected	TokenNameprotected	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
layout	TokenNameIdentifier	 layout
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
int	TokenNameint	
anchorType	TokenNameIdentifier	 anchor Type
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
boolean	TokenNameboolean	
firstRunInChunk	TokenNameIdentifier	 first Run In Chunk
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
Float	TokenNameIdentifier	 Float
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
Integer	TokenNameIdentifier	 Integer
lengthAdjust	TokenNameIdentifier	 length Adjust
;	TokenNameSEMICOLON	
public	TokenNamepublic	
TextRun	TokenNameIdentifier	 Text Run
(	TokenNameLPAREN	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
layout	TokenNameIdentifier	 layout
,	TokenNameCOMMA	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
aci	TokenNameIdentifier	 aci
,	TokenNameCOMMA	
boolean	TokenNameboolean	
firstRunInChunk	TokenNameIdentifier	 first Run In Chunk
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
layout	TokenNameIdentifier	 layout
=	TokenNameEQUAL	
layout	TokenNameIdentifier	 layout
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
aci	TokenNameIdentifier	 aci
=	TokenNameEQUAL	
aci	TokenNameIdentifier	 aci
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
first	TokenNameIdentifier	 first
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
firstRunInChunk	TokenNameIdentifier	 first Run In Chunk
=	TokenNameEQUAL	
firstRunInChunk	TokenNameIdentifier	 first Run In Chunk
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
anchorType	TokenNameIdentifier	 anchor Type
=	TokenNameEQUAL	
TextNode	TokenNameIdentifier	 Text Node
.	TokenNameDOT	
Anchor	TokenNameIdentifier	 Anchor
.	TokenNameDOT	
ANCHOR_START	TokenNameIdentifier	 ANCHOR  START
;	TokenNameSEMICOLON	
TextNode	TokenNameIdentifier	 Text Node
.	TokenNameDOT	
Anchor	TokenNameIdentifier	 Anchor
anchor	TokenNameIdentifier	 anchor
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TextNode	TokenNameIdentifier	 Text Node
.	TokenNameDOT	
Anchor	TokenNameIdentifier	 Anchor
)	TokenNameRPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
ANCHOR_TYPE	TokenNameIdentifier	 ANCHOR  TYPE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
anchor	TokenNameIdentifier	 anchor
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
anchorType	TokenNameIdentifier	 anchor Type
=	TokenNameEQUAL	
anchor	TokenNameIdentifier	 anchor
.	TokenNameDOT	
getType	TokenNameIdentifier	 get Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// if writing mode is right to left, then need to reverse the 	TokenNameCOMMENT_LINE	if writing mode is right to left, then need to reverse the 
// text anchor positions 	TokenNameCOMMENT_LINE	text anchor positions 
if	TokenNameif	
(	TokenNameLPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
WRITING_MODE	TokenNameIdentifier	 WRITING  MODE
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
WRITING_MODE_RTL	TokenNameIdentifier	 WRITING  MODE  RTL
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
anchorType	TokenNameIdentifier	 anchor Type
==	TokenNameEQUAL_EQUAL	
TextNode	TokenNameIdentifier	 Text Node
.	TokenNameDOT	
Anchor	TokenNameIdentifier	 Anchor
.	TokenNameDOT	
ANCHOR_START	TokenNameIdentifier	 ANCHOR  START
)	TokenNameRPAREN	
{	TokenNameLBRACE	
anchorType	TokenNameIdentifier	 anchor Type
=	TokenNameEQUAL	
TextNode	TokenNameIdentifier	 Text Node
.	TokenNameDOT	
Anchor	TokenNameIdentifier	 Anchor
.	TokenNameDOT	
ANCHOR_END	TokenNameIdentifier	 ANCHOR  END
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
anchorType	TokenNameIdentifier	 anchor Type
==	TokenNameEQUAL_EQUAL	
TextNode	TokenNameIdentifier	 Text Node
.	TokenNameDOT	
Anchor	TokenNameIdentifier	 Anchor
.	TokenNameDOT	
ANCHOR_END	TokenNameIdentifier	 ANCHOR  END
)	TokenNameRPAREN	
{	TokenNameLBRACE	
anchorType	TokenNameIdentifier	 anchor Type
=	TokenNameEQUAL	
TextNode	TokenNameIdentifier	 Text Node
.	TokenNameDOT	
Anchor	TokenNameIdentifier	 Anchor
.	TokenNameDOT	
ANCHOR_START	TokenNameIdentifier	 ANCHOR  START
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// leave middle as is 	TokenNameCOMMENT_LINE	leave middle as is 
}	TokenNameRBRACE	
length	TokenNameIdentifier	 length
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Float	TokenNameIdentifier	 Float
)	TokenNameRPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
BBOX_WIDTH	TokenNameIdentifier	 BBOX  WIDTH
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lengthAdjust	TokenNameIdentifier	 length Adjust
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Integer	TokenNameIdentifier	 Integer
)	TokenNameRPAREN	
aci	TokenNameIdentifier	 aci
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
GVTAttributedCharacterIterator	TokenNameIdentifier	 GVT Attributed Character Iterator
.	TokenNameDOT	
TextAttribute	TokenNameIdentifier	 Text Attribute
.	TokenNameDOT	
LENGTH_ADJUST	TokenNameIdentifier	 LENGTH  ADJUST
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
AttributedCharacterIterator	TokenNameIdentifier	 Attributed Character Iterator
getACI	TokenNameIdentifier	 get ACI
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
aci	TokenNameIdentifier	 aci
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
TextSpanLayout	TokenNameIdentifier	 Text Span Layout
getLayout	TokenNameIdentifier	 get Layout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
layout	TokenNameIdentifier	 layout
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
int	TokenNameint	
getAnchorType	TokenNameIdentifier	 get Anchor Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
anchorType	TokenNameIdentifier	 anchor Type
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Float	TokenNameIdentifier	 Float
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Integer	TokenNameIdentifier	 Integer
getLengthAdjust	TokenNameIdentifier	 get Length Adjust
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
lengthAdjust	TokenNameIdentifier	 length Adjust
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
boolean	TokenNameboolean	
isFirstRunInChunk	TokenNameIdentifier	 is First Run In Chunk
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
firstRunInChunk	TokenNameIdentifier	 first Run In Chunk
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
