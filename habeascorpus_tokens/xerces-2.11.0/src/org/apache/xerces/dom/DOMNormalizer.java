/* * Licensed to the Apache Software Foundation (ASF) under one or more * contributor license agreements. See the NOTICE file distributed with * this work for additional information regarding copyright ownership. * The ASF licenses this file to You under the Apache License, Version 2.0 * (the "License"); you may not use this file except in compliance with * the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ArrayList	TokenNameIdentifier	 Array List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Vector	TokenNameIdentifier	 Vector
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
Constants	TokenNameIdentifier	 Constants
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
RevalidationHandler	TokenNameIdentifier	 Revalidation Handler
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
dtd	TokenNameIdentifier	 dtd
.	TokenNameDOT	
XMLDTDLoader	TokenNameIdentifier	 XMLDTD Loader
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
dtd	TokenNameIdentifier	 dtd
.	TokenNameDOT	
XMLDTDValidator	TokenNameIdentifier	 XMLDTD Validator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
dv	TokenNameIdentifier	 dv
.	TokenNameDOT	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
SimpleLocator	TokenNameIdentifier	 Simple Locator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
AugmentationsImpl	TokenNameIdentifier	 Augmentations Impl
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
NamespaceSupport	TokenNameIdentifier	 Namespace Support
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
SymbolTable	TokenNameIdentifier	 Symbol Table
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
XML11Char	TokenNameIdentifier	 XM L11 Char
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
XMLChar	TokenNameIdentifier	 XML Char
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
XMLSymbols	TokenNameIdentifier	 XML Symbols
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xni	TokenNameIdentifier	 xni
.	TokenNameDOT	
Augmentations	TokenNameIdentifier	 Augmentations
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xni	TokenNameIdentifier	 xni
.	TokenNameDOT	
NamespaceContext	TokenNameIdentifier	 Namespace Context
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xni	TokenNameIdentifier	 xni
.	TokenNameDOT	
QName	TokenNameIdentifier	 Q Name
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xni	TokenNameIdentifier	 xni
.	TokenNameDOT	
XMLAttributes	TokenNameIdentifier	 XML Attributes
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xni	TokenNameIdentifier	 xni
.	TokenNameDOT	
XMLDocumentHandler	TokenNameIdentifier	 XML Document Handler
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xni	TokenNameIdentifier	 xni
.	TokenNameDOT	
XMLLocator	TokenNameIdentifier	 XML Locator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xni	TokenNameIdentifier	 xni
.	TokenNameDOT	
XMLResourceIdentifier	TokenNameIdentifier	 XML Resource Identifier
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xni	TokenNameIdentifier	 xni
.	TokenNameDOT	
XMLString	TokenNameIdentifier	 XML String
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xni	TokenNameIdentifier	 xni
.	TokenNameDOT	
XNIException	TokenNameIdentifier	 XNI Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xni	TokenNameIdentifier	 xni
.	TokenNameDOT	
grammars	TokenNameIdentifier	 grammars
.	TokenNameDOT	
XMLGrammarDescription	TokenNameIdentifier	 XML Grammar Description
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xni	TokenNameIdentifier	 xni
.	TokenNameDOT	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
XMLComponent	TokenNameIdentifier	 XML Component
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xni	TokenNameIdentifier	 xni
.	TokenNameDOT	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
XMLDocumentSource	TokenNameIdentifier	 XML Document Source
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
AttributePSVI	TokenNameIdentifier	 Attribute PSVI
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
ElementPSVI	TokenNameIdentifier	 Element PSVI
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSTypeDefinition	TokenNameIdentifier	 XS Type Definition
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Attr	TokenNameIdentifier	 Attr
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Comment	TokenNameIdentifier	 Comment
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
DOMError	TokenNameIdentifier	 DOM Error
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
DOMErrorHandler	TokenNameIdentifier	 DOM Error Handler
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Document	TokenNameIdentifier	 Document
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
DocumentType	TokenNameIdentifier	 Document Type
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Element	TokenNameIdentifier	 Element
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Entity	TokenNameIdentifier	 Entity
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
NamedNodeMap	TokenNameIdentifier	 Named Node Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Node	TokenNameIdentifier	 Node
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
NodeList	TokenNameIdentifier	 Node List
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
ProcessingInstruction	TokenNameIdentifier	 Processing Instruction
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Text	TokenNameIdentifier	 Text
;	TokenNameSEMICOLON	
/** * This class adds implementation for normalizeDocument method. * It acts as if the document was going through a save and load cycle, putting * the document in a "normal" form. The actual result depends on the features being set * and governing what operations actually take place. See setNormalizationFeature for details. * Noticeably this method normalizes Text nodes, makes the document "namespace wellformed", * according to the algorithm described below in pseudo code, by adding missing namespace * declaration attributes and adding or changing namespace prefixes, updates the replacement * tree of EntityReference nodes, normalizes attribute values, etc. * Mutation events, when supported, are generated to reflect the changes occuring on the * document. * See Namespace normalization for details on how namespace declaration attributes and prefixes * are normalized. * * NOTE: There is an initial support for DOM revalidation with XML Schema as a grammar. * The tree might not be validated correctly if entityReferences, CDATA sections are * present in the tree. The PSVI information is not exposed, normalized data (including element * default content is not available). * * @xerces.experimental * * @author Elena Litani, IBM * @author Neeraj Bajaj, Sun Microsystems, inc. * @version $Id: DOMNormalizer.java 677489 2008-07-17 02:34:20Z mrglavas $ */	TokenNameCOMMENT_JAVADOC	 This class adds implementation for normalizeDocument method. It acts as if the document was going through a save and load cycle, putting the document in a "normal" form. The actual result depends on the features being set and governing what operations actually take place. See setNormalizationFeature for details. Noticeably this method normalizes Text nodes, makes the document "namespace wellformed", according to the algorithm described below in pseudo code, by adding missing namespace declaration attributes and adding or changing namespace prefixes, updates the replacement tree of EntityReference nodes, normalizes attribute values, etc. Mutation events, when supported, are generated to reflect the changes occuring on the document. See Namespace normalization for details on how namespace declaration attributes and prefixes are normalized. * NOTE: There is an initial support for DOM revalidation with XML Schema as a grammar. The tree might not be validated correctly if entityReferences, CDATA sections are present in the tree. The PSVI information is not exposed, normalized data (including element default content is not available). * @xerces.experimental * @author Elena Litani, IBM @author Neeraj Bajaj, Sun Microsystems, inc. @version $Id: DOMNormalizer.java 677489 2008-07-17 02:34:20Z mrglavas $ 
public	TokenNamepublic	
class	TokenNameclass	
DOMNormalizer	TokenNameIdentifier	 DOM Normalizer
implements	TokenNameimplements	
XMLDocumentHandler	TokenNameIdentifier	 XML Document Handler
{	TokenNameLBRACE	
// 	TokenNameCOMMENT_LINE	 
// constants 	TokenNameCOMMENT_LINE	constants 
// 	TokenNameCOMMENT_LINE	 
/** Debug normalize document*/	TokenNameCOMMENT_JAVADOC	 Debug normalize document
protected	TokenNameprotected	
final	TokenNamefinal	
static	TokenNamestatic	
boolean	TokenNameboolean	
DEBUG_ND	TokenNameIdentifier	 DEBUG  ND
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** Debug namespace fix up algorithm*/	TokenNameCOMMENT_JAVADOC	 Debug namespace fix up algorithm
protected	TokenNameprotected	
final	TokenNamefinal	
static	TokenNamestatic	
boolean	TokenNameboolean	
DEBUG	TokenNameIdentifier	 DEBUG
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** Debug document handler events */	TokenNameCOMMENT_JAVADOC	 Debug document handler events 
protected	TokenNameprotected	
final	TokenNamefinal	
static	TokenNamestatic	
boolean	TokenNameboolean	
DEBUG_EVENTS	TokenNameIdentifier	 DEBUG  EVENTS
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** prefix added by namespace fixup algorithm should follow a pattern "NS" + index*/	TokenNameCOMMENT_JAVADOC	 prefix added by namespace fixup algorithm should follow a pattern "NS" + index
protected	TokenNameprotected	
final	TokenNamefinal	
static	TokenNamestatic	
String	TokenNameIdentifier	 String
PREFIX	TokenNameIdentifier	 PREFIX
=	TokenNameEQUAL	
"NS"	TokenNameStringLiteral	NS
;	TokenNameSEMICOLON	
// 	TokenNameCOMMENT_LINE	 
// Data 	TokenNameCOMMENT_LINE	Data 
// 	TokenNameCOMMENT_LINE	 
protected	TokenNameprotected	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
fConfiguration	TokenNameIdentifier	 f Configuration
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
CoreDocumentImpl	TokenNameIdentifier	 Core Document Impl
fDocument	TokenNameIdentifier	 f Document
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
final	TokenNamefinal	
XMLAttributesProxy	TokenNameIdentifier	 XML Attributes Proxy
fAttrProxy	TokenNameIdentifier	 f Attr Proxy
=	TokenNameEQUAL	
new	TokenNamenew	
XMLAttributesProxy	TokenNameIdentifier	 XML Attributes Proxy
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
final	TokenNamefinal	
QName	TokenNameIdentifier	 Q Name
fQName	TokenNameIdentifier	 f Q Name
=	TokenNameEQUAL	
new	TokenNamenew	
QName	TokenNameIdentifier	 Q Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** Validation handler represents validator instance. */	TokenNameCOMMENT_JAVADOC	 Validation handler represents validator instance. 
protected	TokenNameprotected	
RevalidationHandler	TokenNameIdentifier	 Revalidation Handler
fValidationHandler	TokenNameIdentifier	 f Validation Handler
;	TokenNameSEMICOLON	
/** symbol table */	TokenNameCOMMENT_JAVADOC	 symbol table 
protected	TokenNameprotected	
SymbolTable	TokenNameIdentifier	 Symbol Table
fSymbolTable	TokenNameIdentifier	 f Symbol Table
;	TokenNameSEMICOLON	
/** error handler. may be null. */	TokenNameCOMMENT_JAVADOC	 error handler. may be null. 
protected	TokenNameprotected	
DOMErrorHandler	TokenNameIdentifier	 DOM Error Handler
fErrorHandler	TokenNameIdentifier	 f Error Handler
;	TokenNameSEMICOLON	
/** * Cached {@link DOMError} impl. * The same object is re-used to report multiple errors. */	TokenNameCOMMENT_JAVADOC	 Cached {@link DOMError} impl. The same object is re-used to report multiple errors. 
private	TokenNameprivate	
final	TokenNamefinal	
DOMErrorImpl	TokenNameIdentifier	 DOM Error Impl
fError	TokenNameIdentifier	 f Error
=	TokenNameEQUAL	
new	TokenNamenew	
DOMErrorImpl	TokenNameIdentifier	 DOM Error Impl
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Validation against namespace aware grammar 	TokenNameCOMMENT_LINE	Validation against namespace aware grammar 
protected	TokenNameprotected	
boolean	TokenNameboolean	
fNamespaceValidation	TokenNameIdentifier	 f Namespace Validation
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
// Update PSVI information in the tree 	TokenNameCOMMENT_LINE	Update PSVI information in the tree 
protected	TokenNameprotected	
boolean	TokenNameboolean	
fPSVI	TokenNameIdentifier	 f PSVI
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** The namespace context of this document: stores namespaces in scope */	TokenNameCOMMENT_JAVADOC	 The namespace context of this document: stores namespaces in scope 
protected	TokenNameprotected	
final	TokenNamefinal	
NamespaceContext	TokenNameIdentifier	 Namespace Context
fNamespaceContext	TokenNameIdentifier	 f Namespace Context
=	TokenNameEQUAL	
new	TokenNamenew	
NamespaceSupport	TokenNameIdentifier	 Namespace Support
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** Stores all namespace bindings on the current element */	TokenNameCOMMENT_JAVADOC	 Stores all namespace bindings on the current element 
protected	TokenNameprotected	
final	TokenNamefinal	
NamespaceContext	TokenNameIdentifier	 Namespace Context
fLocalNSBinder	TokenNameIdentifier	 f Local NS Binder
=	TokenNameEQUAL	
new	TokenNamenew	
NamespaceSupport	TokenNameIdentifier	 Namespace Support
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** list of attributes */	TokenNameCOMMENT_JAVADOC	 list of attributes 
protected	TokenNameprotected	
final	TokenNamefinal	
ArrayList	TokenNameIdentifier	 Array List
fAttributeList	TokenNameIdentifier	 f Attribute List
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
(	TokenNameLPAREN	
5	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** DOM Locator - for namespace fixup algorithm */	TokenNameCOMMENT_JAVADOC	 DOM Locator - for namespace fixup algorithm 
protected	TokenNameprotected	
final	TokenNamefinal	
DOMLocatorImpl	TokenNameIdentifier	 DOM Locator Impl
fLocator	TokenNameIdentifier	 f Locator
=	TokenNameEQUAL	
new	TokenNamenew	
DOMLocatorImpl	TokenNameIdentifier	 DOM Locator Impl
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** for setting the PSVI */	TokenNameCOMMENT_JAVADOC	 for setting the PSVI 
protected	TokenNameprotected	
Node	TokenNameIdentifier	 Node
fCurrentNode	TokenNameIdentifier	 f Current Node
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
QName	TokenNameIdentifier	 Q Name
fAttrQName	TokenNameIdentifier	 f Attr Q Name
=	TokenNameEQUAL	
new	TokenNamenew	
QName	TokenNameIdentifier	 Q Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// attribute value normalization 	TokenNameCOMMENT_LINE	attribute value normalization 
final	TokenNamefinal	
XMLString	TokenNameIdentifier	 XML String
fNormalizedValue	TokenNameIdentifier	 f Normalized Value
=	TokenNameEQUAL	
new	TokenNamenew	
XMLString	TokenNameIdentifier	 XML String
(	TokenNameLPAREN	
new	TokenNamenew	
char	TokenNamechar	
[	TokenNameLBRACKET	
16	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * If the user stops the process, this exception will be thrown. */	TokenNameCOMMENT_JAVADOC	 If the user stops the process, this exception will be thrown. 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
RuntimeException	TokenNameIdentifier	 Runtime Exception
abort	TokenNameIdentifier	 abort
=	TokenNameEQUAL	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** Empty string to pass to the validator. **/	TokenNameCOMMENT_JAVADOC	 Empty string to pass to the validator. *
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
XMLString	TokenNameIdentifier	 XML String
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
=	TokenNameEQUAL	
new	TokenNamenew	
XMLString	TokenNameIdentifier	 XML String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Check if element content is all "ignorable whitespace" 	TokenNameCOMMENT_LINE	Check if element content is all "ignorable whitespace" 
private	TokenNameprivate	
boolean	TokenNameboolean	
fAllWhitespace	TokenNameIdentifier	 f All Whitespace
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
// Constructor 	TokenNameCOMMENT_LINE	Constructor 
// 	TokenNameCOMMENT_LINE	 
public	TokenNamepublic	
DOMNormalizer	TokenNameIdentifier	 DOM Normalizer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * Normalizes document. * Note: reset() must be called before this method. */	TokenNameCOMMENT_JAVADOC	 Normalizes document. Note: reset() must be called before this method. 
protected	TokenNameprotected	
void	TokenNamevoid	
normalizeDocument	TokenNameIdentifier	 normalize Document
(	TokenNameLPAREN	
CoreDocumentImpl	TokenNameIdentifier	 Core Document Impl
document	TokenNameIdentifier	 document
,	TokenNameCOMMA	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
config	TokenNameIdentifier	 config
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fDocument	TokenNameIdentifier	 f Document
=	TokenNameEQUAL	
document	TokenNameIdentifier	 document
;	TokenNameSEMICOLON	
fConfiguration	TokenNameIdentifier	 f Configuration
=	TokenNameEQUAL	
config	TokenNameIdentifier	 config
;	TokenNameSEMICOLON	
fAllWhitespace	TokenNameIdentifier	 f All Whitespace
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
fNamespaceValidation	TokenNameIdentifier	 f Namespace Validation
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
xmlVersion	TokenNameIdentifier	 xml Version
=	TokenNameEQUAL	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
getXmlVersion	TokenNameIdentifier	 get Xml Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
schemaType	TokenNameIdentifier	 schema Type
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
schemaLocations	TokenNameIdentifier	 schema Locations
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// intialize and reset DOMNormalizer component 	TokenNameCOMMENT_LINE	intialize and reset DOMNormalizer component 
// 	TokenNameCOMMENT_LINE	 
fSymbolTable	TokenNameIdentifier	 f Symbol Table
=	TokenNameEQUAL	
(	TokenNameLPAREN	
SymbolTable	TokenNameIdentifier	 Symbol Table
)	TokenNameRPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
SYMBOL_TABLE	TokenNameIdentifier	 SYMBOL  TABLE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// reset namespace context 	TokenNameCOMMENT_LINE	reset namespace context 
fNamespaceContext	TokenNameIdentifier	 f Namespace Context
.	TokenNameDOT	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fNamespaceContext	TokenNameIdentifier	 f Namespace Context
.	TokenNameDOT	
declarePrefix	TokenNameIdentifier	 declare Prefix
(	TokenNameLPAREN	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
VALIDATE	TokenNameIdentifier	 VALIDATE
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
schemaLang	TokenNameIdentifier	 schema Lang
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
JAXP_SCHEMA_LANGUAGE	TokenNameIdentifier	 JAXP  SCHEMA  LANGUAGE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
schemaLang	TokenNameIdentifier	 schema Lang
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
schemaLang	TokenNameIdentifier	 schema Lang
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
Constants	TokenNameIdentifier	 Constants
.	TokenNameDOT	
NS_XMLSCHEMA	TokenNameIdentifier	 NS  XMLSCHEMA
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
schemaType	TokenNameIdentifier	 schema Type
=	TokenNameEQUAL	
XMLGrammarDescription	TokenNameIdentifier	 XML Grammar Description
.	TokenNameDOT	
XML_SCHEMA	TokenNameIdentifier	 XML  SCHEMA
;	TokenNameSEMICOLON	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
=	TokenNameEQUAL	
CoreDOMImplementationImpl	TokenNameIdentifier	 Core DOM Implementation Impl
.	TokenNameDOT	
singleton	TokenNameIdentifier	 singleton
.	TokenNameDOT	
getValidator	TokenNameIdentifier	 get Validator
(	TokenNameLPAREN	
schemaType	TokenNameIdentifier	 schema Type
,	TokenNameCOMMA	
xmlVersion	TokenNameIdentifier	 xml Version
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
setFeature	TokenNameIdentifier	 set Feature
(	TokenNameLPAREN	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
SCHEMA	TokenNameIdentifier	 SCHEMA
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
setFeature	TokenNameIdentifier	 set Feature
(	TokenNameLPAREN	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
SCHEMA_FULL_CHECKING	TokenNameIdentifier	 SCHEMA  FULL  CHECKING
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// report fatal error on DOM Level 1 nodes 	TokenNameCOMMENT_LINE	report fatal error on DOM Level 1 nodes 
fNamespaceValidation	TokenNameIdentifier	 f Namespace Validation
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
// check if we need to fill in PSVI 	TokenNameCOMMENT_LINE	check if we need to fill in PSVI 
fPSVI	TokenNameIdentifier	 f PSVI
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
PSVI	TokenNameIdentifier	 PSVI
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
true	TokenNametrue	
:	TokenNameCOLON	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
schemaType	TokenNameIdentifier	 schema Type
=	TokenNameEQUAL	
XMLGrammarDescription	TokenNameIdentifier	 XML Grammar Description
.	TokenNameDOT	
XML_DTD	TokenNameIdentifier	 XML  DTD
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
schemaLang	TokenNameIdentifier	 schema Lang
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
schemaLocations	TokenNameIdentifier	 schema Locations
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
JAXP_SCHEMA_SOURCE	TokenNameIdentifier	 JAXP  SCHEMA  SOURCE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
setDTDValidatorFactory	TokenNameIdentifier	 set DTD Validator Factory
(	TokenNameLPAREN	
xmlVersion	TokenNameIdentifier	 xml Version
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
=	TokenNameEQUAL	
CoreDOMImplementationImpl	TokenNameIdentifier	 Core DOM Implementation Impl
.	TokenNameDOT	
singleton	TokenNameIdentifier	 singleton
.	TokenNameDOT	
getValidator	TokenNameIdentifier	 get Validator
(	TokenNameLPAREN	
schemaType	TokenNameIdentifier	 schema Type
,	TokenNameCOMMA	
xmlVersion	TokenNameIdentifier	 xml Version
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fPSVI	TokenNameIdentifier	 f PSVI
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
setFeature	TokenNameIdentifier	 set Feature
(	TokenNameLPAREN	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
XERCES_VALIDATION	TokenNameIdentifier	 XERCES  VALIDATION
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// reset ID table 	TokenNameCOMMENT_LINE	reset ID table 
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
clearIdentifiers	TokenNameIdentifier	 clear Identifiers
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// reset the validation handler 	TokenNameCOMMENT_LINE	reset the validation handler 
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XMLComponent	TokenNameIdentifier	 XML Component
)	TokenNameRPAREN	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
)	TokenNameRPAREN	
.	TokenNameDOT	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
fErrorHandler	TokenNameIdentifier	 f Error Handler
=	TokenNameEQUAL	
(	TokenNameLPAREN	
DOMErrorHandler	TokenNameIdentifier	 DOM Error Handler
)	TokenNameRPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
getParameter	TokenNameIdentifier	 get Parameter
(	TokenNameLPAREN	
Constants	TokenNameIdentifier	 Constants
.	TokenNameDOT	
DOM_ERROR_HANDLER	TokenNameIdentifier	 DOM  ERROR  HANDLER
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
.	TokenNameDOT	
setDocumentHandler	TokenNameIdentifier	 set Document Handler
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
.	TokenNameDOT	
startDocument	TokenNameIdentifier	 start Document
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleLocator	TokenNameIdentifier	 Simple Locator
(	TokenNameLPAREN	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
fDocumentURI	TokenNameIdentifier	 f Document URI
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
fDocumentURI	TokenNameIdentifier	 f Document URI
,	TokenNameCOMMA	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
encoding	TokenNameIdentifier	 encoding
,	TokenNameCOMMA	
fNamespaceContext	TokenNameIdentifier	 f Namespace Context
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
.	TokenNameDOT	
xmlDecl	TokenNameIdentifier	 xml Decl
(	TokenNameLPAREN	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
getXmlVersion	TokenNameIdentifier	 get Xml Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
getXmlEncoding	TokenNameIdentifier	 get Xml Encoding
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
getXmlStandalone	TokenNameIdentifier	 get Xml Standalone
(	TokenNameLPAREN	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
"yes"	TokenNameStringLiteral	yes
:	TokenNameCOLON	
"no"	TokenNameStringLiteral	no
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
schemaType	TokenNameIdentifier	 schema Type
==	TokenNameEQUAL_EQUAL	
XMLGrammarDescription	TokenNameIdentifier	 XML Grammar Description
.	TokenNameDOT	
XML_DTD	TokenNameIdentifier	 XML  DTD
)	TokenNameRPAREN	
{	TokenNameLBRACE	
processDTD	TokenNameIdentifier	 process DTD
(	TokenNameLPAREN	
xmlVersion	TokenNameIdentifier	 xml Version
,	TokenNameCOMMA	
schemaLocations	TokenNameIdentifier	 schema Locations
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
schemaLocations	TokenNameIdentifier	 schema Locations
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
:	TokenNameCOLON	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Node	TokenNameIdentifier	 Node
kid	TokenNameIdentifier	 kid
,	TokenNameCOMMA	
next	TokenNameIdentifier	 next
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
kid	TokenNameIdentifier	 kid
=	TokenNameEQUAL	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
getFirstChild	TokenNameIdentifier	 get First Child
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
kid	TokenNameIdentifier	 kid
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
kid	TokenNameIdentifier	 kid
=	TokenNameEQUAL	
next	TokenNameIdentifier	 next
)	TokenNameRPAREN	
{	TokenNameLBRACE	
next	TokenNameIdentifier	 next
=	TokenNameEQUAL	
kid	TokenNameIdentifier	 kid
.	TokenNameDOT	
getNextSibling	TokenNameIdentifier	 get Next Sibling
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
kid	TokenNameIdentifier	 kid
=	TokenNameEQUAL	
normalizeNode	TokenNameIdentifier	 normalize Node
(	TokenNameLPAREN	
kid	TokenNameIdentifier	 kid
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
kid	TokenNameIdentifier	 kid
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// don't advance 	TokenNameCOMMENT_LINE	don't advance 
next	TokenNameIdentifier	 next
=	TokenNameEQUAL	
kid	TokenNameIdentifier	 kid
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// release resources 	TokenNameCOMMENT_LINE	release resources 
if	TokenNameif	
(	TokenNameLPAREN	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
.	TokenNameDOT	
endDocument	TokenNameIdentifier	 end Document
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
.	TokenNameDOT	
setDocumentHandler	TokenNameIdentifier	 set Document Handler
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
CoreDOMImplementationImpl	TokenNameIdentifier	 Core DOM Implementation Impl
.	TokenNameDOT	
singleton	TokenNameIdentifier	 singleton
.	TokenNameDOT	
releaseValidator	TokenNameIdentifier	 release Validator
(	TokenNameLPAREN	
schemaType	TokenNameIdentifier	 schema Type
,	TokenNameCOMMA	
xmlVersion	TokenNameIdentifier	 xml Version
,	TokenNameCOMMA	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
RuntimeException	TokenNameIdentifier	 Runtime Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// release resources 	TokenNameCOMMENT_LINE	release resources 
if	TokenNameif	
(	TokenNameLPAREN	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
.	TokenNameDOT	
setDocumentHandler	TokenNameIdentifier	 set Document Handler
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
CoreDOMImplementationImpl	TokenNameIdentifier	 Core DOM Implementation Impl
.	TokenNameDOT	
singleton	TokenNameIdentifier	 singleton
.	TokenNameDOT	
releaseValidator	TokenNameIdentifier	 release Validator
(	TokenNameLPAREN	
schemaType	TokenNameIdentifier	 schema Type
,	TokenNameCOMMA	
xmlVersion	TokenNameIdentifier	 xml Version
,	TokenNameCOMMA	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
==	TokenNameEQUAL_EQUAL	
abort	TokenNameIdentifier	 abort
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
// processing aborted by the user 	TokenNameCOMMENT_LINE	processing aborted by the user 
}	TokenNameRBRACE	
throw	TokenNamethrow	
e	TokenNameIdentifier	 e
;	TokenNameSEMICOLON	
// otherwise re-throw. 	TokenNameCOMMENT_LINE	otherwise re-throw. 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * * This method acts as if the document was going through a save * and load cycle, putting the document in a "normal" form. The actual result * depends on the features being set and governing what operations actually * take place. See setNormalizationFeature for details. Noticeably this method * normalizes Text nodes, makes the document "namespace wellformed", * according to the algorithm described below in pseudo code, by adding missing * namespace declaration attributes and adding or changing namespace prefixes, updates * the replacement tree of EntityReference nodes,normalizes attribute values, etc. * * @param node Modified node or null. If node is returned, we need * to normalize again starting on the node returned. * @return the normalized Node */	TokenNameCOMMENT_JAVADOC	 * This method acts as if the document was going through a save and load cycle, putting the document in a "normal" form. The actual result depends on the features being set and governing what operations actually take place. See setNormalizationFeature for details. Noticeably this method normalizes Text nodes, makes the document "namespace wellformed", according to the algorithm described below in pseudo code, by adding missing namespace declaration attributes and adding or changing namespace prefixes, updates the replacement tree of EntityReference nodes,normalizes attribute values, etc. * @param node Modified node or null. If node is returned, we need to normalize again starting on the node returned. @return the normalized Node 
protected	TokenNameprotected	
Node	TokenNameIdentifier	 Node
normalizeNode	TokenNameIdentifier	 normalize Node
(	TokenNameLPAREN	
Node	TokenNameIdentifier	 Node
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
type	TokenNameIdentifier	 type
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeType	TokenNameIdentifier	 get Node Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
wellformed	TokenNameIdentifier	 wellformed
;	TokenNameSEMICOLON	
fLocator	TokenNameIdentifier	 f Locator
.	TokenNameDOT	
fRelatedNode	TokenNameIdentifier	 f Related Node
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
;	TokenNameSEMICOLON	
switch	TokenNameswitch	
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
case	TokenNamecase	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
DOCUMENT_TYPE_NODE	TokenNameIdentifier	 DOCUMENT  TYPE  NODE
:	TokenNameCOLON	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG_ND	TokenNameIdentifier	 DEBUG  ND
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"==>normalizeNode:{doctype}"	TokenNameStringLiteral	==>normalizeNode:{doctype}
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// REVISIT: well-formedness encoding info 	TokenNameCOMMENT_LINE	REVISIT: well-formedness encoding info 
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
case	TokenNamecase	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
ELEMENT_NODE	TokenNameIdentifier	 ELEMENT  NODE
:	TokenNameCOLON	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG_ND	TokenNameIdentifier	 DEBUG  ND
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"==>normalizeNode:{element} "	TokenNameStringLiteral	==>normalizeNode:{element} 
+	TokenNamePLUS	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
//do the name check only when version of the document was changed & 	TokenNameCOMMENT_LINE	do the name check only when version of the document was changed & 
//application has set the value of well-formed features to true 	TokenNameCOMMENT_LINE	application has set the value of well-formed features to true 
if	TokenNameif	
(	TokenNameLPAREN	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
errorChecking	TokenNameIdentifier	 error Checking
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
WELLFORMED	TokenNameIdentifier	 WELLFORMED
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXMLVersionChanged	TokenNameIdentifier	 is XML Version Changed
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fNamespaceValidation	TokenNameIdentifier	 f Namespace Validation
)	TokenNameRPAREN	
{	TokenNameLBRACE	
wellformed	TokenNameIdentifier	 wellformed
=	TokenNameEQUAL	
CoreDocumentImpl	TokenNameIdentifier	 Core Document Impl
.	TokenNameDOT	
isValidQName	TokenNameIdentifier	 is Valid Q Name
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getPrefix	TokenNameIdentifier	 get Prefix
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
wellformed	TokenNameIdentifier	 wellformed
=	TokenNameEQUAL	
CoreDocumentImpl	TokenNameIdentifier	 Core Document Impl
.	TokenNameDOT	
isXMLName	TokenNameIdentifier	 is XML Name
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
wellformed	TokenNameIdentifier	 wellformed
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
DOM_DOMAIN	TokenNameIdentifier	 DOM  DOMAIN
,	TokenNameCOMMA	
"wf-invalid-character-in-node-name"	TokenNameStringLiteral	wf-invalid-character-in-node-name
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"Element"	TokenNameStringLiteral	Element
,	TokenNameCOMMA	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"wf-invalid-character-in-node-name"	TokenNameStringLiteral	wf-invalid-character-in-node-name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// push namespace context 	TokenNameCOMMENT_LINE	push namespace context 
fNamespaceContext	TokenNameIdentifier	 f Namespace Context
.	TokenNameDOT	
pushContext	TokenNameIdentifier	 push Context
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fLocalNSBinder	TokenNameIdentifier	 f Local NS Binder
.	TokenNameDOT	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ElementImpl	TokenNameIdentifier	 Element Impl
elem	TokenNameIdentifier	 elem
=	TokenNameEQUAL	
(	TokenNameLPAREN	
ElementImpl	TokenNameIdentifier	 Element Impl
)	TokenNameRPAREN	
node	TokenNameIdentifier	 node
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
elem	TokenNameIdentifier	 elem
.	TokenNameDOT	
needsSyncChildren	TokenNameIdentifier	 needs Sync Children
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
elem	TokenNameIdentifier	 elem
.	TokenNameDOT	
synchronizeChildren	TokenNameIdentifier	 synchronize Children
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
AttributeMap	TokenNameIdentifier	 Attribute Map
attributes	TokenNameIdentifier	 attributes
=	TokenNameEQUAL	
(	TokenNameLPAREN	
elem	TokenNameIdentifier	 elem
.	TokenNameDOT	
hasAttributes	TokenNameIdentifier	 has Attributes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
(	TokenNameLPAREN	
AttributeMap	TokenNameIdentifier	 Attribute Map
)	TokenNameRPAREN	
elem	TokenNameIdentifier	 elem
.	TokenNameDOT	
getAttributes	TokenNameIdentifier	 get Attributes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// fix namespaces and remove default attributes 	TokenNameCOMMENT_LINE	fix namespaces and remove default attributes 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
NAMESPACES	TokenNameIdentifier	 NAMESPACES
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// fix namespaces 	TokenNameCOMMENT_LINE	fix namespaces 
// normalize attribute values 	TokenNameCOMMENT_LINE	normalize attribute values 
// remove default attributes 	TokenNameCOMMENT_LINE	remove default attributes 
namespaceFixUp	TokenNameIdentifier	 namespace Fix Up
(	TokenNameLPAREN	
elem	TokenNameIdentifier	 elem
,	TokenNameCOMMA	
attributes	TokenNameIdentifier	 attributes
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
NSDECL	TokenNameIdentifier	 NSDECL
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
&&	TokenNameAND_AND	
attributes	TokenNameIdentifier	 attributes
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
attributes	TokenNameIdentifier	 attributes
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
++	TokenNamePLUS_PLUS	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Attr	TokenNameIdentifier	 Attr
att	TokenNameIdentifier	 att
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Attr	TokenNameIdentifier	 Attr
)	TokenNameRPAREN	
attributes	TokenNameIdentifier	 attributes
.	TokenNameDOT	
getItem	TokenNameIdentifier	 get Item
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
PREFIX_XMLNS	TokenNameIdentifier	 PREFIX  XMLNS
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
att	TokenNameIdentifier	 att
.	TokenNameDOT	
getPrefix	TokenNameIdentifier	 get Prefix
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
PREFIX_XMLNS	TokenNameIdentifier	 PREFIX  XMLNS
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
att	TokenNameIdentifier	 att
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
elem	TokenNameIdentifier	 elem
.	TokenNameDOT	
removeAttributeNode	TokenNameIdentifier	 remove Attribute Node
(	TokenNameLPAREN	
att	TokenNameIdentifier	 att
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
--	TokenNameMINUS_MINUS	
i	TokenNameIdentifier	 i
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
attributes	TokenNameIdentifier	 attributes
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
attributes	TokenNameIdentifier	 attributes
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
++	TokenNamePLUS_PLUS	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Attr	TokenNameIdentifier	 Attr
attr	TokenNameIdentifier	 attr
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Attr	TokenNameIdentifier	 Attr
)	TokenNameRPAREN	
attributes	TokenNameIdentifier	 attributes
.	TokenNameDOT	
item	TokenNameIdentifier	 item
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//removeDefault(attr, attributes); 	TokenNameCOMMENT_LINE	removeDefault(attr, attributes); 
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
normalize	TokenNameIdentifier	 normalize
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
errorChecking	TokenNameIdentifier	 error Checking
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
WELLFORMED	TokenNameIdentifier	 WELLFORMED
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
isAttrValueWF	TokenNameIdentifier	 is Attr Value WF
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
attributes	TokenNameIdentifier	 attributes
,	TokenNameCOMMA	
attr	TokenNameIdentifier	 attr
,	TokenNameCOMMA	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXMLVersionChanged	TokenNameIdentifier	 is XML Version Changed
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fNamespaceValidation	TokenNameIdentifier	 f Namespace Validation
)	TokenNameRPAREN	
{	TokenNameLBRACE	
wellformed	TokenNameIdentifier	 wellformed
=	TokenNameEQUAL	
CoreDocumentImpl	TokenNameIdentifier	 Core Document Impl
.	TokenNameDOT	
isValidQName	TokenNameIdentifier	 is Valid Q Name
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getPrefix	TokenNameIdentifier	 get Prefix
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
wellformed	TokenNameIdentifier	 wellformed
=	TokenNameEQUAL	
CoreDocumentImpl	TokenNameIdentifier	 Core Document Impl
.	TokenNameDOT	
isXMLName	TokenNameIdentifier	 is XML Name
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
wellformed	TokenNameIdentifier	 wellformed
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
DOM_DOMAIN	TokenNameIdentifier	 DOM  DOMAIN
,	TokenNameCOMMA	
"wf-invalid-character-in-node-name"	TokenNameStringLiteral	wf-invalid-character-in-node-name
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"Attr"	TokenNameStringLiteral	Attr
,	TokenNameCOMMA	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"wf-invalid-character-in-node-name"	TokenNameStringLiteral	wf-invalid-character-in-node-name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// REVISIT: possible solutions to discard default content are: 	TokenNameCOMMENT_LINE	REVISIT: possible solutions to discard default content are: 
// either we pass some flag to XML Schema validator 	TokenNameCOMMENT_LINE	either we pass some flag to XML Schema validator 
// or rely on the PSVI information. 	TokenNameCOMMENT_LINE	or rely on the PSVI information. 
fAttrProxy	TokenNameIdentifier	 f Attr Proxy
.	TokenNameDOT	
setAttributes	TokenNameIdentifier	 set Attributes
(	TokenNameLPAREN	
attributes	TokenNameIdentifier	 attributes
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
,	TokenNameCOMMA	
elem	TokenNameIdentifier	 elem
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
updateQName	TokenNameIdentifier	 update Q Name
(	TokenNameLPAREN	
elem	TokenNameIdentifier	 elem
,	TokenNameCOMMA	
fQName	TokenNameIdentifier	 f Q Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// updates global qname 	TokenNameCOMMENT_LINE	updates global qname 
// set error node in the dom error wrapper 	TokenNameCOMMENT_LINE	set error node in the dom error wrapper 
// so if error occurs we can report an error node 	TokenNameCOMMENT_LINE	so if error occurs we can report an error node 
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
fErrorHandlerWrapper	TokenNameIdentifier	 f Error Handler Wrapper
.	TokenNameDOT	
fCurrentNode	TokenNameIdentifier	 f Current Node
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
;	TokenNameSEMICOLON	
fCurrentNode	TokenNameIdentifier	 f Current Node
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
;	TokenNameSEMICOLON	
// call re-validation handler 	TokenNameCOMMENT_LINE	call re-validation handler 
fValidationHandler	TokenNameIdentifier	 f Validation Handler
.	TokenNameDOT	
startElement	TokenNameIdentifier	 start Element
(	TokenNameLPAREN	
fQName	TokenNameIdentifier	 f Q Name
,	TokenNameCOMMA	
fAttrProxy	TokenNameIdentifier	 f Attr Proxy
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// normalize children 	TokenNameCOMMENT_LINE	normalize children 
Node	TokenNameIdentifier	 Node
kid	TokenNameIdentifier	 kid
,	TokenNameCOMMA	
next	TokenNameIdentifier	 next
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
kid	TokenNameIdentifier	 kid
=	TokenNameEQUAL	
elem	TokenNameIdentifier	 elem
.	TokenNameDOT	
getFirstChild	TokenNameIdentifier	 get First Child
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
kid	TokenNameIdentifier	 kid
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
kid	TokenNameIdentifier	 kid
=	TokenNameEQUAL	
next	TokenNameIdentifier	 next
)	TokenNameRPAREN	
{	TokenNameLBRACE	
next	TokenNameIdentifier	 next
=	TokenNameEQUAL	
kid	TokenNameIdentifier	 kid
.	TokenNameDOT	
getNextSibling	TokenNameIdentifier	 get Next Sibling
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
kid	TokenNameIdentifier	 kid
=	TokenNameEQUAL	
normalizeNode	TokenNameIdentifier	 normalize Node
(	TokenNameLPAREN	
kid	TokenNameIdentifier	 kid
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
kid	TokenNameIdentifier	 kid
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
next	TokenNameIdentifier	 next
=	TokenNameEQUAL	
kid	TokenNameIdentifier	 kid
;	TokenNameSEMICOLON	
// don't advance 	TokenNameCOMMENT_LINE	don't advance 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG_ND	TokenNameIdentifier	 DEBUG  ND
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// normalized subtree 	TokenNameCOMMENT_LINE	normalized subtree 
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"***The children of {"	TokenNameStringLiteral	***The children of {
+	TokenNamePLUS	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
"} are normalized"	TokenNameStringLiteral	} are normalized
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
kid	TokenNameIdentifier	 kid
=	TokenNameEQUAL	
elem	TokenNameIdentifier	 elem
.	TokenNameDOT	
getFirstChild	TokenNameIdentifier	 get First Child
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
kid	TokenNameIdentifier	 kid
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
kid	TokenNameIdentifier	 kid
=	TokenNameEQUAL	
next	TokenNameIdentifier	 next
)	TokenNameRPAREN	
{	TokenNameLBRACE	
next	TokenNameIdentifier	 next
=	TokenNameEQUAL	
kid	TokenNameIdentifier	 kid
.	TokenNameDOT	
getNextSibling	TokenNameIdentifier	 get Next Sibling
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
kid	TokenNameIdentifier	 kid
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
"["	TokenNameStringLiteral	[
+	TokenNamePLUS	
kid	TokenNameIdentifier	 kid
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
"]"	TokenNameStringLiteral	]
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
updateQName	TokenNameIdentifier	 update Q Name
(	TokenNameLPAREN	
elem	TokenNameIdentifier	 elem
,	TokenNameCOMMA	
fQName	TokenNameIdentifier	 f Q Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// updates global qname 	TokenNameCOMMENT_LINE	updates global qname 
// 	TokenNameCOMMENT_LINE	 
// set error node in the dom error wrapper 	TokenNameCOMMENT_LINE	set error node in the dom error wrapper 
// so if error occurs we can report an error node 	TokenNameCOMMENT_LINE	so if error occurs we can report an error node 
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
fErrorHandlerWrapper	TokenNameIdentifier	 f Error Handler Wrapper
.	TokenNameDOT	
fCurrentNode	TokenNameIdentifier	 f Current Node
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
;	TokenNameSEMICOLON	
fCurrentNode	TokenNameIdentifier	 f Current Node
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
;	TokenNameSEMICOLON	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
.	TokenNameDOT	
endElement	TokenNameIdentifier	 end Element
(	TokenNameLPAREN	
fQName	TokenNameIdentifier	 f Q Name
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// pop namespace context 	TokenNameCOMMENT_LINE	pop namespace context 
fNamespaceContext	TokenNameIdentifier	 f Namespace Context
.	TokenNameDOT	
popContext	TokenNameIdentifier	 pop Context
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
case	TokenNamecase	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
COMMENT_NODE	TokenNameIdentifier	 COMMENT  NODE
:	TokenNameCOLON	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG_ND	TokenNameIdentifier	 DEBUG  ND
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"==>normalizeNode:{comments}"	TokenNameStringLiteral	==>normalizeNode:{comments}
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
COMMENTS	TokenNameIdentifier	 COMMENTS
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Node	TokenNameIdentifier	 Node
prevSibling	TokenNameIdentifier	 prev Sibling
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getPreviousSibling	TokenNameIdentifier	 get Previous Sibling
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
parent	TokenNameIdentifier	 parent
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getParentNode	TokenNameIdentifier	 get Parent Node
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// remove the comment node 	TokenNameCOMMENT_LINE	remove the comment node 
parent	TokenNameIdentifier	 parent
.	TokenNameDOT	
removeChild	TokenNameIdentifier	 remove Child
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
prevSibling	TokenNameIdentifier	 prev Sibling
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
prevSibling	TokenNameIdentifier	 prev Sibling
.	TokenNameDOT	
getNodeType	TokenNameIdentifier	 get Node Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Node	TokenNameIdentifier	 Node
nextSibling	TokenNameIdentifier	 next Sibling
=	TokenNameEQUAL	
prevSibling	TokenNameIdentifier	 prev Sibling
.	TokenNameDOT	
getNextSibling	TokenNameIdentifier	 get Next Sibling
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
nextSibling	TokenNameIdentifier	 next Sibling
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
nextSibling	TokenNameIdentifier	 next Sibling
.	TokenNameDOT	
getNodeType	TokenNameIdentifier	 get Node Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
TextImpl	TokenNameIdentifier	 Text Impl
)	TokenNameRPAREN	
nextSibling	TokenNameIdentifier	 next Sibling
)	TokenNameRPAREN	
.	TokenNameDOT	
insertData	TokenNameIdentifier	 insert Data
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
prevSibling	TokenNameIdentifier	 prev Sibling
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
parent	TokenNameIdentifier	 parent
.	TokenNameDOT	
removeChild	TokenNameIdentifier	 remove Child
(	TokenNameLPAREN	
prevSibling	TokenNameIdentifier	 prev Sibling
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
nextSibling	TokenNameIdentifier	 next Sibling
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
//if comment node need not be removed 	TokenNameCOMMENT_LINE	if comment node need not be removed 
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
errorChecking	TokenNameIdentifier	 error Checking
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
WELLFORMED	TokenNameIdentifier	 WELLFORMED
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
commentdata	TokenNameIdentifier	 commentdata
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
Comment	TokenNameIdentifier	 Comment
)	TokenNameRPAREN	
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
.	TokenNameDOT	
getData	TokenNameIdentifier	 get Data
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// check comments for invalid xml chracter as per the version 	TokenNameCOMMENT_LINE	check comments for invalid xml chracter as per the version 
// of the document 	TokenNameCOMMENT_LINE	of the document 
isCommentWF	TokenNameIdentifier	 is Comment WF
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
commentdata	TokenNameIdentifier	 commentdata
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Don't bother filling an XMLString with the text of the comment. 	TokenNameCOMMENT_LINE	Don't bother filling an XMLString with the text of the comment. 
// We only send the comment event to the validator handler so that 	TokenNameCOMMENT_LINE	We only send the comment event to the validator handler so that 
// when the schema-type is DTD an error will be reported for a 	TokenNameCOMMENT_LINE	when the schema-type is DTD an error will be reported for a 
// comment appearing in EMPTY content. 	TokenNameCOMMENT_LINE	comment appearing in EMPTY content. 
fValidationHandler	TokenNameIdentifier	 f Validation Handler
.	TokenNameDOT	
comment	TokenNameIdentifier	 comment
(	TokenNameLPAREN	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
//end-else if comment node is not to be removed. 	TokenNameCOMMENT_LINE	end-else if comment node is not to be removed. 
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
case	TokenNamecase	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
ENTITY_REFERENCE_NODE	TokenNameIdentifier	 ENTITY  REFERENCE  NODE
:	TokenNameCOLON	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG_ND	TokenNameIdentifier	 DEBUG  ND
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"==>normalizeNode:{entityRef} "	TokenNameStringLiteral	==>normalizeNode:{entityRef} 
+	TokenNamePLUS	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
ENTITIES	TokenNameIdentifier	 ENTITIES
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Node	TokenNameIdentifier	 Node
prevSibling	TokenNameIdentifier	 prev Sibling
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getPreviousSibling	TokenNameIdentifier	 get Previous Sibling
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
parent	TokenNameIdentifier	 parent
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getParentNode	TokenNameIdentifier	 get Parent Node
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
EntityReferenceImpl	TokenNameIdentifier	 Entity Reference Impl
)	TokenNameRPAREN	
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
.	TokenNameDOT	
setReadOnly	TokenNameIdentifier	 set Read Only
(	TokenNameLPAREN	
false	TokenNamefalse	
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
expandEntityRef	TokenNameIdentifier	 expand Entity Ref
(	TokenNameLPAREN	
parent	TokenNameIdentifier	 parent
,	TokenNameCOMMA	
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
parent	TokenNameIdentifier	 parent
.	TokenNameDOT	
removeChild	TokenNameIdentifier	 remove Child
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
next	TokenNameIdentifier	 next
=	TokenNameEQUAL	
(	TokenNameLPAREN	
prevSibling	TokenNameIdentifier	 prev Sibling
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
prevSibling	TokenNameIdentifier	 prev Sibling
.	TokenNameDOT	
getNextSibling	TokenNameIdentifier	 get Next Sibling
(	TokenNameLPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
parent	TokenNameIdentifier	 parent
.	TokenNameDOT	
getFirstChild	TokenNameIdentifier	 get First Child
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// The list of children #text -> &ent; 	TokenNameCOMMENT_LINE	The list of children #text -> &ent; 
// and entity has a first child as a text 	TokenNameCOMMENT_LINE	and entity has a first child as a text 
// we should not advance 	TokenNameCOMMENT_LINE	we should not advance 
if	TokenNameif	
(	TokenNameLPAREN	
prevSibling	TokenNameIdentifier	 prev Sibling
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
next	TokenNameIdentifier	 next
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
prevSibling	TokenNameIdentifier	 prev Sibling
.	TokenNameDOT	
getNodeType	TokenNameIdentifier	 get Node Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
&&	TokenNameAND_AND	
next	TokenNameIdentifier	 next
.	TokenNameDOT	
getNodeType	TokenNameIdentifier	 get Node Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
prevSibling	TokenNameIdentifier	 prev Sibling
;	TokenNameSEMICOLON	
// Don't advance 	TokenNameCOMMENT_LINE	Don't advance 
}	TokenNameRBRACE	
return	TokenNamereturn	
next	TokenNameIdentifier	 next
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
errorChecking	TokenNameIdentifier	 error Checking
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
WELLFORMED	TokenNameIdentifier	 WELLFORMED
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXMLVersionChanged	TokenNameIdentifier	 is XML Version Changed
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
CoreDocumentImpl	TokenNameIdentifier	 Core Document Impl
.	TokenNameDOT	
isXMLName	TokenNameIdentifier	 is XML Name
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// REVISIT: traverse entity reference and send appropriate calls to the validator 	TokenNameCOMMENT_LINE	REVISIT: traverse entity reference and send appropriate calls to the validator 
// (no normalization should be performed for the children). 	TokenNameCOMMENT_LINE	(no normalization should be performed for the children). 
}	TokenNameRBRACE	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
case	TokenNamecase	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
CDATA_SECTION_NODE	TokenNameIdentifier	 CDATA  SECTION  NODE
:	TokenNameCOLON	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG_ND	TokenNameIdentifier	 DEBUG  ND
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"==>normalizeNode:{cdata}"	TokenNameStringLiteral	==>normalizeNode:{cdata}
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
CDATA	TokenNameIdentifier	 CDATA
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// convert CDATA to TEXT nodes 	TokenNameCOMMENT_LINE	convert CDATA to TEXT nodes 
Node	TokenNameIdentifier	 Node
prevSibling	TokenNameIdentifier	 prev Sibling
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getPreviousSibling	TokenNameIdentifier	 get Previous Sibling
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
prevSibling	TokenNameIdentifier	 prev Sibling
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
prevSibling	TokenNameIdentifier	 prev Sibling
.	TokenNameDOT	
getNodeType	TokenNameIdentifier	 get Node Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
Text	TokenNameIdentifier	 Text
)	TokenNameRPAREN	
prevSibling	TokenNameIdentifier	 prev Sibling
)	TokenNameRPAREN	
.	TokenNameDOT	
appendData	TokenNameIdentifier	 append Data
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getParentNode	TokenNameIdentifier	 get Parent Node
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
removeChild	TokenNameIdentifier	 remove Child
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
prevSibling	TokenNameIdentifier	 prev Sibling
;	TokenNameSEMICOLON	
//don't advance 	TokenNameCOMMENT_LINE	don't advance 
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
Text	TokenNameIdentifier	 Text
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
createTextNode	TokenNameIdentifier	 create Text Node
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
parent	TokenNameIdentifier	 parent
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getParentNode	TokenNameIdentifier	 get Parent Node
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
node	TokenNameIdentifier	 node
=	TokenNameEQUAL	
parent	TokenNameIdentifier	 parent
.	TokenNameDOT	
replaceChild	TokenNameIdentifier	 replace Child
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
text	TokenNameIdentifier	 text
;	TokenNameSEMICOLON	
//don't advance 	TokenNameCOMMENT_LINE	don't advance 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// send characters call for CDATA 	TokenNameCOMMENT_LINE	send characters call for CDATA 
if	TokenNameif	
(	TokenNameLPAREN	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// set error node in the dom error wrapper 	TokenNameCOMMENT_LINE	set error node in the dom error wrapper 
// so if error occurs we can report an error node 	TokenNameCOMMENT_LINE	so if error occurs we can report an error node 
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
fErrorHandlerWrapper	TokenNameIdentifier	 f Error Handler Wrapper
.	TokenNameDOT	
fCurrentNode	TokenNameIdentifier	 f Current Node
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
;	TokenNameSEMICOLON	
fCurrentNode	TokenNameIdentifier	 f Current Node
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
;	TokenNameSEMICOLON	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
.	TokenNameDOT	
startCDATA	TokenNameIdentifier	 start CDATA
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
.	TokenNameDOT	
characterData	TokenNameIdentifier	 character Data
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
.	TokenNameDOT	
endCDATA	TokenNameIdentifier	 end CDATA
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
SPLITCDATA	TokenNameIdentifier	 SPLITCDATA
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
index	TokenNameIdentifier	 index
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
parent	TokenNameIdentifier	 parent
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getParentNode	TokenNameIdentifier	 get Parent Node
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
errorChecking	TokenNameIdentifier	 error Checking
)	TokenNameRPAREN	
{	TokenNameLBRACE	
isXMLCharWF	TokenNameIdentifier	 is XML Char WF
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
index	TokenNameIdentifier	 index
=	TokenNameEQUAL	
value	TokenNameIdentifier	 value
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
"]]>"	TokenNameStringLiteral	]]>
)	TokenNameRPAREN	
)	TokenNameRPAREN	
>=	TokenNameGREATER_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
setNodeValue	TokenNameIdentifier	 set Node Value
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
index	TokenNameIdentifier	 index
+	TokenNamePLUS	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
value	TokenNameIdentifier	 value
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
index	TokenNameIdentifier	 index
+	TokenNamePLUS	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
firstSplitNode	TokenNameIdentifier	 first Split Node
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
newChild	TokenNameIdentifier	 new Child
=	TokenNameEQUAL	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
createCDATASection	TokenNameIdentifier	 create CDATA Section
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
parent	TokenNameIdentifier	 parent
.	TokenNameDOT	
insertBefore	TokenNameIdentifier	 insert Before
(	TokenNameLPAREN	
newChild	TokenNameIdentifier	 new Child
,	TokenNameCOMMA	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNextSibling	TokenNameIdentifier	 get Next Sibling
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
node	TokenNameIdentifier	 node
=	TokenNameEQUAL	
newChild	TokenNameIdentifier	 new Child
;	TokenNameSEMICOLON	
// issue warning 	TokenNameCOMMENT_LINE	issue warning 
fLocator	TokenNameIdentifier	 f Locator
.	TokenNameDOT	
fRelatedNode	TokenNameIdentifier	 f Related Node
=	TokenNameEQUAL	
firstSplitNode	TokenNameIdentifier	 first Split Node
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
DOM_DOMAIN	TokenNameIdentifier	 DOM  DOMAIN
,	TokenNameCOMMA	
"cdata-sections-splitted"	TokenNameStringLiteral	cdata-sections-splitted
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_WARNING	TokenNameIdentifier	 SEVERITY  WARNING
,	TokenNameCOMMA	
"cdata-sections-splitted"	TokenNameStringLiteral	cdata-sections-splitted
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
errorChecking	TokenNameIdentifier	 error Checking
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// check well-formedness 	TokenNameCOMMENT_LINE	check well-formedness 
isCDataWF	TokenNameIdentifier	 is C Data WF
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
value	TokenNameIdentifier	 value
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
case	TokenNamecase	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
:	TokenNameCOLON	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG_ND	TokenNameIdentifier	 DEBUG  ND
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"==>normalizeNode(text):{"	TokenNameStringLiteral	==>normalizeNode(text):{
+	TokenNamePLUS	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
"}"	TokenNameStringLiteral	}
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// If node is a text node, we need to check for one of two 	TokenNameCOMMENT_LINE	If node is a text node, we need to check for one of two 
// conditions: 	TokenNameCOMMENT_LINE	conditions: 
// 1) There is an adjacent text node 	TokenNameCOMMENT_LINE	1) There is an adjacent text node 
// 2) There is no adjacent text node, but node is 	TokenNameCOMMENT_LINE	2) There is no adjacent text node, but node is 
// an empty text node. 	TokenNameCOMMENT_LINE	an empty text node. 
Node	TokenNameIdentifier	 Node
next	TokenNameIdentifier	 next
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNextSibling	TokenNameIdentifier	 get Next Sibling
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// If an adjacent text node, merge it with this node 	TokenNameCOMMENT_LINE	If an adjacent text node, merge it with this node 
if	TokenNameif	
(	TokenNameLPAREN	
next	TokenNameIdentifier	 next
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
next	TokenNameIdentifier	 next
.	TokenNameDOT	
getNodeType	TokenNameIdentifier	 get Node Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
TEXT_NODE	TokenNameIdentifier	 TEXT  NODE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
Text	TokenNameIdentifier	 Text
)	TokenNameRPAREN	
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
.	TokenNameDOT	
appendData	TokenNameIdentifier	 append Data
(	TokenNameLPAREN	
next	TokenNameIdentifier	 next
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getParentNode	TokenNameIdentifier	 get Parent Node
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
removeChild	TokenNameIdentifier	 remove Child
(	TokenNameLPAREN	
next	TokenNameIdentifier	 next
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// We don't need to check well-formness here since we are not yet 	TokenNameCOMMENT_LINE	We don't need to check well-formness here since we are not yet 
// done with this node. 	TokenNameCOMMENT_LINE	done with this node. 
return	TokenNamereturn	
node	TokenNameIdentifier	 node
;	TokenNameSEMICOLON	
// Don't advance; 	TokenNameCOMMENT_LINE	Don't advance; 
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// If kid is empty, remove it 	TokenNameCOMMENT_LINE	If kid is empty, remove it 
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getParentNode	TokenNameIdentifier	 get Parent Node
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
removeChild	TokenNameIdentifier	 remove Child
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// validator.characters() call and well-formness 	TokenNameCOMMENT_LINE	validator.characters() call and well-formness 
// Don't send characters or check well-formness in the following cases: 	TokenNameCOMMENT_LINE	Don't send characters or check well-formness in the following cases: 
// 1. entities is false, next child is entity reference: expand tree first 	TokenNameCOMMENT_LINE	1. entities is false, next child is entity reference: expand tree first 
// 2. comments is false, and next child is comment 	TokenNameCOMMENT_LINE	2. comments is false, and next child is comment 
// 3. cdata is false, and next child is cdata 	TokenNameCOMMENT_LINE	3. cdata is false, and next child is cdata 
short	TokenNameshort	
nextType	TokenNameIdentifier	 next Type
=	TokenNameEQUAL	
(	TokenNameLPAREN	
next	TokenNameIdentifier	 next
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
next	TokenNameIdentifier	 next
.	TokenNameDOT	
getNodeType	TokenNameIdentifier	 get Node Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
nextType	TokenNameIdentifier	 next Type
==	TokenNameEQUAL_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
||	TokenNameOR_OR	
!	TokenNameNOT	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
ENTITIES	TokenNameIdentifier	 ENTITIES
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
&&	TokenNameAND_AND	
nextType	TokenNameIdentifier	 next Type
==	TokenNameEQUAL_EQUAL	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
ENTITY_NODE	TokenNameIdentifier	 ENTITY  NODE
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
COMMENTS	TokenNameIdentifier	 COMMENTS
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
&&	TokenNameAND_AND	
nextType	TokenNameIdentifier	 next Type
==	TokenNameEQUAL_EQUAL	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
COMMENT_NODE	TokenNameIdentifier	 COMMENT  NODE
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
CDATA	TokenNameIdentifier	 CDATA
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
nextType	TokenNameIdentifier	 next Type
==	TokenNameEQUAL_EQUAL	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
CDATA_SECTION_NODE	TokenNameIdentifier	 CDATA  SECTION  NODE
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
errorChecking	TokenNameIdentifier	 error Checking
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
WELLFORMED	TokenNameIdentifier	 WELLFORMED
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
isXMLCharWF	TokenNameIdentifier	 is XML Char WF
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
fErrorHandlerWrapper	TokenNameIdentifier	 f Error Handler Wrapper
.	TokenNameDOT	
fCurrentNode	TokenNameIdentifier	 f Current Node
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
;	TokenNameSEMICOLON	
fCurrentNode	TokenNameIdentifier	 f Current Node
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
;	TokenNameSEMICOLON	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
.	TokenNameDOT	
characterData	TokenNameIdentifier	 character Data
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
fNamespaceValidation	TokenNameIdentifier	 f Namespace Validation
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fAllWhitespace	TokenNameIdentifier	 f All Whitespace
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fAllWhitespace	TokenNameIdentifier	 f All Whitespace
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
TextImpl	TokenNameIdentifier	 Text Impl
)	TokenNameRPAREN	
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
.	TokenNameDOT	
setIgnorableWhitespace	TokenNameIdentifier	 set Ignorable Whitespace
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
TextImpl	TokenNameIdentifier	 Text Impl
)	TokenNameRPAREN	
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
.	TokenNameDOT	
setIgnorableWhitespace	TokenNameIdentifier	 set Ignorable Whitespace
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG_ND	TokenNameIdentifier	 DEBUG  ND
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"=====>characterData(),"	TokenNameStringLiteral	=====>characterData(),
+	TokenNamePLUS	
nextType	TokenNameIdentifier	 next Type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG_ND	TokenNameIdentifier	 DEBUG  ND
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"=====>don't send characters(),"	TokenNameStringLiteral	=====>don't send characters(),
+	TokenNamePLUS	
nextType	TokenNameIdentifier	 next Type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
case	TokenNamecase	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
PROCESSING_INSTRUCTION_NODE	TokenNameIdentifier	 PROCESSING  INSTRUCTION  NODE
:	TokenNameCOLON	
{	TokenNameLBRACE	
//do the well-formed valid PI target name , data check when application has set the value of well-formed feature to true 	TokenNameCOMMENT_LINE	do the well-formed valid PI target name , data check when application has set the value of well-formed feature to true 
if	TokenNameif	
(	TokenNameLPAREN	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
errorChecking	TokenNameIdentifier	 error Checking
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
WELLFORMED	TokenNameIdentifier	 WELLFORMED
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ProcessingInstruction	TokenNameIdentifier	 Processing Instruction
pinode	TokenNameIdentifier	 pinode
=	TokenNameEQUAL	
(	TokenNameLPAREN	
ProcessingInstruction	TokenNameIdentifier	 Processing Instruction
)	TokenNameRPAREN	
node	TokenNameIdentifier	 node
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
target	TokenNameIdentifier	 target
=	TokenNameEQUAL	
pinode	TokenNameIdentifier	 pinode
.	TokenNameDOT	
getTarget	TokenNameIdentifier	 get Target
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//1.check PI target name 	TokenNameCOMMENT_LINE	1.check PI target name 
if	TokenNameif	
(	TokenNameLPAREN	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
wellformed	TokenNameIdentifier	 wellformed
=	TokenNameEQUAL	
XML11Char	TokenNameIdentifier	 XM L11 Char
.	TokenNameDOT	
isXML11ValidName	TokenNameIdentifier	 is XM L11 Valid Name
(	TokenNameLPAREN	
target	TokenNameIdentifier	 target
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
wellformed	TokenNameIdentifier	 wellformed
=	TokenNameEQUAL	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isValidName	TokenNameIdentifier	 is Valid Name
(	TokenNameLPAREN	
target	TokenNameIdentifier	 target
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
wellformed	TokenNameIdentifier	 wellformed
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
DOM_DOMAIN	TokenNameIdentifier	 DOM  DOMAIN
,	TokenNameCOMMA	
"wf-invalid-character-in-node-name"	TokenNameStringLiteral	wf-invalid-character-in-node-name
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"Element"	TokenNameStringLiteral	Element
,	TokenNameCOMMA	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"wf-invalid-character-in-node-name"	TokenNameStringLiteral	wf-invalid-character-in-node-name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
//2. check PI data 	TokenNameCOMMENT_LINE	2. check PI data 
//processing isntruction data may have certain characters 	TokenNameCOMMENT_LINE	processing isntruction data may have certain characters 
//which may not be valid XML character 	TokenNameCOMMENT_LINE	which may not be valid XML character 
isXMLCharWF	TokenNameIdentifier	 is XML Char WF
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
pinode	TokenNameIdentifier	 pinode
.	TokenNameDOT	
getData	TokenNameIdentifier	 get Data
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Don't bother filling an XMLString with the data section of the 	TokenNameCOMMENT_LINE	Don't bother filling an XMLString with the data section of the 
// processing instruction. We only send the processing instruction 	TokenNameCOMMENT_LINE	processing instruction. We only send the processing instruction 
// event to the validator handler so that when the schema-type is 	TokenNameCOMMENT_LINE	event to the validator handler so that when the schema-type is 
// DTD an error will be reported for a processing instruction 	TokenNameCOMMENT_LINE	DTD an error will be reported for a processing instruction 
// appearing in EMPTY content. 	TokenNameCOMMENT_LINE	appearing in EMPTY content. 
fValidationHandler	TokenNameIdentifier	 f Validation Handler
.	TokenNameDOT	
processingInstruction	TokenNameIdentifier	 processing Instruction
(	TokenNameLPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
ProcessingInstruction	TokenNameIdentifier	 Processing Instruction
)	TokenNameRPAREN	
node	TokenNameIdentifier	 node
)	TokenNameRPAREN	
.	TokenNameDOT	
getTarget	TokenNameIdentifier	 get Target
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
//end case Node.PROCESSING_INSTRUCTION_NODE 	TokenNameCOMMENT_LINE	end case Node.PROCESSING_INSTRUCTION_NODE 
}	TokenNameRBRACE	
//end of switch 	TokenNameCOMMENT_LINE	end of switch 
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
//normalizeNode 	TokenNameCOMMENT_LINE	normalizeNode 
private	TokenNameprivate	
void	TokenNamevoid	
processDTD	TokenNameIdentifier	 process DTD
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
xmlVersion	TokenNameIdentifier	 xml Version
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
schemaLocation	TokenNameIdentifier	 schema Location
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
rootName	TokenNameIdentifier	 root Name
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
publicId	TokenNameIdentifier	 public Id
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
systemId	TokenNameIdentifier	 system Id
=	TokenNameEQUAL	
schemaLocation	TokenNameIdentifier	 schema Location
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
baseSystemId	TokenNameIdentifier	 base System Id
=	TokenNameEQUAL	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
getDocumentURI	TokenNameIdentifier	 get Document URI
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
internalSubset	TokenNameIdentifier	 internal Subset
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
DocumentType	TokenNameIdentifier	 Document Type
docType	TokenNameIdentifier	 doc Type
=	TokenNameEQUAL	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
getDoctype	TokenNameIdentifier	 get Doctype
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
docType	TokenNameIdentifier	 doc Type
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
rootName	TokenNameIdentifier	 root Name
=	TokenNameEQUAL	
docType	TokenNameIdentifier	 doc Type
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
publicId	TokenNameIdentifier	 public Id
=	TokenNameEQUAL	
docType	TokenNameIdentifier	 doc Type
.	TokenNameDOT	
getPublicId	TokenNameIdentifier	 get Public Id
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
systemId	TokenNameIdentifier	 system Id
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
systemId	TokenNameIdentifier	 system Id
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
systemId	TokenNameIdentifier	 system Id
=	TokenNameEQUAL	
docType	TokenNameIdentifier	 doc Type
.	TokenNameDOT	
getSystemId	TokenNameIdentifier	 get System Id
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
internalSubset	TokenNameIdentifier	 internal Subset
=	TokenNameEQUAL	
docType	TokenNameIdentifier	 doc Type
.	TokenNameDOT	
getInternalSubset	TokenNameIdentifier	 get Internal Subset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// If the DOM doesn't have a DocumentType node we may still 	TokenNameCOMMENT_LINE	If the DOM doesn't have a DocumentType node we may still 
// be able to fetch a DTD if the application provided a URI 	TokenNameCOMMENT_LINE	be able to fetch a DTD if the application provided a URI 
else	TokenNameelse	
{	TokenNameLBRACE	
Element	TokenNameIdentifier	 Element
elem	TokenNameIdentifier	 elem
=	TokenNameEQUAL	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
getDocumentElement	TokenNameIdentifier	 get Document Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
elem	TokenNameIdentifier	 elem
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
rootName	TokenNameIdentifier	 root Name
=	TokenNameEQUAL	
elem	TokenNameIdentifier	 elem
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
systemId	TokenNameIdentifier	 system Id
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
systemId	TokenNameIdentifier	 system Id
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
XMLDTDLoader	TokenNameIdentifier	 XMLDTD Loader
loader	TokenNameIdentifier	 loader
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
.	TokenNameDOT	
doctypeDecl	TokenNameIdentifier	 doctype Decl
(	TokenNameLPAREN	
rootName	TokenNameIdentifier	 root Name
,	TokenNameCOMMA	
publicId	TokenNameIdentifier	 public Id
,	TokenNameCOMMA	
systemId	TokenNameIdentifier	 system Id
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
loader	TokenNameIdentifier	 loader
=	TokenNameEQUAL	
CoreDOMImplementationImpl	TokenNameIdentifier	 Core DOM Implementation Impl
.	TokenNameDOT	
singleton	TokenNameIdentifier	 singleton
.	TokenNameDOT	
getDTDLoader	TokenNameIdentifier	 get DTD Loader
(	TokenNameLPAREN	
xmlVersion	TokenNameIdentifier	 xml Version
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
loader	TokenNameIdentifier	 loader
.	TokenNameDOT	
setFeature	TokenNameIdentifier	 set Feature
(	TokenNameLPAREN	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
XERCES_VALIDATION	TokenNameIdentifier	 XERCES  VALIDATION
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
loader	TokenNameIdentifier	 loader
.	TokenNameDOT	
setEntityResolver	TokenNameIdentifier	 set Entity Resolver
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
getEntityResolver	TokenNameIdentifier	 get Entity Resolver
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
loader	TokenNameIdentifier	 loader
.	TokenNameDOT	
setErrorHandler	TokenNameIdentifier	 set Error Handler
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
getErrorHandler	TokenNameIdentifier	 get Error Handler
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
loader	TokenNameIdentifier	 loader
.	TokenNameDOT	
loadGrammarWithContext	TokenNameIdentifier	 load Grammar With Context
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XMLDTDValidator	TokenNameIdentifier	 XMLDTD Validator
)	TokenNameRPAREN	
fValidationHandler	TokenNameIdentifier	 f Validation Handler
,	TokenNameCOMMA	
rootName	TokenNameIdentifier	 root Name
,	TokenNameCOMMA	
publicId	TokenNameIdentifier	 public Id
,	TokenNameCOMMA	
systemId	TokenNameIdentifier	 system Id
,	TokenNameCOMMA	
baseSystemId	TokenNameIdentifier	 base System Id
,	TokenNameCOMMA	
internalSubset	TokenNameIdentifier	 internal Subset
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// REVISIT: Should probably report this exception to the error handler. 	TokenNameCOMMENT_LINE	REVISIT: Should probably report this exception to the error handler. 
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
loader	TokenNameIdentifier	 loader
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
CoreDOMImplementationImpl	TokenNameIdentifier	 Core DOM Implementation Impl
.	TokenNameDOT	
singleton	TokenNameIdentifier	 singleton
.	TokenNameDOT	
releaseDTDLoader	TokenNameIdentifier	 release DTD Loader
(	TokenNameLPAREN	
xmlVersion	TokenNameIdentifier	 xml Version
,	TokenNameCOMMA	
loader	TokenNameIdentifier	 loader
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// processDTD(String, String) 	TokenNameCOMMENT_LINE	processDTD(String, String) 
protected	TokenNameprotected	
final	TokenNamefinal	
void	TokenNamevoid	
expandEntityRef	TokenNameIdentifier	 expand Entity Ref
(	TokenNameLPAREN	
Node	TokenNameIdentifier	 Node
parent	TokenNameIdentifier	 parent
,	TokenNameCOMMA	
Node	TokenNameIdentifier	 Node
reference	TokenNameIdentifier	 reference
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Node	TokenNameIdentifier	 Node
kid	TokenNameIdentifier	 kid
,	TokenNameCOMMA	
next	TokenNameIdentifier	 next
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
kid	TokenNameIdentifier	 kid
=	TokenNameEQUAL	
reference	TokenNameIdentifier	 reference
.	TokenNameDOT	
getFirstChild	TokenNameIdentifier	 get First Child
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
kid	TokenNameIdentifier	 kid
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
kid	TokenNameIdentifier	 kid
=	TokenNameEQUAL	
next	TokenNameIdentifier	 next
)	TokenNameRPAREN	
{	TokenNameLBRACE	
next	TokenNameIdentifier	 next
=	TokenNameEQUAL	
kid	TokenNameIdentifier	 kid
.	TokenNameDOT	
getNextSibling	TokenNameIdentifier	 get Next Sibling
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
parent	TokenNameIdentifier	 parent
.	TokenNameDOT	
insertBefore	TokenNameIdentifier	 insert Before
(	TokenNameLPAREN	
kid	TokenNameIdentifier	 kid
,	TokenNameCOMMA	
reference	TokenNameIdentifier	 reference
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// fix namespaces 	TokenNameCOMMENT_LINE	fix namespaces 
// normalize attribute values 	TokenNameCOMMENT_LINE	normalize attribute values 
// remove default attributes 	TokenNameCOMMENT_LINE	remove default attributes 
// check attribute names if the version of the document changed. 	TokenNameCOMMENT_LINE	check attribute names if the version of the document changed. 
protected	TokenNameprotected	
final	TokenNamefinal	
void	TokenNamevoid	
namespaceFixUp	TokenNameIdentifier	 namespace Fix Up
(	TokenNameLPAREN	
ElementImpl	TokenNameIdentifier	 Element Impl
element	TokenNameIdentifier	 element
,	TokenNameCOMMA	
AttributeMap	TokenNameIdentifier	 Attribute Map
attributes	TokenNameIdentifier	 attributes
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"[ns-fixup] element:"	TokenNameStringLiteral	[ns-fixup] element:
+	TokenNamePLUS	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" uri: "	TokenNameStringLiteral	 uri: 
+	TokenNamePLUS	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
getNamespaceURI	TokenNameIdentifier	 get Namespace URI
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// ------------------------------------ 	TokenNameCOMMENT_LINE	------------------------------------ 
// pick up local namespace declarations 	TokenNameCOMMENT_LINE	pick up local namespace declarations 
// <xsl:stylesheet xmlns:xsl="http://xslt"> 	TokenNameCOMMENT_LINE	<xsl:stylesheet xmlns:xsl="http://xslt"> 
// <!-- add the following via DOM 	TokenNameCOMMENT_LINE	<!-- add the following via DOM 
// body is bound to http://xslt 	TokenNameCOMMENT_LINE	body is bound to http://xslt 
// --> 	TokenNameCOMMENT_LINE	--> 
// <xsl:body xmlns:xsl="http://bound"/> 	TokenNameCOMMENT_LINE	<xsl:body xmlns:xsl="http://bound"/> 
// 	TokenNameCOMMENT_LINE	 
// ------------------------------------ 	TokenNameCOMMENT_LINE	------------------------------------ 
String	TokenNameIdentifier	 String
value	TokenNameIdentifier	 value
,	TokenNameCOMMA	
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
prefix	TokenNameIdentifier	 prefix
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
attributes	TokenNameIdentifier	 attributes
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Record all valid local declarations 	TokenNameCOMMENT_LINE	Record all valid local declarations 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
k	TokenNameIdentifier	 k
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
k	TokenNameIdentifier	 k
<	TokenNameLESS	
attributes	TokenNameIdentifier	 attributes
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
++	TokenNamePLUS_PLUS	
k	TokenNameIdentifier	 k
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Attr	TokenNameIdentifier	 Attr
attr	TokenNameIdentifier	 attr
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Attr	TokenNameIdentifier	 Attr
)	TokenNameRPAREN	
attributes	TokenNameIdentifier	 attributes
.	TokenNameDOT	
getItem	TokenNameIdentifier	 get Item
(	TokenNameLPAREN	
k	TokenNameIdentifier	 k
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
uri	TokenNameIdentifier	 uri
=	TokenNameEQUAL	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getNamespaceURI	TokenNameIdentifier	 get Namespace URI
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
uri	TokenNameIdentifier	 uri
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
NamespaceContext	TokenNameIdentifier	 Namespace Context
.	TokenNameDOT	
XMLNS_URI	TokenNameIdentifier	 XMLNS  URI
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// namespace attribute 	TokenNameCOMMENT_LINE	namespace attribute 
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Check for invalid namespace declaration: 	TokenNameCOMMENT_LINE	Check for invalid namespace declaration: 
if	TokenNameif	
(	TokenNameLPAREN	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
errorChecking	TokenNameIdentifier	 error Checking
&&	TokenNameAND_AND	
value	TokenNameIdentifier	 value
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
NamespaceContext	TokenNameIdentifier	 Namespace Context
.	TokenNameDOT	
XMLNS_URI	TokenNameIdentifier	 XMLNS  URI
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//A null value for locale is passed to formatMessage, 	TokenNameCOMMENT_LINE	A null value for locale is passed to formatMessage, 
//which means that the default locale will be used 	TokenNameCOMMENT_LINE	which means that the default locale will be used 
fLocator	TokenNameIdentifier	 f Locator
.	TokenNameDOT	
fRelatedNode	TokenNameIdentifier	 f Related Node
=	TokenNameEQUAL	
attr	TokenNameIdentifier	 attr
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
XML_DOMAIN	TokenNameIdentifier	 XML  DOMAIN
,	TokenNameCOMMA	
"CantBindXMLNS"	TokenNameStringLiteral	CantBindXMLNS
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"CantBindXMLNS"	TokenNameStringLiteral	CantBindXMLNS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// XML 1.0 Attribute value normalization 	TokenNameCOMMENT_LINE	XML 1.0 Attribute value normalization 
// value = normalizeAttributeValue(value, attr); 	TokenNameCOMMENT_LINE	value = normalizeAttributeValue(value, attr); 
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getPrefix	TokenNameIdentifier	 get Prefix
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
prefix	TokenNameIdentifier	 prefix
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
:	TokenNameCOLON	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
localpart	TokenNameIdentifier	 localpart
=	TokenNameEQUAL	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
==	TokenNameEQUAL_EQUAL	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
PREFIX_XMLNS	TokenNameIdentifier	 PREFIX  XMLNS
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//xmlns:prefix 	TokenNameCOMMENT_LINE	xmlns:prefix 
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fNamespaceContext	TokenNameIdentifier	 f Namespace Context
.	TokenNameDOT	
declarePrefix	TokenNameIdentifier	 declare Prefix
(	TokenNameLPAREN	
localpart	TokenNameIdentifier	 localpart
,	TokenNameCOMMA	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// REVISIT: issue error on invalid declarations 	TokenNameCOMMENT_LINE	REVISIT: issue error on invalid declarations 
// xmlns:foo = "" 	TokenNameCOMMENT_LINE	xmlns:foo = "" 
}	TokenNameRBRACE	
//removeDefault (attr, attributes); 	TokenNameCOMMENT_LINE	removeDefault (attr, attributes); 
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// (localpart == fXmlnsSymbol && prefix == fEmptySymbol) -- xmlns 	TokenNameCOMMENT_LINE	(localpart == fXmlnsSymbol && prefix == fEmptySymbol) -- xmlns 
// empty prefix is always bound ("" or some string) 	TokenNameCOMMENT_LINE	empty prefix is always bound ("" or some string) 
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fNamespaceContext	TokenNameIdentifier	 f Namespace Context
.	TokenNameDOT	
declarePrefix	TokenNameIdentifier	 declare Prefix
(	TokenNameLPAREN	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
,	TokenNameCOMMA	
value	TokenNameIdentifier	 value
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
?	TokenNameQUESTION	
value	TokenNameIdentifier	 value
:	TokenNameCOLON	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//removeDefault (attr, attributes); 	TokenNameCOMMENT_LINE	removeDefault (attr, attributes); 
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// end-else: valid declaration 	TokenNameCOMMENT_LINE	end-else: valid declaration 
}	TokenNameRBRACE	
// end-if: namespace attribute 	TokenNameCOMMENT_LINE	end-if: namespace attribute 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// --------------------------------------------------------- 	TokenNameCOMMENT_LINE	--------------------------------------------------------- 
// Fix up namespaces for element: per DOM L3 	TokenNameCOMMENT_LINE	Fix up namespaces for element: per DOM L3 
// Need to consider the following cases: 	TokenNameCOMMENT_LINE	Need to consider the following cases: 
// 	TokenNameCOMMENT_LINE	 
// case 1: <xsl:stylesheet xmlns:xsl="http://xsl"> 	TokenNameCOMMENT_LINE	case 1: <xsl:stylesheet xmlns:xsl="http://xsl"> 
// We create another element body bound to the "http://xsl" namespace 	TokenNameCOMMENT_LINE	We create another element body bound to the "http://xsl" namespace 
// as well as namespace attribute rebounding xsl to another namespace. 	TokenNameCOMMENT_LINE	as well as namespace attribute rebounding xsl to another namespace. 
// <xsl:body xmlns:xsl="http://another"> 	TokenNameCOMMENT_LINE	<xsl:body xmlns:xsl="http://another"> 
// Need to make sure that the new namespace decl value is changed to 	TokenNameCOMMENT_LINE	Need to make sure that the new namespace decl value is changed to 
// "http://xsl" 	TokenNameCOMMENT_LINE	"http://xsl" 
// 	TokenNameCOMMENT_LINE	 
// --------------------------------------------------------- 	TokenNameCOMMENT_LINE	--------------------------------------------------------- 
// check if prefix/namespace is correct for current element 	TokenNameCOMMENT_LINE	check if prefix/namespace is correct for current element 
// --------------------------------------------------------- 	TokenNameCOMMENT_LINE	--------------------------------------------------------- 
uri	TokenNameIdentifier	 uri
=	TokenNameEQUAL	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
getNamespaceURI	TokenNameIdentifier	 get Namespace URI
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
getPrefix	TokenNameIdentifier	 get Prefix
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Element has a namespace 	TokenNameCOMMENT_LINE	Element has a namespace 
uri	TokenNameIdentifier	 uri
=	TokenNameEQUAL	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
prefix	TokenNameIdentifier	 prefix
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
:	TokenNameCOLON	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fNamespaceContext	TokenNameIdentifier	 f Namespace Context
.	TokenNameDOT	
getURI	TokenNameIdentifier	 get URI
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// The xmlns:prefix=namespace or xmlns="default" was declared at parent. 	TokenNameCOMMENT_LINE	The xmlns:prefix=namespace or xmlns="default" was declared at parent. 
// The binder always stores mapping of empty prefix to "". 	TokenNameCOMMENT_LINE	The binder always stores mapping of empty prefix to "". 
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// the prefix is either undeclared 	TokenNameCOMMENT_LINE	the prefix is either undeclared 
// or 	TokenNameCOMMENT_LINE	or 
// conflict: the prefix is bound to another URI 	TokenNameCOMMENT_LINE	conflict: the prefix is bound to another URI 
addNamespaceDecl	TokenNameIdentifier	 add Namespace Decl
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
,	TokenNameCOMMA	
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
element	TokenNameIdentifier	 element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fLocalNSBinder	TokenNameIdentifier	 f Local NS Binder
.	TokenNameDOT	
declarePrefix	TokenNameIdentifier	 declare Prefix
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
,	TokenNameCOMMA	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fNamespaceContext	TokenNameIdentifier	 f Namespace Context
.	TokenNameDOT	
declarePrefix	TokenNameIdentifier	 declare Prefix
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
,	TokenNameCOMMA	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// Element has no namespace 	TokenNameCOMMENT_LINE	Element has no namespace 
if	TokenNameif	
(	TokenNameLPAREN	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Error: DOM Level 1 node! 	TokenNameCOMMENT_LINE	Error: DOM Level 1 node! 
if	TokenNameif	
(	TokenNameLPAREN	
fNamespaceValidation	TokenNameIdentifier	 f Namespace Validation
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
DOM_DOMAIN	TokenNameIdentifier	 DOM  DOMAIN
,	TokenNameCOMMA	
"NullLocalElementName"	TokenNameStringLiteral	NullLocalElementName
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_FATAL_ERROR	TokenNameIdentifier	 SEVERITY  FATAL  ERROR
,	TokenNameCOMMA	
"NullLocalElementName"	TokenNameStringLiteral	NullLocalElementName
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
DOM_DOMAIN	TokenNameIdentifier	 DOM  DOMAIN
,	TokenNameCOMMA	
"NullLocalElementName"	TokenNameStringLiteral	NullLocalElementName
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"NullLocalElementName"	TokenNameStringLiteral	NullLocalElementName
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// uri=null and no colon (DOM L2 node) 	TokenNameCOMMENT_LINE	uri=null and no colon (DOM L2 node) 
uri	TokenNameIdentifier	 uri
=	TokenNameEQUAL	
fNamespaceContext	TokenNameIdentifier	 f Namespace Context
.	TokenNameDOT	
getURI	TokenNameIdentifier	 get URI
(	TokenNameLPAREN	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
uri	TokenNameIdentifier	 uri
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// undeclare default namespace declaration (before that element 	TokenNameCOMMENT_LINE	undeclare default namespace declaration (before that element 
// bound to non-zero length uir), but adding xmlns="" decl 	TokenNameCOMMENT_LINE	bound to non-zero length uir), but adding xmlns="" decl 
addNamespaceDecl	TokenNameIdentifier	 add Namespace Decl
(	TokenNameLPAREN	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
,	TokenNameCOMMA	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
,	TokenNameCOMMA	
element	TokenNameIdentifier	 element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fLocalNSBinder	TokenNameIdentifier	 f Local NS Binder
.	TokenNameDOT	
declarePrefix	TokenNameIdentifier	 declare Prefix
(	TokenNameLPAREN	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fNamespaceContext	TokenNameIdentifier	 f Namespace Context
.	TokenNameDOT	
declarePrefix	TokenNameIdentifier	 declare Prefix
(	TokenNameLPAREN	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// ----------------------------------------- 	TokenNameCOMMENT_LINE	----------------------------------------- 
// Fix up namespaces for attributes: per DOM L3 	TokenNameCOMMENT_LINE	Fix up namespaces for attributes: per DOM L3 
// check if prefix/namespace is correct the attributes 	TokenNameCOMMENT_LINE	check if prefix/namespace is correct the attributes 
// ----------------------------------------- 	TokenNameCOMMENT_LINE	----------------------------------------- 
if	TokenNameif	
(	TokenNameLPAREN	
attributes	TokenNameIdentifier	 attributes
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// clone content of the attributes 	TokenNameCOMMENT_LINE	clone content of the attributes 
attributes	TokenNameIdentifier	 attributes
.	TokenNameDOT	
cloneMap	TokenNameIdentifier	 clone Map
(	TokenNameLPAREN	
fAttributeList	TokenNameIdentifier	 f Attribute List
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
fAttributeList	TokenNameIdentifier	 f Attribute List
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Attr	TokenNameIdentifier	 Attr
attr	TokenNameIdentifier	 attr
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Attr	TokenNameIdentifier	 Attr
)	TokenNameRPAREN	
fAttributeList	TokenNameIdentifier	 f Attribute List
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fLocator	TokenNameIdentifier	 f Locator
.	TokenNameDOT	
fRelatedNode	TokenNameIdentifier	 f Related Node
=	TokenNameEQUAL	
attr	TokenNameIdentifier	 attr
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"==>[ns-fixup] process attribute: "	TokenNameStringLiteral	==>[ns-fixup] process attribute: 
+	TokenNamePLUS	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// normalize attribute value 	TokenNameCOMMENT_LINE	normalize attribute value 
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
normalize	TokenNameIdentifier	 normalize
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
uri	TokenNameIdentifier	 uri
=	TokenNameEQUAL	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getNamespaceURI	TokenNameIdentifier	 get Namespace URI
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// make sure that value is never null. 	TokenNameCOMMENT_LINE	make sure that value is never null. 
if	TokenNameif	
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
//--------------------------------------- 	TokenNameCOMMENT_LINE	--------------------------------------- 
// check if value of the attribute is namespace well-formed 	TokenNameCOMMENT_LINE	check if value of the attribute is namespace well-formed 
//--------------------------------------- 	TokenNameCOMMENT_LINE	--------------------------------------- 
if	TokenNameif	
(	TokenNameLPAREN	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
errorChecking	TokenNameIdentifier	 error Checking
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
WELLFORMED	TokenNameIdentifier	 WELLFORMED
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
isAttrValueWF	TokenNameIdentifier	 is Attr Value WF
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
attributes	TokenNameIdentifier	 attributes
,	TokenNameCOMMA	
attr	TokenNameIdentifier	 attr
,	TokenNameCOMMA	
value	TokenNameIdentifier	 value
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXMLVersionChanged	TokenNameIdentifier	 is XML Version Changed
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
wellformed	TokenNameIdentifier	 wellformed
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fNamespaceValidation	TokenNameIdentifier	 f Namespace Validation
)	TokenNameRPAREN	
{	TokenNameLBRACE	
wellformed	TokenNameIdentifier	 wellformed
=	TokenNameEQUAL	
CoreDocumentImpl	TokenNameIdentifier	 Core Document Impl
.	TokenNameDOT	
isValidQName	TokenNameIdentifier	 is Valid Q Name
(	TokenNameLPAREN	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getPrefix	TokenNameIdentifier	 get Prefix
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
wellformed	TokenNameIdentifier	 wellformed
=	TokenNameEQUAL	
CoreDocumentImpl	TokenNameIdentifier	 Core Document Impl
.	TokenNameDOT	
isXMLName	TokenNameIdentifier	 is XML Name
(	TokenNameLPAREN	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fDocument	TokenNameIdentifier	 f Document
.	TokenNameDOT	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
wellformed	TokenNameIdentifier	 wellformed
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
DOM_DOMAIN	TokenNameIdentifier	 DOM  DOMAIN
,	TokenNameCOMMA	
"wf-invalid-character-in-node-name"	TokenNameStringLiteral	wf-invalid-character-in-node-name
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"Attr"	TokenNameStringLiteral	Attr
,	TokenNameCOMMA	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"wf-invalid-character-in-node-name"	TokenNameStringLiteral	wf-invalid-character-in-node-name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// attribute has namespace !=null 	TokenNameCOMMENT_LINE	attribute has namespace !=null 
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getPrefix	TokenNameIdentifier	 get Prefix
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
prefix	TokenNameIdentifier	 prefix
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
:	TokenNameCOLON	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/*String localpart =*/	TokenNameCOMMENT_BLOCK	String localpart =
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// --------------------------------------- 	TokenNameCOMMENT_LINE	--------------------------------------- 
// skip namespace declarations 	TokenNameCOMMENT_LINE	skip namespace declarations 
// --------------------------------------- 	TokenNameCOMMENT_LINE	--------------------------------------- 
// REVISIT: can we assume that "uri" is from some symbol 	TokenNameCOMMENT_LINE	REVISIT: can we assume that "uri" is from some symbol 
// table, and compare by reference? -SG 	TokenNameCOMMENT_LINE	table, and compare by reference? -SG 
if	TokenNameif	
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
uri	TokenNameIdentifier	 uri
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
NamespaceContext	TokenNameIdentifier	 Namespace Context
.	TokenNameDOT	
XMLNS_URI	TokenNameIdentifier	 XMLNS  URI
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// --------------------------------------- 	TokenNameCOMMENT_LINE	--------------------------------------- 
// remove default attributes 	TokenNameCOMMENT_LINE	remove default attributes 
// --------------------------------------- 	TokenNameCOMMENT_LINE	--------------------------------------- 
/* if (removeDefault(attr, attributes)) { continue; } */	TokenNameCOMMENT_BLOCK	 if (removeDefault(attr, attributes)) { continue; } 
// XML 1.0 Attribute value normalization 	TokenNameCOMMENT_LINE	XML 1.0 Attribute value normalization 
//value = normalizeAttributeValue(value, attr); 	TokenNameCOMMENT_LINE	value = normalizeAttributeValue(value, attr); 
// reset id-attributes 	TokenNameCOMMENT_LINE	reset id-attributes 
(	TokenNameLPAREN	
(	TokenNameLPAREN	
AttrImpl	TokenNameIdentifier	 Attr Impl
)	TokenNameRPAREN	
attr	TokenNameIdentifier	 attr
)	TokenNameRPAREN	
.	TokenNameDOT	
setIdAttribute	TokenNameIdentifier	 set Id Attribute
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
uri	TokenNameIdentifier	 uri
=	TokenNameEQUAL	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// find if for this prefix a URI was already declared 	TokenNameCOMMENT_LINE	find if for this prefix a URI was already declared 
String	TokenNameIdentifier	 String
declaredURI	TokenNameIdentifier	 declared URI
=	TokenNameEQUAL	
fNamespaceContext	TokenNameIdentifier	 f Namespace Context
.	TokenNameDOT	
getURI	TokenNameIdentifier	 get URI
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
==	TokenNameEQUAL_EQUAL	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
||	TokenNameOR_OR	
declaredURI	TokenNameIdentifier	 declared URI
!=	TokenNameNOT_EQUAL	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// attribute has no prefix (default namespace decl does not apply to attributes) 	TokenNameCOMMENT_LINE	attribute has no prefix (default namespace decl does not apply to attributes) 
// OR 	TokenNameCOMMENT_LINE	OR 
// attribute prefix is not declared 	TokenNameCOMMENT_LINE	attribute prefix is not declared 
// OR 	TokenNameCOMMENT_LINE	OR 
// conflict: attribute has a prefix that conficlicts with a binding 	TokenNameCOMMENT_LINE	conflict: attribute has a prefix that conficlicts with a binding 
// already active in scope 	TokenNameCOMMENT_LINE	already active in scope 
// Find if any prefix for attributes namespace URI is available 	TokenNameCOMMENT_LINE	Find if any prefix for attributes namespace URI is available 
// in the scope 	TokenNameCOMMENT_LINE	in the scope 
String	TokenNameIdentifier	 String
declaredPrefix	TokenNameIdentifier	 declared Prefix
=	TokenNameEQUAL	
fNamespaceContext	TokenNameIdentifier	 f Namespace Context
.	TokenNameDOT	
getPrefix	TokenNameIdentifier	 get Prefix
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
declaredPrefix	TokenNameIdentifier	 declared Prefix
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
declaredPrefix	TokenNameIdentifier	 declared Prefix
!=	TokenNameNOT_EQUAL	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// use the prefix that was found (declared previously for this URI 	TokenNameCOMMENT_LINE	use the prefix that was found (declared previously for this URI 
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
declaredPrefix	TokenNameIdentifier	 declared Prefix
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
!=	TokenNameNOT_EQUAL	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
&&	TokenNameAND_AND	
fLocalNSBinder	TokenNameIdentifier	 f Local NS Binder
.	TokenNameDOT	
getURI	TokenNameIdentifier	 get URI
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// the current prefix is not null and it has no in scope declaration 	TokenNameCOMMENT_LINE	the current prefix is not null and it has no in scope declaration 
// use this prefix 	TokenNameCOMMENT_LINE	use this prefix 
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// find a prefix following the pattern "NS" +index (starting at 1) 	TokenNameCOMMENT_LINE	find a prefix following the pattern "NS" +index (starting at 1) 
// make sure this prefix is not declared in the current scope. 	TokenNameCOMMENT_LINE	make sure this prefix is not declared in the current scope. 
int	TokenNameint	
counter	TokenNameIdentifier	 counter
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
PREFIX	TokenNameIdentifier	 PREFIX
+	TokenNamePLUS	
counter	TokenNameIdentifier	 counter
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
fLocalNSBinder	TokenNameIdentifier	 f Local NS Binder
.	TokenNameDOT	
getURI	TokenNameIdentifier	 get URI
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
PREFIX	TokenNameIdentifier	 PREFIX
+	TokenNamePLUS	
counter	TokenNameIdentifier	 counter
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// add declaration for the new prefix 	TokenNameCOMMENT_LINE	add declaration for the new prefix 
addNamespaceDecl	TokenNameIdentifier	 add Namespace Decl
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
,	TokenNameCOMMA	
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
element	TokenNameIdentifier	 element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fLocalNSBinder	TokenNameIdentifier	 f Local NS Binder
.	TokenNameDOT	
declarePrefix	TokenNameIdentifier	 declare Prefix
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
,	TokenNameCOMMA	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fNamespaceContext	TokenNameIdentifier	 f Namespace Context
.	TokenNameDOT	
declarePrefix	TokenNameIdentifier	 declare Prefix
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
,	TokenNameCOMMA	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// change prefix for this attribute 	TokenNameCOMMENT_LINE	change prefix for this attribute 
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
setPrefix	TokenNameIdentifier	 set Prefix
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// attribute uri == null 	TokenNameCOMMENT_LINE	attribute uri == null 
// XML 1.0 Attribute value normalization 	TokenNameCOMMENT_LINE	XML 1.0 Attribute value normalization 
//value = normalizeAttributeValue(value, attr); 	TokenNameCOMMENT_LINE	value = normalizeAttributeValue(value, attr); 
// reset id-attributes 	TokenNameCOMMENT_LINE	reset id-attributes 
(	TokenNameLPAREN	
(	TokenNameLPAREN	
AttrImpl	TokenNameIdentifier	 Attr Impl
)	TokenNameRPAREN	
attr	TokenNameIdentifier	 attr
)	TokenNameRPAREN	
.	TokenNameDOT	
setIdAttribute	TokenNameIdentifier	 set Id Attribute
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// It is an error if document has DOM L1 nodes. 	TokenNameCOMMENT_LINE	It is an error if document has DOM L1 nodes. 
if	TokenNameif	
(	TokenNameLPAREN	
fNamespaceValidation	TokenNameIdentifier	 f Namespace Validation
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
DOM_DOMAIN	TokenNameIdentifier	 DOM  DOMAIN
,	TokenNameCOMMA	
"NullLocalAttrName"	TokenNameStringLiteral	NullLocalAttrName
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_FATAL_ERROR	TokenNameIdentifier	 SEVERITY  FATAL  ERROR
,	TokenNameCOMMA	
"NullLocalAttrName"	TokenNameStringLiteral	NullLocalAttrName
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
DOM_DOMAIN	TokenNameIdentifier	 DOM  DOMAIN
,	TokenNameCOMMA	
"NullLocalAttrName"	TokenNameStringLiteral	NullLocalAttrName
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
fErrorHandler	TokenNameIdentifier	 f Error Handler
,	TokenNameCOMMA	
fError	TokenNameIdentifier	 f Error
,	TokenNameCOMMA	
fLocator	TokenNameIdentifier	 f Locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"NullLocalAttrName"	TokenNameStringLiteral	NullLocalAttrName
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// uri=null and no colon 	TokenNameCOMMENT_LINE	uri=null and no colon 
// no fix up is needed: default namespace decl does not 	TokenNameCOMMENT_LINE	no fix up is needed: default namespace decl does not 
// --------------------------------------- 	TokenNameCOMMENT_LINE	--------------------------------------- 
// remove default attributes 	TokenNameCOMMENT_LINE	remove default attributes 
// --------------------------------------- 	TokenNameCOMMENT_LINE	--------------------------------------- 
// removeDefault(attr, attributes); 	TokenNameCOMMENT_LINE	removeDefault(attr, attributes); 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// end loop for attributes 	TokenNameCOMMENT_LINE	end loop for attributes 
}	TokenNameRBRACE	
/** * Adds a namespace attribute or replaces the value of existing namespace * attribute with the given prefix and value for URI. * In case prefix is empty will add/update default namespace declaration. * * @param prefix * @param uri * @exception IOException */	TokenNameCOMMENT_JAVADOC	 Adds a namespace attribute or replaces the value of existing namespace attribute with the given prefix and value for URI. In case prefix is empty will add/update default namespace declaration. * @param prefix @param uri @exception IOException 
protected	TokenNameprotected	
final	TokenNamefinal	
void	TokenNamevoid	
addNamespaceDecl	TokenNameIdentifier	 add Namespace Decl
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
prefix	TokenNameIdentifier	 prefix
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
ElementImpl	TokenNameIdentifier	 Element Impl
element	TokenNameIdentifier	 element
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"[ns-fixup] addNamespaceDecl ["	TokenNameStringLiteral	[ns-fixup] addNamespaceDecl [
+	TokenNamePLUS	
prefix	TokenNameIdentifier	 prefix
+	TokenNamePLUS	
"]"	TokenNameStringLiteral	]
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
==	TokenNameEQUAL_EQUAL	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
EMPTY_STRING	TokenNameIdentifier	 EMPTY  STRING
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"=>add xmlns=""	TokenNameStringLiteral	=>add xmlns="
+	TokenNamePLUS	
uri	TokenNameIdentifier	 uri
+	TokenNamePLUS	
"" declaration"	TokenNameStringLiteral	" declaration
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
setAttributeNS	TokenNameIdentifier	 set Attribute NS
(	TokenNameLPAREN	
NamespaceContext	TokenNameIdentifier	 Namespace Context
.	TokenNameDOT	
XMLNS_URI	TokenNameIdentifier	 XMLNS  URI
,	TokenNameCOMMA	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
PREFIX_XMLNS	TokenNameIdentifier	 PREFIX  XMLNS
,	TokenNameCOMMA	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"=>add xmlns:"	TokenNameStringLiteral	=>add xmlns:
+	TokenNamePLUS	
prefix	TokenNameIdentifier	 prefix
+	TokenNamePLUS	
"=""	TokenNameStringLiteral	="
+	TokenNamePLUS	
uri	TokenNameIdentifier	 uri
+	TokenNamePLUS	
"" declaration"	TokenNameStringLiteral	" declaration
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
setAttributeNS	TokenNameIdentifier	 set Attribute NS
(	TokenNameLPAREN	
NamespaceContext	TokenNameIdentifier	 Namespace Context
.	TokenNameDOT	
XMLNS_URI	TokenNameIdentifier	 XMLNS  URI
,	TokenNameCOMMA	
"xmlns:"	TokenNameStringLiteral	xmlns:
+	TokenNamePLUS	
prefix	TokenNameIdentifier	 prefix
,	TokenNameCOMMA	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// 	TokenNameCOMMENT_LINE	 
// Methods for well-formness checking 	TokenNameCOMMENT_LINE	Methods for well-formness checking 
// 	TokenNameCOMMENT_LINE	 
/** * Check if CDATA section is well-formed * @param datavalue * @param isXML11Version = true if XML 1.1 */	TokenNameCOMMENT_JAVADOC	 Check if CDATA section is well-formed @param datavalue @param isXML11Version = true if XML 1.1 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
void	TokenNamevoid	
isCDataWF	TokenNameIdentifier	 is C Data WF
(	TokenNameLPAREN	
DOMErrorHandler	TokenNameIdentifier	 DOM Error Handler
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
DOMErrorImpl	TokenNameIdentifier	 DOM Error Impl
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
DOMLocatorImpl	TokenNameIdentifier	 DOM Locator Impl
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
datavalue	TokenNameIdentifier	 datavalue
,	TokenNameCOMMA	
boolean	TokenNameboolean	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
datavalue	TokenNameIdentifier	 datavalue
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
datavalue	TokenNameIdentifier	 datavalue
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
char	TokenNamechar	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
dataarray	TokenNameIdentifier	 dataarray
=	TokenNameEQUAL	
datavalue	TokenNameIdentifier	 datavalue
.	TokenNameDOT	
toCharArray	TokenNameIdentifier	 to Char Array
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
datalength	TokenNameIdentifier	 datalength
=	TokenNameEQUAL	
dataarray	TokenNameIdentifier	 dataarray
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
// version of the document is XML 1.1 	TokenNameCOMMENT_LINE	version of the document is XML 1.1 
if	TokenNameif	
(	TokenNameLPAREN	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// we need to check all chracters as per production rules of XML11 	TokenNameCOMMENT_LINE	we need to check all chracters as per production rules of XML11 
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
)	TokenNameRPAREN	
{	TokenNameLBRACE	
char	TokenNamechar	
c	TokenNameIdentifier	 c
=	TokenNameEQUAL	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
XML11Char	TokenNameIdentifier	 XM L11 Char
.	TokenNameDOT	
isXML11Invalid	TokenNameIdentifier	 is XM L11 Invalid
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// check if this is a supplemental character 	TokenNameCOMMENT_LINE	check if this is a supplemental character 
if	TokenNameif	
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isHighSurrogate	TokenNameIdentifier	 is High Surrogate
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
)	TokenNameRPAREN	
{	TokenNameLBRACE	
char	TokenNamechar	
c2	TokenNameIdentifier	 c2
=	TokenNameEQUAL	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isLowSurrogate	TokenNameIdentifier	 is Low Surrogate
(	TokenNameLPAREN	
c2	TokenNameIdentifier	 c2
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isSupplemental	TokenNameIdentifier	 is Supplemental
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
supplemental	TokenNameIdentifier	 supplemental
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
,	TokenNameCOMMA	
c2	TokenNameIdentifier	 c2
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
XML_DOMAIN	TokenNameIdentifier	 XML  DOMAIN
,	TokenNameCOMMA	
"InvalidCharInCDSect"	TokenNameStringLiteral	InvalidCharInCDSect
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
,	TokenNameCOMMA	
16	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"wf-invalid-character"	TokenNameStringLiteral	wf-invalid-character
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
==	TokenNameEQUAL_EQUAL	
']'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
count	TokenNameIdentifier	 count
=	TokenNameEQUAL	
i	TokenNameIdentifier	 i
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
count	TokenNameIdentifier	 count
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
&&	TokenNameAND_AND	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
count	TokenNameIdentifier	 count
]	TokenNameRBRACKET	
==	TokenNameEQUAL_EQUAL	
']'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
++	TokenNamePLUS_PLUS	
count	TokenNameIdentifier	 count
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
&&	TokenNameAND_AND	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
count	TokenNameIdentifier	 count
]	TokenNameRBRACKET	
==	TokenNameEQUAL_EQUAL	
']'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// do nothing 	TokenNameCOMMENT_LINE	do nothing 
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
count	TokenNameIdentifier	 count
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
&&	TokenNameAND_AND	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
count	TokenNameIdentifier	 count
]	TokenNameRBRACKET	
==	TokenNameEQUAL_EQUAL	
'>'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// CDEndInContent 	TokenNameCOMMENT_LINE	CDEndInContent 
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
XML_DOMAIN	TokenNameIdentifier	 XML  DOMAIN
,	TokenNameCOMMA	
"CDEndInContent"	TokenNameStringLiteral	CDEndInContent
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"wf-invalid-character"	TokenNameStringLiteral	wf-invalid-character
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// version of the document is XML 1.0 	TokenNameCOMMENT_LINE	version of the document is XML 1.0 
else	TokenNameelse	
{	TokenNameLBRACE	
// we need to check all chracters as per production rules of XML 1.0 	TokenNameCOMMENT_LINE	we need to check all chracters as per production rules of XML 1.0 
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
)	TokenNameRPAREN	
{	TokenNameLBRACE	
char	TokenNamechar	
c	TokenNameIdentifier	 c
=	TokenNameEQUAL	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isInvalid	TokenNameIdentifier	 is Invalid
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// check if this is a supplemental character 	TokenNameCOMMENT_LINE	check if this is a supplemental character 
if	TokenNameif	
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isHighSurrogate	TokenNameIdentifier	 is High Surrogate
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
)	TokenNameRPAREN	
{	TokenNameLBRACE	
char	TokenNamechar	
c2	TokenNameIdentifier	 c2
=	TokenNameEQUAL	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isLowSurrogate	TokenNameIdentifier	 is Low Surrogate
(	TokenNameLPAREN	
c2	TokenNameIdentifier	 c2
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isSupplemental	TokenNameIdentifier	 is Supplemental
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
supplemental	TokenNameIdentifier	 supplemental
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
,	TokenNameCOMMA	
c2	TokenNameIdentifier	 c2
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Note: The key InvalidCharInCDSect from XMLMessages.properties 	TokenNameCOMMENT_LINE	Note: The key InvalidCharInCDSect from XMLMessages.properties 
// is being used to obtain the message and DOM error type 	TokenNameCOMMENT_LINE	is being used to obtain the message and DOM error type 
// "wf-invalid-character" is used. Also per DOM it is error but 	TokenNameCOMMENT_LINE	"wf-invalid-character" is used. Also per DOM it is error but 
// as per XML spec. it is fatal error 	TokenNameCOMMENT_LINE	as per XML spec. it is fatal error 
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
XML_DOMAIN	TokenNameIdentifier	 XML  DOMAIN
,	TokenNameCOMMA	
"InvalidCharInCDSect"	TokenNameStringLiteral	InvalidCharInCDSect
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
,	TokenNameCOMMA	
16	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"wf-invalid-character"	TokenNameStringLiteral	wf-invalid-character
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
==	TokenNameEQUAL_EQUAL	
']'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
count	TokenNameIdentifier	 count
=	TokenNameEQUAL	
i	TokenNameIdentifier	 i
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
count	TokenNameIdentifier	 count
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
&&	TokenNameAND_AND	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
count	TokenNameIdentifier	 count
]	TokenNameRBRACKET	
==	TokenNameEQUAL_EQUAL	
']'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
++	TokenNamePLUS_PLUS	
count	TokenNameIdentifier	 count
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
&&	TokenNameAND_AND	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
count	TokenNameIdentifier	 count
]	TokenNameRBRACKET	
==	TokenNameEQUAL_EQUAL	
']'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// do nothing 	TokenNameCOMMENT_LINE	do nothing 
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
count	TokenNameIdentifier	 count
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
&&	TokenNameAND_AND	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
count	TokenNameIdentifier	 count
]	TokenNameRBRACKET	
==	TokenNameEQUAL_EQUAL	
'>'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
XML_DOMAIN	TokenNameIdentifier	 XML  DOMAIN
,	TokenNameCOMMA	
"CDEndInContent"	TokenNameStringLiteral	CDEndInContent
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"wf-invalid-character"	TokenNameStringLiteral	wf-invalid-character
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// end-else fDocument.isXMLVersion() 	TokenNameCOMMENT_LINE	end-else fDocument.isXMLVersion() 
}	TokenNameRBRACE	
// isCDataWF 	TokenNameCOMMENT_LINE	isCDataWF 
/** * NON-DOM: check for valid XML characters as per the XML version * @param datavalue * @param isXML11Version = true if XML 1.1 */	TokenNameCOMMENT_JAVADOC	 NON-DOM: check for valid XML characters as per the XML version @param datavalue @param isXML11Version = true if XML 1.1 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
void	TokenNamevoid	
isXMLCharWF	TokenNameIdentifier	 is XML Char WF
(	TokenNameLPAREN	
DOMErrorHandler	TokenNameIdentifier	 DOM Error Handler
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
DOMErrorImpl	TokenNameIdentifier	 DOM Error Impl
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
DOMLocatorImpl	TokenNameIdentifier	 DOM Locator Impl
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
datavalue	TokenNameIdentifier	 datavalue
,	TokenNameCOMMA	
boolean	TokenNameboolean	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
datavalue	TokenNameIdentifier	 datavalue
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
datavalue	TokenNameIdentifier	 datavalue
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
char	TokenNamechar	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
dataarray	TokenNameIdentifier	 dataarray
=	TokenNameEQUAL	
datavalue	TokenNameIdentifier	 datavalue
.	TokenNameDOT	
toCharArray	TokenNameIdentifier	 to Char Array
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
datalength	TokenNameIdentifier	 datalength
=	TokenNameEQUAL	
dataarray	TokenNameIdentifier	 dataarray
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
// version of the document is XML 1.1 	TokenNameCOMMENT_LINE	version of the document is XML 1.1 
if	TokenNameif	
(	TokenNameLPAREN	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//we need to check all characters as per production rules of XML11 	TokenNameCOMMENT_LINE	we need to check all characters as per production rules of XML11 
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
XML11Char	TokenNameIdentifier	 XM L11 Char
.	TokenNameDOT	
isXML11Invalid	TokenNameIdentifier	 is XM L11 Invalid
(	TokenNameLPAREN	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// check if this is a supplemental character 	TokenNameCOMMENT_LINE	check if this is a supplemental character 
char	TokenNamechar	
ch	TokenNameIdentifier	 ch
=	TokenNameEQUAL	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isHighSurrogate	TokenNameIdentifier	 is High Surrogate
(	TokenNameLPAREN	
ch	TokenNameIdentifier	 ch
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
)	TokenNameRPAREN	
{	TokenNameLBRACE	
char	TokenNamechar	
ch2	TokenNameIdentifier	 ch2
=	TokenNameEQUAL	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isLowSurrogate	TokenNameIdentifier	 is Low Surrogate
(	TokenNameLPAREN	
ch2	TokenNameIdentifier	 ch2
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isSupplemental	TokenNameIdentifier	 is Supplemental
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
supplemental	TokenNameIdentifier	 supplemental
(	TokenNameLPAREN	
ch	TokenNameIdentifier	 ch
,	TokenNameCOMMA	
ch2	TokenNameIdentifier	 ch2
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
DOM_DOMAIN	TokenNameIdentifier	 DOM  DOMAIN
,	TokenNameCOMMA	
"InvalidXMLCharInDOM"	TokenNameStringLiteral	InvalidXMLCharInDOM
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
16	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"wf-invalid-character"	TokenNameStringLiteral	wf-invalid-character
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// version of the document is XML 1.0 	TokenNameCOMMENT_LINE	version of the document is XML 1.0 
else	TokenNameelse	
{	TokenNameLBRACE	
// we need to check all characters as per production rules of XML 1.0 	TokenNameCOMMENT_LINE	we need to check all characters as per production rules of XML 1.0 
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isInvalid	TokenNameIdentifier	 is Invalid
(	TokenNameLPAREN	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// check if this is a supplemental character 	TokenNameCOMMENT_LINE	check if this is a supplemental character 
char	TokenNamechar	
ch	TokenNameIdentifier	 ch
=	TokenNameEQUAL	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isHighSurrogate	TokenNameIdentifier	 is High Surrogate
(	TokenNameLPAREN	
ch	TokenNameIdentifier	 ch
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
)	TokenNameRPAREN	
{	TokenNameLBRACE	
char	TokenNamechar	
ch2	TokenNameIdentifier	 ch2
=	TokenNameEQUAL	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isLowSurrogate	TokenNameIdentifier	 is Low Surrogate
(	TokenNameLPAREN	
ch2	TokenNameIdentifier	 ch2
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isSupplemental	TokenNameIdentifier	 is Supplemental
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
supplemental	TokenNameIdentifier	 supplemental
(	TokenNameLPAREN	
ch	TokenNameIdentifier	 ch
,	TokenNameCOMMA	
ch2	TokenNameIdentifier	 ch2
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
DOM_DOMAIN	TokenNameIdentifier	 DOM  DOMAIN
,	TokenNameCOMMA	
"InvalidXMLCharInDOM"	TokenNameStringLiteral	InvalidXMLCharInDOM
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
16	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"wf-invalid-character"	TokenNameStringLiteral	wf-invalid-character
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// end-else fDocument.isXMLVersion() 	TokenNameCOMMENT_LINE	end-else fDocument.isXMLVersion() 
}	TokenNameRBRACE	
// isXMLCharWF 	TokenNameCOMMENT_LINE	isXMLCharWF 
/** * NON-DOM: check if value of the comment is well-formed * @param datavalue * @param isXML11Version = true if XML 1.1 */	TokenNameCOMMENT_JAVADOC	 NON-DOM: check if value of the comment is well-formed @param datavalue @param isXML11Version = true if XML 1.1 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
void	TokenNamevoid	
isCommentWF	TokenNameIdentifier	 is Comment WF
(	TokenNameLPAREN	
DOMErrorHandler	TokenNameIdentifier	 DOM Error Handler
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
DOMErrorImpl	TokenNameIdentifier	 DOM Error Impl
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
DOMLocatorImpl	TokenNameIdentifier	 DOM Locator Impl
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
datavalue	TokenNameIdentifier	 datavalue
,	TokenNameCOMMA	
boolean	TokenNameboolean	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
datavalue	TokenNameIdentifier	 datavalue
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
datavalue	TokenNameIdentifier	 datavalue
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
char	TokenNamechar	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
dataarray	TokenNameIdentifier	 dataarray
=	TokenNameEQUAL	
datavalue	TokenNameIdentifier	 datavalue
.	TokenNameDOT	
toCharArray	TokenNameIdentifier	 to Char Array
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
datalength	TokenNameIdentifier	 datalength
=	TokenNameEQUAL	
dataarray	TokenNameIdentifier	 dataarray
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
// version of the document is XML 1.1 	TokenNameCOMMENT_LINE	version of the document is XML 1.1 
if	TokenNameif	
(	TokenNameLPAREN	
isXML11Version	TokenNameIdentifier	 is XM L11 Version
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// we need to check all chracters as per production rules of XML11 	TokenNameCOMMENT_LINE	we need to check all chracters as per production rules of XML11 
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
)	TokenNameRPAREN	
{	TokenNameLBRACE	
char	TokenNamechar	
c	TokenNameIdentifier	 c
=	TokenNameEQUAL	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
XML11Char	TokenNameIdentifier	 XM L11 Char
.	TokenNameDOT	
isXML11Invalid	TokenNameIdentifier	 is XM L11 Invalid
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// check if this is a supplemental character 	TokenNameCOMMENT_LINE	check if this is a supplemental character 
if	TokenNameif	
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isHighSurrogate	TokenNameIdentifier	 is High Surrogate
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
)	TokenNameRPAREN	
{	TokenNameLBRACE	
char	TokenNamechar	
c2	TokenNameIdentifier	 c2
=	TokenNameEQUAL	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isLowSurrogate	TokenNameIdentifier	 is Low Surrogate
(	TokenNameLPAREN	
c2	TokenNameIdentifier	 c2
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isSupplemental	TokenNameIdentifier	 is Supplemental
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
supplemental	TokenNameIdentifier	 supplemental
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
,	TokenNameCOMMA	
c2	TokenNameIdentifier	 c2
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
XML_DOMAIN	TokenNameIdentifier	 XML  DOMAIN
,	TokenNameCOMMA	
"InvalidCharInComment"	TokenNameStringLiteral	InvalidCharInComment
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
16	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"wf-invalid-character"	TokenNameStringLiteral	wf-invalid-character
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
==	TokenNameEQUAL_EQUAL	
'-'	TokenNameCharacterLiteral	
&&	TokenNameAND_AND	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
&&	TokenNameAND_AND	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
==	TokenNameEQUAL_EQUAL	
'-'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
XML_DOMAIN	TokenNameIdentifier	 XML  DOMAIN
,	TokenNameCOMMA	
"DashDashInComment"	TokenNameStringLiteral	DashDashInComment
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// invalid: '--' in comment 	TokenNameCOMMENT_LINE	invalid: '--' in comment 
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"wf-invalid-character"	TokenNameStringLiteral	wf-invalid-character
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// version of the document is XML 1.0 	TokenNameCOMMENT_LINE	version of the document is XML 1.0 
else	TokenNameelse	
{	TokenNameLBRACE	
// we need to check all chracters as per production rules of XML 1.0 	TokenNameCOMMENT_LINE	we need to check all chracters as per production rules of XML 1.0 
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
)	TokenNameRPAREN	
{	TokenNameLBRACE	
char	TokenNamechar	
c	TokenNameIdentifier	 c
=	TokenNameEQUAL	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isInvalid	TokenNameIdentifier	 is Invalid
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// check if this is a supplemental character 	TokenNameCOMMENT_LINE	check if this is a supplemental character 
if	TokenNameif	
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isHighSurrogate	TokenNameIdentifier	 is High Surrogate
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
)	TokenNameRPAREN	
{	TokenNameLBRACE	
char	TokenNamechar	
c2	TokenNameIdentifier	 c2
=	TokenNameEQUAL	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isLowSurrogate	TokenNameIdentifier	 is Low Surrogate
(	TokenNameLPAREN	
c2	TokenNameIdentifier	 c2
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
isSupplemental	TokenNameIdentifier	 is Supplemental
(	TokenNameLPAREN	
XMLChar	TokenNameIdentifier	 XML Char
.	TokenNameDOT	
supplemental	TokenNameIdentifier	 supplemental
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
,	TokenNameCOMMA	
c2	TokenNameIdentifier	 c2
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
XML_DOMAIN	TokenNameIdentifier	 XML  DOMAIN
,	TokenNameCOMMA	
"InvalidCharInComment"	TokenNameStringLiteral	InvalidCharInComment
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
16	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"wf-invalid-character"	TokenNameStringLiteral	wf-invalid-character
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
==	TokenNameEQUAL_EQUAL	
'-'	TokenNameCharacterLiteral	
&&	TokenNameAND_AND	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
datalength	TokenNameIdentifier	 datalength
&&	TokenNameAND_AND	
dataarray	TokenNameIdentifier	 dataarray
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
==	TokenNameEQUAL_EQUAL	
'-'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
XML_DOMAIN	TokenNameIdentifier	 XML  DOMAIN
,	TokenNameCOMMA	
"DashDashInComment"	TokenNameStringLiteral	DashDashInComment
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// invalid: '--' in comment 	TokenNameCOMMENT_LINE	invalid: '--' in comment 
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"wf-invalid-character"	TokenNameStringLiteral	wf-invalid-character
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// end-else fDocument.isXMLVersion() 	TokenNameCOMMENT_LINE	end-else fDocument.isXMLVersion() 
}	TokenNameRBRACE	
// isCommentWF 	TokenNameCOMMENT_LINE	isCommentWF 
/** NON-DOM: check if attribute value is well-formed * @param attributes * @param a * @param value */	TokenNameCOMMENT_JAVADOC	 NON-DOM: check if attribute value is well-formed @param attributes @param a @param value 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
void	TokenNamevoid	
isAttrValueWF	TokenNameIdentifier	 is Attr Value WF
(	TokenNameLPAREN	
DOMErrorHandler	TokenNameIdentifier	 DOM Error Handler
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
DOMErrorImpl	TokenNameIdentifier	 DOM Error Impl
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
DOMLocatorImpl	TokenNameIdentifier	 DOM Locator Impl
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
NamedNodeMap	TokenNameIdentifier	 Named Node Map
attributes	TokenNameIdentifier	 attributes
,	TokenNameCOMMA	
Attr	TokenNameIdentifier	 Attr
a	TokenNameIdentifier	 a
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
value	TokenNameIdentifier	 value
,	TokenNameCOMMA	
boolean	TokenNameboolean	
xml11Version	TokenNameIdentifier	 xml11 Version
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
a	TokenNameIdentifier	 a
instanceof	TokenNameinstanceof	
AttrImpl	TokenNameIdentifier	 Attr Impl
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
AttrImpl	TokenNameIdentifier	 Attr Impl
)	TokenNameRPAREN	
a	TokenNameIdentifier	 a
)	TokenNameRPAREN	
.	TokenNameDOT	
hasStringValue	TokenNameIdentifier	 has String Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
isXMLCharWF	TokenNameIdentifier	 is XML Char WF
(	TokenNameLPAREN	
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
value	TokenNameIdentifier	 value
,	TokenNameCOMMA	
xml11Version	TokenNameIdentifier	 xml11 Version
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
NodeList	TokenNameIdentifier	 Node List
children	TokenNameIdentifier	 children
=	TokenNameEQUAL	
a	TokenNameIdentifier	 a
.	TokenNameDOT	
getChildNodes	TokenNameIdentifier	 get Child Nodes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//check each child node of the attribute's value 	TokenNameCOMMENT_LINE	check each child node of the attribute's value 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
children	TokenNameIdentifier	 children
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Node	TokenNameIdentifier	 Node
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
children	TokenNameIdentifier	 children
.	TokenNameDOT	
item	TokenNameIdentifier	 item
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//If the attribute's child is an entity refernce 	TokenNameCOMMENT_LINE	If the attribute's child is an entity refernce 
if	TokenNameif	
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
.	TokenNameDOT	
getNodeType	TokenNameIdentifier	 get Node Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
ENTITY_REFERENCE_NODE	TokenNameIdentifier	 ENTITY  REFERENCE  NODE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Document	TokenNameIdentifier	 Document
owner	TokenNameIdentifier	 owner
=	TokenNameEQUAL	
a	TokenNameIdentifier	 a
.	TokenNameDOT	
getOwnerDocument	TokenNameIdentifier	 get Owner Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Entity	TokenNameIdentifier	 Entity
ent	TokenNameIdentifier	 ent
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
//search for the entity in the docType 	TokenNameCOMMENT_LINE	search for the entity in the docType 
//of the attribute's ownerDocument 	TokenNameCOMMENT_LINE	of the attribute's ownerDocument 
if	TokenNameif	
(	TokenNameLPAREN	
owner	TokenNameIdentifier	 owner
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
DocumentType	TokenNameIdentifier	 Document Type
docType	TokenNameIdentifier	 doc Type
=	TokenNameEQUAL	
owner	TokenNameIdentifier	 owner
.	TokenNameDOT	
getDoctype	TokenNameIdentifier	 get Doctype
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
docType	TokenNameIdentifier	 doc Type
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
NamedNodeMap	TokenNameIdentifier	 Named Node Map
entities	TokenNameIdentifier	 entities
=	TokenNameEQUAL	
docType	TokenNameIdentifier	 doc Type
.	TokenNameDOT	
getEntities	TokenNameIdentifier	 get Entities
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ent	TokenNameIdentifier	 ent
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Entity	TokenNameIdentifier	 Entity
)	TokenNameRPAREN	
entities	TokenNameIdentifier	 entities
.	TokenNameDOT	
getNamedItemNS	TokenNameIdentifier	 get Named Item NS
(	TokenNameLPAREN	
"*"	TokenNameStringLiteral	*
,	TokenNameCOMMA	
child	TokenNameIdentifier	 child
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
//If the entity was not found issue a fatal error 	TokenNameCOMMENT_LINE	If the entity was not found issue a fatal error 
if	TokenNameif	
(	TokenNameLPAREN	
ent	TokenNameIdentifier	 ent
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
formatMessage	TokenNameIdentifier	 format Message
(	TokenNameLPAREN	
DOMMessageFormatter	TokenNameIdentifier	 DOM Message Formatter
.	TokenNameDOT	
DOM_DOMAIN	TokenNameIdentifier	 DOM  DOMAIN
,	TokenNameCOMMA	
"UndeclaredEntRefInAttrValue"	TokenNameStringLiteral	UndeclaredEntRefInAttrValue
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
a	TokenNameIdentifier	 a
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_ERROR	TokenNameIdentifier	 SEVERITY  ERROR
,	TokenNameCOMMA	
"UndeclaredEntRefInAttrValue"	TokenNameStringLiteral	UndeclaredEntRefInAttrValue
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// Text node 	TokenNameCOMMENT_LINE	Text node 
isXMLCharWF	TokenNameIdentifier	 is XML Char WF
(	TokenNameLPAREN	
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
child	TokenNameIdentifier	 child
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
xml11Version	TokenNameIdentifier	 xml11 Version
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Reports a DOM error to the user handler. * * If the error is fatal, the processing will be always aborted. */	TokenNameCOMMENT_JAVADOC	 Reports a DOM error to the user handler. * If the error is fatal, the processing will be always aborted. 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
void	TokenNamevoid	
reportDOMError	TokenNameIdentifier	 report DOM Error
(	TokenNameLPAREN	
DOMErrorHandler	TokenNameIdentifier	 DOM Error Handler
errorHandler	TokenNameIdentifier	 error Handler
,	TokenNameCOMMA	
DOMErrorImpl	TokenNameIdentifier	 DOM Error Impl
error	TokenNameIdentifier	 error
,	TokenNameCOMMA	
DOMLocatorImpl	TokenNameIdentifier	 DOM Locator Impl
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
message	TokenNameIdentifier	 message
,	TokenNameCOMMA	
short	TokenNameshort	
severity	TokenNameIdentifier	 severity
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
type	TokenNameIdentifier	 type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
errorHandler	TokenNameIdentifier	 error Handler
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
error	TokenNameIdentifier	 error
.	TokenNameDOT	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
error	TokenNameIdentifier	 error
.	TokenNameDOT	
fMessage	TokenNameIdentifier	 f Message
=	TokenNameEQUAL	
message	TokenNameIdentifier	 message
;	TokenNameSEMICOLON	
error	TokenNameIdentifier	 error
.	TokenNameDOT	
fSeverity	TokenNameIdentifier	 f Severity
=	TokenNameEQUAL	
severity	TokenNameIdentifier	 severity
;	TokenNameSEMICOLON	
error	TokenNameIdentifier	 error
.	TokenNameDOT	
fLocator	TokenNameIdentifier	 f Locator
=	TokenNameEQUAL	
locator	TokenNameIdentifier	 locator
;	TokenNameSEMICOLON	
error	TokenNameIdentifier	 error
.	TokenNameDOT	
fType	TokenNameIdentifier	 f Type
=	TokenNameEQUAL	
type	TokenNameIdentifier	 type
;	TokenNameSEMICOLON	
error	TokenNameIdentifier	 error
.	TokenNameDOT	
fRelatedData	TokenNameIdentifier	 f Related Data
=	TokenNameEQUAL	
locator	TokenNameIdentifier	 locator
.	TokenNameDOT	
fRelatedNode	TokenNameIdentifier	 f Related Node
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
errorHandler	TokenNameIdentifier	 error Handler
.	TokenNameDOT	
handleError	TokenNameIdentifier	 handle Error
(	TokenNameLPAREN	
error	TokenNameIdentifier	 error
)	TokenNameRPAREN	
)	TokenNameRPAREN	
throw	TokenNamethrow	
abort	TokenNameIdentifier	 abort
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
severity	TokenNameIdentifier	 severity
==	TokenNameEQUAL_EQUAL	
DOMError	TokenNameIdentifier	 DOM Error
.	TokenNameDOT	
SEVERITY_FATAL_ERROR	TokenNameIdentifier	 SEVERITY  FATAL  ERROR
)	TokenNameRPAREN	
throw	TokenNamethrow	
abort	TokenNameIdentifier	 abort
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
protected	TokenNameprotected	
final	TokenNamefinal	
void	TokenNamevoid	
updateQName	TokenNameIdentifier	 update Q Name
(	TokenNameLPAREN	
Node	TokenNameIdentifier	 Node
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
QName	TokenNameIdentifier	 Q Name
qname	TokenNameIdentifier	 qname
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getPrefix	TokenNameIdentifier	 get Prefix
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
namespace	TokenNameIdentifier	 namespace
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNamespaceURI	TokenNameIdentifier	 get Namespace URI
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
localName	TokenNameIdentifier	 local Name
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// REVISIT: the symbols are added too often: start/endElement 	TokenNameCOMMENT_LINE	REVISIT: the symbols are added too often: start/endElement 
// and in the namespaceFixup. Should reduce number of calls to symbol table. 	TokenNameCOMMENT_LINE	and in the namespaceFixup. Should reduce number of calls to symbol table. 
qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
prefix	TokenNameIdentifier	 prefix
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
)	TokenNameRPAREN	
:	TokenNameCOLON	
null	TokenNamenull	
;	TokenNameSEMICOLON	
qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
localpart	TokenNameIdentifier	 localpart
=	TokenNameEQUAL	
(	TokenNameLPAREN	
localName	TokenNameIdentifier	 local Name
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
localName	TokenNameIdentifier	 local Name
)	TokenNameRPAREN	
:	TokenNameCOLON	
null	TokenNamenull	
;	TokenNameSEMICOLON	
qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
rawname	TokenNameIdentifier	 rawname
=	TokenNameEQUAL	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
uri	TokenNameIdentifier	 uri
=	TokenNameEQUAL	
(	TokenNameLPAREN	
namespace	TokenNameIdentifier	 namespace
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
namespace	TokenNameIdentifier	 namespace
)	TokenNameRPAREN	
:	TokenNameCOLON	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* REVISIT: remove this method if DOM does not change spec. * Performs partial XML 1.0 attribute value normalization and replaces * attribute value if the value is changed after the normalization. * DOM defines that normalizeDocument acts as if the document was going * through a save and load cycle, given that serializer will not escape * any '\n' or '\r' characters on load those will be normalized. * Thus during normalize document we need to do the following: * - perform "2.11 End-of-Line Handling" * - replace #xD, #xA, #x9 with #x20 (white space). * Note: This alg. won't attempt to resolve entity references or character entity * references, since '&' will be escaped during serialization and during loading * this won't be recognized as entity reference, i.e. attribute value "&foo;" will * be serialized as "&amp;foo;" and thus after loading will be "&foo;" again. * @param value current attribute value * @param attr current attribute * @return String the value (could be original if normalization did not change * the string) */	TokenNameCOMMENT_BLOCK	 REVISIT: remove this method if DOM does not change spec. Performs partial XML 1.0 attribute value normalization and replaces attribute value if the value is changed after the normalization. DOM defines that normalizeDocument acts as if the document was going through a save and load cycle, given that serializer will not escape any '\n' or '\r' characters on load those will be normalized. Thus during normalize document we need to do the following: - perform "2.11 End-of-Line Handling" - replace #xD, #xA, #x9 with #x20 (white space). Note: This alg. won't attempt to resolve entity references or character entity references, since '&' will be escaped during serialization and during loading this won't be recognized as entity reference, i.e. attribute value "&foo;" will be serialized as "&amp;foo;" and thus after loading will be "&foo;" again. @param value current attribute value @param attr current attribute @return String the value (could be original if normalization did not change the string) 
final	TokenNamefinal	
String	TokenNameIdentifier	 String
normalizeAttributeValue	TokenNameIdentifier	 normalize Attribute Value
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
value	TokenNameIdentifier	 value
,	TokenNameCOMMA	
Attr	TokenNameIdentifier	 Attr
attr	TokenNameIdentifier	 attr
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getSpecified	TokenNameIdentifier	 get Specified
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// specified attributes should already have a normalized form 	TokenNameCOMMENT_LINE	specified attributes should already have a normalized form 
// since those were added by validator 	TokenNameCOMMENT_LINE	since those were added by validator 
return	TokenNamereturn	
value	TokenNameIdentifier	 value
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
int	TokenNameint	
end	TokenNameIdentifier	 end
=	TokenNameEQUAL	
value	TokenNameIdentifier	 value
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// ensure capacity 	TokenNameCOMMENT_LINE	ensure capacity 
if	TokenNameif	
(	TokenNameLPAREN	
fNormalizedValue	TokenNameIdentifier	 f Normalized Value
.	TokenNameDOT	
ch	TokenNameIdentifier	 ch
.	TokenNameDOT	
length	TokenNameIdentifier	 length
<	TokenNameLESS	
end	TokenNameIdentifier	 end
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fNormalizedValue	TokenNameIdentifier	 f Normalized Value
.	TokenNameDOT	
ch	TokenNameIdentifier	 ch
=	TokenNameEQUAL	
new	TokenNamenew	
char	TokenNamechar	
[	TokenNameLBRACKET	
end	TokenNameIdentifier	 end
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
fNormalizedValue	TokenNameIdentifier	 f Normalized Value
.	TokenNameDOT	
length	TokenNameIdentifier	 length
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
normalized	TokenNameIdentifier	 normalized
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
end	TokenNameIdentifier	 end
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
char	TokenNamechar	
c	TokenNameIdentifier	 c
=	TokenNameEQUAL	
value	TokenNameIdentifier	 value
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
==	TokenNameEQUAL_EQUAL	
0x0009	TokenNameIntegerLiteral	
||	TokenNameOR_OR	
c	TokenNameIdentifier	 c
==	TokenNameEQUAL_EQUAL	
0x000A	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fNormalizedValue	TokenNameIdentifier	 f Normalized Value
.	TokenNameDOT	
ch	TokenNameIdentifier	 ch
[	TokenNameLBRACKET	
fNormalizedValue	TokenNameIdentifier	 f Normalized Value
.	TokenNameDOT	
length	TokenNameIdentifier	 length
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
' '	TokenNameCharacterLiteral	
;	TokenNameSEMICOLON	
normalized	TokenNameIdentifier	 normalized
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
c	TokenNameIdentifier	 c
==	TokenNameEQUAL_EQUAL	
0x000D	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
normalized	TokenNameIdentifier	 normalized
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
fNormalizedValue	TokenNameIdentifier	 f Normalized Value
.	TokenNameDOT	
ch	TokenNameIdentifier	 ch
[	TokenNameLBRACKET	
fNormalizedValue	TokenNameIdentifier	 f Normalized Value
.	TokenNameDOT	
length	TokenNameIdentifier	 length
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
' '	TokenNameCharacterLiteral	
;	TokenNameSEMICOLON	
int	TokenNameint	
next	TokenNameIdentifier	 next
=	TokenNameEQUAL	
i	TokenNameIdentifier	 i
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
next	TokenNameIdentifier	 next
<	TokenNameLESS	
end	TokenNameIdentifier	 end
&&	TokenNameAND_AND	
value	TokenNameIdentifier	 value
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
next	TokenNameIdentifier	 next
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0x000A	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
next	TokenNameIdentifier	 next
;	TokenNameSEMICOLON	
// skip following xA 	TokenNameCOMMENT_LINE	skip following xA 
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
fNormalizedValue	TokenNameIdentifier	 f Normalized Value
.	TokenNameDOT	
ch	TokenNameIdentifier	 ch
[	TokenNameLBRACKET	
fNormalizedValue	TokenNameIdentifier	 f Normalized Value
.	TokenNameDOT	
length	TokenNameIdentifier	 length
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
c	TokenNameIdentifier	 c
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
normalized	TokenNameIdentifier	 normalized
)	TokenNameRPAREN	
{	TokenNameLBRACE	
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
fNormalizedValue	TokenNameIdentifier	 f Normalized Value
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
value	TokenNameIdentifier	 value
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
protected	TokenNameprotected	
final	TokenNamefinal	
class	TokenNameclass	
XMLAttributesProxy	TokenNameIdentifier	 XML Attributes Proxy
implements	TokenNameimplements	
XMLAttributes	TokenNameIdentifier	 XML Attributes
{	TokenNameLBRACE	
protected	TokenNameprotected	
AttributeMap	TokenNameIdentifier	 Attribute Map
fAttributes	TokenNameIdentifier	 f Attributes
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
CoreDocumentImpl	TokenNameIdentifier	 Core Document Impl
fDocument	TokenNameIdentifier	 f Document
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
ElementImpl	TokenNameIdentifier	 Element Impl
fElement	TokenNameIdentifier	 f Element
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
final	TokenNamefinal	
Vector	TokenNameIdentifier	 Vector
fDTDTypes	TokenNameIdentifier	 f DTD Types
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
5	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
final	TokenNamefinal	
Vector	TokenNameIdentifier	 Vector
fAugmentations	TokenNameIdentifier	 f Augmentations
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
5	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
void	TokenNamevoid	
setAttributes	TokenNameIdentifier	 set Attributes
(	TokenNameLPAREN	
AttributeMap	TokenNameIdentifier	 Attribute Map
attributes	TokenNameIdentifier	 attributes
,	TokenNameCOMMA	
CoreDocumentImpl	TokenNameIdentifier	 Core Document Impl
doc	TokenNameIdentifier	 doc
,	TokenNameCOMMA	
ElementImpl	TokenNameIdentifier	 Element Impl
elem	TokenNameIdentifier	 elem
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fDocument	TokenNameIdentifier	 f Document
=	TokenNameEQUAL	
doc	TokenNameIdentifier	 doc
;	TokenNameSEMICOLON	
fAttributes	TokenNameIdentifier	 f Attributes
=	TokenNameEQUAL	
attributes	TokenNameIdentifier	 attributes
;	TokenNameSEMICOLON	
fElement	TokenNameIdentifier	 f Element
=	TokenNameEQUAL	
elem	TokenNameIdentifier	 elem
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
attributes	TokenNameIdentifier	 attributes
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
length	TokenNameIdentifier	 length
=	TokenNameEQUAL	
attributes	TokenNameIdentifier	 attributes
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fDTDTypes	TokenNameIdentifier	 f DTD Types
.	TokenNameDOT	
setSize	TokenNameIdentifier	 set Size
(	TokenNameLPAREN	
length	TokenNameIdentifier	 length
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fAugmentations	TokenNameIdentifier	 f Augmentations
.	TokenNameDOT	
setSize	TokenNameIdentifier	 set Size
(	TokenNameLPAREN	
length	TokenNameIdentifier	 length
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// REVISIT: this implementation does not store any value in augmentations 	TokenNameCOMMENT_LINE	REVISIT: this implementation does not store any value in augmentations 
// and basically not keeping augs in parallel to attributes map 	TokenNameCOMMENT_LINE	and basically not keeping augs in parallel to attributes map 
// untill all attributes are added (default attributes) 	TokenNameCOMMENT_LINE	untill all attributes are added (default attributes) 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fAugmentations	TokenNameIdentifier	 f Augmentations
.	TokenNameDOT	
setElementAt	TokenNameIdentifier	 set Element At
(	TokenNameLPAREN	
new	TokenNamenew	
AugmentationsImpl	TokenNameIdentifier	 Augmentations Impl
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
fDTDTypes	TokenNameIdentifier	 f DTD Types
.	TokenNameDOT	
setSize	TokenNameIdentifier	 set Size
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fAugmentations	TokenNameIdentifier	 f Augmentations
.	TokenNameDOT	
setSize	TokenNameIdentifier	 set Size
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * This method adds default declarations * @see org.apache.xerces.xni.XMLAttributes#addAttribute(QName, String, String) */	TokenNameCOMMENT_JAVADOC	 This method adds default declarations @see org.apache.xerces.xni.XMLAttributes#addAttribute(QName, String, String) 
public	TokenNamepublic	
int	TokenNameint	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
QName	TokenNameIdentifier	 Q Name
qname	TokenNameIdentifier	 qname
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
attrType	TokenNameIdentifier	 attr Type
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
attrValue	TokenNameIdentifier	 attr Value
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
index	TokenNameIdentifier	 index
=	TokenNameEQUAL	
fElement	TokenNameIdentifier	 f Element
.	TokenNameDOT	
getXercesAttribute	TokenNameIdentifier	 get Xerces Attribute
(	TokenNameLPAREN	
qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
localpart	TokenNameIdentifier	 localpart
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// add defaults to the tree 	TokenNameCOMMENT_LINE	add defaults to the tree 
if	TokenNameif	
(	TokenNameLPAREN	
index	TokenNameIdentifier	 index
<	TokenNameLESS	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// the default attribute was removed by a user and needed to 	TokenNameCOMMENT_LINE	the default attribute was removed by a user and needed to 
// be added back 	TokenNameCOMMENT_LINE	be added back 
AttrImpl	TokenNameIdentifier	 Attr Impl
attr	TokenNameIdentifier	 attr
=	TokenNameEQUAL	
(	TokenNameLPAREN	
AttrImpl	TokenNameIdentifier	 Attr Impl
)	TokenNameRPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
CoreDocumentImpl	TokenNameIdentifier	 Core Document Impl
)	TokenNameRPAREN	
fElement	TokenNameIdentifier	 f Element
.	TokenNameDOT	
getOwnerDocument	TokenNameIdentifier	 get Owner Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
createAttributeNS	TokenNameIdentifier	 create Attribute NS
(	TokenNameLPAREN	
qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
rawname	TokenNameIdentifier	 rawname
,	TokenNameCOMMA	
qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
localpart	TokenNameIdentifier	 localpart
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// REVISIT: the following should also update ID table 	TokenNameCOMMENT_LINE	REVISIT: the following should also update ID table 
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
setNodeValue	TokenNameIdentifier	 set Node Value
(	TokenNameLPAREN	
attrValue	TokenNameIdentifier	 attr Value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
index	TokenNameIdentifier	 index
=	TokenNameEQUAL	
fElement	TokenNameIdentifier	 f Element
.	TokenNameDOT	
setXercesAttributeNode	TokenNameIdentifier	 set Xerces Attribute Node
(	TokenNameLPAREN	
attr	TokenNameIdentifier	 attr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fDTDTypes	TokenNameIdentifier	 f DTD Types
.	TokenNameDOT	
insertElementAt	TokenNameIdentifier	 insert Element At
(	TokenNameLPAREN	
attrType	TokenNameIdentifier	 attr Type
,	TokenNameCOMMA	
index	TokenNameIdentifier	 index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fAugmentations	TokenNameIdentifier	 f Augmentations
.	TokenNameDOT	
insertElementAt	TokenNameIdentifier	 insert Element At
(	TokenNameLPAREN	
new	TokenNamenew	
AugmentationsImpl	TokenNameIdentifier	 Augmentations Impl
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
index	TokenNameIdentifier	 index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
setSpecified	TokenNameIdentifier	 set Specified
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// default attribute is in the tree 	TokenNameCOMMENT_LINE	default attribute is in the tree 
// we don't need to do anything since prefix was already fixed 	TokenNameCOMMENT_LINE	we don't need to do anything since prefix was already fixed 
// at the namespace fixup time and value must be same value, otherwise 	TokenNameCOMMENT_LINE	at the namespace fixup time and value must be same value, otherwise 
// attribute will be treated as specified and we will never reach 	TokenNameCOMMENT_LINE	attribute will be treated as specified and we will never reach 
// this method. 	TokenNameCOMMENT_LINE	this method. 
}	TokenNameRBRACE	
return	TokenNamereturn	
index	TokenNameIdentifier	 index
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
removeAllAttributes	TokenNameIdentifier	 remove All Attributes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// REVISIT: implement 	TokenNameCOMMENT_LINE	REVISIT: implement 
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
removeAttributeAt	TokenNameIdentifier	 remove Attribute At
(	TokenNameLPAREN	
int	TokenNameint	
attrIndex	TokenNameIdentifier	 attr Index
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// REVISIT: implement 	TokenNameCOMMENT_LINE	REVISIT: implement 
}	TokenNameRBRACE	
public	TokenNamepublic	
int	TokenNameint	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
fAttributes	TokenNameIdentifier	 f Attributes
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
int	TokenNameint	
getIndex	TokenNameIdentifier	 get Index
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
qName	TokenNameIdentifier	 q Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// REVISIT: implement 	TokenNameCOMMENT_LINE	REVISIT: implement 
return	TokenNamereturn	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
int	TokenNameint	
getIndex	TokenNameIdentifier	 get Index
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
localPart	TokenNameIdentifier	 local Part
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// REVISIT: implement 	TokenNameCOMMENT_LINE	REVISIT: implement 
return	TokenNamereturn	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
setName	TokenNameIdentifier	 set Name
(	TokenNameLPAREN	
int	TokenNameint	
attrIndex	TokenNameIdentifier	 attr Index
,	TokenNameCOMMA	
QName	TokenNameIdentifier	 Q Name
attrName	TokenNameIdentifier	 attr Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// REVISIT: implement 	TokenNameCOMMENT_LINE	REVISIT: implement 
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
int	TokenNameint	
attrIndex	TokenNameIdentifier	 attr Index
,	TokenNameCOMMA	
QName	TokenNameIdentifier	 Q Name
attrName	TokenNameIdentifier	 attr Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
updateQName	TokenNameIdentifier	 update Q Name
(	TokenNameLPAREN	
(	TokenNameLPAREN	
Node	TokenNameIdentifier	 Node
)	TokenNameRPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
.	TokenNameDOT	
getItem	TokenNameIdentifier	 get Item
(	TokenNameLPAREN	
attrIndex	TokenNameIdentifier	 attr Index
)	TokenNameRPAREN	
,	TokenNameCOMMA	
attrName	TokenNameIdentifier	 attr Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getPrefix	TokenNameIdentifier	 get Prefix
(	TokenNameLPAREN	
int	TokenNameint	
index	TokenNameIdentifier	 index
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Node	TokenNameIdentifier	 Node
node	TokenNameIdentifier	 node
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Node	TokenNameIdentifier	 Node
)	TokenNameRPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
.	TokenNameDOT	
getItem	TokenNameIdentifier	 get Item
(	TokenNameLPAREN	
index	TokenNameIdentifier	 index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getPrefix	TokenNameIdentifier	 get Prefix
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
prefix	TokenNameIdentifier	 prefix
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
)	TokenNameRPAREN	
:	TokenNameCOLON	
null	TokenNamenull	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
prefix	TokenNameIdentifier	 prefix
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getURI	TokenNameIdentifier	 get URI
(	TokenNameLPAREN	
int	TokenNameint	
index	TokenNameIdentifier	 index
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Node	TokenNameIdentifier	 Node
node	TokenNameIdentifier	 node
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Node	TokenNameIdentifier	 Node
)	TokenNameRPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
.	TokenNameDOT	
getItem	TokenNameIdentifier	 get Item
(	TokenNameLPAREN	
index	TokenNameIdentifier	 index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
namespace	TokenNameIdentifier	 namespace
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNamespaceURI	TokenNameIdentifier	 get Namespace URI
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
namespace	TokenNameIdentifier	 namespace
=	TokenNameEQUAL	
(	TokenNameLPAREN	
namespace	TokenNameIdentifier	 namespace
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
namespace	TokenNameIdentifier	 namespace
)	TokenNameRPAREN	
:	TokenNameCOLON	
null	TokenNamenull	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
namespace	TokenNameIdentifier	 namespace
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
int	TokenNameint	
index	TokenNameIdentifier	 index
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Node	TokenNameIdentifier	 Node
node	TokenNameIdentifier	 node
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Node	TokenNameIdentifier	 Node
)	TokenNameRPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
.	TokenNameDOT	
getItem	TokenNameIdentifier	 get Item
(	TokenNameLPAREN	
index	TokenNameIdentifier	 index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
localName	TokenNameIdentifier	 local Name
=	TokenNameEQUAL	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
localName	TokenNameIdentifier	 local Name
=	TokenNameEQUAL	
(	TokenNameLPAREN	
localName	TokenNameIdentifier	 local Name
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
localName	TokenNameIdentifier	 local Name
)	TokenNameRPAREN	
:	TokenNameCOLON	
null	TokenNamenull	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
localName	TokenNameIdentifier	 local Name
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getQName	TokenNameIdentifier	 get Q Name
(	TokenNameLPAREN	
int	TokenNameint	
index	TokenNameIdentifier	 index
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Node	TokenNameIdentifier	 Node
node	TokenNameIdentifier	 node
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Node	TokenNameIdentifier	 Node
)	TokenNameRPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
.	TokenNameDOT	
getItem	TokenNameIdentifier	 get Item
(	TokenNameLPAREN	
index	TokenNameIdentifier	 index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
rawname	TokenNameIdentifier	 rawname
=	TokenNameEQUAL	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
rawname	TokenNameIdentifier	 rawname
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
setType	TokenNameIdentifier	 set Type
(	TokenNameLPAREN	
int	TokenNameint	
attrIndex	TokenNameIdentifier	 attr Index
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
attrType	TokenNameIdentifier	 attr Type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fDTDTypes	TokenNameIdentifier	 f DTD Types
.	TokenNameDOT	
setElementAt	TokenNameIdentifier	 set Element At
(	TokenNameLPAREN	
attrType	TokenNameIdentifier	 attr Type
,	TokenNameCOMMA	
attrIndex	TokenNameIdentifier	 attr Index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getType	TokenNameIdentifier	 get Type
(	TokenNameLPAREN	
int	TokenNameint	
index	TokenNameIdentifier	 index
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
type	TokenNameIdentifier	 type
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
fDTDTypes	TokenNameIdentifier	 f DTD Types
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
index	TokenNameIdentifier	 index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
getReportableType	TokenNameIdentifier	 get Reportable Type
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
)	TokenNameRPAREN	
:	TokenNameCOLON	
"CDATA"	TokenNameStringLiteral	CDATA
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getType	TokenNameIdentifier	 get Type
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
qName	TokenNameIdentifier	 q Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
"CDATA"	TokenNameStringLiteral	CDATA
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getType	TokenNameIdentifier	 get Type
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
localName	TokenNameIdentifier	 local Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
"CDATA"	TokenNameStringLiteral	CDATA
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
getReportableType	TokenNameIdentifier	 get Reportable Type
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
type	TokenNameIdentifier	 type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
'('	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
"NMTOKEN"	TokenNameStringLiteral	NMTOKEN
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
type	TokenNameIdentifier	 type
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
int	TokenNameint	
attrIndex	TokenNameIdentifier	 attr Index
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
attrValue	TokenNameIdentifier	 attr Value
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// REVISIT: is this desired behaviour? 	TokenNameCOMMENT_LINE	REVISIT: is this desired behaviour? 
// The values are updated in the case datatype-normalization is turned on 	TokenNameCOMMENT_LINE	The values are updated in the case datatype-normalization is turned on 
// in this case we need to make sure that specified attributes stay specified 	TokenNameCOMMENT_LINE	in this case we need to make sure that specified attributes stay specified 
if	TokenNameif	
(	TokenNameLPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
AttrImpl	TokenNameIdentifier	 Attr Impl
attr	TokenNameIdentifier	 attr
=	TokenNameEQUAL	
(	TokenNameLPAREN	
AttrImpl	TokenNameIdentifier	 Attr Impl
)	TokenNameRPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
.	TokenNameDOT	
getItem	TokenNameIdentifier	 get Item
(	TokenNameLPAREN	
attrIndex	TokenNameIdentifier	 attr Index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
specified	TokenNameIdentifier	 specified
=	TokenNameEQUAL	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getSpecified	TokenNameIdentifier	 get Specified
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
attrValue	TokenNameIdentifier	 attr Value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
setSpecified	TokenNameIdentifier	 set Specified
(	TokenNameLPAREN	
specified	TokenNameIdentifier	 specified
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
int	TokenNameint	
index	TokenNameIdentifier	 index
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
fAttributes	TokenNameIdentifier	 f Attributes
.	TokenNameDOT	
item	TokenNameIdentifier	 item
(	TokenNameLPAREN	
index	TokenNameIdentifier	 index
)	TokenNameRPAREN	
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
qName	TokenNameIdentifier	 q Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// REVISIT: implement 	TokenNameCOMMENT_LINE	REVISIT: implement 
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
localName	TokenNameIdentifier	 local Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Node	TokenNameIdentifier	 Node
node	TokenNameIdentifier	 node
=	TokenNameEQUAL	
fAttributes	TokenNameIdentifier	 f Attributes
.	TokenNameDOT	
getNamedItemNS	TokenNameIdentifier	 get Named Item NS
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
localName	TokenNameIdentifier	 local Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
node	TokenNameIdentifier	 node
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
setNonNormalizedValue	TokenNameIdentifier	 set Non Normalized Value
(	TokenNameLPAREN	
int	TokenNameint	
attrIndex	TokenNameIdentifier	 attr Index
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
attrValue	TokenNameIdentifier	 attr Value
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// REVISIT: implement 	TokenNameCOMMENT_LINE	REVISIT: implement 
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getNonNormalizedValue	TokenNameIdentifier	 get Non Normalized Value
(	TokenNameLPAREN	
int	TokenNameint	
attrIndex	TokenNameIdentifier	 attr Index
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// REVISIT: implement 	TokenNameCOMMENT_LINE	REVISIT: implement 
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
setSpecified	TokenNameIdentifier	 set Specified
(	TokenNameLPAREN	
int	TokenNameint	
attrIndex	TokenNameIdentifier	 attr Index
,	TokenNameCOMMA	
boolean	TokenNameboolean	
specified	TokenNameIdentifier	 specified
)	TokenNameRPAREN	
{	TokenNameLBRACE	
AttrImpl	TokenNameIdentifier	 Attr Impl
attr	TokenNameIdentifier	 attr
=	TokenNameEQUAL	
(	TokenNameLPAREN	
AttrImpl	TokenNameIdentifier	 Attr Impl
)	TokenNameRPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
.	TokenNameDOT	
getItem	TokenNameIdentifier	 get Item
(	TokenNameLPAREN	
attrIndex	TokenNameIdentifier	 attr Index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
setSpecified	TokenNameIdentifier	 set Specified
(	TokenNameLPAREN	
specified	TokenNameIdentifier	 specified
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
boolean	TokenNameboolean	
isSpecified	TokenNameIdentifier	 is Specified
(	TokenNameLPAREN	
int	TokenNameint	
attrIndex	TokenNameIdentifier	 attr Index
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
Attr	TokenNameIdentifier	 Attr
)	TokenNameRPAREN	
fAttributes	TokenNameIdentifier	 f Attributes
.	TokenNameDOT	
getItem	TokenNameIdentifier	 get Item
(	TokenNameLPAREN	
attrIndex	TokenNameIdentifier	 attr Index
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getSpecified	TokenNameIdentifier	 get Specified
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Augmentations	TokenNameIdentifier	 Augmentations
getAugmentations	TokenNameIdentifier	 get Augmentations
(	TokenNameLPAREN	
int	TokenNameint	
attributeIndex	TokenNameIdentifier	 attribute Index
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
Augmentations	TokenNameIdentifier	 Augmentations
)	TokenNameRPAREN	
fAugmentations	TokenNameIdentifier	 f Augmentations
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
attributeIndex	TokenNameIdentifier	 attribute Index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Augmentations	TokenNameIdentifier	 Augmentations
getAugmentations	TokenNameIdentifier	 get Augmentations
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
localPart	TokenNameIdentifier	 local Part
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// REVISIT: implement 	TokenNameCOMMENT_LINE	REVISIT: implement 
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Augmentations	TokenNameIdentifier	 Augmentations
getAugmentations	TokenNameIdentifier	 get Augmentations
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
qName	TokenNameIdentifier	 q Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// REVISIT: implement 	TokenNameCOMMENT_LINE	REVISIT: implement 
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the augmentations of the attribute at the specified index. * * @param attrIndex The attribute index. * @param augs The augmentations. */	TokenNameCOMMENT_JAVADOC	 Sets the augmentations of the attribute at the specified index. * @param attrIndex The attribute index. @param augs The augmentations. 
public	TokenNamepublic	
void	TokenNamevoid	
setAugmentations	TokenNameIdentifier	 set Augmentations
(	TokenNameLPAREN	
int	TokenNameint	
attrIndex	TokenNameIdentifier	 attr Index
,	TokenNameCOMMA	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fAugmentations	TokenNameIdentifier	 f Augmentations
.	TokenNameDOT	
setElementAt	TokenNameIdentifier	 set Element At
(	TokenNameLPAREN	
augs	TokenNameIdentifier	 augs
,	TokenNameCOMMA	
attrIndex	TokenNameIdentifier	 attr Index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// 	TokenNameCOMMENT_LINE	 
// XMLDocumentHandler methods 	TokenNameCOMMENT_LINE	XMLDocumentHandler methods 
// 	TokenNameCOMMENT_LINE	 
/** * The start of the document. * * @param locator The document locator, or null if the document * location cannot be reported during the parsing * of this document. However, it is <em>strongly</em> * recommended that a locator be supplied that can * at least report the system identifier of the * document. * @param encoding The auto-detected IANA encoding name of the entity * stream. This value will be null in those situations * where the entity encoding is not auto-detected (e.g. * internal entities or a document entity that is * parsed from a java.io.Reader). * @param namespaceContext * The namespace context in effect at the * start of this document. * This object represents the current context. * Implementors of this class are responsible * for copying the namespace bindings from the * the current context (and its parent contexts) * if that information is important. * * @param augs Additional information that may include infoset augmentations * @exception XNIException * Thrown by handler to signal an error. */	TokenNameCOMMENT_JAVADOC	 The start of the document. * @param locator The document locator, or null if the document location cannot be reported during the parsing of this document. However, it is <em>strongly</em> recommended that a locator be supplied that can at least report the system identifier of the document. @param encoding The auto-detected IANA encoding name of the entity stream. This value will be null in those situations where the entity encoding is not auto-detected (e.g. internal entities or a document entity that is parsed from a java.io.Reader). @param namespaceContext The namespace context in effect at the start of this document. This object represents the current context. Implementors of this class are responsible for copying the namespace bindings from the the current context (and its parent contexts) if that information is important. * @param augs Additional information that may include infoset augmentations @exception XNIException Thrown by handler to signal an error. 
public	TokenNamepublic	
void	TokenNamevoid	
startDocument	TokenNameIdentifier	 start Document
(	TokenNameLPAREN	
XMLLocator	TokenNameIdentifier	 XML Locator
locator	TokenNameIdentifier	 locator
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
encoding	TokenNameIdentifier	 encoding
,	TokenNameCOMMA	
NamespaceContext	TokenNameIdentifier	 Namespace Context
namespaceContext	TokenNameIdentifier	 namespace Context
,	TokenNameCOMMA	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
throws	TokenNamethrows	
XNIException	TokenNameIdentifier	 XNI Exception
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * Notifies of the presence of an XMLDecl line in the document. If * present, this method will be called immediately following the * startDocument call. * * @param version The XML version. * @param encoding The IANA encoding name of the document, or null if * not specified. * @param standalone The standalone value, or null if not specified. * @param augs Additional information that may include infoset augmentations * * @exception XNIException * Thrown by handler to signal an error. */	TokenNameCOMMENT_JAVADOC	 Notifies of the presence of an XMLDecl line in the document. If present, this method will be called immediately following the startDocument call. * @param version The XML version. @param encoding The IANA encoding name of the document, or null if not specified. @param standalone The standalone value, or null if not specified. @param augs Additional information that may include infoset augmentations * @exception XNIException Thrown by handler to signal an error. 
public	TokenNamepublic	
void	TokenNamevoid	
xmlDecl	TokenNameIdentifier	 xml Decl
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
version	TokenNameIdentifier	 version
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
encoding	TokenNameIdentifier	 encoding
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
standalone	TokenNameIdentifier	 standalone
,	TokenNameCOMMA	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
throws	TokenNamethrows	
XNIException	TokenNameIdentifier	 XNI Exception
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * Notifies of the presence of the DOCTYPE line in the document. * * @param rootElement * The name of the root element. * @param publicId The public identifier if an external DTD or null * if the external DTD is specified using SYSTEM. * @param systemId The system identifier if an external DTD, null * otherwise. * @param augs Additional information that may include infoset augmentations * * @exception XNIException * Thrown by handler to signal an error. */	TokenNameCOMMENT_JAVADOC	 Notifies of the presence of the DOCTYPE line in the document. * @param rootElement The name of the root element. @param publicId The public identifier if an external DTD or null if the external DTD is specified using SYSTEM. @param systemId The system identifier if an external DTD, null otherwise. @param augs Additional information that may include infoset augmentations * @exception XNIException Thrown by handler to signal an error. 
public	TokenNamepublic	
void	TokenNamevoid	
doctypeDecl	TokenNameIdentifier	 doctype Decl
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
rootElement	TokenNameIdentifier	 root Element
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
publicId	TokenNameIdentifier	 public Id
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
systemId	TokenNameIdentifier	 system Id
,	TokenNameCOMMA	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
throws	TokenNamethrows	
XNIException	TokenNameIdentifier	 XNI Exception
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * A comment. * * @param text The text in the comment. * @param augs Additional information that may include infoset augmentations * * @exception XNIException * Thrown by application to signal an error. */	TokenNameCOMMENT_JAVADOC	 A comment. * @param text The text in the comment. @param augs Additional information that may include infoset augmentations * @exception XNIException Thrown by application to signal an error. 
public	TokenNamepublic	
void	TokenNamevoid	
comment	TokenNameIdentifier	 comment
(	TokenNameLPAREN	
XMLString	TokenNameIdentifier	 XML String
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
throws	TokenNamethrows	
XNIException	TokenNameIdentifier	 XNI Exception
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * A processing instruction. Processing instructions consist of a * target name and, optionally, text data. The data is only meaningful * to the application. * <p> * Typically, a processing instruction's data will contain a series * of pseudo-attributes. These pseudo-attributes follow the form of * element attributes but are <strong>not</strong> parsed or presented * to the application as anything other than text. The application is * responsible for parsing the data. * * @param target The target. * @param data The data or null if none specified. * @param augs Additional information that may include infoset augmentations * * @exception XNIException * Thrown by handler to signal an error. */	TokenNameCOMMENT_JAVADOC	 A processing instruction. Processing instructions consist of a target name and, optionally, text data. The data is only meaningful to the application. <p> Typically, a processing instruction's data will contain a series of pseudo-attributes. These pseudo-attributes follow the form of element attributes but are <strong>not</strong> parsed or presented to the application as anything other than text. The application is responsible for parsing the data. * @param target The target. @param data The data or null if none specified. @param augs Additional information that may include infoset augmentations * @exception XNIException Thrown by handler to signal an error. 
public	TokenNamepublic	
void	TokenNamevoid	
processingInstruction	TokenNameIdentifier	 processing Instruction
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
target	TokenNameIdentifier	 target
,	TokenNameCOMMA	
XMLString	TokenNameIdentifier	 XML String
data	TokenNameIdentifier	 data
,	TokenNameCOMMA	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
throws	TokenNamethrows	
XNIException	TokenNameIdentifier	 XNI Exception
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * The start of an element. * * @param element The name of the element. * @param attributes The element attributes. * @param augs Additional information that may include infoset augmentations * * @exception XNIException * Thrown by handler to signal an error. */	TokenNameCOMMENT_JAVADOC	 The start of an element. * @param element The name of the element. @param attributes The element attributes. @param augs Additional information that may include infoset augmentations * @exception XNIException Thrown by handler to signal an error. 
public	TokenNamepublic	
void	TokenNamevoid	
startElement	TokenNameIdentifier	 start Element
(	TokenNameLPAREN	
QName	TokenNameIdentifier	 Q Name
element	TokenNameIdentifier	 element
,	TokenNameCOMMA	
XMLAttributes	TokenNameIdentifier	 XML Attributes
attributes	TokenNameIdentifier	 attributes
,	TokenNameCOMMA	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
throws	TokenNamethrows	
XNIException	TokenNameIdentifier	 XNI Exception
{	TokenNameLBRACE	
Element	TokenNameIdentifier	 Element
currentElement	TokenNameIdentifier	 current Element
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Element	TokenNameIdentifier	 Element
)	TokenNameRPAREN	
fCurrentNode	TokenNameIdentifier	 f Current Node
;	TokenNameSEMICOLON	
int	TokenNameint	
attrCount	TokenNameIdentifier	 attr Count
=	TokenNameEQUAL	
attributes	TokenNameIdentifier	 attributes
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG_EVENTS	TokenNameIdentifier	 DEBUG  EVENTS
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"==>startElement: "	TokenNameStringLiteral	==>startElement: 
+	TokenNamePLUS	
element	TokenNameIdentifier	 element
+	TokenNamePLUS	
" attrs.length="	TokenNameStringLiteral	 attrs.length=
+	TokenNamePLUS	
attrCount	TokenNameIdentifier	 attr Count
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
attrCount	TokenNameIdentifier	 attr Count
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attributes	TokenNameIdentifier	 attributes
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
,	TokenNameCOMMA	
fAttrQName	TokenNameIdentifier	 f Attr Q Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Attr	TokenNameIdentifier	 Attr
attr	TokenNameIdentifier	 attr
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
attr	TokenNameIdentifier	 attr
=	TokenNameEQUAL	
currentElement	TokenNameIdentifier	 current Element
.	TokenNameDOT	
getAttributeNodeNS	TokenNameIdentifier	 get Attribute Node NS
(	TokenNameLPAREN	
fAttrQName	TokenNameIdentifier	 f Attr Q Name
.	TokenNameDOT	
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
fAttrQName	TokenNameIdentifier	 f Attr Q Name
.	TokenNameDOT	
localpart	TokenNameIdentifier	 localpart
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
attr	TokenNameIdentifier	 attr
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Must be a non-namespace aware DOM Level 1 node. 	TokenNameCOMMENT_LINE	Must be a non-namespace aware DOM Level 1 node. 
attr	TokenNameIdentifier	 attr
=	TokenNameEQUAL	
currentElement	TokenNameIdentifier	 current Element
.	TokenNameDOT	
getAttributeNode	TokenNameIdentifier	 get Attribute Node
(	TokenNameLPAREN	
fAttrQName	TokenNameIdentifier	 f Attr Q Name
.	TokenNameDOT	
rawname	TokenNameIdentifier	 rawname
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
AttributePSVI	TokenNameIdentifier	 Attribute PSVI
attrPSVI	TokenNameIdentifier	 attr PSVI
=	TokenNameEQUAL	
(	TokenNameLPAREN	
AttributePSVI	TokenNameIdentifier	 Attribute PSVI
)	TokenNameRPAREN	
attributes	TokenNameIdentifier	 attributes
.	TokenNameDOT	
getAugmentations	TokenNameIdentifier	 get Augmentations
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
.	TokenNameDOT	
getItem	TokenNameIdentifier	 get Item
(	TokenNameLPAREN	
Constants	TokenNameIdentifier	 Constants
.	TokenNameDOT	
ATTRIBUTE_PSVI	TokenNameIdentifier	 ATTRIBUTE  PSVI
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
attrPSVI	TokenNameIdentifier	 attr PSVI
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//REVISIT: instead we should be using augmentations: 	TokenNameCOMMENT_LINE	REVISIT: instead we should be using augmentations: 
// to set/retrieve Id attributes 	TokenNameCOMMENT_LINE	to set/retrieve Id attributes 
XSTypeDefinition	TokenNameIdentifier	 XS Type Definition
decl	TokenNameIdentifier	 decl
=	TokenNameEQUAL	
attrPSVI	TokenNameIdentifier	 attr PSVI
.	TokenNameDOT	
getMemberTypeDefinition	TokenNameIdentifier	 get Member Type Definition
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
id	TokenNameIdentifier	 id
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
decl	TokenNameIdentifier	 decl
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
id	TokenNameIdentifier	 id
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
)	TokenNameRPAREN	
decl	TokenNameIdentifier	 decl
)	TokenNameRPAREN	
.	TokenNameDOT	
isIDType	TokenNameIdentifier	 is ID Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
decl	TokenNameIdentifier	 decl
=	TokenNameEQUAL	
attrPSVI	TokenNameIdentifier	 attr PSVI
.	TokenNameDOT	
getTypeDefinition	TokenNameIdentifier	 get Type Definition
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
decl	TokenNameIdentifier	 decl
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
id	TokenNameIdentifier	 id
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
)	TokenNameRPAREN	
decl	TokenNameIdentifier	 decl
)	TokenNameRPAREN	
.	TokenNameDOT	
isIDType	TokenNameIdentifier	 is ID Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
id	TokenNameIdentifier	 id
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
ElementImpl	TokenNameIdentifier	 Element Impl
)	TokenNameRPAREN	
currentElement	TokenNameIdentifier	 current Element
)	TokenNameRPAREN	
.	TokenNameDOT	
setIdAttributeNode	TokenNameIdentifier	 set Id Attribute Node
(	TokenNameLPAREN	
attr	TokenNameIdentifier	 attr
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fPSVI	TokenNameIdentifier	 f PSVI
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
PSVIAttrNSImpl	TokenNameIdentifier	 PSVI Attr NS Impl
)	TokenNameRPAREN	
attr	TokenNameIdentifier	 attr
)	TokenNameRPAREN	
.	TokenNameDOT	
setPSVI	TokenNameIdentifier	 set PSVI
(	TokenNameLPAREN	
attrPSVI	TokenNameIdentifier	 attr PSVI
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Updating the TypeInfo for this attribute. 	TokenNameCOMMENT_LINE	Updating the TypeInfo for this attribute. 
(	TokenNameLPAREN	
(	TokenNameLPAREN	
AttrImpl	TokenNameIdentifier	 Attr Impl
)	TokenNameRPAREN	
attr	TokenNameIdentifier	 attr
)	TokenNameRPAREN	
.	TokenNameDOT	
setType	TokenNameIdentifier	 set Type
(	TokenNameLPAREN	
decl	TokenNameIdentifier	 decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
DTNORMALIZATION	TokenNameIdentifier	 DTNORMALIZATION
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// datatype-normalization 	TokenNameCOMMENT_LINE	datatype-normalization 
// NOTE: The specified value MUST be set after we set 	TokenNameCOMMENT_LINE	NOTE: The specified value MUST be set after we set 
// the node value because that turns the "specified" 	TokenNameCOMMENT_LINE	the node value because that turns the "specified" 
// flag to "true" which may overwrite a "false" 	TokenNameCOMMENT_LINE	flag to "true" which may overwrite a "false" 
// value from the attribute list. 	TokenNameCOMMENT_LINE	value from the attribute list. 
final	TokenNamefinal	
String	TokenNameIdentifier	 String
normalizedValue	TokenNameIdentifier	 normalized Value
=	TokenNameEQUAL	
attrPSVI	TokenNameIdentifier	 attr PSVI
.	TokenNameDOT	
getSchemaNormalizedValue	TokenNameIdentifier	 get Schema Normalized Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
normalizedValue	TokenNameIdentifier	 normalized Value
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
specified	TokenNameIdentifier	 specified
=	TokenNameEQUAL	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
getSpecified	TokenNameIdentifier	 get Specified
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
attr	TokenNameIdentifier	 attr
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
normalizedValue	TokenNameIdentifier	 normalized Value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
specified	TokenNameIdentifier	 specified
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
AttrImpl	TokenNameIdentifier	 Attr Impl
)	TokenNameRPAREN	
attr	TokenNameIdentifier	 attr
)	TokenNameRPAREN	
.	TokenNameDOT	
setSpecified	TokenNameIdentifier	 set Specified
(	TokenNameLPAREN	
specified	TokenNameIdentifier	 specified
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// DTD 	TokenNameCOMMENT_LINE	DTD 
String	TokenNameIdentifier	 String
type	TokenNameIdentifier	 type
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
isDeclared	TokenNameIdentifier	 is Declared
=	TokenNameEQUAL	
Boolean	TokenNameIdentifier	 Boolean
.	TokenNameDOT	
TRUE	TokenNameIdentifier	 TRUE
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
attributes	TokenNameIdentifier	 attributes
.	TokenNameDOT	
getAugmentations	TokenNameIdentifier	 get Augmentations
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
.	TokenNameDOT	
getItem	TokenNameIdentifier	 get Item
(	TokenNameLPAREN	
Constants	TokenNameIdentifier	 Constants
.	TokenNameDOT	
ATTRIBUTE_DECLARED	TokenNameIdentifier	 ATTRIBUTE  DECLARED
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// For DOM Level 3 TypeInfo, the type name must 	TokenNameCOMMENT_LINE	For DOM Level 3 TypeInfo, the type name must 
// be null if this attribute has not been declared 	TokenNameCOMMENT_LINE	be null if this attribute has not been declared 
// in the DTD. 	TokenNameCOMMENT_LINE	in the DTD. 
if	TokenNameif	
(	TokenNameLPAREN	
isDeclared	TokenNameIdentifier	 is Declared
)	TokenNameRPAREN	
{	TokenNameLBRACE	
type	TokenNameIdentifier	 type
=	TokenNameEQUAL	
attributes	TokenNameIdentifier	 attributes
.	TokenNameDOT	
getType	TokenNameIdentifier	 get Type
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
"ID"	TokenNameStringLiteral	ID
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
ElementImpl	TokenNameIdentifier	 Element Impl
)	TokenNameRPAREN	
currentElement	TokenNameIdentifier	 current Element
)	TokenNameRPAREN	
.	TokenNameDOT	
setIdAttributeNode	TokenNameIdentifier	 set Id Attribute Node
(	TokenNameLPAREN	
attr	TokenNameIdentifier	 attr
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Updating the TypeInfo for this attribute. 	TokenNameCOMMENT_LINE	Updating the TypeInfo for this attribute. 
(	TokenNameLPAREN	
(	TokenNameLPAREN	
AttrImpl	TokenNameIdentifier	 Attr Impl
)	TokenNameRPAREN	
attr	TokenNameIdentifier	 attr
)	TokenNameRPAREN	
.	TokenNameDOT	
setType	TokenNameIdentifier	 set Type
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * An empty element. * * @param element The name of the element. * @param attributes The element attributes. * @param augs Additional information that may include infoset augmentations * * @exception XNIException * Thrown by handler to signal an error. */	TokenNameCOMMENT_JAVADOC	 An empty element. * @param element The name of the element. @param attributes The element attributes. @param augs Additional information that may include infoset augmentations * @exception XNIException Thrown by handler to signal an error. 
public	TokenNamepublic	
void	TokenNamevoid	
emptyElement	TokenNameIdentifier	 empty Element
(	TokenNameLPAREN	
QName	TokenNameIdentifier	 Q Name
element	TokenNameIdentifier	 element
,	TokenNameCOMMA	
XMLAttributes	TokenNameIdentifier	 XML Attributes
attributes	TokenNameIdentifier	 attributes
,	TokenNameCOMMA	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
throws	TokenNamethrows	
XNIException	TokenNameIdentifier	 XNI Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG_EVENTS	TokenNameIdentifier	 DEBUG  EVENTS
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"==>emptyElement: "	TokenNameStringLiteral	==>emptyElement: 
+	TokenNamePLUS	
element	TokenNameIdentifier	 element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
startElement	TokenNameIdentifier	 start Element
(	TokenNameLPAREN	
element	TokenNameIdentifier	 element
,	TokenNameCOMMA	
attributes	TokenNameIdentifier	 attributes
,	TokenNameCOMMA	
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
endElement	TokenNameIdentifier	 end Element
(	TokenNameLPAREN	
element	TokenNameIdentifier	 element
,	TokenNameCOMMA	
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * This method notifies the start of a general entity. * <p> * <strong>Note:</strong> This method is not called for entity references * appearing as part of attribute values. * * @param name The name of the general entity. * @param identifier The resource identifier. * @param encoding The auto-detected IANA encoding name of the entity * stream. This value will be null in those situations * where the entity encoding is not auto-detected (e.g. * internal entities or a document entity that is * parsed from a java.io.Reader). * @param augs Additional information that may include infoset augmentations * * @exception XNIException Thrown by handler to signal an error. */	TokenNameCOMMENT_JAVADOC	 This method notifies the start of a general entity. <p> <strong>Note:</strong> This method is not called for entity references appearing as part of attribute values. * @param name The name of the general entity. @param identifier The resource identifier. @param encoding The auto-detected IANA encoding name of the entity stream. This value will be null in those situations where the entity encoding is not auto-detected (e.g. internal entities or a document entity that is parsed from a java.io.Reader). @param augs Additional information that may include infoset augmentations * @exception XNIException Thrown by handler to signal an error. 
public	TokenNamepublic	
void	TokenNamevoid	
startGeneralEntity	TokenNameIdentifier	 start General Entity
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
XMLResourceIdentifier	TokenNameIdentifier	 XML Resource Identifier
identifier	TokenNameIdentifier	 identifier
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
encoding	TokenNameIdentifier	 encoding
,	TokenNameCOMMA	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
throws	TokenNamethrows	
XNIException	TokenNameIdentifier	 XNI Exception
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * Notifies of the presence of a TextDecl line in an entity. If present, * this method will be called immediately following the startEntity call. * <p> * <strong>Note:</strong> This method will never be called for the * document entity; it is only called for external general entities * referenced in document content. * <p> * <strong>Note:</strong> This method is not called for entity references * appearing as part of attribute values. * * @param version The XML version, or null if not specified. * @param encoding The IANA encoding name of the entity. * @param augs Additional information that may include infoset augmentations * * @exception XNIException * Thrown by handler to signal an error. */	TokenNameCOMMENT_JAVADOC	 Notifies of the presence of a TextDecl line in an entity. If present, this method will be called immediately following the startEntity call. <p> <strong>Note:</strong> This method will never be called for the document entity; it is only called for external general entities referenced in document content. <p> <strong>Note:</strong> This method is not called for entity references appearing as part of attribute values. * @param version The XML version, or null if not specified. @param encoding The IANA encoding name of the entity. @param augs Additional information that may include infoset augmentations * @exception XNIException Thrown by handler to signal an error. 
public	TokenNamepublic	
void	TokenNamevoid	
textDecl	TokenNameIdentifier	 text Decl
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
version	TokenNameIdentifier	 version
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
encoding	TokenNameIdentifier	 encoding
,	TokenNameCOMMA	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
throws	TokenNamethrows	
XNIException	TokenNameIdentifier	 XNI Exception
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * This method notifies the end of a general entity. * <p> * <strong>Note:</strong> This method is not called for entity references * appearing as part of attribute values. * * @param name The name of the entity. * @param augs Additional information that may include infoset augmentations * * @exception XNIException * Thrown by handler to signal an error. */	TokenNameCOMMENT_JAVADOC	 This method notifies the end of a general entity. <p> <strong>Note:</strong> This method is not called for entity references appearing as part of attribute values. * @param name The name of the entity. @param augs Additional information that may include infoset augmentations * @exception XNIException Thrown by handler to signal an error. 
public	TokenNamepublic	
void	TokenNamevoid	
endGeneralEntity	TokenNameIdentifier	 end General Entity
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
throws	TokenNamethrows	
XNIException	TokenNameIdentifier	 XNI Exception
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * Character content. * * @param text The content. * @param augs Additional information that may include infoset augmentations * * @exception XNIException * Thrown by handler to signal an error. */	TokenNameCOMMENT_JAVADOC	 Character content. * @param text The content. @param augs Additional information that may include infoset augmentations * @exception XNIException Thrown by handler to signal an error. 
public	TokenNamepublic	
void	TokenNamevoid	
characters	TokenNameIdentifier	 characters
(	TokenNameLPAREN	
XMLString	TokenNameIdentifier	 XML String
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
throws	TokenNamethrows	
XNIException	TokenNameIdentifier	 XNI Exception
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * Ignorable whitespace. For this method to be called, the document * source must have some way of determining that the text containing * only whitespace characters should be considered ignorable. For * example, the validator can determine if a length of whitespace * characters in the document are ignorable based on the element * content model. * * @param text The ignorable whitespace. * @param augs Additional information that may include infoset augmentations * * @exception XNIException * Thrown by handler to signal an error. */	TokenNameCOMMENT_JAVADOC	 Ignorable whitespace. For this method to be called, the document source must have some way of determining that the text containing only whitespace characters should be considered ignorable. For example, the validator can determine if a length of whitespace characters in the document are ignorable based on the element content model. * @param text The ignorable whitespace. @param augs Additional information that may include infoset augmentations * @exception XNIException Thrown by handler to signal an error. 
public	TokenNamepublic	
void	TokenNamevoid	
ignorableWhitespace	TokenNameIdentifier	 ignorable Whitespace
(	TokenNameLPAREN	
XMLString	TokenNameIdentifier	 XML String
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
throws	TokenNamethrows	
XNIException	TokenNameIdentifier	 XNI Exception
{	TokenNameLBRACE	
fAllWhitespace	TokenNameIdentifier	 f All Whitespace
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * The end of an element. * * @param element The name of the element. * @param augs Additional information that may include infoset augmentations * * @exception XNIException * Thrown by handler to signal an error. */	TokenNameCOMMENT_JAVADOC	 The end of an element. * @param element The name of the element. @param augs Additional information that may include infoset augmentations * @exception XNIException Thrown by handler to signal an error. 
public	TokenNamepublic	
void	TokenNamevoid	
endElement	TokenNameIdentifier	 end Element
(	TokenNameLPAREN	
QName	TokenNameIdentifier	 Q Name
element	TokenNameIdentifier	 element
,	TokenNameCOMMA	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
throws	TokenNamethrows	
XNIException	TokenNameIdentifier	 XNI Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG_EVENTS	TokenNameIdentifier	 DEBUG  EVENTS
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"==>endElement: "	TokenNameStringLiteral	==>endElement: 
+	TokenNamePLUS	
element	TokenNameIdentifier	 element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
augs	TokenNameIdentifier	 augs
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ElementPSVI	TokenNameIdentifier	 Element PSVI
elementPSVI	TokenNameIdentifier	 element PSVI
=	TokenNameEQUAL	
(	TokenNameLPAREN	
ElementPSVI	TokenNameIdentifier	 Element PSVI
)	TokenNameRPAREN	
augs	TokenNameIdentifier	 augs
.	TokenNameDOT	
getItem	TokenNameIdentifier	 get Item
(	TokenNameLPAREN	
Constants	TokenNameIdentifier	 Constants
.	TokenNameDOT	
ELEMENT_PSVI	TokenNameIdentifier	 ELEMENT  PSVI
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
elementPSVI	TokenNameIdentifier	 element PSVI
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ElementImpl	TokenNameIdentifier	 Element Impl
elementNode	TokenNameIdentifier	 element Node
=	TokenNameEQUAL	
(	TokenNameLPAREN	
ElementImpl	TokenNameIdentifier	 Element Impl
)	TokenNameRPAREN	
fCurrentNode	TokenNameIdentifier	 f Current Node
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fPSVI	TokenNameIdentifier	 f PSVI
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
PSVIElementNSImpl	TokenNameIdentifier	 PSVI Element NS Impl
)	TokenNameRPAREN	
fCurrentNode	TokenNameIdentifier	 f Current Node
)	TokenNameRPAREN	
.	TokenNameDOT	
setPSVI	TokenNameIdentifier	 set PSVI
(	TokenNameLPAREN	
elementPSVI	TokenNameIdentifier	 element PSVI
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Updating the TypeInfo for this element. 	TokenNameCOMMENT_LINE	Updating the TypeInfo for this element. 
if	TokenNameif	
(	TokenNameLPAREN	
elementNode	TokenNameIdentifier	 element Node
instanceof	TokenNameinstanceof	
ElementNSImpl	TokenNameIdentifier	 Element NS Impl
)	TokenNameRPAREN	
{	TokenNameLBRACE	
XSTypeDefinition	TokenNameIdentifier	 XS Type Definition
type	TokenNameIdentifier	 type
=	TokenNameEQUAL	
elementPSVI	TokenNameIdentifier	 element PSVI
.	TokenNameDOT	
getMemberTypeDefinition	TokenNameIdentifier	 get Member Type Definition
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
type	TokenNameIdentifier	 type
=	TokenNameEQUAL	
elementPSVI	TokenNameIdentifier	 element PSVI
.	TokenNameDOT	
getTypeDefinition	TokenNameIdentifier	 get Type Definition
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
ElementNSImpl	TokenNameIdentifier	 Element NS Impl
)	TokenNameRPAREN	
elementNode	TokenNameIdentifier	 element Node
)	TokenNameRPAREN	
.	TokenNameDOT	
setType	TokenNameIdentifier	 set Type
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// include element default content (if one is available) 	TokenNameCOMMENT_LINE	include element default content (if one is available) 
String	TokenNameIdentifier	 String
normalizedValue	TokenNameIdentifier	 normalized Value
=	TokenNameEQUAL	
elementPSVI	TokenNameIdentifier	 element PSVI
.	TokenNameDOT	
getSchemaNormalizedValue	TokenNameIdentifier	 get Schema Normalized Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
fConfiguration	TokenNameIdentifier	 f Configuration
.	TokenNameDOT	
features	TokenNameIdentifier	 features
&	TokenNameAND	
DOMConfigurationImpl	TokenNameIdentifier	 DOM Configuration Impl
.	TokenNameDOT	
DTNORMALIZATION	TokenNameIdentifier	 DTNORMALIZATION
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
normalizedValue	TokenNameIdentifier	 normalized Value
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
elementNode	TokenNameIdentifier	 element Node
.	TokenNameDOT	
setTextContent	TokenNameIdentifier	 set Text Content
(	TokenNameLPAREN	
normalizedValue	TokenNameIdentifier	 normalized Value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// NOTE: this is a hack: it is possible that DOM had an empty element 	TokenNameCOMMENT_LINE	NOTE: this is a hack: it is possible that DOM had an empty element 
// and validator sent default value using characters(), which we don't 	TokenNameCOMMENT_LINE	and validator sent default value using characters(), which we don't 
// implement. Thus, here we attempt to add the default value. 	TokenNameCOMMENT_LINE	implement. Thus, here we attempt to add the default value. 
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
elementNode	TokenNameIdentifier	 element Node
.	TokenNameDOT	
getTextContent	TokenNameIdentifier	 get Text Content
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// default content could be provided 	TokenNameCOMMENT_LINE	default content could be provided 
if	TokenNameif	
(	TokenNameLPAREN	
normalizedValue	TokenNameIdentifier	 normalized Value
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
elementNode	TokenNameIdentifier	 element Node
.	TokenNameDOT	
setTextContent	TokenNameIdentifier	 set Text Content
(	TokenNameLPAREN	
normalizedValue	TokenNameIdentifier	 normalized Value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// DTD; elements have no type. 	TokenNameCOMMENT_LINE	DTD; elements have no type. 
if	TokenNameif	
(	TokenNameLPAREN	
fCurrentNode	TokenNameIdentifier	 f Current Node
instanceof	TokenNameinstanceof	
ElementNSImpl	TokenNameIdentifier	 Element NS Impl
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
ElementNSImpl	TokenNameIdentifier	 Element NS Impl
)	TokenNameRPAREN	
fCurrentNode	TokenNameIdentifier	 f Current Node
)	TokenNameRPAREN	
.	TokenNameDOT	
setType	TokenNameIdentifier	 set Type
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * The start of a CDATA section. * * @param augs Additional information that may include infoset augmentations * * @exception XNIException * Thrown by handler to signal an error. */	TokenNameCOMMENT_JAVADOC	 The start of a CDATA section. * @param augs Additional information that may include infoset augmentations * @exception XNIException Thrown by handler to signal an error. 
public	TokenNamepublic	
void	TokenNamevoid	
startCDATA	TokenNameIdentifier	 start CDATA
(	TokenNameLPAREN	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
throws	TokenNamethrows	
XNIException	TokenNameIdentifier	 XNI Exception
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * The end of a CDATA section. * * @param augs Additional information that may include infoset augmentations * * @exception XNIException * Thrown by handler to signal an error. */	TokenNameCOMMENT_JAVADOC	 The end of a CDATA section. * @param augs Additional information that may include infoset augmentations * @exception XNIException Thrown by handler to signal an error. 
public	TokenNamepublic	
void	TokenNamevoid	
endCDATA	TokenNameIdentifier	 end CDATA
(	TokenNameLPAREN	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
throws	TokenNamethrows	
XNIException	TokenNameIdentifier	 XNI Exception
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * The end of the document. * * @param augs Additional information that may include infoset augmentations * * @exception XNIException * Thrown by handler to signal an error. */	TokenNameCOMMENT_JAVADOC	 The end of the document. * @param augs Additional information that may include infoset augmentations * @exception XNIException Thrown by handler to signal an error. 
public	TokenNamepublic	
void	TokenNamevoid	
endDocument	TokenNameIdentifier	 end Document
(	TokenNameLPAREN	
Augmentations	TokenNameIdentifier	 Augmentations
augs	TokenNameIdentifier	 augs
)	TokenNameRPAREN	
throws	TokenNamethrows	
XNIException	TokenNameIdentifier	 XNI Exception
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** Sets the document source. */	TokenNameCOMMENT_JAVADOC	 Sets the document source. 
public	TokenNamepublic	
void	TokenNamevoid	
setDocumentSource	TokenNameIdentifier	 set Document Source
(	TokenNameLPAREN	
XMLDocumentSource	TokenNameIdentifier	 XML Document Source
source	TokenNameIdentifier	 source
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** Returns the document source. */	TokenNameCOMMENT_JAVADOC	 Returns the document source. 
public	TokenNamepublic	
XMLDocumentSource	TokenNameIdentifier	 XML Document Source
getDocumentSource	TokenNameIdentifier	 get Document Source
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// DOMNormalizer class 	TokenNameCOMMENT_LINE	DOMNormalizer class 
