/* * Licensed to the Apache Software Foundation (ASF) under one * or more contributor license agreements. See the NOTICE file * distributed with this work for additional information * regarding copyright ownership. The ASF licenses this file * to you under the Apache License, Version 2.0 (the * "License"); you may not use this file except in compliance * with the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to you under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
streaming	TokenNameIdentifier	 streaming
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
*	TokenNameMULTIPLY	
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
InetAddress	TokenNameIdentifier	 Inet Address
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
InetSocketAddress	TokenNameIdentifier	 Inet Socket Address
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
Socket	TokenNameIdentifier	 Socket
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Collections	TokenNameIdentifier	 Collections
;	TokenNameSEMICOLON	
import	TokenNameimport	
com	TokenNameIdentifier	 com
.	TokenNameDOT	
google	TokenNameIdentifier	 google
.	TokenNameDOT	
common	TokenNameIdentifier	 common
.	TokenNameDOT	
base	TokenNameIdentifier	 base
.	TokenNameDOT	
Throwables	TokenNameIdentifier	 Throwables
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
slf4j	TokenNameIdentifier	 slf4j
.	TokenNameDOT	
Logger	TokenNameIdentifier	 Logger
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
slf4j	TokenNameIdentifier	 slf4j
.	TokenNameDOT	
LoggerFactory	TokenNameIdentifier	 Logger Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
config	TokenNameIdentifier	 config
.	TokenNameDOT	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
ColumnFamily	TokenNameIdentifier	 Column Family
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
ColumnFamilyStore	TokenNameIdentifier	 Column Family Store
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
DecoratedKey	TokenNameIdentifier	 Decorated Key
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
Table	TokenNameIdentifier	 Table
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
compaction	TokenNameIdentifier	 compaction
.	TokenNameDOT	
CompactionController	TokenNameIdentifier	 Compaction Controller
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
compaction	TokenNameIdentifier	 compaction
.	TokenNameDOT	
PrecompactedRow	TokenNameIdentifier	 Precompacted Row
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IColumnSerializer	TokenNameIdentifier	 I Column Serializer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
sstable	TokenNameIdentifier	 sstable
.	TokenNameDOT	
*	TokenNameMULTIPLY	
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
FileUtils	TokenNameIdentifier	 File Utils
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
metrics	TokenNameIdentifier	 metrics
.	TokenNameDOT	
StreamingMetrics	TokenNameIdentifier	 Streaming Metrics
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
MessagingService	TokenNameIdentifier	 Messaging Service
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
OutboundTcpConnection	TokenNameIdentifier	 Outbound Tcp Connection
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
service	TokenNameIdentifier	 service
.	TokenNameDOT	
StorageService	TokenNameIdentifier	 Storage Service
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
streaming	TokenNameIdentifier	 streaming
.	TokenNameDOT	
compress	TokenNameIdentifier	 compress
.	TokenNameDOT	
CompressedInputStream	TokenNameIdentifier	 Compressed Input Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
ByteBufferUtil	TokenNameIdentifier	 Byte Buffer Util
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
BytesReadTracker	TokenNameIdentifier	 Bytes Read Tracker
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
Pair	TokenNameIdentifier	 Pair
;	TokenNameSEMICOLON	
import	TokenNameimport	
com	TokenNameIdentifier	 com
.	TokenNameDOT	
ning	TokenNameIdentifier	 ning
.	TokenNameDOT	
compress	TokenNameIdentifier	 compress
.	TokenNameDOT	
lzf	TokenNameIdentifier	 lzf
.	TokenNameDOT	
LZFInputStream	TokenNameIdentifier	 LZF Input Stream
;	TokenNameSEMICOLON	
public	TokenNamepublic	
class	TokenNameclass	
IncomingStreamReader	TokenNameIdentifier	 Incoming Stream Reader
{	TokenNameLBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
Logger	TokenNameIdentifier	 Logger
logger	TokenNameIdentifier	 logger
=	TokenNameEQUAL	
LoggerFactory	TokenNameIdentifier	 Logger Factory
.	TokenNameDOT	
getLogger	TokenNameIdentifier	 get Logger
(	TokenNameLPAREN	
IncomingStreamReader	TokenNameIdentifier	 Incoming Stream Reader
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
final	TokenNamefinal	
PendingFile	TokenNameIdentifier	 Pending File
localFile	TokenNameIdentifier	 local File
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
final	TokenNamefinal	
PendingFile	TokenNameIdentifier	 Pending File
remoteFile	TokenNameIdentifier	 remote File
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
final	TokenNamefinal	
StreamInSession	TokenNameIdentifier	 Stream In Session
session	TokenNameIdentifier	 session
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
InputStream	TokenNameIdentifier	 Input Stream
underliningStream	TokenNameIdentifier	 underlining Stream
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
StreamingMetrics	TokenNameIdentifier	 Streaming Metrics
metrics	TokenNameIdentifier	 metrics
;	TokenNameSEMICOLON	
public	TokenNamepublic	
IncomingStreamReader	TokenNameIdentifier	 Incoming Stream Reader
(	TokenNameLPAREN	
StreamHeader	TokenNameIdentifier	 Stream Header
header	TokenNameIdentifier	 header
,	TokenNameCOMMA	
Socket	TokenNameIdentifier	 Socket
socket	TokenNameIdentifier	 socket
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
socket	TokenNameIdentifier	 socket
.	TokenNameDOT	
setSoTimeout	TokenNameIdentifier	 set So Timeout
(	TokenNameLPAREN	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getStreamingSocketTimeout	TokenNameIdentifier	 get Streaming Socket Timeout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
InetAddress	TokenNameIdentifier	 Inet Address
host	TokenNameIdentifier	 host
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
InetSocketAddress	TokenNameIdentifier	 Inet Socket Address
)	TokenNameRPAREN	
socket	TokenNameIdentifier	 socket
.	TokenNameDOT	
getRemoteSocketAddress	TokenNameIdentifier	 get Remote Socket Address
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getAddress	TokenNameIdentifier	 get Address
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
header	TokenNameIdentifier	 header
.	TokenNameDOT	
pendingFiles	TokenNameIdentifier	 pending Files
.	TokenNameDOT	
isEmpty	TokenNameIdentifier	 is Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
header	TokenNameIdentifier	 header
.	TokenNameDOT	
file	TokenNameIdentifier	 file
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// StreamInSession should be created already when receiving 2nd and after files 	TokenNameCOMMENT_LINE	StreamInSession should be created already when receiving 2nd and after files 
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
StreamInSession	TokenNameIdentifier	 Stream In Session
.	TokenNameDOT	
hasSession	TokenNameIdentifier	 has Session
(	TokenNameLPAREN	
header	TokenNameIdentifier	 header
.	TokenNameDOT	
sessionId	TokenNameIdentifier	 session Id
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
StreamReply	TokenNameIdentifier	 Stream Reply
reply	TokenNameIdentifier	 reply
=	TokenNameEQUAL	
new	TokenNamenew	
StreamReply	TokenNameIdentifier	 Stream Reply
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
,	TokenNameCOMMA	
header	TokenNameIdentifier	 header
.	TokenNameDOT	
sessionId	TokenNameIdentifier	 session Id
,	TokenNameCOMMA	
StreamReply	TokenNameIdentifier	 Stream Reply
.	TokenNameDOT	
Status	TokenNameIdentifier	 Status
.	TokenNameDOT	
SESSION_FAILURE	TokenNameIdentifier	 SESSION  FAILURE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
OutboundTcpConnection	TokenNameIdentifier	 Outbound Tcp Connection
.	TokenNameDOT	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
reply	TokenNameIdentifier	 reply
.	TokenNameDOT	
createMessage	TokenNameIdentifier	 create Message
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
header	TokenNameIdentifier	 header
.	TokenNameDOT	
sessionId	TokenNameIdentifier	 session Id
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
currentTimeMillis	TokenNameIdentifier	 current Time Millis
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
DataOutputStream	TokenNameIdentifier	 Data Output Stream
(	TokenNameLPAREN	
socket	TokenNameIdentifier	 socket
.	TokenNameDOT	
getOutputStream	TokenNameIdentifier	 get Output Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
MessagingService	TokenNameIdentifier	 Messaging Service
.	TokenNameDOT	
instance	TokenNameIdentifier	 instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getVersion	TokenNameIdentifier	 get Version
(	TokenNameLPAREN	
host	TokenNameIdentifier	 host
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
throw	TokenNamethrow	
new	TokenNamenew	
IOException	TokenNameIdentifier	 IO Exception
(	TokenNameLPAREN	
"Session "	TokenNameStringLiteral	Session 
+	TokenNamePLUS	
header	TokenNameIdentifier	 header
.	TokenNameDOT	
sessionId	TokenNameIdentifier	 session Id
+	TokenNamePLUS	
" already closed."	TokenNameStringLiteral	 already closed.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
session	TokenNameIdentifier	 session
=	TokenNameEQUAL	
StreamInSession	TokenNameIdentifier	 Stream In Session
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
host	TokenNameIdentifier	 host
,	TokenNameCOMMA	
header	TokenNameIdentifier	 header
.	TokenNameDOT	
sessionId	TokenNameIdentifier	 session Id
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
session	TokenNameIdentifier	 session
.	TokenNameDOT	
setSocket	TokenNameIdentifier	 set Socket
(	TokenNameLPAREN	
socket	TokenNameIdentifier	 socket
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
session	TokenNameIdentifier	 session
.	TokenNameDOT	
addFiles	TokenNameIdentifier	 add Files
(	TokenNameLPAREN	
header	TokenNameIdentifier	 header
.	TokenNameDOT	
pendingFiles	TokenNameIdentifier	 pending Files
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// set the current file we are streaming so progress shows up in jmx 	TokenNameCOMMENT_LINE	set the current file we are streaming so progress shows up in jmx 
session	TokenNameIdentifier	 session
.	TokenNameDOT	
setCurrentFile	TokenNameIdentifier	 set Current File
(	TokenNameLPAREN	
header	TokenNameIdentifier	 header
.	TokenNameDOT	
file	TokenNameIdentifier	 file
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
session	TokenNameIdentifier	 session
.	TokenNameDOT	
setTable	TokenNameIdentifier	 set Table
(	TokenNameLPAREN	
header	TokenNameIdentifier	 header
.	TokenNameDOT	
table	TokenNameIdentifier	 table
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// pendingFile gets the new context for the local node. 	TokenNameCOMMENT_LINE	pendingFile gets the new context for the local node. 
remoteFile	TokenNameIdentifier	 remote File
=	TokenNameEQUAL	
header	TokenNameIdentifier	 header
.	TokenNameDOT	
file	TokenNameIdentifier	 file
;	TokenNameSEMICOLON	
localFile	TokenNameIdentifier	 local File
=	TokenNameEQUAL	
remoteFile	TokenNameIdentifier	 remote File
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
StreamIn	TokenNameIdentifier	 Stream In
.	TokenNameDOT	
getContextMapping	TokenNameIdentifier	 get Context Mapping
(	TokenNameLPAREN	
remoteFile	TokenNameIdentifier	 remote File
)	TokenNameRPAREN	
:	TokenNameCOLON	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
remoteFile	TokenNameIdentifier	 remote File
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
remoteFile	TokenNameIdentifier	 remote File
.	TokenNameDOT	
compressionInfo	TokenNameIdentifier	 compression Info
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
underliningStream	TokenNameIdentifier	 underlining Stream
=	TokenNameEQUAL	
new	TokenNamenew	
LZFInputStream	TokenNameIdentifier	 LZF Input Stream
(	TokenNameLPAREN	
socket	TokenNameIdentifier	 socket
.	TokenNameDOT	
getInputStream	TokenNameIdentifier	 get Input Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
underliningStream	TokenNameIdentifier	 underlining Stream
=	TokenNameEQUAL	
new	TokenNamenew	
CompressedInputStream	TokenNameIdentifier	 Compressed Input Stream
(	TokenNameLPAREN	
socket	TokenNameIdentifier	 socket
.	TokenNameDOT	
getInputStream	TokenNameIdentifier	 get Input Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
remoteFile	TokenNameIdentifier	 remote File
.	TokenNameDOT	
compressionInfo	TokenNameIdentifier	 compression Info
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
underliningStream	TokenNameIdentifier	 underlining Stream
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
metrics	TokenNameIdentifier	 metrics
=	TokenNameEQUAL	
StreamingMetrics	TokenNameIdentifier	 Streaming Metrics
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
host	TokenNameIdentifier	 host
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @throws IOException if reading the remote sstable fails. Will throw an RTE if local write fails. */	TokenNameCOMMENT_JAVADOC	 @throws IOException if reading the remote sstable fails. Will throw an RTE if local write fails. 
public	TokenNamepublic	
void	TokenNamevoid	
read	TokenNameIdentifier	 read
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
remoteFile	TokenNameIdentifier	 remote File
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
isDebugEnabled	TokenNameIdentifier	 is Debug Enabled
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"Receiving stream"	TokenNameStringLiteral	Receiving stream
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"Creating file for {} with {} estimated keys"	TokenNameStringLiteral	Creating file for {} with {} estimated keys
,	TokenNameCOMMA	
localFile	TokenNameIdentifier	 local File
.	TokenNameDOT	
getFilename	TokenNameIdentifier	 get Filename
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
remoteFile	TokenNameIdentifier	 remote File
.	TokenNameDOT	
estimatedKeys	TokenNameIdentifier	 estimated Keys
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
assert	TokenNameassert	
remoteFile	TokenNameIdentifier	 remote File
.	TokenNameDOT	
estimatedKeys	TokenNameIdentifier	 estimated Keys
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
DataInput	TokenNameIdentifier	 Data Input
dis	TokenNameIdentifier	 dis
=	TokenNameEQUAL	
new	TokenNamenew	
DataInputStream	TokenNameIdentifier	 Data Input Stream
(	TokenNameLPAREN	
underliningStream	TokenNameIdentifier	 underlining Stream
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
SSTableReader	TokenNameIdentifier	 SS Table Reader
reader	TokenNameIdentifier	 reader
=	TokenNameEQUAL	
streamIn	TokenNameIdentifier	 stream In
(	TokenNameLPAREN	
dis	TokenNameIdentifier	 dis
,	TokenNameCOMMA	
localFile	TokenNameIdentifier	 local File
,	TokenNameCOMMA	
remoteFile	TokenNameIdentifier	 remote File
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
session	TokenNameIdentifier	 session
.	TokenNameDOT	
finished	TokenNameIdentifier	 finished
(	TokenNameLPAREN	
remoteFile	TokenNameIdentifier	 remote File
,	TokenNameCOMMA	
reader	TokenNameIdentifier	 reader
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ex	TokenNameIdentifier	 ex
)	TokenNameRPAREN	
{	TokenNameLBRACE	
retry	TokenNameIdentifier	 retry
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
throw	TokenNamethrow	
ex	TokenNameIdentifier	 ex
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
session	TokenNameIdentifier	 session
.	TokenNameDOT	
closeIfFinished	TokenNameIdentifier	 close If Finished
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @throws IOException if reading the remote sstable fails. Will throw an RTE if local write fails. */	TokenNameCOMMENT_JAVADOC	 @throws IOException if reading the remote sstable fails. Will throw an RTE if local write fails. 
private	TokenNameprivate	
SSTableReader	TokenNameIdentifier	 SS Table Reader
streamIn	TokenNameIdentifier	 stream In
(	TokenNameLPAREN	
DataInput	TokenNameIdentifier	 Data Input
input	TokenNameIdentifier	 input
,	TokenNameCOMMA	
PendingFile	TokenNameIdentifier	 Pending File
localFile	TokenNameIdentifier	 local File
,	TokenNameCOMMA	
PendingFile	TokenNameIdentifier	 Pending File
remoteFile	TokenNameIdentifier	 remote File
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
ColumnFamilyStore	TokenNameIdentifier	 Column Family Store
cfs	TokenNameIdentifier	 cfs
=	TokenNameEQUAL	
Table	TokenNameIdentifier	 Table
.	TokenNameDOT	
open	TokenNameIdentifier	 open
(	TokenNameLPAREN	
localFile	TokenNameIdentifier	 local File
.	TokenNameDOT	
desc	TokenNameIdentifier	 desc
.	TokenNameDOT	
ksname	TokenNameIdentifier	 ksname
)	TokenNameRPAREN	
.	TokenNameDOT	
getColumnFamilyStore	TokenNameIdentifier	 get Column Family Store
(	TokenNameLPAREN	
localFile	TokenNameIdentifier	 local File
.	TokenNameDOT	
desc	TokenNameIdentifier	 desc
.	TokenNameDOT	
cfname	TokenNameIdentifier	 cfname
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DecoratedKey	TokenNameIdentifier	 Decorated Key
key	TokenNameIdentifier	 key
;	TokenNameSEMICOLON	
SSTableWriter	TokenNameIdentifier	 SS Table Writer
writer	TokenNameIdentifier	 writer
=	TokenNameEQUAL	
new	TokenNamenew	
SSTableWriter	TokenNameIdentifier	 SS Table Writer
(	TokenNameLPAREN	
localFile	TokenNameIdentifier	 local File
.	TokenNameDOT	
getFilename	TokenNameIdentifier	 get Filename
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
remoteFile	TokenNameIdentifier	 remote File
.	TokenNameDOT	
estimatedKeys	TokenNameIdentifier	 estimated Keys
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
CompactionController	TokenNameIdentifier	 Compaction Controller
controller	TokenNameIdentifier	 controller
=	TokenNameEQUAL	
new	TokenNamenew	
CompactionController	TokenNameIdentifier	 Compaction Controller
(	TokenNameLPAREN	
cfs	TokenNameIdentifier	 cfs
,	TokenNameCOMMA	
Collections	TokenNameIdentifier	 Collections
.	TokenNameDOT	
<	TokenNameLESS	
SSTableReader	TokenNameIdentifier	 SS Table Reader
>	TokenNameGREATER	
emptyList	TokenNameIdentifier	 empty List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MIN_VALUE	TokenNameIdentifier	 MIN  VALUE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
BytesReadTracker	TokenNameIdentifier	 Bytes Read Tracker
in	TokenNameIdentifier	 in
=	TokenNameEQUAL	
new	TokenNamenew	
BytesReadTracker	TokenNameIdentifier	 Bytes Read Tracker
(	TokenNameLPAREN	
input	TokenNameIdentifier	 input
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
long	TokenNamelong	
totalBytesRead	TokenNameIdentifier	 total Bytes Read
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Pair	TokenNameIdentifier	 Pair
<	TokenNameLESS	
Long	TokenNameIdentifier	 Long
,	TokenNameCOMMA	
Long	TokenNameIdentifier	 Long
>	TokenNameGREATER	
section	TokenNameIdentifier	 section
:	TokenNameCOLON	
localFile	TokenNameIdentifier	 local File
.	TokenNameDOT	
sections	TokenNameIdentifier	 sections
)	TokenNameRPAREN	
{	TokenNameLBRACE	
long	TokenNamelong	
length	TokenNameIdentifier	 length
=	TokenNameEQUAL	
section	TokenNameIdentifier	 section
.	TokenNameDOT	
right	TokenNameIdentifier	 right
-	TokenNameMINUS	
section	TokenNameIdentifier	 section
.	TokenNameDOT	
left	TokenNameIdentifier	 left
;	TokenNameSEMICOLON	
// skip to beginning of section inside chunk 	TokenNameCOMMENT_LINE	skip to beginning of section inside chunk 
if	TokenNameif	
(	TokenNameLPAREN	
remoteFile	TokenNameIdentifier	 remote File
.	TokenNameDOT	
compressionInfo	TokenNameIdentifier	 compression Info
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
CompressedInputStream	TokenNameIdentifier	 Compressed Input Stream
)	TokenNameRPAREN	
underliningStream	TokenNameIdentifier	 underlining Stream
)	TokenNameRPAREN	
.	TokenNameDOT	
position	TokenNameIdentifier	 position
(	TokenNameLPAREN	
section	TokenNameIdentifier	 section
.	TokenNameDOT	
left	TokenNameIdentifier	 left
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
long	TokenNamelong	
bytesRead	TokenNameIdentifier	 bytes Read
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
bytesRead	TokenNameIdentifier	 bytes Read
<	TokenNameLESS	
length	TokenNameIdentifier	 length
)	TokenNameRPAREN	
{	TokenNameLBRACE	
in	TokenNameIdentifier	 in
.	TokenNameDOT	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
key	TokenNameIdentifier	 key
=	TokenNameEQUAL	
SSTableReader	TokenNameIdentifier	 SS Table Reader
.	TokenNameDOT	
decodeKey	TokenNameIdentifier	 decode Key
(	TokenNameLPAREN	
StorageService	TokenNameIdentifier	 Storage Service
.	TokenNameDOT	
getPartitioner	TokenNameIdentifier	 get Partitioner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
localFile	TokenNameIdentifier	 local File
.	TokenNameDOT	
desc	TokenNameIdentifier	 desc
,	TokenNameCOMMA	
ByteBufferUtil	TokenNameIdentifier	 Byte Buffer Util
.	TokenNameDOT	
readWithShortLength	TokenNameIdentifier	 read With Short Length
(	TokenNameLPAREN	
in	TokenNameIdentifier	 in
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
long	TokenNamelong	
dataSize	TokenNameIdentifier	 data Size
=	TokenNameEQUAL	
SSTableReader	TokenNameIdentifier	 SS Table Reader
.	TokenNameDOT	
readRowSize	TokenNameIdentifier	 read Row Size
(	TokenNameLPAREN	
in	TokenNameIdentifier	 in
,	TokenNameCOMMA	
localFile	TokenNameIdentifier	 local File
.	TokenNameDOT	
desc	TokenNameIdentifier	 desc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
containsCachedRow	TokenNameIdentifier	 contains Cached Row
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
remoteFile	TokenNameIdentifier	 remote File
.	TokenNameDOT	
type	TokenNameIdentifier	 type
==	TokenNameEQUAL_EQUAL	
OperationType	TokenNameIdentifier	 Operation Type
.	TokenNameDOT	
AES	TokenNameIdentifier	 AES
&&	TokenNameAND_AND	
dataSize	TokenNameIdentifier	 data Size
<=	TokenNameLESS_EQUAL	
DatabaseDescriptor	TokenNameIdentifier	 Database Descriptor
.	TokenNameDOT	
getInMemoryCompactionLimit	TokenNameIdentifier	 get In Memory Compaction Limit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// need to update row cache 	TokenNameCOMMENT_LINE	need to update row cache 
// Note: Because we won't just echo the columns, there is no need to use the PRESERVE_SIZE flag, contrarily to what appendFromStream does below 	TokenNameCOMMENT_LINE	Note: Because we won't just echo the columns, there is no need to use the PRESERVE_SIZE flag, contrarily to what appendFromStream does below 
SSTableIdentityIterator	TokenNameIdentifier	 SS Table Identity Iterator
iter	TokenNameIdentifier	 iter
=	TokenNameEQUAL	
new	TokenNamenew	
SSTableIdentityIterator	TokenNameIdentifier	 SS Table Identity Iterator
(	TokenNameLPAREN	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
metadata	TokenNameIdentifier	 metadata
,	TokenNameCOMMA	
in	TokenNameIdentifier	 in
,	TokenNameCOMMA	
localFile	TokenNameIdentifier	 local File
.	TokenNameDOT	
getFilename	TokenNameIdentifier	 get Filename
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
key	TokenNameIdentifier	 key
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
dataSize	TokenNameIdentifier	 data Size
,	TokenNameCOMMA	
IColumnSerializer	TokenNameIdentifier	 I Column Serializer
.	TokenNameDOT	
Flag	TokenNameIdentifier	 Flag
.	TokenNameDOT	
FROM_REMOTE	TokenNameIdentifier	 FROM  REMOTE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
PrecompactedRow	TokenNameIdentifier	 Precompacted Row
row	TokenNameIdentifier	 row
=	TokenNameEQUAL	
new	TokenNamenew	
PrecompactedRow	TokenNameIdentifier	 Precompacted Row
(	TokenNameLPAREN	
controller	TokenNameIdentifier	 controller
,	TokenNameCOMMA	
Collections	TokenNameIdentifier	 Collections
.	TokenNameDOT	
singletonList	TokenNameIdentifier	 singleton List
(	TokenNameLPAREN	
iter	TokenNameIdentifier	 iter
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// We don't expire anything so the row shouldn't be empty 	TokenNameCOMMENT_LINE	We don't expire anything so the row shouldn't be empty 
assert	TokenNameassert	
!	TokenNameNOT	
row	TokenNameIdentifier	 row
.	TokenNameDOT	
isEmpty	TokenNameIdentifier	 is Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
row	TokenNameIdentifier	 row
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// update cache 	TokenNameCOMMENT_LINE	update cache 
ColumnFamily	TokenNameIdentifier	 Column Family
cf	TokenNameIdentifier	 cf
=	TokenNameEQUAL	
row	TokenNameIdentifier	 row
.	TokenNameDOT	
getFullColumnFamily	TokenNameIdentifier	 get Full Column Family
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
maybeUpdateRowCache	TokenNameIdentifier	 maybe Update Row Cache
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
,	TokenNameCOMMA	
cf	TokenNameIdentifier	 cf
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
appendFromStream	TokenNameIdentifier	 append From Stream
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
,	TokenNameCOMMA	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
metadata	TokenNameIdentifier	 metadata
,	TokenNameCOMMA	
dataSize	TokenNameIdentifier	 data Size
,	TokenNameCOMMA	
in	TokenNameIdentifier	 in
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
invalidateCachedRow	TokenNameIdentifier	 invalidate Cached Row
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
bytesRead	TokenNameIdentifier	 bytes Read
+=	TokenNamePLUS_EQUAL	
in	TokenNameIdentifier	 in
.	TokenNameDOT	
getBytesRead	TokenNameIdentifier	 get Bytes Read
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// when compressed, report total bytes of decompressed chunks since remoteFile.size is the sum of chunks transferred 	TokenNameCOMMENT_LINE	when compressed, report total bytes of decompressed chunks since remoteFile.size is the sum of chunks transferred 
remoteFile	TokenNameIdentifier	 remote File
.	TokenNameDOT	
progress	TokenNameIdentifier	 progress
+=	TokenNamePLUS_EQUAL	
remoteFile	TokenNameIdentifier	 remote File
.	TokenNameDOT	
compressionInfo	TokenNameIdentifier	 compression Info
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
CompressedInputStream	TokenNameIdentifier	 Compressed Input Stream
)	TokenNameRPAREN	
underliningStream	TokenNameIdentifier	 underlining Stream
)	TokenNameRPAREN	
.	TokenNameDOT	
uncompressedBytes	TokenNameIdentifier	 uncompressed Bytes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
in	TokenNameIdentifier	 in
.	TokenNameDOT	
getBytesRead	TokenNameIdentifier	 get Bytes Read
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
totalBytesRead	TokenNameIdentifier	 total Bytes Read
+=	TokenNamePLUS_EQUAL	
in	TokenNameIdentifier	 in
.	TokenNameDOT	
getBytesRead	TokenNameIdentifier	 get Bytes Read
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
StreamingMetrics	TokenNameIdentifier	 Streaming Metrics
.	TokenNameDOT	
totalIncomingBytes	TokenNameIdentifier	 total Incoming Bytes
.	TokenNameDOT	
inc	TokenNameIdentifier	 inc
(	TokenNameLPAREN	
totalBytesRead	TokenNameIdentifier	 total Bytes Read
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
metrics	TokenNameIdentifier	 metrics
.	TokenNameDOT	
incomingBytes	TokenNameIdentifier	 incoming Bytes
.	TokenNameDOT	
inc	TokenNameIdentifier	 inc
(	TokenNameLPAREN	
totalBytesRead	TokenNameIdentifier	 total Bytes Read
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
closeAndOpenReader	TokenNameIdentifier	 close And Open Reader
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Throwable	TokenNameIdentifier	 Throwable
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
abort	TokenNameIdentifier	 abort
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
instanceof	TokenNameinstanceof	
IOException	TokenNameIdentifier	 IO Exception
)	TokenNameRPAREN	
throw	TokenNamethrow	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
)	TokenNameRPAREN	
e	TokenNameIdentifier	 e
;	TokenNameSEMICOLON	
else	TokenNameelse	
throw	TokenNamethrow	
Throwables	TokenNameIdentifier	 Throwables
.	TokenNameDOT	
propagate	TokenNameIdentifier	 propagate
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
controller	TokenNameIdentifier	 controller
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
retry	TokenNameIdentifier	 retry
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
/* Ask the source node to re-stream this file. */	TokenNameCOMMENT_BLOCK	 Ask the source node to re-stream this file. 
session	TokenNameIdentifier	 session
.	TokenNameDOT	
retry	TokenNameIdentifier	 retry
(	TokenNameLPAREN	
remoteFile	TokenNameIdentifier	 remote File
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/* Delete the orphaned file. */	TokenNameCOMMENT_BLOCK	 Delete the orphaned file. 
if	TokenNameif	
(	TokenNameLPAREN	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
localFile	TokenNameIdentifier	 local File
.	TokenNameDOT	
getFilename	TokenNameIdentifier	 get Filename
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
isFile	TokenNameIdentifier	 is File
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
deleteWithConfirm	TokenNameIdentifier	 delete With Confirm
(	TokenNameLPAREN	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
localFile	TokenNameIdentifier	 local File
.	TokenNameDOT	
getFilename	TokenNameIdentifier	 get Filename
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
