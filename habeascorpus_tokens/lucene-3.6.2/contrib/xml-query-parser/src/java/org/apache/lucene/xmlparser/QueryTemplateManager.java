package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
xmlparser	TokenNameIdentifier	 xmlparser
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
ByteArrayOutputStream	TokenNameIdentifier	 Byte Array Output Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
InputStream	TokenNameIdentifier	 Input Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Enumeration	TokenNameIdentifier	 Enumeration
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
HashMap	TokenNameIdentifier	 Hash Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Properties	TokenNameIdentifier	 Properties
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
parsers	TokenNameIdentifier	 parsers
.	TokenNameDOT	
DocumentBuilder	TokenNameIdentifier	 Document Builder
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
parsers	TokenNameIdentifier	 parsers
.	TokenNameDOT	
DocumentBuilderFactory	TokenNameIdentifier	 Document Builder Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
parsers	TokenNameIdentifier	 parsers
.	TokenNameDOT	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
.	TokenNameDOT	
Result	TokenNameIdentifier	 Result
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
.	TokenNameDOT	
Templates	TokenNameIdentifier	 Templates
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
.	TokenNameDOT	
Transformer	TokenNameIdentifier	 Transformer
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
.	TokenNameDOT	
TransformerConfigurationException	TokenNameIdentifier	 Transformer Configuration Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
.	TokenNameDOT	
TransformerException	TokenNameIdentifier	 Transformer Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
.	TokenNameDOT	
TransformerFactory	TokenNameIdentifier	 Transformer Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
DOMResult	TokenNameIdentifier	 DOM Result
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
DOMSource	TokenNameIdentifier	 DOM Source
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
.	TokenNameDOT	
stream	TokenNameIdentifier	 stream
.	TokenNameDOT	
StreamResult	TokenNameIdentifier	 Stream Result
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Document	TokenNameIdentifier	 Document
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Element	TokenNameIdentifier	 Element
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
sax	TokenNameIdentifier	 sax
.	TokenNameDOT	
SAXException	TokenNameIdentifier	 SAX Exception
;	TokenNameSEMICOLON	
/** * Licensed to the Apache Software Foundation (ASF) under one or more * contributor license agreements. See the NOTICE file distributed with * this work for additional information regarding copyright ownership. * The ASF licenses this file to You under the Apache License, Version 2.0 * (the "License"); you may not use this file except in compliance with * the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_JAVADOC	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
/** * Provides utilities for turning query form input (such as from a web page or Swing gui) into * Lucene XML queries by using XSL templates. This approach offers a convenient way of externalizing * and changing how user input is turned into Lucene queries. * Database applications often adopt similar practices by externalizing SQL in template files that can * be easily changed/optimized by a DBA. * The static methods can be used on their own or by creating an instance of this class you can store and * re-use compiled stylesheets for fast use (e.g. in a server environment) */	TokenNameCOMMENT_JAVADOC	 Provides utilities for turning query form input (such as from a web page or Swing gui) into Lucene XML queries by using XSL templates. This approach offers a convenient way of externalizing and changing how user input is turned into Lucene queries. Database applications often adopt similar practices by externalizing SQL in template files that can be easily changed/optimized by a DBA. The static methods can be used on their own or by creating an instance of this class you can store and re-use compiled stylesheets for fast use (e.g. in a server environment) 
public	TokenNamepublic	
class	TokenNameclass	
QueryTemplateManager	TokenNameIdentifier	 Query Template Manager
{	TokenNameLBRACE	
static	TokenNamestatic	
DocumentBuilderFactory	TokenNameIdentifier	 Document Builder Factory
dbf	TokenNameIdentifier	 dbf
=	TokenNameEQUAL	
DocumentBuilderFactory	TokenNameIdentifier	 Document Builder Factory
.	TokenNameDOT	
newInstance	TokenNameIdentifier	 new Instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
static	TokenNamestatic	
TransformerFactory	TokenNameIdentifier	 Transformer Factory
tFactory	TokenNameIdentifier	 t Factory
=	TokenNameEQUAL	
TransformerFactory	TokenNameIdentifier	 Transformer Factory
.	TokenNameDOT	
newInstance	TokenNameIdentifier	 new Instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
HashMap	TokenNameIdentifier	 Hash Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Templates	TokenNameIdentifier	 Templates
>	TokenNameGREATER	
compiledTemplatesCache	TokenNameIdentifier	 compiled Templates Cache
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
Templates	TokenNameIdentifier	 Templates
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Templates	TokenNameIdentifier	 Templates
defaultCompiledTemplates	TokenNameIdentifier	 default Compiled Templates
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
QueryTemplateManager	TokenNameIdentifier	 Query Template Manager
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
QueryTemplateManager	TokenNameIdentifier	 Query Template Manager
(	TokenNameLPAREN	
InputStream	TokenNameIdentifier	 Input Stream
xslIs	TokenNameIdentifier	 xsl Is
)	TokenNameRPAREN	
throws	TokenNamethrows	
TransformerConfigurationException	TokenNameIdentifier	 Transformer Configuration Exception
,	TokenNameCOMMA	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
,	TokenNameCOMMA	
SAXException	TokenNameIdentifier	 SAX Exception
,	TokenNameCOMMA	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
addDefaultQueryTemplate	TokenNameIdentifier	 add Default Query Template
(	TokenNameLPAREN	
xslIs	TokenNameIdentifier	 xsl Is
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
addDefaultQueryTemplate	TokenNameIdentifier	 add Default Query Template
(	TokenNameLPAREN	
InputStream	TokenNameIdentifier	 Input Stream
xslIs	TokenNameIdentifier	 xsl Is
)	TokenNameRPAREN	
throws	TokenNamethrows	
TransformerConfigurationException	TokenNameIdentifier	 Transformer Configuration Exception
,	TokenNameCOMMA	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
,	TokenNameCOMMA	
SAXException	TokenNameIdentifier	 SAX Exception
,	TokenNameCOMMA	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
defaultCompiledTemplates	TokenNameIdentifier	 default Compiled Templates
=	TokenNameEQUAL	
getTemplates	TokenNameIdentifier	 get Templates
(	TokenNameLPAREN	
xslIs	TokenNameIdentifier	 xsl Is
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
addQueryTemplate	TokenNameIdentifier	 add Query Template
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
InputStream	TokenNameIdentifier	 Input Stream
xslIs	TokenNameIdentifier	 xsl Is
)	TokenNameRPAREN	
throws	TokenNamethrows	
TransformerConfigurationException	TokenNameIdentifier	 Transformer Configuration Exception
,	TokenNameCOMMA	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
,	TokenNameCOMMA	
SAXException	TokenNameIdentifier	 SAX Exception
,	TokenNameCOMMA	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
compiledTemplatesCache	TokenNameIdentifier	 compiled Templates Cache
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
getTemplates	TokenNameIdentifier	 get Templates
(	TokenNameLPAREN	
xslIs	TokenNameIdentifier	 xsl Is
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getQueryAsXmlString	TokenNameIdentifier	 get Query As Xml String
(	TokenNameLPAREN	
Properties	TokenNameIdentifier	 Properties
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
queryTemplateName	TokenNameIdentifier	 query Template Name
)	TokenNameRPAREN	
throws	TokenNamethrows	
SAXException	TokenNameIdentifier	 SAX Exception
,	TokenNameCOMMA	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
,	TokenNameCOMMA	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
Templates	TokenNameIdentifier	 Templates
ts	TokenNameIdentifier	 ts
=	TokenNameEQUAL	
compiledTemplatesCache	TokenNameIdentifier	 compiled Templates Cache
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
queryTemplateName	TokenNameIdentifier	 query Template Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
getQueryAsXmlString	TokenNameIdentifier	 get Query As Xml String
(	TokenNameLPAREN	
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
ts	TokenNameIdentifier	 ts
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Document	TokenNameIdentifier	 Document
getQueryAsDOM	TokenNameIdentifier	 get Query As DOM
(	TokenNameLPAREN	
Properties	TokenNameIdentifier	 Properties
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
queryTemplateName	TokenNameIdentifier	 query Template Name
)	TokenNameRPAREN	
throws	TokenNamethrows	
SAXException	TokenNameIdentifier	 SAX Exception
,	TokenNameCOMMA	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
,	TokenNameCOMMA	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
Templates	TokenNameIdentifier	 Templates
ts	TokenNameIdentifier	 ts
=	TokenNameEQUAL	
compiledTemplatesCache	TokenNameIdentifier	 compiled Templates Cache
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
queryTemplateName	TokenNameIdentifier	 query Template Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
getQueryAsDOM	TokenNameIdentifier	 get Query As DOM
(	TokenNameLPAREN	
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
ts	TokenNameIdentifier	 ts
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getQueryAsXmlString	TokenNameIdentifier	 get Query As Xml String
(	TokenNameLPAREN	
Properties	TokenNameIdentifier	 Properties
formProperties	TokenNameIdentifier	 form Properties
)	TokenNameRPAREN	
throws	TokenNamethrows	
SAXException	TokenNameIdentifier	 SAX Exception
,	TokenNameCOMMA	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
,	TokenNameCOMMA	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
return	TokenNamereturn	
getQueryAsXmlString	TokenNameIdentifier	 get Query As Xml String
(	TokenNameLPAREN	
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
defaultCompiledTemplates	TokenNameIdentifier	 default Compiled Templates
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Document	TokenNameIdentifier	 Document
getQueryAsDOM	TokenNameIdentifier	 get Query As DOM
(	TokenNameLPAREN	
Properties	TokenNameIdentifier	 Properties
formProperties	TokenNameIdentifier	 form Properties
)	TokenNameRPAREN	
throws	TokenNamethrows	
SAXException	TokenNameIdentifier	 SAX Exception
,	TokenNameCOMMA	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
,	TokenNameCOMMA	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
return	TokenNamereturn	
getQueryAsDOM	TokenNameIdentifier	 get Query As DOM
(	TokenNameLPAREN	
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
defaultCompiledTemplates	TokenNameIdentifier	 default Compiled Templates
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Fast means of constructing query using a precompiled stylesheet */	TokenNameCOMMENT_JAVADOC	 Fast means of constructing query using a precompiled stylesheet 
public	TokenNamepublic	
static	TokenNamestatic	
String	TokenNameIdentifier	 String
getQueryAsXmlString	TokenNameIdentifier	 get Query As Xml String
(	TokenNameLPAREN	
Properties	TokenNameIdentifier	 Properties
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
Templates	TokenNameIdentifier	 Templates
template	TokenNameIdentifier	 template
)	TokenNameRPAREN	
throws	TokenNamethrows	
SAXException	TokenNameIdentifier	 SAX Exception
,	TokenNameCOMMA	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
,	TokenNameCOMMA	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
ByteArrayOutputStream	TokenNameIdentifier	 Byte Array Output Stream
baos	TokenNameIdentifier	 baos
=	TokenNameEQUAL	
new	TokenNamenew	
ByteArrayOutputStream	TokenNameIdentifier	 Byte Array Output Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
StreamResult	TokenNameIdentifier	 Stream Result
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
new	TokenNamenew	
StreamResult	TokenNameIdentifier	 Stream Result
(	TokenNameLPAREN	
baos	TokenNameIdentifier	 baos
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
transformCriteria	TokenNameIdentifier	 transform Criteria
(	TokenNameLPAREN	
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
template	TokenNameIdentifier	 template
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
baos	TokenNameIdentifier	 baos
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Slow means of constructing query parsing a stylesheet from an input stream */	TokenNameCOMMENT_JAVADOC	 Slow means of constructing query parsing a stylesheet from an input stream 
public	TokenNamepublic	
static	TokenNamestatic	
String	TokenNameIdentifier	 String
getQueryAsXmlString	TokenNameIdentifier	 get Query As Xml String
(	TokenNameLPAREN	
Properties	TokenNameIdentifier	 Properties
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
InputStream	TokenNameIdentifier	 Input Stream
xslIs	TokenNameIdentifier	 xsl Is
)	TokenNameRPAREN	
throws	TokenNamethrows	
SAXException	TokenNameIdentifier	 SAX Exception
,	TokenNameCOMMA	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
,	TokenNameCOMMA	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
ByteArrayOutputStream	TokenNameIdentifier	 Byte Array Output Stream
baos	TokenNameIdentifier	 baos
=	TokenNameEQUAL	
new	TokenNamenew	
ByteArrayOutputStream	TokenNameIdentifier	 Byte Array Output Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
StreamResult	TokenNameIdentifier	 Stream Result
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
new	TokenNamenew	
StreamResult	TokenNameIdentifier	 Stream Result
(	TokenNameLPAREN	
baos	TokenNameIdentifier	 baos
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
transformCriteria	TokenNameIdentifier	 transform Criteria
(	TokenNameLPAREN	
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
xslIs	TokenNameIdentifier	 xsl Is
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
baos	TokenNameIdentifier	 baos
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Fast means of constructing query using a cached,precompiled stylesheet */	TokenNameCOMMENT_JAVADOC	 Fast means of constructing query using a cached,precompiled stylesheet 
public	TokenNamepublic	
static	TokenNamestatic	
Document	TokenNameIdentifier	 Document
getQueryAsDOM	TokenNameIdentifier	 get Query As DOM
(	TokenNameLPAREN	
Properties	TokenNameIdentifier	 Properties
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
Templates	TokenNameIdentifier	 Templates
template	TokenNameIdentifier	 template
)	TokenNameRPAREN	
throws	TokenNamethrows	
SAXException	TokenNameIdentifier	 SAX Exception
,	TokenNameCOMMA	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
,	TokenNameCOMMA	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
DOMResult	TokenNameIdentifier	 DOM Result
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
new	TokenNamenew	
DOMResult	TokenNameIdentifier	 DOM Result
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
transformCriteria	TokenNameIdentifier	 transform Criteria
(	TokenNameLPAREN	
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
template	TokenNameIdentifier	 template
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
(	TokenNameLPAREN	
Document	TokenNameIdentifier	 Document
)	TokenNameRPAREN	
result	TokenNameIdentifier	 result
.	TokenNameDOT	
getNode	TokenNameIdentifier	 get Node
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Slow means of constructing query - parses stylesheet from input stream */	TokenNameCOMMENT_JAVADOC	 Slow means of constructing query - parses stylesheet from input stream 
public	TokenNamepublic	
static	TokenNamestatic	
Document	TokenNameIdentifier	 Document
getQueryAsDOM	TokenNameIdentifier	 get Query As DOM
(	TokenNameLPAREN	
Properties	TokenNameIdentifier	 Properties
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
InputStream	TokenNameIdentifier	 Input Stream
xslIs	TokenNameIdentifier	 xsl Is
)	TokenNameRPAREN	
throws	TokenNamethrows	
SAXException	TokenNameIdentifier	 SAX Exception
,	TokenNameCOMMA	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
,	TokenNameCOMMA	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
DOMResult	TokenNameIdentifier	 DOM Result
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
new	TokenNamenew	
DOMResult	TokenNameIdentifier	 DOM Result
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
transformCriteria	TokenNameIdentifier	 transform Criteria
(	TokenNameLPAREN	
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
xslIs	TokenNameIdentifier	 xsl Is
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
(	TokenNameLPAREN	
Document	TokenNameIdentifier	 Document
)	TokenNameRPAREN	
result	TokenNameIdentifier	 result
.	TokenNameDOT	
getNode	TokenNameIdentifier	 get Node
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Slower transformation using an uncompiled stylesheet (suitable for development environment) */	TokenNameCOMMENT_JAVADOC	 Slower transformation using an uncompiled stylesheet (suitable for development environment) 
public	TokenNamepublic	
static	TokenNamestatic	
void	TokenNamevoid	
transformCriteria	TokenNameIdentifier	 transform Criteria
(	TokenNameLPAREN	
Properties	TokenNameIdentifier	 Properties
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
InputStream	TokenNameIdentifier	 Input Stream
xslIs	TokenNameIdentifier	 xsl Is
,	TokenNameCOMMA	
Result	TokenNameIdentifier	 Result
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
throws	TokenNamethrows	
SAXException	TokenNameIdentifier	 SAX Exception
,	TokenNameCOMMA	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
,	TokenNameCOMMA	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
dbf	TokenNameIdentifier	 dbf
.	TokenNameDOT	
setNamespaceAware	TokenNameIdentifier	 set Namespace Aware
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DocumentBuilder	TokenNameIdentifier	 Document Builder
builder	TokenNameIdentifier	 builder
=	TokenNameEQUAL	
dbf	TokenNameIdentifier	 dbf
.	TokenNameDOT	
newDocumentBuilder	TokenNameIdentifier	 new Document Builder
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Document	TokenNameIdentifier	 Document
xslDoc	TokenNameIdentifier	 xsl Doc
=	TokenNameEQUAL	
builder	TokenNameIdentifier	 builder
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
xslIs	TokenNameIdentifier	 xsl Is
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DOMSource	TokenNameIdentifier	 DOM Source
ds	TokenNameIdentifier	 ds
=	TokenNameEQUAL	
new	TokenNamenew	
DOMSource	TokenNameIdentifier	 DOM Source
(	TokenNameLPAREN	
xslDoc	TokenNameIdentifier	 xsl Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Transformer	TokenNameIdentifier	 Transformer
transformer	TokenNameIdentifier	 transformer
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
synchronized	TokenNamesynchronized	
(	TokenNameLPAREN	
tFactory	TokenNameIdentifier	 t Factory
)	TokenNameRPAREN	
{	TokenNameLBRACE	
transformer	TokenNameIdentifier	 transformer
=	TokenNameEQUAL	
tFactory	TokenNameIdentifier	 t Factory
.	TokenNameDOT	
newTransformer	TokenNameIdentifier	 new Transformer
(	TokenNameLPAREN	
ds	TokenNameIdentifier	 ds
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
transformCriteria	TokenNameIdentifier	 transform Criteria
(	TokenNameLPAREN	
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
transformer	TokenNameIdentifier	 transformer
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Fast transformation using a pre-compiled stylesheet (suitable for production environments) */	TokenNameCOMMENT_JAVADOC	 Fast transformation using a pre-compiled stylesheet (suitable for production environments) 
public	TokenNamepublic	
static	TokenNamestatic	
void	TokenNamevoid	
transformCriteria	TokenNameIdentifier	 transform Criteria
(	TokenNameLPAREN	
Properties	TokenNameIdentifier	 Properties
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
Templates	TokenNameIdentifier	 Templates
template	TokenNameIdentifier	 template
,	TokenNameCOMMA	
Result	TokenNameIdentifier	 Result
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
throws	TokenNamethrows	
SAXException	TokenNameIdentifier	 SAX Exception
,	TokenNameCOMMA	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
,	TokenNameCOMMA	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
transformCriteria	TokenNameIdentifier	 transform Criteria
(	TokenNameLPAREN	
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
template	TokenNameIdentifier	 template
.	TokenNameDOT	
newTransformer	TokenNameIdentifier	 new Transformer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
static	TokenNamestatic	
void	TokenNamevoid	
transformCriteria	TokenNameIdentifier	 transform Criteria
(	TokenNameLPAREN	
Properties	TokenNameIdentifier	 Properties
formProperties	TokenNameIdentifier	 form Properties
,	TokenNameCOMMA	
Transformer	TokenNameIdentifier	 Transformer
transformer	TokenNameIdentifier	 transformer
,	TokenNameCOMMA	
Result	TokenNameIdentifier	 Result
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
throws	TokenNamethrows	
SAXException	TokenNameIdentifier	 SAX Exception
,	TokenNameCOMMA	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
,	TokenNameCOMMA	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
dbf	TokenNameIdentifier	 dbf
.	TokenNameDOT	
setNamespaceAware	TokenNameIdentifier	 set Namespace Aware
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//Create an XML document representing the search index document. 	TokenNameCOMMENT_LINE	Create an XML document representing the search index document. 
DocumentBuilder	TokenNameIdentifier	 Document Builder
db	TokenNameIdentifier	 db
=	TokenNameEQUAL	
dbf	TokenNameIdentifier	 dbf
.	TokenNameDOT	
newDocumentBuilder	TokenNameIdentifier	 new Document Builder
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Document	TokenNameIdentifier	 Document
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
newDocument	TokenNameIdentifier	 new Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Element	TokenNameIdentifier	 Element
root	TokenNameIdentifier	 root
=	TokenNameEQUAL	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
createElement	TokenNameIdentifier	 create Element
(	TokenNameLPAREN	
"Document"	TokenNameStringLiteral	Document
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
appendChild	TokenNameIdentifier	 append Child
(	TokenNameLPAREN	
root	TokenNameIdentifier	 root
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Enumeration	TokenNameIdentifier	 Enumeration
<	TokenNameLESS	
Object	TokenNameIdentifier	 Object
>	TokenNameGREATER	
keysEnum	TokenNameIdentifier	 keys Enum
=	TokenNameEQUAL	
formProperties	TokenNameIdentifier	 form Properties
.	TokenNameDOT	
keys	TokenNameIdentifier	 keys
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
keysEnum	TokenNameIdentifier	 keys Enum
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
propName	TokenNameIdentifier	 prop Name
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
keysEnum	TokenNameIdentifier	 keys Enum
.	TokenNameDOT	
nextElement	TokenNameIdentifier	 next Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
formProperties	TokenNameIdentifier	 form Properties
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
propName	TokenNameIdentifier	 prop Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
DOMUtils	TokenNameIdentifier	 DOM Utils
.	TokenNameDOT	
insertChild	TokenNameIdentifier	 insert Child
(	TokenNameLPAREN	
root	TokenNameIdentifier	 root
,	TokenNameCOMMA	
propName	TokenNameIdentifier	 prop Name
,	TokenNameCOMMA	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
//Use XSLT to to transform into an XML query string using the queryTemplate 	TokenNameCOMMENT_LINE	Use XSLT to to transform into an XML query string using the queryTemplate 
DOMSource	TokenNameIdentifier	 DOM Source
xml	TokenNameIdentifier	 xml
=	TokenNameEQUAL	
new	TokenNamenew	
DOMSource	TokenNameIdentifier	 DOM Source
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
transformer	TokenNameIdentifier	 transformer
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
(	TokenNameLPAREN	
xml	TokenNameIdentifier	 xml
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Parses a query stylesheet for repeated use */	TokenNameCOMMENT_JAVADOC	 Parses a query stylesheet for repeated use 
public	TokenNamepublic	
static	TokenNamestatic	
Templates	TokenNameIdentifier	 Templates
getTemplates	TokenNameIdentifier	 get Templates
(	TokenNameLPAREN	
InputStream	TokenNameIdentifier	 Input Stream
xslIs	TokenNameIdentifier	 xsl Is
)	TokenNameRPAREN	
throws	TokenNamethrows	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
,	TokenNameCOMMA	
SAXException	TokenNameIdentifier	 SAX Exception
,	TokenNameCOMMA	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
TransformerConfigurationException	TokenNameIdentifier	 Transformer Configuration Exception
{	TokenNameLBRACE	
dbf	TokenNameIdentifier	 dbf
.	TokenNameDOT	
setNamespaceAware	TokenNameIdentifier	 set Namespace Aware
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DocumentBuilder	TokenNameIdentifier	 Document Builder
builder	TokenNameIdentifier	 builder
=	TokenNameEQUAL	
dbf	TokenNameIdentifier	 dbf
.	TokenNameDOT	
newDocumentBuilder	TokenNameIdentifier	 new Document Builder
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Document	TokenNameIdentifier	 Document
xslDoc	TokenNameIdentifier	 xsl Doc
=	TokenNameEQUAL	
builder	TokenNameIdentifier	 builder
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
xslIs	TokenNameIdentifier	 xsl Is
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DOMSource	TokenNameIdentifier	 DOM Source
ds	TokenNameIdentifier	 ds
=	TokenNameEQUAL	
new	TokenNamenew	
DOMSource	TokenNameIdentifier	 DOM Source
(	TokenNameLPAREN	
xslDoc	TokenNameIdentifier	 xsl Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
tFactory	TokenNameIdentifier	 t Factory
.	TokenNameDOT	
newTemplates	TokenNameIdentifier	 new Templates
(	TokenNameLPAREN	
ds	TokenNameIdentifier	 ds
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
