/* * Licensed to the Apache Software Foundation (ASF) under one or more * contributor license agreements. See the NOTICE file distributed with * this work for additional information regarding copyright ownership. * The ASF licenses this file to You under the Apache License, Version 2.0 * (the "License"); you may not use this file except in compliance with * the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. * */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
File	TokenNameIdentifier	 File
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Iterator	TokenNameIdentifier	 Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
List	TokenNameIdentifier	 List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Vector	TokenNameIdentifier	 Vector
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ArrayList	TokenNameIdentifier	 Array List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
Task	TokenNameIdentifier	 Task
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
Project	TokenNameIdentifier	 Project
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
BuildException	TokenNameIdentifier	 Build Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
condition	TokenNameIdentifier	 condition
.	TokenNameDOT	
Os	TokenNameIdentifier	 Os
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
Path	TokenNameIdentifier	 Path
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
Mapper	TokenNameIdentifier	 Mapper
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
Reference	TokenNameIdentifier	 Reference
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
ResourceCollection	TokenNameIdentifier	 Resource Collection
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
EnumeratedAttribute	TokenNameIdentifier	 Enumerated Attribute
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
resources	TokenNameIdentifier	 resources
.	TokenNameDOT	
Resources	TokenNameIdentifier	 Resources
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
resources	TokenNameIdentifier	 resources
.	TokenNameDOT	
Union	TokenNameIdentifier	 Union
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
FileNameMapper	TokenNameIdentifier	 File Name Mapper
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
IdentityMapper	TokenNameIdentifier	 Identity Mapper
;	TokenNameSEMICOLON	
/** * Converts path and classpath information to a specific target OS * format. The resulting formatted path is placed into the specified property. * * @since Ant 1.4 * @ant.task category="utility" */	TokenNameCOMMENT_JAVADOC	 Converts path and classpath information to a specific target OS format. The resulting formatted path is placed into the specified property. * @since Ant 1.4 @ant.task category="utility" 
public	TokenNamepublic	
class	TokenNameclass	
PathConvert	TokenNameIdentifier	 Path Convert
extends	TokenNameextends	
Task	TokenNameIdentifier	 Task
{	TokenNameLBRACE	
/** * Set if we're running on windows */	TokenNameCOMMENT_JAVADOC	 Set if we're running on windows 
private	TokenNameprivate	
static	TokenNamestatic	
boolean	TokenNameboolean	
onWindows	TokenNameIdentifier	 on Windows
=	TokenNameEQUAL	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"dos"	TokenNameStringLiteral	dos
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Members 	TokenNameCOMMENT_LINE	Members 
/** * Path to be converted */	TokenNameCOMMENT_JAVADOC	 Path to be converted 
private	TokenNameprivate	
Resources	TokenNameIdentifier	 Resources
path	TokenNameIdentifier	 path
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * Reference to path/fileset to convert */	TokenNameCOMMENT_JAVADOC	 Reference to path/fileset to convert 
private	TokenNameprivate	
Reference	TokenNameIdentifier	 Reference
refid	TokenNameIdentifier	 refid
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * The target OS type */	TokenNameCOMMENT_JAVADOC	 The target OS type 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
targetOS	TokenNameIdentifier	 target OS
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * Set when targetOS is set to windows */	TokenNameCOMMENT_JAVADOC	 Set when targetOS is set to windows 
private	TokenNameprivate	
boolean	TokenNameboolean	
targetWindows	TokenNameIdentifier	 target Windows
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * Set if we should create a new property even if the result is empty */	TokenNameCOMMENT_JAVADOC	 Set if we should create a new property even if the result is empty 
private	TokenNameprivate	
boolean	TokenNameboolean	
setonempty	TokenNameIdentifier	 setonempty
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
/** * The property to receive the conversion */	TokenNameCOMMENT_JAVADOC	 The property to receive the conversion 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
property	TokenNameIdentifier	 property
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * Path prefix map */	TokenNameCOMMENT_JAVADOC	 Path prefix map 
private	TokenNameprivate	
Vector	TokenNameIdentifier	 Vector
prefixMap	TokenNameIdentifier	 prefix Map
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * User override on path sep char */	TokenNameCOMMENT_JAVADOC	 User override on path sep char 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
pathSep	TokenNameIdentifier	 path Sep
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * User override on directory sep char */	TokenNameCOMMENT_JAVADOC	 User override on directory sep char 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
dirSep	TokenNameIdentifier	 dir Sep
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** Filename mapper */	TokenNameCOMMENT_JAVADOC	 Filename mapper 
private	TokenNameprivate	
Mapper	TokenNameIdentifier	 Mapper
mapper	TokenNameIdentifier	 mapper
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
preserveDuplicates	TokenNameIdentifier	 preserve Duplicates
;	TokenNameSEMICOLON	
/** * Construct a new instance of the PathConvert task. */	TokenNameCOMMENT_JAVADOC	 Construct a new instance of the PathConvert task. 
public	TokenNamepublic	
PathConvert	TokenNameIdentifier	 Path Convert
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * Helper class, holds the nested &lt;map&gt; values. Elements will look like * this: &lt;map from=&quot;d:&quot; to=&quot;/foo&quot;/&gt; * * When running on windows, the prefix comparison will be case * insensitive. */	TokenNameCOMMENT_JAVADOC	 Helper class, holds the nested &lt;map&gt; values. Elements will look like this: &lt;map from=&quot;d:&quot; to=&quot;/foo&quot;/&gt; * When running on windows, the prefix comparison will be case insensitive. 
public	TokenNamepublic	
class	TokenNameclass	
MapEntry	TokenNameIdentifier	 Map Entry
{	TokenNameLBRACE	
// Members 	TokenNameCOMMENT_LINE	Members 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
from	TokenNameIdentifier	 from
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
to	TokenNameIdentifier	 to
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * Set the &quot;from&quot; attribute of the map entry. * @param from the prefix string to search for; required. * Note that this value is case-insensitive when the build is * running on a Windows platform and case-sensitive when running on * a Unix platform. */	TokenNameCOMMENT_JAVADOC	 Set the &quot;from&quot; attribute of the map entry. @param from the prefix string to search for; required. Note that this value is case-insensitive when the build is running on a Windows platform and case-sensitive when running on a Unix platform. 
public	TokenNamepublic	
void	TokenNamevoid	
setFrom	TokenNameIdentifier	 set From
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
from	TokenNameIdentifier	 from
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
from	TokenNameIdentifier	 from
=	TokenNameEQUAL	
from	TokenNameIdentifier	 from
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the replacement text to use when from is matched; required. * @param to new prefix. */	TokenNameCOMMENT_JAVADOC	 Set the replacement text to use when from is matched; required. @param to new prefix. 
public	TokenNamepublic	
void	TokenNamevoid	
setTo	TokenNameIdentifier	 set To
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
to	TokenNameIdentifier	 to
=	TokenNameEQUAL	
to	TokenNameIdentifier	 to
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Apply this map entry to a given path element. * * @param elem Path element to process. * @return String Updated path element after mapping. */	TokenNameCOMMENT_JAVADOC	 Apply this map entry to a given path element. * @param elem Path element to process. @return String Updated path element after mapping. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
apply	TokenNameIdentifier	 apply
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
elem	TokenNameIdentifier	 elem
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
from	TokenNameIdentifier	 from
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
to	TokenNameIdentifier	 to
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"Both 'from' and 'to' must be set "	TokenNameStringLiteral	Both 'from' and 'to' must be set 
+	TokenNamePLUS	
"in a map entry"	TokenNameStringLiteral	in a map entry
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// If we're on windows, then do the comparison ignoring case 	TokenNameCOMMENT_LINE	If we're on windows, then do the comparison ignoring case 
// and treat the two directory characters the same 	TokenNameCOMMENT_LINE	and treat the two directory characters the same 
String	TokenNameIdentifier	 String
cmpElem	TokenNameIdentifier	 cmp Elem
=	TokenNameEQUAL	
onWindows	TokenNameIdentifier	 on Windows
?	TokenNameQUESTION	
elem	TokenNameIdentifier	 elem
.	TokenNameDOT	
toLowerCase	TokenNameIdentifier	 to Lower Case
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
replace	TokenNameIdentifier	 replace
(	TokenNameLPAREN	
'\\'	TokenNameCharacterLiteral	
,	TokenNameCOMMA	
'/'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
:	TokenNameCOLON	
elem	TokenNameIdentifier	 elem
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
cmpFrom	TokenNameIdentifier	 cmp From
=	TokenNameEQUAL	
onWindows	TokenNameIdentifier	 on Windows
?	TokenNameQUESTION	
from	TokenNameIdentifier	 from
.	TokenNameDOT	
toLowerCase	TokenNameIdentifier	 to Lower Case
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
replace	TokenNameIdentifier	 replace
(	TokenNameLPAREN	
'\\'	TokenNameCharacterLiteral	
,	TokenNameCOMMA	
'/'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
:	TokenNameCOLON	
from	TokenNameIdentifier	 from
;	TokenNameSEMICOLON	
// If the element starts with the configured prefix, then 	TokenNameCOMMENT_LINE	If the element starts with the configured prefix, then 
// convert the prefix to the configured 'to' value. 	TokenNameCOMMENT_LINE	convert the prefix to the configured 'to' value. 
return	TokenNamereturn	
cmpElem	TokenNameIdentifier	 cmp Elem
.	TokenNameDOT	
startsWith	TokenNameIdentifier	 starts With
(	TokenNameLPAREN	
cmpFrom	TokenNameIdentifier	 cmp From
)	TokenNameRPAREN	
?	TokenNameQUESTION	
to	TokenNameIdentifier	 to
+	TokenNamePLUS	
elem	TokenNameIdentifier	 elem
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
from	TokenNameIdentifier	 from
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
elem	TokenNameIdentifier	 elem
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * An enumeration of supported targets: * "windows", "unix", "netware", and "os/2". */	TokenNameCOMMENT_JAVADOC	 An enumeration of supported targets: "windows", "unix", "netware", and "os/2". 
public	TokenNamepublic	
static	TokenNamestatic	
class	TokenNameclass	
TargetOs	TokenNameIdentifier	 Target Os
extends	TokenNameextends	
EnumeratedAttribute	TokenNameIdentifier	 Enumerated Attribute
{	TokenNameLBRACE	
/** * @return the list of values for this enumerated attribute. */	TokenNameCOMMENT_JAVADOC	 @return the list of values for this enumerated attribute. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
getValues	TokenNameIdentifier	 get Values
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"windows"	TokenNameStringLiteral	windows
,	TokenNameCOMMA	
"unix"	TokenNameStringLiteral	unix
,	TokenNameCOMMA	
"netware"	TokenNameStringLiteral	netware
,	TokenNameCOMMA	
"os/2"	TokenNameStringLiteral	os/2
,	TokenNameCOMMA	
"tandem"	TokenNameStringLiteral	tandem
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Create a nested path element. * @return a Path to be used by Ant reflection. */	TokenNameCOMMENT_JAVADOC	 Create a nested path element. @return a Path to be used by Ant reflection. 
public	TokenNamepublic	
Path	TokenNameIdentifier	 Path
createPath	TokenNameIdentifier	 create Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
isReference	TokenNameIdentifier	 is Reference
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
noChildrenAllowed	TokenNameIdentifier	 no Children Allowed
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Path	TokenNameIdentifier	 Path
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
new	TokenNamenew	
Path	TokenNameIdentifier	 Path
(	TokenNameLPAREN	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
result	TokenNameIdentifier	 result
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Add an arbitrary ResourceCollection. * @param rc the ResourceCollection to add. * @since Ant 1.7 */	TokenNameCOMMENT_JAVADOC	 Add an arbitrary ResourceCollection. @param rc the ResourceCollection to add. @since Ant 1.7 
public	TokenNamepublic	
void	TokenNamevoid	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
ResourceCollection	TokenNameIdentifier	 Resource Collection
rc	TokenNameIdentifier	 rc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
isReference	TokenNameIdentifier	 is Reference
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
noChildrenAllowed	TokenNameIdentifier	 no Children Allowed
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
rc	TokenNameIdentifier	 rc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
synchronized	TokenNamesynchronized	
Resources	TokenNameIdentifier	 Resources
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
path	TokenNameIdentifier	 path
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
path	TokenNameIdentifier	 path
=	TokenNameEQUAL	
new	TokenNamenew	
Resources	TokenNameIdentifier	 Resources
(	TokenNameLPAREN	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
path	TokenNameIdentifier	 path
.	TokenNameDOT	
setCache	TokenNameIdentifier	 set Cache
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
path	TokenNameIdentifier	 path
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Create a nested MAP element. * @return a Map to configure. */	TokenNameCOMMENT_JAVADOC	 Create a nested MAP element. @return a Map to configure. 
public	TokenNamepublic	
MapEntry	TokenNameIdentifier	 Map Entry
createMap	TokenNameIdentifier	 create Map
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
MapEntry	TokenNameIdentifier	 Map Entry
entry	TokenNameIdentifier	 entry
=	TokenNameEQUAL	
new	TokenNamenew	
MapEntry	TokenNameIdentifier	 Map Entry
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
prefixMap	TokenNameIdentifier	 prefix Map
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
entry	TokenNameIdentifier	 entry
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
entry	TokenNameIdentifier	 entry
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set targetos to a platform to one of * "windows", "unix", "netware", or "os/2"; * current platform settings are used by default. * @param target the target os. * @deprecated since 1.5.x. * Use the method taking a TargetOs argument instead. * @see #setTargetos(PathConvert.TargetOs) */	TokenNameCOMMENT_JAVADOC	 Set targetos to a platform to one of "windows", "unix", "netware", or "os/2"; current platform settings are used by default. @param target the target os. @deprecated since 1.5.x. Use the method taking a TargetOs argument instead. @see #setTargetos(PathConvert.TargetOs) 
public	TokenNamepublic	
void	TokenNamevoid	
setTargetos	TokenNameIdentifier	 set Targetos
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
target	TokenNameIdentifier	 target
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TargetOs	TokenNameIdentifier	 Target Os
to	TokenNameIdentifier	 to
=	TokenNameEQUAL	
new	TokenNamenew	
TargetOs	TokenNameIdentifier	 Target Os
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
to	TokenNameIdentifier	 to
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
target	TokenNameIdentifier	 target
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
setTargetos	TokenNameIdentifier	 set Targetos
(	TokenNameLPAREN	
to	TokenNameIdentifier	 to
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set targetos to a platform to one of * "windows", "unix", "netware", or "os/2"; * current platform settings are used by default. * @param target the target os * * @since Ant 1.5 */	TokenNameCOMMENT_JAVADOC	 Set targetos to a platform to one of "windows", "unix", "netware", or "os/2"; current platform settings are used by default. @param target the target os * @since Ant 1.5 
public	TokenNamepublic	
void	TokenNamevoid	
setTargetos	TokenNameIdentifier	 set Targetos
(	TokenNameLPAREN	
TargetOs	TokenNameIdentifier	 Target Os
target	TokenNameIdentifier	 target
)	TokenNameRPAREN	
{	TokenNameLBRACE	
targetOS	TokenNameIdentifier	 target OS
=	TokenNameEQUAL	
target	TokenNameIdentifier	 target
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Currently, we deal with only two path formats: Unix and Windows 	TokenNameCOMMENT_LINE	Currently, we deal with only two path formats: Unix and Windows 
// And Unix is everything that is not Windows 	TokenNameCOMMENT_LINE	And Unix is everything that is not Windows 
// for NetWare and OS/2, piggy-back on Windows, since in the 	TokenNameCOMMENT_LINE	for NetWare and OS/2, piggy-back on Windows, since in the 
// validateSetup code, the same assumptions can be made as 	TokenNameCOMMENT_LINE	validateSetup code, the same assumptions can be made as 
// with windows - that ; is the path separator 	TokenNameCOMMENT_LINE	with windows - that ; is the path separator 
targetWindows	TokenNameIdentifier	 target Windows
=	TokenNameEQUAL	
!	TokenNameNOT	
targetOS	TokenNameIdentifier	 target OS
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"unix"	TokenNameStringLiteral	unix
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
targetOS	TokenNameIdentifier	 target OS
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"tandem"	TokenNameStringLiteral	tandem
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set whether the specified property will be set if the result * is the empty string. * @param setonempty true or false. * * @since Ant 1.5 */	TokenNameCOMMENT_JAVADOC	 Set whether the specified property will be set if the result is the empty string. @param setonempty true or false. * @since Ant 1.5 
public	TokenNamepublic	
void	TokenNamevoid	
setSetonempty	TokenNameIdentifier	 set Setonempty
(	TokenNameLPAREN	
boolean	TokenNameboolean	
setonempty	TokenNameIdentifier	 setonempty
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
setonempty	TokenNameIdentifier	 setonempty
=	TokenNameEQUAL	
setonempty	TokenNameIdentifier	 setonempty
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the name of the property into which the converted path will be placed. * @param p the property name. */	TokenNameCOMMENT_JAVADOC	 Set the name of the property into which the converted path will be placed. @param p the property name. 
public	TokenNamepublic	
void	TokenNamevoid	
setProperty	TokenNameIdentifier	 set Property
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
p	TokenNameIdentifier	 p
)	TokenNameRPAREN	
{	TokenNameLBRACE	
property	TokenNameIdentifier	 property
=	TokenNameEQUAL	
p	TokenNameIdentifier	 p
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Add a reference to a Path, FileSet, DirSet, or FileList defined elsewhere. * @param r the reference to a path, fileset, dirset or filelist. */	TokenNameCOMMENT_JAVADOC	 Add a reference to a Path, FileSet, DirSet, or FileList defined elsewhere. @param r the reference to a path, fileset, dirset or filelist. 
public	TokenNamepublic	
void	TokenNamevoid	
setRefid	TokenNameIdentifier	 set Refid
(	TokenNameLPAREN	
Reference	TokenNameIdentifier	 Reference
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
path	TokenNameIdentifier	 path
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
noChildrenAllowed	TokenNameIdentifier	 no Children Allowed
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
refid	TokenNameIdentifier	 refid
=	TokenNameEQUAL	
r	TokenNameIdentifier	 r
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the default path separator string; defaults to current JVM * {@link java.io.File#pathSeparator File.pathSeparator}. * @param sep path separator string. */	TokenNameCOMMENT_JAVADOC	 Set the default path separator string; defaults to current JVM {@link java.io.File#pathSeparator File.pathSeparator}. @param sep path separator string. 
public	TokenNamepublic	
void	TokenNamevoid	
setPathSep	TokenNameIdentifier	 set Path Sep
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
sep	TokenNameIdentifier	 sep
)	TokenNameRPAREN	
{	TokenNameLBRACE	
pathSep	TokenNameIdentifier	 path Sep
=	TokenNameEQUAL	
sep	TokenNameIdentifier	 sep
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the default directory separator string; * defaults to current JVM {@link java.io.File#separator File.separator}. * @param sep directory separator string. */	TokenNameCOMMENT_JAVADOC	 Set the default directory separator string; defaults to current JVM {@link java.io.File#separator File.separator}. @param sep directory separator string. 
public	TokenNamepublic	
void	TokenNamevoid	
setDirSep	TokenNameIdentifier	 set Dir Sep
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
sep	TokenNameIdentifier	 sep
)	TokenNameRPAREN	
{	TokenNameLBRACE	
dirSep	TokenNameIdentifier	 dir Sep
=	TokenNameEQUAL	
sep	TokenNameIdentifier	 sep
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the preserveDuplicates. * @param preserveDuplicates the boolean to set * @since Ant 1.8 */	TokenNameCOMMENT_JAVADOC	 Set the preserveDuplicates. @param preserveDuplicates the boolean to set @since Ant 1.8 
public	TokenNamepublic	
void	TokenNamevoid	
setPreserveDuplicates	TokenNameIdentifier	 set Preserve Duplicates
(	TokenNameLPAREN	
boolean	TokenNameboolean	
preserveDuplicates	TokenNameIdentifier	 preserve Duplicates
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
preserveDuplicates	TokenNameIdentifier	 preserve Duplicates
=	TokenNameEQUAL	
preserveDuplicates	TokenNameIdentifier	 preserve Duplicates
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the preserveDuplicates. * @return boolean * @since Ant 1.8 */	TokenNameCOMMENT_JAVADOC	 Get the preserveDuplicates. @return boolean @since Ant 1.8 
public	TokenNamepublic	
boolean	TokenNameboolean	
isPreserveDuplicates	TokenNameIdentifier	 is Preserve Duplicates
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
preserveDuplicates	TokenNameIdentifier	 preserve Duplicates
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Learn whether the refid attribute of this element been set. * @return true if refid is valid. */	TokenNameCOMMENT_JAVADOC	 Learn whether the refid attribute of this element been set. @return true if refid is valid. 
public	TokenNamepublic	
boolean	TokenNameboolean	
isReference	TokenNameIdentifier	 is Reference
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
refid	TokenNameIdentifier	 refid
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Do the execution. * @throws BuildException if something is invalid. */	TokenNameCOMMENT_JAVADOC	 Do the execution. @throws BuildException if something is invalid. 
public	TokenNamepublic	
void	TokenNamevoid	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
Resources	TokenNameIdentifier	 Resources
savedPath	TokenNameIdentifier	 saved Path
=	TokenNameEQUAL	
path	TokenNameIdentifier	 path
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
savedPathSep	TokenNameIdentifier	 saved Path Sep
=	TokenNameEQUAL	
pathSep	TokenNameIdentifier	 path Sep
;	TokenNameSEMICOLON	
// may be altered in validateSetup 	TokenNameCOMMENT_LINE	may be altered in validateSetup 
String	TokenNameIdentifier	 String
savedDirSep	TokenNameIdentifier	 saved Dir Sep
=	TokenNameEQUAL	
dirSep	TokenNameIdentifier	 dir Sep
;	TokenNameSEMICOLON	
// may be altered in validateSetup 	TokenNameCOMMENT_LINE	may be altered in validateSetup 
try	TokenNametry	
{	TokenNameLBRACE	
// If we are a reference, create a Path from the reference 	TokenNameCOMMENT_LINE	If we are a reference, create a Path from the reference 
if	TokenNameif	
(	TokenNameLPAREN	
isReference	TokenNameIdentifier	 is Reference
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Object	TokenNameIdentifier	 Object
o	TokenNameIdentifier	 o
=	TokenNameEQUAL	
refid	TokenNameIdentifier	 refid
.	TokenNameDOT	
getReferencedObject	TokenNameIdentifier	 get Referenced Object
(	TokenNameLPAREN	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
(	TokenNameLPAREN	
o	TokenNameIdentifier	 o
instanceof	TokenNameinstanceof	
ResourceCollection	TokenNameIdentifier	 Resource Collection
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"refid '"	TokenNameStringLiteral	refid '
+	TokenNamePLUS	
refid	TokenNameIdentifier	 refid
.	TokenNameDOT	
getRefId	TokenNameIdentifier	 get Ref Id
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
"' does not refer to a resource collection."	TokenNameStringLiteral	' does not refer to a resource collection.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
(	TokenNameLPAREN	
ResourceCollection	TokenNameIdentifier	 Resource Collection
)	TokenNameRPAREN	
o	TokenNameIdentifier	 o
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
validateSetup	TokenNameIdentifier	 validate Setup
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// validate our setup 	TokenNameCOMMENT_LINE	validate our setup 
// Currently, we deal with only two path formats: Unix and Windows 	TokenNameCOMMENT_LINE	Currently, we deal with only two path formats: Unix and Windows 
// And Unix is everything that is not Windows 	TokenNameCOMMENT_LINE	And Unix is everything that is not Windows 
// (with the exception for NetWare and OS/2 below) 	TokenNameCOMMENT_LINE	(with the exception for NetWare and OS/2 below) 
// for NetWare and OS/2, piggy-back on Windows, since here and 	TokenNameCOMMENT_LINE	for NetWare and OS/2, piggy-back on Windows, since here and 
// in the apply code, the same assumptions can be made as with 	TokenNameCOMMENT_LINE	in the apply code, the same assumptions can be made as with 
// windows - that \\ is an OK separator, and do comparisons 	TokenNameCOMMENT_LINE	windows - that \\ is an OK separator, and do comparisons 
// case-insensitive. 	TokenNameCOMMENT_LINE	case-insensitive. 
String	TokenNameIdentifier	 String
fromDirSep	TokenNameIdentifier	 from Dir Sep
=	TokenNameEQUAL	
onWindows	TokenNameIdentifier	 on Windows
?	TokenNameQUESTION	
"\"	TokenNameStringLiteral	\
:	TokenNameCOLON	
"/"	TokenNameStringLiteral	/
;	TokenNameSEMICOLON	
StringBuffer	TokenNameIdentifier	 String Buffer
rslt	TokenNameIdentifier	 rslt
=	TokenNameEQUAL	
new	TokenNamenew	
StringBuffer	TokenNameIdentifier	 String Buffer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ResourceCollection	TokenNameIdentifier	 Resource Collection
resources	TokenNameIdentifier	 resources
=	TokenNameEQUAL	
isPreserveDuplicates	TokenNameIdentifier	 is Preserve Duplicates
(	TokenNameLPAREN	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
(	TokenNameLPAREN	
ResourceCollection	TokenNameIdentifier	 Resource Collection
)	TokenNameRPAREN	
path	TokenNameIdentifier	 path
:	TokenNameCOLON	
new	TokenNamenew	
Union	TokenNameIdentifier	 Union
(	TokenNameLPAREN	
path	TokenNameIdentifier	 path
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
List	TokenNameIdentifier	 List
ret	TokenNameIdentifier	 ret
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
FileNameMapper	TokenNameIdentifier	 File Name Mapper
mapperImpl	TokenNameIdentifier	 mapper Impl
=	TokenNameEQUAL	
mapper	TokenNameIdentifier	 mapper
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
new	TokenNamenew	
IdentityMapper	TokenNameIdentifier	 Identity Mapper
(	TokenNameLPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
mapper	TokenNameIdentifier	 mapper
.	TokenNameDOT	
getImplementation	TokenNameIdentifier	 get Implementation
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
iter	TokenNameIdentifier	 iter
=	TokenNameEQUAL	
resources	TokenNameIdentifier	 resources
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
mapped	TokenNameIdentifier	 mapped
=	TokenNameEQUAL	
mapperImpl	TokenNameIdentifier	 mapper Impl
.	TokenNameDOT	
mapFileName	TokenNameIdentifier	 map File Name
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
.	TokenNameDOT	
valueOf	TokenNameIdentifier	 value Of
(	TokenNameLPAREN	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
m	TokenNameIdentifier	 m
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
mapped	TokenNameIdentifier	 mapped
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
m	TokenNameIdentifier	 m
<	TokenNameLESS	
mapped	TokenNameIdentifier	 mapped
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
++	TokenNamePLUS_PLUS	
m	TokenNameIdentifier	 m
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ret	TokenNameIdentifier	 ret
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
mapped	TokenNameIdentifier	 mapped
[	TokenNameLBRACKET	
m	TokenNameIdentifier	 m
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
boolean	TokenNameboolean	
first	TokenNameIdentifier	 first
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
mappedIter	TokenNameIdentifier	 mapped Iter
=	TokenNameEQUAL	
ret	TokenNameIdentifier	 ret
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
mappedIter	TokenNameIdentifier	 mapped Iter
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
elem	TokenNameIdentifier	 elem
=	TokenNameEQUAL	
mapElement	TokenNameIdentifier	 map Element
(	TokenNameLPAREN	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
mappedIter	TokenNameIdentifier	 mapped Iter
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Apply the path prefix map 	TokenNameCOMMENT_LINE	Apply the path prefix map 
// Now convert the path and file separator characters from the 	TokenNameCOMMENT_LINE	Now convert the path and file separator characters from the 
// current os to the target os. 	TokenNameCOMMENT_LINE	current os to the target os. 
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
first	TokenNameIdentifier	 first
)	TokenNameRPAREN	
{	TokenNameLBRACE	
rslt	TokenNameIdentifier	 rslt
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
pathSep	TokenNameIdentifier	 path Sep
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
first	TokenNameIdentifier	 first
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
stDirectory	TokenNameIdentifier	 st Directory
=	TokenNameEQUAL	
new	TokenNamenew	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
(	TokenNameLPAREN	
elem	TokenNameIdentifier	 elem
,	TokenNameCOMMA	
fromDirSep	TokenNameIdentifier	 from Dir Sep
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
stDirectory	TokenNameIdentifier	 st Directory
.	TokenNameDOT	
hasMoreTokens	TokenNameIdentifier	 has More Tokens
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
token	TokenNameIdentifier	 token
=	TokenNameEQUAL	
stDirectory	TokenNameIdentifier	 st Directory
.	TokenNameDOT	
nextToken	TokenNameIdentifier	 next Token
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
rslt	TokenNameIdentifier	 rslt
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
fromDirSep	TokenNameIdentifier	 from Dir Sep
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
token	TokenNameIdentifier	 token
)	TokenNameRPAREN	
?	TokenNameQUESTION	
dirSep	TokenNameIdentifier	 dir Sep
:	TokenNameCOLON	
token	TokenNameIdentifier	 token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Place the result into the specified property, 	TokenNameCOMMENT_LINE	Place the result into the specified property, 
// unless setonempty == false 	TokenNameCOMMENT_LINE	unless setonempty == false 
if	TokenNameif	
(	TokenNameLPAREN	
setonempty	TokenNameIdentifier	 setonempty
||	TokenNameOR_OR	
rslt	TokenNameIdentifier	 rslt
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
rslt	TokenNameIdentifier	 rslt
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
property	TokenNameIdentifier	 property
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Set property "	TokenNameStringLiteral	Set property 
+	TokenNamePLUS	
property	TokenNameIdentifier	 property
+	TokenNamePLUS	
" = "	TokenNameStringLiteral	 = 
+	TokenNamePLUS	
value	TokenNameIdentifier	 value
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setNewProperty	TokenNameIdentifier	 set New Property
(	TokenNameLPAREN	
property	TokenNameIdentifier	 property
,	TokenNameCOMMA	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
path	TokenNameIdentifier	 path
=	TokenNameEQUAL	
savedPath	TokenNameIdentifier	 saved Path
;	TokenNameSEMICOLON	
dirSep	TokenNameIdentifier	 dir Sep
=	TokenNameEQUAL	
savedDirSep	TokenNameIdentifier	 saved Dir Sep
;	TokenNameSEMICOLON	
pathSep	TokenNameIdentifier	 path Sep
=	TokenNameEQUAL	
savedPathSep	TokenNameIdentifier	 saved Path Sep
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Apply the configured map to a path element. The map is used to convert * between Windows drive letters and Unix paths. If no map is configured, * then the input string is returned unchanged. * * @param elem The path element to apply the map to. * @return String Updated element. */	TokenNameCOMMENT_JAVADOC	 Apply the configured map to a path element. The map is used to convert between Windows drive letters and Unix paths. If no map is configured, then the input string is returned unchanged. * @param elem The path element to apply the map to. @return String Updated element. 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
mapElement	TokenNameIdentifier	 map Element
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
elem	TokenNameIdentifier	 elem
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
size	TokenNameIdentifier	 size
=	TokenNameEQUAL	
prefixMap	TokenNameIdentifier	 prefix Map
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
size	TokenNameIdentifier	 size
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Iterate over the map entries and apply each one. 	TokenNameCOMMENT_LINE	Iterate over the map entries and apply each one. 
// Stop when one of the entries actually changes the element. 	TokenNameCOMMENT_LINE	Stop when one of the entries actually changes the element. 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
size	TokenNameIdentifier	 size
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
MapEntry	TokenNameIdentifier	 Map Entry
entry	TokenNameIdentifier	 entry
=	TokenNameEQUAL	
(	TokenNameLPAREN	
MapEntry	TokenNameIdentifier	 Map Entry
)	TokenNameRPAREN	
prefixMap	TokenNameIdentifier	 prefix Map
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
newElem	TokenNameIdentifier	 new Elem
=	TokenNameEQUAL	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
apply	TokenNameIdentifier	 apply
(	TokenNameLPAREN	
elem	TokenNameIdentifier	 elem
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Note I'm using "!=" to see if we got a new object back from 	TokenNameCOMMENT_LINE	Note I'm using "!=" to see if we got a new object back from 
// the apply method. 	TokenNameCOMMENT_LINE	the apply method. 
if	TokenNameif	
(	TokenNameLPAREN	
newElem	TokenNameIdentifier	 new Elem
!=	TokenNameNOT_EQUAL	
elem	TokenNameIdentifier	 elem
)	TokenNameRPAREN	
{	TokenNameLBRACE	
elem	TokenNameIdentifier	 elem
=	TokenNameEQUAL	
newElem	TokenNameIdentifier	 new Elem
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
// We applied one, so we're done 	TokenNameCOMMENT_LINE	We applied one, so we're done 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
elem	TokenNameIdentifier	 elem
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Add a mapper to convert the file names. * * @param mapper a <code>Mapper</code> value. */	TokenNameCOMMENT_JAVADOC	 Add a mapper to convert the file names. * @param mapper a <code>Mapper</code> value. 
public	TokenNamepublic	
void	TokenNamevoid	
addMapper	TokenNameIdentifier	 add Mapper
(	TokenNameLPAREN	
Mapper	TokenNameIdentifier	 Mapper
mapper	TokenNameIdentifier	 mapper
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
mapper	TokenNameIdentifier	 mapper
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"Cannot define more than one mapper"	TokenNameStringLiteral	Cannot define more than one mapper
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
this	TokenNamethis	
.	TokenNameDOT	
mapper	TokenNameIdentifier	 mapper
=	TokenNameEQUAL	
mapper	TokenNameIdentifier	 mapper
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Add a nested filenamemapper. * @param fileNameMapper the mapper to add. * @since Ant 1.6.3 */	TokenNameCOMMENT_JAVADOC	 Add a nested filenamemapper. @param fileNameMapper the mapper to add. @since Ant 1.6.3 
public	TokenNamepublic	
void	TokenNamevoid	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
FileNameMapper	TokenNameIdentifier	 File Name Mapper
fileNameMapper	TokenNameIdentifier	 file Name Mapper
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Mapper	TokenNameIdentifier	 Mapper
m	TokenNameIdentifier	 m
=	TokenNameEQUAL	
new	TokenNamenew	
Mapper	TokenNameIdentifier	 Mapper
(	TokenNameLPAREN	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m	TokenNameIdentifier	 m
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
fileNameMapper	TokenNameIdentifier	 file Name Mapper
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addMapper	TokenNameIdentifier	 add Mapper
(	TokenNameLPAREN	
m	TokenNameIdentifier	 m
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Validate that all our parameters have been properly initialized. * * @throws BuildException if something is not set up properly. */	TokenNameCOMMENT_JAVADOC	 Validate that all our parameters have been properly initialized. * @throws BuildException if something is not set up properly. 
private	TokenNameprivate	
void	TokenNamevoid	
validateSetup	TokenNameIdentifier	 validate Setup
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
path	TokenNameIdentifier	 path
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"You must specify a path to convert"	TokenNameStringLiteral	You must specify a path to convert
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Determine the separator strings. The dirsep and pathsep attributes 	TokenNameCOMMENT_LINE	Determine the separator strings. The dirsep and pathsep attributes 
// override the targetOS settings. 	TokenNameCOMMENT_LINE	override the targetOS settings. 
String	TokenNameIdentifier	 String
dsep	TokenNameIdentifier	 dsep
=	TokenNameEQUAL	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
separator	TokenNameIdentifier	 separator
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
psep	TokenNameIdentifier	 psep
=	TokenNameEQUAL	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
pathSeparator	TokenNameIdentifier	 path Separator
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
targetOS	TokenNameIdentifier	 target OS
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
psep	TokenNameIdentifier	 psep
=	TokenNameEQUAL	
targetWindows	TokenNameIdentifier	 target Windows
?	TokenNameQUESTION	
";"	TokenNameStringLiteral	;
:	TokenNameCOLON	
":"	TokenNameStringLiteral	:
;	TokenNameSEMICOLON	
dsep	TokenNameIdentifier	 dsep
=	TokenNameEQUAL	
targetWindows	TokenNameIdentifier	 target Windows
?	TokenNameQUESTION	
"\"	TokenNameStringLiteral	\
:	TokenNameCOLON	
"/"	TokenNameStringLiteral	/
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
pathSep	TokenNameIdentifier	 path Sep
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// override with pathsep= 	TokenNameCOMMENT_LINE	override with pathsep= 
psep	TokenNameIdentifier	 psep
=	TokenNameEQUAL	
pathSep	TokenNameIdentifier	 path Sep
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
dirSep	TokenNameIdentifier	 dir Sep
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// override with dirsep= 	TokenNameCOMMENT_LINE	override with dirsep= 
dsep	TokenNameIdentifier	 dsep
=	TokenNameEQUAL	
dirSep	TokenNameIdentifier	 dir Sep
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
pathSep	TokenNameIdentifier	 path Sep
=	TokenNameEQUAL	
psep	TokenNameIdentifier	 psep
;	TokenNameSEMICOLON	
dirSep	TokenNameIdentifier	 dir Sep
=	TokenNameEQUAL	
dsep	TokenNameIdentifier	 dsep
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Creates an exception that indicates that this XML element must not have * child elements if the refid attribute is set. * @return BuildException. */	TokenNameCOMMENT_JAVADOC	 Creates an exception that indicates that this XML element must not have child elements if the refid attribute is set. @return BuildException. 
private	TokenNameprivate	
BuildException	TokenNameIdentifier	 Build Exception
noChildrenAllowed	TokenNameIdentifier	 no Children Allowed
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"You must not specify nested "	TokenNameStringLiteral	You must not specify nested 
+	TokenNamePLUS	
"elements when using the refid attribute."	TokenNameStringLiteral	elements when using the refid attribute.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
