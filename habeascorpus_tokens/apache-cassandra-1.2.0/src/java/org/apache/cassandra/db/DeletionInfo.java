/* * Licensed to the Apache Software Foundation (ASF) under one * or more contributor license agreements. See the NOTICE file * distributed with this work for additional information * regarding copyright ownership. The ASF licenses this file * to you under the Apache License, Version 2.0 (the * "License"); you may not use this file except in compliance * with the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to you under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
DataInput	TokenNameIdentifier	 Data Input
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
DataOutput	TokenNameIdentifier	 Data Output
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
lang	TokenNameIdentifier	 lang
.	TokenNameDOT	
reflect	TokenNameIdentifier	 reflect
.	TokenNameDOT	
Constructor	TokenNameIdentifier	 Constructor
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
nio	TokenNameIdentifier	 nio
.	TokenNameDOT	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
*	TokenNameMULTIPLY	
;	TokenNameSEMICOLON	
import	TokenNameimport	
com	TokenNameIdentifier	 com
.	TokenNameDOT	
google	TokenNameIdentifier	 google
.	TokenNameDOT	
common	TokenNameIdentifier	 common
.	TokenNameDOT	
base	TokenNameIdentifier	 base
.	TokenNameDOT	
Objects	TokenNameIdentifier	 Objects
;	TokenNameSEMICOLON	
import	TokenNameimport	
com	TokenNameIdentifier	 com
.	TokenNameDOT	
google	TokenNameIdentifier	 google
.	TokenNameDOT	
common	TokenNameIdentifier	 common
.	TokenNameDOT	
collect	TokenNameIdentifier	 collect
.	TokenNameDOT	
Iterables	TokenNameIdentifier	 Iterables
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
marshal	TokenNameIdentifier	 marshal
.	TokenNameDOT	
AbstractType	TokenNameIdentifier	 Abstract Type
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
ISerializer	TokenNameIdentifier	 I Serializer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
ISSTableSerializer	TokenNameIdentifier	 ISS Table Serializer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IVersionedSerializer	TokenNameIdentifier	 I Versioned Serializer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
sstable	TokenNameIdentifier	 sstable
.	TokenNameDOT	
Descriptor	TokenNameIdentifier	 Descriptor
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
MessagingService	TokenNameIdentifier	 Messaging Service
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
ByteBufferUtil	TokenNameIdentifier	 Byte Buffer Util
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
IntervalTree	TokenNameIdentifier	 Interval Tree
;	TokenNameSEMICOLON	
public	TokenNamepublic	
class	TokenNameclass	
DeletionInfo	TokenNameIdentifier	 Deletion Info
{	TokenNameLBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
Serializer	TokenNameIdentifier	 Serializer
serializer	TokenNameIdentifier	 serializer
=	TokenNameEQUAL	
new	TokenNamenew	
Serializer	TokenNameIdentifier	 Serializer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// We don't have way to represent the full interval of keys (Interval don't support the minimum token as the right bound), 	TokenNameCOMMENT_LINE	We don't have way to represent the full interval of keys (Interval don't support the minimum token as the right bound), 
// so we keep the topLevel deletion info separatly. This also slightly optimize the case of full row deletion which is rather common. 	TokenNameCOMMENT_LINE	so we keep the topLevel deletion info separatly. This also slightly optimize the case of full row deletion which is rather common. 
private	TokenNameprivate	
final	TokenNamefinal	
DeletionTime	TokenNameIdentifier	 Deletion Time
topLevel	TokenNameIdentifier	 top Level
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
IntervalTree	TokenNameIdentifier	 Interval Tree
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
,	TokenNameCOMMA	
DeletionTime	TokenNameIdentifier	 Deletion Time
,	TokenNameCOMMA	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
>	TokenNameGREATER	
ranges	TokenNameIdentifier	 ranges
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
DeletionInfo	TokenNameIdentifier	 Deletion Info
LIVE	TokenNameIdentifier	 LIVE
=	TokenNameEQUAL	
new	TokenNamenew	
DeletionInfo	TokenNameIdentifier	 Deletion Info
(	TokenNameLPAREN	
DeletionTime	TokenNameIdentifier	 Deletion Time
.	TokenNameDOT	
LIVE	TokenNameIdentifier	 LIVE
,	TokenNameCOMMA	
IntervalTree	TokenNameIdentifier	 Interval Tree
.	TokenNameDOT	
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
,	TokenNameCOMMA	
DeletionTime	TokenNameIdentifier	 Deletion Time
,	TokenNameCOMMA	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
>	TokenNameGREATER	
emptyTree	TokenNameIdentifier	 empty Tree
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
DeletionInfo	TokenNameIdentifier	 Deletion Info
(	TokenNameLPAREN	
long	TokenNamelong	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
,	TokenNameCOMMA	
int	TokenNameint	
localDeletionTime	TokenNameIdentifier	 local Deletion Time
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Pre-1.1 node may return MIN_VALUE for non-deleted container, but the new default is MAX_VALUE 	TokenNameCOMMENT_LINE	Pre-1.1 node may return MIN_VALUE for non-deleted container, but the new default is MAX_VALUE 
// (see CASSANDRA-3872) 	TokenNameCOMMENT_LINE	(see CASSANDRA-3872) 
this	TokenNamethis	
(	TokenNameLPAREN	
new	TokenNamenew	
DeletionTime	TokenNameIdentifier	 Deletion Time
(	TokenNameLPAREN	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
,	TokenNameCOMMA	
localDeletionTime	TokenNameIdentifier	 local Deletion Time
==	TokenNameEQUAL_EQUAL	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MIN_VALUE	TokenNameIdentifier	 MIN  VALUE
?	TokenNameQUESTION	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MAX_VALUE	TokenNameIdentifier	 MAX  VALUE
:	TokenNameCOLON	
localDeletionTime	TokenNameIdentifier	 local Deletion Time
)	TokenNameRPAREN	
,	TokenNameCOMMA	
IntervalTree	TokenNameIdentifier	 Interval Tree
.	TokenNameDOT	
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
,	TokenNameCOMMA	
DeletionTime	TokenNameIdentifier	 Deletion Time
,	TokenNameCOMMA	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
>	TokenNameGREATER	
emptyTree	TokenNameIdentifier	 empty Tree
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
DeletionInfo	TokenNameIdentifier	 Deletion Info
(	TokenNameLPAREN	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
start	TokenNameIdentifier	 start
,	TokenNameCOMMA	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
end	TokenNameIdentifier	 end
,	TokenNameCOMMA	
Comparator	TokenNameIdentifier	 Comparator
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
>	TokenNameGREATER	
comparator	TokenNameIdentifier	 comparator
,	TokenNameCOMMA	
long	TokenNamelong	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
,	TokenNameCOMMA	
int	TokenNameint	
localDeletionTime	TokenNameIdentifier	 local Deletion Time
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
(	TokenNameLPAREN	
new	TokenNamenew	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
(	TokenNameLPAREN	
start	TokenNameIdentifier	 start
,	TokenNameCOMMA	
end	TokenNameIdentifier	 end
,	TokenNameCOMMA	
new	TokenNamenew	
DeletionTime	TokenNameIdentifier	 Deletion Time
(	TokenNameLPAREN	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
,	TokenNameCOMMA	
localDeletionTime	TokenNameIdentifier	 local Deletion Time
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
comparator	TokenNameIdentifier	 comparator
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
DeletionInfo	TokenNameIdentifier	 Deletion Info
(	TokenNameLPAREN	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
rangeTombstone	TokenNameIdentifier	 range Tombstone
,	TokenNameCOMMA	
Comparator	TokenNameIdentifier	 Comparator
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
>	TokenNameGREATER	
comparator	TokenNameIdentifier	 comparator
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
(	TokenNameLPAREN	
DeletionTime	TokenNameIdentifier	 Deletion Time
.	TokenNameDOT	
LIVE	TokenNameIdentifier	 LIVE
,	TokenNameCOMMA	
IntervalTree	TokenNameIdentifier	 Interval Tree
.	TokenNameDOT	
build	TokenNameIdentifier	 build
(	TokenNameLPAREN	
Collections	TokenNameIdentifier	 Collections
.	TokenNameDOT	
<	TokenNameLESS	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
>	TokenNameGREATER	
singletonList	TokenNameIdentifier	 singleton List
(	TokenNameLPAREN	
rangeTombstone	TokenNameIdentifier	 range Tombstone
)	TokenNameRPAREN	
,	TokenNameCOMMA	
comparator	TokenNameIdentifier	 comparator
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assert	TokenNameassert	
comparator	TokenNameIdentifier	 comparator
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
DeletionInfo	TokenNameIdentifier	 Deletion Info
(	TokenNameLPAREN	
DeletionTime	TokenNameIdentifier	 Deletion Time
topLevel	TokenNameIdentifier	 top Level
,	TokenNameCOMMA	
IntervalTree	TokenNameIdentifier	 Interval Tree
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
,	TokenNameCOMMA	
DeletionTime	TokenNameIdentifier	 Deletion Time
,	TokenNameCOMMA	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
>	TokenNameGREATER	
ranges	TokenNameIdentifier	 ranges
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
topLevel	TokenNameIdentifier	 top Level
=	TokenNameEQUAL	
topLevel	TokenNameIdentifier	 top Level
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
ranges	TokenNameIdentifier	 ranges
=	TokenNameEQUAL	
ranges	TokenNameIdentifier	 ranges
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
static	TokenNamestatic	
Serializer	TokenNameIdentifier	 Serializer
serializer	TokenNameIdentifier	 serializer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
serializer	TokenNameIdentifier	 serializer
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns whether this DeletionInfo is live, that is deletes no columns. */	TokenNameCOMMENT_JAVADOC	 Returns whether this DeletionInfo is live, that is deletes no columns. 
public	TokenNamepublic	
boolean	TokenNameboolean	
isLive	TokenNameIdentifier	 is Live
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
topLevel	TokenNameIdentifier	 top Level
.	TokenNameDOT	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
==	TokenNameEQUAL_EQUAL	
Long	TokenNameIdentifier	 Long
.	TokenNameDOT	
MIN_VALUE	TokenNameIdentifier	 MIN  VALUE
&&	TokenNameAND_AND	
topLevel	TokenNameIdentifier	 top Level
.	TokenNameDOT	
localDeletionTime	TokenNameIdentifier	 local Deletion Time
==	TokenNameEQUAL_EQUAL	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MAX_VALUE	TokenNameIdentifier	 MAX  VALUE
&&	TokenNameAND_AND	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
isEmpty	TokenNameIdentifier	 is Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Return whether a given column is deleted by the container having this * deletion info. * * @param column the column to check. * @return true if the column is deleted, false otherwise */	TokenNameCOMMENT_JAVADOC	 Return whether a given column is deleted by the container having this deletion info. * @param column the column to check. @return true if the column is deleted, false otherwise 
public	TokenNamepublic	
boolean	TokenNameboolean	
isDeleted	TokenNameIdentifier	 is Deleted
(	TokenNameLPAREN	
IColumn	TokenNameIdentifier	 I Column
column	TokenNameIdentifier	 column
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
isDeleted	TokenNameIdentifier	 is Deleted
(	TokenNameLPAREN	
column	TokenNameIdentifier	 column
.	TokenNameDOT	
name	TokenNameIdentifier	 name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
column	TokenNameIdentifier	 column
.	TokenNameDOT	
mostRecentLiveChangeAt	TokenNameIdentifier	 most Recent Live Change At
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
boolean	TokenNameboolean	
isDeleted	TokenNameIdentifier	 is Deleted
(	TokenNameLPAREN	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
long	TokenNamelong	
timestamp	TokenNameIdentifier	 timestamp
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
isLive	TokenNameIdentifier	 is Live
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
timestamp	TokenNameIdentifier	 timestamp
<=	TokenNameLESS_EQUAL	
topLevel	TokenNameIdentifier	 top Level
.	TokenNameDOT	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
)	TokenNameRPAREN	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
DeletionTime	TokenNameIdentifier	 Deletion Time
d	TokenNameIdentifier	 d
:	TokenNameCOLON	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
search	TokenNameIdentifier	 search
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
timestamp	TokenNameIdentifier	 timestamp
<=	TokenNameLESS_EQUAL	
d	TokenNameIdentifier	 d
.	TokenNameDOT	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
)	TokenNameRPAREN	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Return a new DeletionInfo correspond to purging every tombstones that * are older than {@code gcbefore}. * * @param gcBefore timestamp (in seconds) before which tombstones should * be purged * @return a new DeletionInfo with the purged info remove. Should return * DeletionInfo.LIVE if no tombstones remain. */	TokenNameCOMMENT_JAVADOC	 Return a new DeletionInfo correspond to purging every tombstones that are older than {@code gcbefore}. * @param gcBefore timestamp (in seconds) before which tombstones should be purged @return a new DeletionInfo with the purged info remove. Should return DeletionInfo.LIVE if no tombstones remain. 
public	TokenNamepublic	
DeletionInfo	TokenNameIdentifier	 Deletion Info
purge	TokenNameIdentifier	 purge
(	TokenNameLPAREN	
int	TokenNameint	
gcBefore	TokenNameIdentifier	 gc Before
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
isEmpty	TokenNameIdentifier	 is Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
topLevel	TokenNameIdentifier	 top Level
.	TokenNameDOT	
localDeletionTime	TokenNameIdentifier	 local Deletion Time
<	TokenNameLESS	
gcBefore	TokenNameIdentifier	 gc Before
?	TokenNameQUESTION	
LIVE	TokenNameIdentifier	 LIVE
:	TokenNameCOLON	
this	TokenNamethis	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// We rebuild a new intervalTree that contains only non expired range tombstones 	TokenNameCOMMENT_LINE	We rebuild a new intervalTree that contains only non expired range tombstones 
List	TokenNameIdentifier	 List
<	TokenNameLESS	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
>	TokenNameGREATER	
nonExpired	TokenNameIdentifier	 non Expired
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
range	TokenNameIdentifier	 range
:	TokenNameCOLON	
ranges	TokenNameIdentifier	 ranges
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
range	TokenNameIdentifier	 range
.	TokenNameDOT	
data	TokenNameIdentifier	 data
.	TokenNameDOT	
localDeletionTime	TokenNameIdentifier	 local Deletion Time
>=	TokenNameGREATER_EQUAL	
gcBefore	TokenNameIdentifier	 gc Before
)	TokenNameRPAREN	
nonExpired	TokenNameIdentifier	 non Expired
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
range	TokenNameIdentifier	 range
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
IntervalTree	TokenNameIdentifier	 Interval Tree
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
,	TokenNameCOMMA	
DeletionTime	TokenNameIdentifier	 Deletion Time
,	TokenNameCOMMA	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
>	TokenNameGREATER	
newRanges	TokenNameIdentifier	 new Ranges
=	TokenNameEQUAL	
nonExpired	TokenNameIdentifier	 non Expired
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
intervalCount	TokenNameIdentifier	 interval Count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
ranges	TokenNameIdentifier	 ranges
:	TokenNameCOLON	
IntervalTree	TokenNameIdentifier	 Interval Tree
.	TokenNameDOT	
build	TokenNameIdentifier	 build
(	TokenNameLPAREN	
nonExpired	TokenNameIdentifier	 non Expired
,	TokenNameCOMMA	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
comparator	TokenNameIdentifier	 comparator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
topLevel	TokenNameIdentifier	 top Level
.	TokenNameDOT	
localDeletionTime	TokenNameIdentifier	 local Deletion Time
<	TokenNameLESS	
gcBefore	TokenNameIdentifier	 gc Before
?	TokenNameQUESTION	
new	TokenNamenew	
DeletionInfo	TokenNameIdentifier	 Deletion Info
(	TokenNameLPAREN	
DeletionTime	TokenNameIdentifier	 Deletion Time
.	TokenNameDOT	
LIVE	TokenNameIdentifier	 LIVE
,	TokenNameCOMMA	
newRanges	TokenNameIdentifier	 new Ranges
)	TokenNameRPAREN	
:	TokenNameCOLON	
new	TokenNamenew	
DeletionInfo	TokenNameIdentifier	 Deletion Info
(	TokenNameLPAREN	
topLevel	TokenNameIdentifier	 top Level
,	TokenNameCOMMA	
newRanges	TokenNameIdentifier	 new Ranges
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Returns a new DeletionInfo containing of this plus the provided {@code * newInfo}. */	TokenNameCOMMENT_JAVADOC	 Returns a new DeletionInfo containing of this plus the provided {@code newInfo}. 
public	TokenNamepublic	
DeletionInfo	TokenNameIdentifier	 Deletion Info
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
DeletionInfo	TokenNameIdentifier	 Deletion Info
newInfo	TokenNameIdentifier	 new Info
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
isEmpty	TokenNameIdentifier	 is Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
topLevel	TokenNameIdentifier	 top Level
.	TokenNameDOT	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
<	TokenNameLESS	
newInfo	TokenNameIdentifier	 new Info
.	TokenNameDOT	
topLevel	TokenNameIdentifier	 top Level
.	TokenNameDOT	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
?	TokenNameQUESTION	
newInfo	TokenNameIdentifier	 new Info
:	TokenNameCOLON	
newInfo	TokenNameIdentifier	 new Info
.	TokenNameDOT	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
isEmpty	TokenNameIdentifier	 is Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
this	TokenNamethis	
:	TokenNameCOLON	
new	TokenNamenew	
DeletionInfo	TokenNameIdentifier	 Deletion Info
(	TokenNameLPAREN	
topLevel	TokenNameIdentifier	 top Level
,	TokenNameCOMMA	
newInfo	TokenNameIdentifier	 new Info
.	TokenNameDOT	
ranges	TokenNameIdentifier	 ranges
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
newInfo	TokenNameIdentifier	 new Info
.	TokenNameDOT	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
isEmpty	TokenNameIdentifier	 is Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
topLevel	TokenNameIdentifier	 top Level
.	TokenNameDOT	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
<	TokenNameLESS	
newInfo	TokenNameIdentifier	 new Info
.	TokenNameDOT	
topLevel	TokenNameIdentifier	 top Level
.	TokenNameDOT	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
?	TokenNameQUESTION	
new	TokenNamenew	
DeletionInfo	TokenNameIdentifier	 Deletion Info
(	TokenNameLPAREN	
newInfo	TokenNameIdentifier	 new Info
.	TokenNameDOT	
topLevel	TokenNameIdentifier	 top Level
,	TokenNameCOMMA	
ranges	TokenNameIdentifier	 ranges
)	TokenNameRPAREN	
:	TokenNameCOLON	
this	TokenNamethis	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// Need to merge both ranges 	TokenNameCOMMENT_LINE	Need to merge both ranges 
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
>	TokenNameGREATER	
merged	TokenNameIdentifier	 merged
=	TokenNameEQUAL	
new	TokenNamenew	
HashSet	TokenNameIdentifier	 Hash Set
<	TokenNameLESS	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Iterables	TokenNameIdentifier	 Iterables
.	TokenNameDOT	
addAll	TokenNameIdentifier	 add All
(	TokenNameLPAREN	
merged	TokenNameIdentifier	 merged
,	TokenNameCOMMA	
Iterables	TokenNameIdentifier	 Iterables
.	TokenNameDOT	
concat	TokenNameIdentifier	 concat
(	TokenNameLPAREN	
ranges	TokenNameIdentifier	 ranges
,	TokenNameCOMMA	
newInfo	TokenNameIdentifier	 new Info
.	TokenNameDOT	
ranges	TokenNameIdentifier	 ranges
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
DeletionInfo	TokenNameIdentifier	 Deletion Info
(	TokenNameLPAREN	
topLevel	TokenNameIdentifier	 top Level
.	TokenNameDOT	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
<	TokenNameLESS	
newInfo	TokenNameIdentifier	 new Info
.	TokenNameDOT	
topLevel	TokenNameIdentifier	 top Level
.	TokenNameDOT	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
?	TokenNameQUESTION	
newInfo	TokenNameIdentifier	 new Info
.	TokenNameDOT	
topLevel	TokenNameIdentifier	 top Level
:	TokenNameCOLON	
topLevel	TokenNameIdentifier	 top Level
,	TokenNameCOMMA	
IntervalTree	TokenNameIdentifier	 Interval Tree
.	TokenNameDOT	
build	TokenNameIdentifier	 build
(	TokenNameLPAREN	
merged	TokenNameIdentifier	 merged
,	TokenNameCOMMA	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
comparator	TokenNameIdentifier	 comparator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * The maximum timestamp mentioned by this DeletionInfo. */	TokenNameCOMMENT_JAVADOC	 The maximum timestamp mentioned by this DeletionInfo. 
public	TokenNamepublic	
long	TokenNamelong	
maxTimestamp	TokenNameIdentifier	 max Timestamp
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
long	TokenNamelong	
maxTimestamp	TokenNameIdentifier	 max Timestamp
=	TokenNameEQUAL	
topLevel	TokenNameIdentifier	 top Level
.	TokenNameDOT	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
i	TokenNameIdentifier	 i
:	TokenNameCOLON	
ranges	TokenNameIdentifier	 ranges
)	TokenNameRPAREN	
{	TokenNameLBRACE	
maxTimestamp	TokenNameIdentifier	 max Timestamp
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
max	TokenNameIdentifier	 max
(	TokenNameLPAREN	
maxTimestamp	TokenNameIdentifier	 max Timestamp
,	TokenNameCOMMA	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
data	TokenNameIdentifier	 data
.	TokenNameDOT	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
maxTimestamp	TokenNameIdentifier	 max Timestamp
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
DeletionTime	TokenNameIdentifier	 Deletion Time
getTopLevelDeletion	TokenNameIdentifier	 get Top Level Deletion
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
topLevel	TokenNameIdentifier	 top Level
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
>	TokenNameGREATER	
rangeIterator	TokenNameIdentifier	 range Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
int	TokenNameint	
dataSize	TokenNameIdentifier	 data Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
size	TokenNameIdentifier	 size
=	TokenNameEQUAL	
TypeSizes	TokenNameIdentifier	 Type Sizes
.	TokenNameDOT	
NATIVE	TokenNameIdentifier	 NATIVE
.	TokenNameDOT	
sizeof	TokenNameIdentifier	 sizeof
(	TokenNameLPAREN	
topLevel	TokenNameIdentifier	 top Level
.	TokenNameDOT	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
r	TokenNameIdentifier	 r
:	TokenNameCOLON	
ranges	TokenNameIdentifier	 ranges
)	TokenNameRPAREN	
{	TokenNameLBRACE	
size	TokenNameIdentifier	 size
+=	TokenNamePLUS_EQUAL	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
min	TokenNameIdentifier	 min
.	TokenNameDOT	
remaining	TokenNameIdentifier	 remaining
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
max	TokenNameIdentifier	 max
.	TokenNameDOT	
remaining	TokenNameIdentifier	 remaining
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
size	TokenNameIdentifier	 size
+=	TokenNamePLUS_EQUAL	
TypeSizes	TokenNameIdentifier	 Type Sizes
.	TokenNameDOT	
NATIVE	TokenNameIdentifier	 NATIVE
.	TokenNameDOT	
sizeof	TokenNameIdentifier	 sizeof
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
.	TokenNameDOT	
data	TokenNameIdentifier	 data
.	TokenNameDOT	
markedForDeleteAt	TokenNameIdentifier	 marked For Delete At
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
size	TokenNameIdentifier	 size
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
String	TokenNameIdentifier	 String
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
isEmpty	TokenNameIdentifier	 is Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
String	TokenNameIdentifier	 String
.	TokenNameDOT	
format	TokenNameIdentifier	 format
(	TokenNameLPAREN	
"{%s}"	TokenNameStringLiteral	{%s}
,	TokenNameCOMMA	
topLevel	TokenNameIdentifier	 top Level
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
return	TokenNamereturn	
String	TokenNameIdentifier	 String
.	TokenNameDOT	
format	TokenNameIdentifier	 format
(	TokenNameLPAREN	
"{%s, ranges=%s}"	TokenNameStringLiteral	{%s, ranges=%s}
,	TokenNameCOMMA	
topLevel	TokenNameIdentifier	 top Level
,	TokenNameCOMMA	
rangesAsString	TokenNameIdentifier	 ranges As String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
rangesAsString	TokenNameIdentifier	 ranges As String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
assert	TokenNameassert	
!	TokenNameNOT	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
isEmpty	TokenNameIdentifier	 is Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
StringBuilder	TokenNameIdentifier	 String Builder
sb	TokenNameIdentifier	 sb
=	TokenNameEQUAL	
new	TokenNamenew	
StringBuilder	TokenNameIdentifier	 String Builder
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AbstractType	TokenNameIdentifier	 Abstract Type
at	TokenNameIdentifier	 at
=	TokenNameEQUAL	
(	TokenNameLPAREN	
AbstractType	TokenNameIdentifier	 Abstract Type
)	TokenNameRPAREN	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
comparator	TokenNameIdentifier	 comparator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assert	TokenNameassert	
at	TokenNameIdentifier	 at
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
i	TokenNameIdentifier	 i
:	TokenNameCOLON	
ranges	TokenNameIdentifier	 ranges
)	TokenNameRPAREN	
{	TokenNameLBRACE	
sb	TokenNameIdentifier	 sb
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"["	TokenNameStringLiteral	[
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
sb	TokenNameIdentifier	 sb
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
at	TokenNameIdentifier	 at
.	TokenNameDOT	
getString	TokenNameIdentifier	 get String
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
min	TokenNameIdentifier	 min
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"-"	TokenNameStringLiteral	-
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
sb	TokenNameIdentifier	 sb
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
at	TokenNameIdentifier	 at
.	TokenNameDOT	
getString	TokenNameIdentifier	 get String
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
max	TokenNameIdentifier	 max
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
", "	TokenNameStringLiteral	, 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
sb	TokenNameIdentifier	 sb
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
data	TokenNameIdentifier	 data
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
sb	TokenNameIdentifier	 sb
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"]"	TokenNameStringLiteral	]
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
sb	TokenNameIdentifier	 sb
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
boolean	TokenNameboolean	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
Object	TokenNameIdentifier	 Object
o	TokenNameIdentifier	 o
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
(	TokenNameLPAREN	
o	TokenNameIdentifier	 o
instanceof	TokenNameinstanceof	
DeletionInfo	TokenNameIdentifier	 Deletion Info
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
DeletionInfo	TokenNameIdentifier	 Deletion Info
that	TokenNameIdentifier	 that
=	TokenNameEQUAL	
(	TokenNameLPAREN	
DeletionInfo	TokenNameIdentifier	 Deletion Info
)	TokenNameRPAREN	
o	TokenNameIdentifier	 o
;	TokenNameSEMICOLON	
return	TokenNamereturn	
topLevel	TokenNameIdentifier	 top Level
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
that	TokenNameIdentifier	 that
.	TokenNameDOT	
topLevel	TokenNameIdentifier	 top Level
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
that	TokenNameIdentifier	 that
.	TokenNameDOT	
ranges	TokenNameIdentifier	 ranges
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
final	TokenNamefinal	
int	TokenNameint	
hashCode	TokenNameIdentifier	 hash Code
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
Objects	TokenNameIdentifier	 Objects
.	TokenNameDOT	
hashCode	TokenNameIdentifier	 hash Code
(	TokenNameLPAREN	
topLevel	TokenNameIdentifier	 top Level
,	TokenNameCOMMA	
ranges	TokenNameIdentifier	 ranges
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
static	TokenNamestatic	
class	TokenNameclass	
Serializer	TokenNameIdentifier	 Serializer
implements	TokenNameimplements	
IVersionedSerializer	TokenNameIdentifier	 I Versioned Serializer
<	TokenNameLESS	
DeletionInfo	TokenNameIdentifier	 Deletion Info
>	TokenNameGREATER	
,	TokenNameCOMMA	
ISSTableSerializer	TokenNameIdentifier	 ISS Table Serializer
<	TokenNameLESS	
DeletionInfo	TokenNameIdentifier	 Deletion Info
>	TokenNameGREATER	
{	TokenNameLBRACE	
private	TokenNameprivate	
final	TokenNamefinal	
static	TokenNamestatic	
ISerializer	TokenNameIdentifier	 I Serializer
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
>	TokenNameGREATER	
bbSerializer	TokenNameIdentifier	 bb Serializer
=	TokenNameEQUAL	
new	TokenNamenew	
ISerializer	TokenNameIdentifier	 I Serializer
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
serialize	TokenNameIdentifier	 serialize
(	TokenNameLPAREN	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
bb	TokenNameIdentifier	 bb
,	TokenNameCOMMA	
DataOutput	TokenNameIdentifier	 Data Output
dos	TokenNameIdentifier	 dos
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
ByteBufferUtil	TokenNameIdentifier	 Byte Buffer Util
.	TokenNameDOT	
writeWithShortLength	TokenNameIdentifier	 write With Short Length
(	TokenNameLPAREN	
bb	TokenNameIdentifier	 bb
,	TokenNameCOMMA	
dos	TokenNameIdentifier	 dos
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
deserialize	TokenNameIdentifier	 deserialize
(	TokenNameLPAREN	
DataInput	TokenNameIdentifier	 Data Input
dis	TokenNameIdentifier	 dis
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
return	TokenNamereturn	
ByteBufferUtil	TokenNameIdentifier	 Byte Buffer Util
.	TokenNameDOT	
readWithShortLength	TokenNameIdentifier	 read With Short Length
(	TokenNameLPAREN	
dis	TokenNameIdentifier	 dis
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
serializedSize	TokenNameIdentifier	 serialized Size
(	TokenNameLPAREN	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
bb	TokenNameIdentifier	 bb
,	TokenNameCOMMA	
TypeSizes	TokenNameIdentifier	 Type Sizes
typeSizes	TokenNameIdentifier	 type Sizes
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
bbSize	TokenNameIdentifier	 bb Size
=	TokenNameEQUAL	
bb	TokenNameIdentifier	 bb
.	TokenNameDOT	
remaining	TokenNameIdentifier	 remaining
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
typeSizes	TokenNameIdentifier	 type Sizes
.	TokenNameDOT	
sizeof	TokenNameIdentifier	 sizeof
(	TokenNameLPAREN	
(	TokenNameLPAREN	
short	TokenNameshort	
)	TokenNameRPAREN	
bbSize	TokenNameIdentifier	 bb Size
)	TokenNameRPAREN	
+	TokenNamePLUS	
bbSize	TokenNameIdentifier	 bb Size
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
static	TokenNamestatic	
IntervalTree	TokenNameIdentifier	 Interval Tree
.	TokenNameDOT	
Serializer	TokenNameIdentifier	 Serializer
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
,	TokenNameCOMMA	
DeletionTime	TokenNameIdentifier	 Deletion Time
,	TokenNameCOMMA	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
>	TokenNameGREATER	
itSerializer	TokenNameIdentifier	 it Serializer
;	TokenNameSEMICOLON	
static	TokenNamestatic	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
Constructor	TokenNameIdentifier	 Constructor
<	TokenNameLESS	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
>	TokenNameGREATER	
constructor	TokenNameIdentifier	 constructor
=	TokenNameEQUAL	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
.	TokenNameDOT	
class	TokenNameclass	
.	TokenNameDOT	
getConstructor	TokenNameIdentifier	 get Constructor
(	TokenNameLPAREN	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
.	TokenNameDOT	
class	TokenNameclass	
,	TokenNameCOMMA	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
.	TokenNameDOT	
class	TokenNameclass	
,	TokenNameCOMMA	
DeletionTime	TokenNameIdentifier	 Deletion Time
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
itSerializer	TokenNameIdentifier	 it Serializer
=	TokenNameEQUAL	
IntervalTree	TokenNameIdentifier	 Interval Tree
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
(	TokenNameLPAREN	
bbSerializer	TokenNameIdentifier	 bb Serializer
,	TokenNameCOMMA	
DeletionTime	TokenNameIdentifier	 Deletion Time
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
,	TokenNameCOMMA	
constructor	TokenNameIdentifier	 constructor
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
NoSuchMethodException	TokenNameIdentifier	 No Such Method Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
serialize	TokenNameIdentifier	 serialize
(	TokenNameLPAREN	
DeletionInfo	TokenNameIdentifier	 Deletion Info
info	TokenNameIdentifier	 info
,	TokenNameCOMMA	
DataOutput	TokenNameIdentifier	 Data Output
out	TokenNameIdentifier	 out
,	TokenNameCOMMA	
int	TokenNameint	
version	TokenNameIdentifier	 version
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
DeletionTime	TokenNameIdentifier	 Deletion Time
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
.	TokenNameDOT	
serialize	TokenNameIdentifier	 serialize
(	TokenNameLPAREN	
info	TokenNameIdentifier	 info
.	TokenNameDOT	
topLevel	TokenNameIdentifier	 top Level
,	TokenNameCOMMA	
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Pre-1.2 version don't know about range tombstones and thus users should upgrade all 	TokenNameCOMMENT_LINE	Pre-1.2 version don't know about range tombstones and thus users should upgrade all 
// nodes before using them. If they didn't, better fail early that propagating bad info 	TokenNameCOMMENT_LINE	nodes before using them. If they didn't, better fail early that propagating bad info 
if	TokenNameif	
(	TokenNameLPAREN	
version	TokenNameIdentifier	 version
<	TokenNameLESS	
MessagingService	TokenNameIdentifier	 Messaging Service
.	TokenNameDOT	
VERSION_12	TokenNameIdentifier	 VERSION 12
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
info	TokenNameIdentifier	 info
.	TokenNameDOT	
ranges	TokenNameIdentifier	 ranges
.	TokenNameDOT	
isEmpty	TokenNameIdentifier	 is Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
"Cannot send range tombstone to pre-1.2 node. You should upgrade all node to Cassandra 1.2+ before using range tombstone."	TokenNameStringLiteral	Cannot send range tombstone to pre-1.2 node. You should upgrade all node to Cassandra 1.2+ before using range tombstone.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Otherwise we're done 	TokenNameCOMMENT_LINE	Otherwise we're done 
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
itSerializer	TokenNameIdentifier	 it Serializer
.	TokenNameDOT	
serialize	TokenNameIdentifier	 serialize
(	TokenNameLPAREN	
info	TokenNameIdentifier	 info
.	TokenNameDOT	
ranges	TokenNameIdentifier	 ranges
,	TokenNameCOMMA	
out	TokenNameIdentifier	 out
,	TokenNameCOMMA	
version	TokenNameIdentifier	 version
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
serializeForSSTable	TokenNameIdentifier	 serialize For SS Table
(	TokenNameLPAREN	
DeletionInfo	TokenNameIdentifier	 Deletion Info
info	TokenNameIdentifier	 info
,	TokenNameCOMMA	
DataOutput	TokenNameIdentifier	 Data Output
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
DeletionTime	TokenNameIdentifier	 Deletion Time
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
.	TokenNameDOT	
serialize	TokenNameIdentifier	 serialize
(	TokenNameLPAREN	
info	TokenNameIdentifier	 info
.	TokenNameDOT	
topLevel	TokenNameIdentifier	 top Level
,	TokenNameCOMMA	
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* * Range tombstones internally depend on the column family serializer, but it is not serialized. * Thus deserialize(DataInput, int, Comparator<ByteBuffer>) should be used instead of this method. */	TokenNameCOMMENT_BLOCK	 Range tombstones internally depend on the column family serializer, but it is not serialized. Thus deserialize(DataInput, int, Comparator<ByteBuffer>) should be used instead of this method. 
public	TokenNamepublic	
DeletionInfo	TokenNameIdentifier	 Deletion Info
deserialize	TokenNameIdentifier	 deserialize
(	TokenNameLPAREN	
DataInput	TokenNameIdentifier	 Data Input
in	TokenNameIdentifier	 in
,	TokenNameCOMMA	
int	TokenNameint	
version	TokenNameIdentifier	 version
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
UnsupportedOperationException	TokenNameIdentifier	 Unsupported Operation Exception
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
DeletionInfo	TokenNameIdentifier	 Deletion Info
deserialize	TokenNameIdentifier	 deserialize
(	TokenNameLPAREN	
DataInput	TokenNameIdentifier	 Data Input
in	TokenNameIdentifier	 in
,	TokenNameCOMMA	
int	TokenNameint	
version	TokenNameIdentifier	 version
,	TokenNameCOMMA	
Comparator	TokenNameIdentifier	 Comparator
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
>	TokenNameGREATER	
comparator	TokenNameIdentifier	 comparator
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
assert	TokenNameassert	
comparator	TokenNameIdentifier	 comparator
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
DeletionTime	TokenNameIdentifier	 Deletion Time
topLevel	TokenNameIdentifier	 top Level
=	TokenNameEQUAL	
DeletionTime	TokenNameIdentifier	 Deletion Time
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
.	TokenNameDOT	
deserialize	TokenNameIdentifier	 deserialize
(	TokenNameLPAREN	
in	TokenNameIdentifier	 in
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
version	TokenNameIdentifier	 version
<	TokenNameLESS	
MessagingService	TokenNameIdentifier	 Messaging Service
.	TokenNameDOT	
VERSION_12	TokenNameIdentifier	 VERSION 12
)	TokenNameRPAREN	
return	TokenNamereturn	
new	TokenNamenew	
DeletionInfo	TokenNameIdentifier	 Deletion Info
(	TokenNameLPAREN	
topLevel	TokenNameIdentifier	 top Level
,	TokenNameCOMMA	
IntervalTree	TokenNameIdentifier	 Interval Tree
.	TokenNameDOT	
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
,	TokenNameCOMMA	
DeletionTime	TokenNameIdentifier	 Deletion Time
,	TokenNameCOMMA	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
>	TokenNameGREATER	
emptyTree	TokenNameIdentifier	 empty Tree
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
IntervalTree	TokenNameIdentifier	 Interval Tree
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
,	TokenNameCOMMA	
DeletionTime	TokenNameIdentifier	 Deletion Time
,	TokenNameCOMMA	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
>	TokenNameGREATER	
ranges	TokenNameIdentifier	 ranges
=	TokenNameEQUAL	
itSerializer	TokenNameIdentifier	 it Serializer
.	TokenNameDOT	
deserialize	TokenNameIdentifier	 deserialize
(	TokenNameLPAREN	
in	TokenNameIdentifier	 in
,	TokenNameCOMMA	
version	TokenNameIdentifier	 version
,	TokenNameCOMMA	
comparator	TokenNameIdentifier	 comparator
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
DeletionInfo	TokenNameIdentifier	 Deletion Info
(	TokenNameLPAREN	
topLevel	TokenNameIdentifier	 top Level
,	TokenNameCOMMA	
ranges	TokenNameIdentifier	 ranges
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
DeletionInfo	TokenNameIdentifier	 Deletion Info
deserializeFromSSTable	TokenNameIdentifier	 deserialize From SS Table
(	TokenNameLPAREN	
DataInput	TokenNameIdentifier	 Data Input
in	TokenNameIdentifier	 in
,	TokenNameCOMMA	
Descriptor	TokenNameIdentifier	 Descriptor
.	TokenNameDOT	
Version	TokenNameIdentifier	 Version
version	TokenNameIdentifier	 version
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
DeletionTime	TokenNameIdentifier	 Deletion Time
topLevel	TokenNameIdentifier	 top Level
=	TokenNameEQUAL	
DeletionTime	TokenNameIdentifier	 Deletion Time
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
.	TokenNameDOT	
deserialize	TokenNameIdentifier	 deserialize
(	TokenNameLPAREN	
in	TokenNameIdentifier	 in
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
DeletionInfo	TokenNameIdentifier	 Deletion Info
(	TokenNameLPAREN	
topLevel	TokenNameIdentifier	 top Level
,	TokenNameCOMMA	
IntervalTree	TokenNameIdentifier	 Interval Tree
.	TokenNameDOT	
<	TokenNameLESS	
ByteBuffer	TokenNameIdentifier	 Byte Buffer
,	TokenNameCOMMA	
DeletionTime	TokenNameIdentifier	 Deletion Time
,	TokenNameCOMMA	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
>	TokenNameGREATER	
emptyTree	TokenNameIdentifier	 empty Tree
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
serializedSize	TokenNameIdentifier	 serialized Size
(	TokenNameLPAREN	
DeletionInfo	TokenNameIdentifier	 Deletion Info
info	TokenNameIdentifier	 info
,	TokenNameCOMMA	
TypeSizes	TokenNameIdentifier	 Type Sizes
typeSizes	TokenNameIdentifier	 type Sizes
,	TokenNameCOMMA	
int	TokenNameint	
version	TokenNameIdentifier	 version
)	TokenNameRPAREN	
{	TokenNameLBRACE	
long	TokenNamelong	
size	TokenNameIdentifier	 size
=	TokenNameEQUAL	
DeletionTime	TokenNameIdentifier	 Deletion Time
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
.	TokenNameDOT	
serializedSize	TokenNameIdentifier	 serialized Size
(	TokenNameLPAREN	
info	TokenNameIdentifier	 info
.	TokenNameDOT	
topLevel	TokenNameIdentifier	 top Level
,	TokenNameCOMMA	
typeSizes	TokenNameIdentifier	 type Sizes
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
version	TokenNameIdentifier	 version
<	TokenNameLESS	
MessagingService	TokenNameIdentifier	 Messaging Service
.	TokenNameDOT	
VERSION_12	TokenNameIdentifier	 VERSION 12
)	TokenNameRPAREN	
return	TokenNamereturn	
size	TokenNameIdentifier	 size
;	TokenNameSEMICOLON	
return	TokenNamereturn	
size	TokenNameIdentifier	 size
+	TokenNamePLUS	
itSerializer	TokenNameIdentifier	 it Serializer
.	TokenNameDOT	
serializedSize	TokenNameIdentifier	 serialized Size
(	TokenNameLPAREN	
info	TokenNameIdentifier	 info
.	TokenNameDOT	
ranges	TokenNameIdentifier	 ranges
,	TokenNameCOMMA	
typeSizes	TokenNameIdentifier	 type Sizes
,	TokenNameCOMMA	
version	TokenNameIdentifier	 version
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
serializedSize	TokenNameIdentifier	 serialized Size
(	TokenNameLPAREN	
DeletionInfo	TokenNameIdentifier	 Deletion Info
info	TokenNameIdentifier	 info
,	TokenNameCOMMA	
int	TokenNameint	
version	TokenNameIdentifier	 version
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
serializedSize	TokenNameIdentifier	 serialized Size
(	TokenNameLPAREN	
info	TokenNameIdentifier	 info
,	TokenNameCOMMA	
TypeSizes	TokenNameIdentifier	 Type Sizes
.	TokenNameDOT	
NATIVE	TokenNameIdentifier	 NATIVE
,	TokenNameCOMMA	
version	TokenNameIdentifier	 version
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
