/* * Licensed to the Apache Software Foundation (ASF) under one or more * contributor license agreements. See the NOTICE file distributed with * this work for additional information regarding copyright ownership. * The ASF licenses this file to You under the Apache License, Version 2.0 * (the "License"); you may not use this file except in compliance with * the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. * */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
optional	TokenNameIdentifier	 optional
.	TokenNameDOT	
jsp	TokenNameIdentifier	 jsp
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
File	TokenNameIdentifier	 File
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Date	TokenNameIdentifier	 Date
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Enumeration	TokenNameIdentifier	 Enumeration
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Vector	TokenNameIdentifier	 Vector
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
AntClassLoader	TokenNameIdentifier	 Ant Class Loader
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
BuildException	TokenNameIdentifier	 Build Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
DirectoryScanner	TokenNameIdentifier	 Directory Scanner
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
Project	TokenNameIdentifier	 Project
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
MatchingTask	TokenNameIdentifier	 Matching Task
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
optional	TokenNameIdentifier	 optional
.	TokenNameDOT	
jsp	TokenNameIdentifier	 jsp
.	TokenNameDOT	
compilers	TokenNameIdentifier	 compilers
.	TokenNameDOT	
JspCompilerAdapter	TokenNameIdentifier	 Jsp Compiler Adapter
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
optional	TokenNameIdentifier	 optional
.	TokenNameDOT	
jsp	TokenNameIdentifier	 jsp
.	TokenNameDOT	
compilers	TokenNameIdentifier	 compilers
.	TokenNameDOT	
JspCompilerAdapterFactory	TokenNameIdentifier	 Jsp Compiler Adapter Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
Path	TokenNameIdentifier	 Path
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
Reference	TokenNameIdentifier	 Reference
;	TokenNameSEMICOLON	
/** * Runs a JSP compiler. * * <p> This task takes the given jsp files and compiles them into java * files. It is then up to the user to compile the java files into classes. * * <p> The task requires the srcdir and destdir attributes to be * set. This Task is a MatchingTask, so the files to be compiled can be * specified using includes/excludes attributes or nested include/exclude * elements. Optional attributes are verbose (set the verbosity level passed * to jasper), package (name of the destination package for generated java * classes and classpath (the classpath to use when running the jsp * compiler). * <p> This task supports the nested elements classpath (A Path) and * classpathref (A Reference) which can be used in preference to the * attribute classpath, if the jsp compiler is not already in the ant * classpath. * * <p><h4>Usage</h4> * <pre> * &lt;jspc srcdir="${basedir}/src/war" * destdir="${basedir}/gensrc" * package="com.i3sp.jsp" * verbose="9"&gt; * &lt;include name="**\/*.jsp" /&gt; * &lt;/jspc&gt; * </pre> * * <p> Large Amount of cutting and pasting from the Javac task... * @since 1.5 */	TokenNameCOMMENT_JAVADOC	 Runs a JSP compiler. * <p> This task takes the given jsp files and compiles them into java files. It is then up to the user to compile the java files into classes. * <p> The task requires the srcdir and destdir attributes to be set. This Task is a MatchingTask, so the files to be compiled can be specified using includes/excludes attributes or nested include/exclude elements. Optional attributes are verbose (set the verbosity level passed to jasper), package (name of the destination package for generated java classes and classpath (the classpath to use when running the jsp compiler). <p> This task supports the nested elements classpath (A Path) and classpathref (A Reference) which can be used in preference to the attribute classpath, if the jsp compiler is not already in the ant classpath. * <p><h4>Usage</h4> <pre> &lt;jspc srcdir="${basedir}/src/war" destdir="${basedir}/gensrc" package="com.i3sp.jsp" verbose="9"&gt; &lt;include name="**\/*.jsp" /&gt; &lt;/jspc&gt; </pre> * <p> Large Amount of cutting and pasting from the Javac task... @since 1.5 
public	TokenNamepublic	
class	TokenNameclass	
JspC	TokenNameIdentifier	 Jsp C
extends	TokenNameextends	
MatchingTask	TokenNameIdentifier	 Matching Task
{	TokenNameLBRACE	
private	TokenNameprivate	
Path	TokenNameIdentifier	 Path
classpath	TokenNameIdentifier	 classpath
;	TokenNameSEMICOLON	
private	TokenNameprivate	
Path	TokenNameIdentifier	 Path
compilerClasspath	TokenNameIdentifier	 compiler Classpath
;	TokenNameSEMICOLON	
private	TokenNameprivate	
Path	TokenNameIdentifier	 Path
src	TokenNameIdentifier	 src
;	TokenNameSEMICOLON	
private	TokenNameprivate	
File	TokenNameIdentifier	 File
destDir	TokenNameIdentifier	 dest Dir
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
packageName	TokenNameIdentifier	 package Name
;	TokenNameSEMICOLON	
/** name of the compiler to use */	TokenNameCOMMENT_JAVADOC	 name of the compiler to use 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
compilerName	TokenNameIdentifier	 compiler Name
=	TokenNameEQUAL	
"jasper"	TokenNameStringLiteral	jasper
;	TokenNameSEMICOLON	
/** * -ieplugin &lt;clsid&gt; Java Plugin classid for Internet Explorer */	TokenNameCOMMENT_JAVADOC	 -ieplugin &lt;clsid&gt; Java Plugin classid for Internet Explorer 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
iepluginid	TokenNameIdentifier	 iepluginid
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
mapped	TokenNameIdentifier	 mapped
;	TokenNameSEMICOLON	
private	TokenNameprivate	
int	TokenNameint	
verbose	TokenNameIdentifier	 verbose
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// CheckStyle:VisibilityModifier OFF - bc 	TokenNameCOMMENT_LINE	CheckStyle:VisibilityModifier OFF - bc 
protected	TokenNameprotected	
Vector	TokenNameIdentifier	 Vector
compileList	TokenNameIdentifier	 compile List
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Vector	TokenNameIdentifier	 Vector
javaFiles	TokenNameIdentifier	 java Files
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * flag to control action on execution trouble */	TokenNameCOMMENT_JAVADOC	 flag to control action on execution trouble 
protected	TokenNameprotected	
boolean	TokenNameboolean	
failOnError	TokenNameIdentifier	 fail On Error
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
/** * -uriroot &lt;dir&gt; The root directory that uri files should be resolved * against, */	TokenNameCOMMENT_JAVADOC	 -uriroot &lt;dir&gt; The root directory that uri files should be resolved against, 
private	TokenNameprivate	
File	TokenNameIdentifier	 File
uriroot	TokenNameIdentifier	 uriroot
;	TokenNameSEMICOLON	
/** * -webinc &lt;file&gt; Creates partial servlet mappings for the -webapp option */	TokenNameCOMMENT_JAVADOC	 -webinc &lt;file&gt; Creates partial servlet mappings for the -webapp option 
private	TokenNameprivate	
File	TokenNameIdentifier	 File
webinc	TokenNameIdentifier	 webinc
;	TokenNameSEMICOLON	
/** * -webxml &lt;file&gt; Creates a complete web.xml when using the -webapp option. */	TokenNameCOMMENT_JAVADOC	 -webxml &lt;file&gt; Creates a complete web.xml when using the -webapp option. 
private	TokenNameprivate	
File	TokenNameIdentifier	 File
webxml	TokenNameIdentifier	 webxml
;	TokenNameSEMICOLON	
/** * web apps */	TokenNameCOMMENT_JAVADOC	 web apps 
protected	TokenNameprotected	
WebAppParameter	TokenNameIdentifier	 Web App Parameter
webApp	TokenNameIdentifier	 web App
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
FAIL_MSG	TokenNameIdentifier	 FAIL  MSG
=	TokenNameEQUAL	
"Compile failed, messages should have been provided."	TokenNameStringLiteral	Compile failed, messages should have been provided.
;	TokenNameSEMICOLON	
// CheckStyle:VisibilityModifier ON 	TokenNameCOMMENT_LINE	CheckStyle:VisibilityModifier ON 
/** * Set the path for source JSP files. * @param srcDir the source path. */	TokenNameCOMMENT_JAVADOC	 Set the path for source JSP files. @param srcDir the source path. 
public	TokenNamepublic	
void	TokenNamevoid	
setSrcDir	TokenNameIdentifier	 set Src Dir
(	TokenNameLPAREN	
Path	TokenNameIdentifier	 Path
srcDir	TokenNameIdentifier	 src Dir
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
src	TokenNameIdentifier	 src
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
src	TokenNameIdentifier	 src
=	TokenNameEQUAL	
srcDir	TokenNameIdentifier	 src Dir
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
src	TokenNameIdentifier	 src
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
srcDir	TokenNameIdentifier	 src Dir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Get the source dir. * @return the source path. */	TokenNameCOMMENT_JAVADOC	 Get the source dir. @return the source path. 
public	TokenNamepublic	
Path	TokenNameIdentifier	 Path
getSrcDir	TokenNameIdentifier	 get Src Dir
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
src	TokenNameIdentifier	 src
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the destination directory into which the JSP source * files should be compiled. * @param destDir the destination directory. */	TokenNameCOMMENT_JAVADOC	 Set the destination directory into which the JSP source files should be compiled. @param destDir the destination directory. 
public	TokenNamepublic	
void	TokenNamevoid	
setDestdir	TokenNameIdentifier	 set Destdir
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
destDir	TokenNameIdentifier	 dest Dir
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
destDir	TokenNameIdentifier	 dest Dir
=	TokenNameEQUAL	
destDir	TokenNameIdentifier	 dest Dir
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the destination directory. * @return the directory. */	TokenNameCOMMENT_JAVADOC	 Get the destination directory. @return the directory. 
public	TokenNamepublic	
File	TokenNameIdentifier	 File
getDestdir	TokenNameIdentifier	 get Destdir
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
destDir	TokenNameIdentifier	 dest Dir
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the name of the package the compiled jsp files should be in. * @param pkg the name of the package. */	TokenNameCOMMENT_JAVADOC	 Set the name of the package the compiled jsp files should be in. @param pkg the name of the package. 
public	TokenNamepublic	
void	TokenNamevoid	
setPackage	TokenNameIdentifier	 set Package
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
pkg	TokenNameIdentifier	 pkg
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
packageName	TokenNameIdentifier	 package Name
=	TokenNameEQUAL	
pkg	TokenNameIdentifier	 pkg
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the name of the package. * @return the package. */	TokenNameCOMMENT_JAVADOC	 Get the name of the package. @return the package. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getPackage	TokenNameIdentifier	 get Package
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
packageName	TokenNameIdentifier	 package Name
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the verbose level of the compiler * @param i the verbose level to use. */	TokenNameCOMMENT_JAVADOC	 Set the verbose level of the compiler @param i the verbose level to use. 
public	TokenNamepublic	
void	TokenNamevoid	
setVerbose	TokenNameIdentifier	 set Verbose
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
{	TokenNameLBRACE	
verbose	TokenNameIdentifier	 verbose
=	TokenNameEQUAL	
i	TokenNameIdentifier	 i
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the verbose level. * @return the level. */	TokenNameCOMMENT_JAVADOC	 Get the verbose level. @return the level. 
public	TokenNamepublic	
int	TokenNameint	
getVerbose	TokenNameIdentifier	 get Verbose
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
verbose	TokenNameIdentifier	 verbose
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Whether or not the build should halt if compilation fails. * Defaults to <code>true</code>. * @param fail a <code>boolean</code> value. */	TokenNameCOMMENT_JAVADOC	 Whether or not the build should halt if compilation fails. Defaults to <code>true</code>. @param fail a <code>boolean</code> value. 
public	TokenNamepublic	
void	TokenNamevoid	
setFailonerror	TokenNameIdentifier	 set Failonerror
(	TokenNameLPAREN	
boolean	TokenNameboolean	
fail	TokenNameIdentifier	 fail
)	TokenNameRPAREN	
{	TokenNameLBRACE	
failOnError	TokenNameIdentifier	 fail On Error
=	TokenNameEQUAL	
fail	TokenNameIdentifier	 fail
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Gets the failonerror flag. * @return the flag. */	TokenNameCOMMENT_JAVADOC	 Gets the failonerror flag. @return the flag. 
public	TokenNamepublic	
boolean	TokenNameboolean	
getFailonerror	TokenNameIdentifier	 get Failonerror
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
failOnError	TokenNameIdentifier	 fail On Error
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the IE CLASSID value. * @return the value. */	TokenNameCOMMENT_JAVADOC	 Get the IE CLASSID value. @return the value. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getIeplugin	TokenNameIdentifier	 get Ieplugin
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
iepluginid	TokenNameIdentifier	 iepluginid
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Java Plugin CLASSID for Internet Explorer * @param iepluginid the id to use. */	TokenNameCOMMENT_JAVADOC	 Java Plugin CLASSID for Internet Explorer @param iepluginid the id to use. 
public	TokenNamepublic	
void	TokenNamevoid	
setIeplugin	TokenNameIdentifier	 set Ieplugin
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
iepluginid	TokenNameIdentifier	 iepluginid
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
iepluginid	TokenNameIdentifier	 iepluginid
=	TokenNameEQUAL	
iepluginid	TokenNameIdentifier	 iepluginid
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * If true, generate separate write() calls for each HTML line * in the JSP. * @return mapping status */	TokenNameCOMMENT_JAVADOC	 If true, generate separate write() calls for each HTML line in the JSP. @return mapping status 
public	TokenNamepublic	
boolean	TokenNameboolean	
isMapped	TokenNameIdentifier	 is Mapped
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
mapped	TokenNameIdentifier	 mapped
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * If true, generate separate write() calls for each HTML line * in the JSP. * @param mapped a <code>boolean</code> value. */	TokenNameCOMMENT_JAVADOC	 If true, generate separate write() calls for each HTML line in the JSP. @param mapped a <code>boolean</code> value. 
public	TokenNamepublic	
void	TokenNamevoid	
setMapped	TokenNameIdentifier	 set Mapped
(	TokenNameLPAREN	
boolean	TokenNameboolean	
mapped	TokenNameIdentifier	 mapped
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
mapped	TokenNameIdentifier	 mapped
=	TokenNameEQUAL	
mapped	TokenNameIdentifier	 mapped
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * The URI context of relative URI references in the JSP pages. * If it does not exist then it is derived from the location * of the file relative to the declared or derived value of uriroot. * * @param uribase The new Uribase value */	TokenNameCOMMENT_JAVADOC	 The URI context of relative URI references in the JSP pages. If it does not exist then it is derived from the location of the file relative to the declared or derived value of uriroot. * @param uribase The new Uribase value 
public	TokenNamepublic	
void	TokenNamevoid	
setUribase	TokenNameIdentifier	 set Uribase
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
uribase	TokenNameIdentifier	 uribase
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Uribase is currently an unused parameter"	TokenNameStringLiteral	Uribase is currently an unused parameter
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_WARN	TokenNameIdentifier	 MSG  WARN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the uri base value. * @return the value. */	TokenNameCOMMENT_JAVADOC	 Get the uri base value. @return the value. 
public	TokenNamepublic	
File	TokenNameIdentifier	 File
getUribase	TokenNameIdentifier	 get Uribase
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
uriroot	TokenNameIdentifier	 uriroot
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * The root directory that uri files should be resolved * against. (Default is the directory jspc is invoked from) * * @param uriroot The new Uribase value */	TokenNameCOMMENT_JAVADOC	 The root directory that uri files should be resolved against. (Default is the directory jspc is invoked from) * @param uriroot The new Uribase value 
public	TokenNamepublic	
void	TokenNamevoid	
setUriroot	TokenNameIdentifier	 set Uriroot
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
uriroot	TokenNameIdentifier	 uriroot
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
uriroot	TokenNameIdentifier	 uriroot
=	TokenNameEQUAL	
uriroot	TokenNameIdentifier	 uriroot
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the uri root value. * @return the value. */	TokenNameCOMMENT_JAVADOC	 Get the uri root value. @return the value. 
public	TokenNamepublic	
File	TokenNameIdentifier	 File
getUriroot	TokenNameIdentifier	 get Uriroot
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
uriroot	TokenNameIdentifier	 uriroot
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the classpath to be used for this compilation. * @param cp the path to be used. */	TokenNameCOMMENT_JAVADOC	 Set the classpath to be used for this compilation. @param cp the path to be used. 
public	TokenNamepublic	
void	TokenNamevoid	
setClasspath	TokenNameIdentifier	 set Classpath
(	TokenNameLPAREN	
Path	TokenNameIdentifier	 Path
cp	TokenNameIdentifier	 cp
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
classpath	TokenNameIdentifier	 classpath
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
classpath	TokenNameIdentifier	 classpath
=	TokenNameEQUAL	
cp	TokenNameIdentifier	 cp
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
classpath	TokenNameIdentifier	 classpath
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
cp	TokenNameIdentifier	 cp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Adds a path to the classpath. * @return a path to be configured. */	TokenNameCOMMENT_JAVADOC	 Adds a path to the classpath. @return a path to be configured. 
public	TokenNamepublic	
Path	TokenNameIdentifier	 Path
createClasspath	TokenNameIdentifier	 create Classpath
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
classpath	TokenNameIdentifier	 classpath
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
classpath	TokenNameIdentifier	 classpath
=	TokenNameEQUAL	
new	TokenNamenew	
Path	TokenNameIdentifier	 Path
(	TokenNameLPAREN	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
classpath	TokenNameIdentifier	 classpath
.	TokenNameDOT	
createPath	TokenNameIdentifier	 create Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Adds a reference to a classpath defined elsewhere * @param r a reference to a classpath. */	TokenNameCOMMENT_JAVADOC	 Adds a reference to a classpath defined elsewhere @param r a reference to a classpath. 
public	TokenNamepublic	
void	TokenNamevoid	
setClasspathRef	TokenNameIdentifier	 set Classpath Ref
(	TokenNameLPAREN	
Reference	TokenNameIdentifier	 Reference
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
{	TokenNameLBRACE	
createClasspath	TokenNameIdentifier	 create Classpath
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setRefid	TokenNameIdentifier	 set Refid
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the classpath. * @return the classpath. */	TokenNameCOMMENT_JAVADOC	 Get the classpath. @return the classpath. 
public	TokenNamepublic	
Path	TokenNameIdentifier	 Path
getClasspath	TokenNameIdentifier	 get Classpath
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
classpath	TokenNameIdentifier	 classpath
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the classpath to be used to find this compiler adapter * @param cp the compiler classpath. */	TokenNameCOMMENT_JAVADOC	 Set the classpath to be used to find this compiler adapter @param cp the compiler classpath. 
public	TokenNamepublic	
void	TokenNamevoid	
setCompilerclasspath	TokenNameIdentifier	 set Compilerclasspath
(	TokenNameLPAREN	
Path	TokenNameIdentifier	 Path
cp	TokenNameIdentifier	 cp
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
compilerClasspath	TokenNameIdentifier	 compiler Classpath
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
compilerClasspath	TokenNameIdentifier	 compiler Classpath
=	TokenNameEQUAL	
cp	TokenNameIdentifier	 cp
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
compilerClasspath	TokenNameIdentifier	 compiler Classpath
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
cp	TokenNameIdentifier	 cp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * get the classpath used to find the compiler adapter * @return the compiler classpath. */	TokenNameCOMMENT_JAVADOC	 get the classpath used to find the compiler adapter @return the compiler classpath. 
public	TokenNamepublic	
Path	TokenNameIdentifier	 Path
getCompilerclasspath	TokenNameIdentifier	 get Compilerclasspath
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
compilerClasspath	TokenNameIdentifier	 compiler Classpath
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Support nested compiler classpath, used to locate compiler adapter * @return a path to be configured. */	TokenNameCOMMENT_JAVADOC	 Support nested compiler classpath, used to locate compiler adapter @return a path to be configured. 
public	TokenNamepublic	
Path	TokenNameIdentifier	 Path
createCompilerclasspath	TokenNameIdentifier	 create Compilerclasspath
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
compilerClasspath	TokenNameIdentifier	 compiler Classpath
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
compilerClasspath	TokenNameIdentifier	 compiler Classpath
=	TokenNameEQUAL	
new	TokenNamenew	
Path	TokenNameIdentifier	 Path
(	TokenNameLPAREN	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
compilerClasspath	TokenNameIdentifier	 compiler Classpath
.	TokenNameDOT	
createPath	TokenNameIdentifier	 create Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Filename for web.xml. * * @param webxml The new Webxml value */	TokenNameCOMMENT_JAVADOC	 Filename for web.xml. * @param webxml The new Webxml value 
public	TokenNamepublic	
void	TokenNamevoid	
setWebxml	TokenNameIdentifier	 set Webxml
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
webxml	TokenNameIdentifier	 webxml
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
webxml	TokenNameIdentifier	 webxml
=	TokenNameEQUAL	
webxml	TokenNameIdentifier	 webxml
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Filename for web.xml. * @return The filename for web.xml. */	TokenNameCOMMENT_JAVADOC	 Filename for web.xml. @return The filename for web.xml. 
public	TokenNamepublic	
File	TokenNameIdentifier	 File
getWebxml	TokenNameIdentifier	 get Webxml
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
this	TokenNamethis	
.	TokenNameDOT	
webxml	TokenNameIdentifier	 webxml
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * output filename for the fraction of web.xml that lists * servlets. * @param webinc The new Webinc value */	TokenNameCOMMENT_JAVADOC	 output filename for the fraction of web.xml that lists servlets. @param webinc The new Webinc value 
public	TokenNamepublic	
void	TokenNamevoid	
setWebinc	TokenNameIdentifier	 set Webinc
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
webinc	TokenNameIdentifier	 webinc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
webinc	TokenNameIdentifier	 webinc
=	TokenNameEQUAL	
webinc	TokenNameIdentifier	 webinc
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the webinc attribute. * @return the webinc attribute. */	TokenNameCOMMENT_JAVADOC	 Get the webinc attribute. @return the webinc attribute. 
public	TokenNamepublic	
File	TokenNameIdentifier	 File
getWebinc	TokenNameIdentifier	 get Webinc
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
this	TokenNamethis	
.	TokenNameDOT	
webinc	TokenNameIdentifier	 webinc
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Adds a single webapp. * * @param webappParam add a web app parameter * @throws BuildException if more than one webapp is specified. */	TokenNameCOMMENT_JAVADOC	 Adds a single webapp. * @param webappParam add a web app parameter @throws BuildException if more than one webapp is specified. 
public	TokenNamepublic	
void	TokenNamevoid	
addWebApp	TokenNameIdentifier	 add Web App
(	TokenNameLPAREN	
WebAppParameter	TokenNameIdentifier	 Web App Parameter
webappParam	TokenNameIdentifier	 webapp Param
)	TokenNameRPAREN	
throws	TokenNamethrows	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
//demand create vector of filesets 	TokenNameCOMMENT_LINE	demand create vector of filesets 
if	TokenNameif	
(	TokenNameLPAREN	
webApp	TokenNameIdentifier	 web App
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
webApp	TokenNameIdentifier	 web App
=	TokenNameEQUAL	
webappParam	TokenNameIdentifier	 webapp Param
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"Only one webapp can be specified"	TokenNameStringLiteral	Only one webapp can be specified
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Get the web app. * @return the web app attribute. */	TokenNameCOMMENT_JAVADOC	 Get the web app. @return the web app attribute. 
public	TokenNamepublic	
WebAppParameter	TokenNameIdentifier	 Web App Parameter
getWebApp	TokenNameIdentifier	 get Web App
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
webApp	TokenNameIdentifier	 web App
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Class name of a JSP compiler adapter. * @param compiler the compiler class name. */	TokenNameCOMMENT_JAVADOC	 Class name of a JSP compiler adapter. @param compiler the compiler class name. 
public	TokenNamepublic	
void	TokenNamevoid	
setCompiler	TokenNameIdentifier	 set Compiler
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
compiler	TokenNameIdentifier	 compiler
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
compilerName	TokenNameIdentifier	 compiler Name
=	TokenNameEQUAL	
compiler	TokenNameIdentifier	 compiler
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * get the list of files to compile * @return the list of files. */	TokenNameCOMMENT_JAVADOC	 get the list of files to compile @return the list of files. 
public	TokenNamepublic	
Vector	TokenNameIdentifier	 Vector
getCompileList	TokenNameIdentifier	 get Compile List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
compileList	TokenNameIdentifier	 compile List
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * execute by building up a list of files that * have changed and hand them off to a jsp compiler * @throws BuildException on error. */	TokenNameCOMMENT_JAVADOC	 execute by building up a list of files that have changed and hand them off to a jsp compiler @throws BuildException on error. 
public	TokenNamepublic	
void	TokenNamevoid	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
// make sure that we've got a destdir 	TokenNameCOMMENT_LINE	make sure that we've got a destdir 
if	TokenNameif	
(	TokenNameLPAREN	
destDir	TokenNameIdentifier	 dest Dir
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"destdir attribute must be set!"	TokenNameStringLiteral	destdir attribute must be set!
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
destDir	TokenNameIdentifier	 dest Dir
.	TokenNameDOT	
isDirectory	TokenNameIdentifier	 is Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"destination directory ""	TokenNameStringLiteral	destination directory "
+	TokenNamePLUS	
destDir	TokenNameIdentifier	 dest Dir
+	TokenNamePLUS	
"" does not exist or is not a directory"	TokenNameStringLiteral	" does not exist or is not a directory
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
File	TokenNameIdentifier	 File
dest	TokenNameIdentifier	 dest
=	TokenNameEQUAL	
getActualDestDir	TokenNameIdentifier	 get Actual Dest Dir
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AntClassLoader	TokenNameIdentifier	 Ant Class Loader
al	TokenNameIdentifier	 al
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
//bind to a compiler 	TokenNameCOMMENT_LINE	bind to a compiler 
JspCompilerAdapter	TokenNameIdentifier	 Jsp Compiler Adapter
compiler	TokenNameIdentifier	 compiler
=	TokenNameEQUAL	
JspCompilerAdapterFactory	TokenNameIdentifier	 Jsp Compiler Adapter Factory
.	TokenNameDOT	
getCompiler	TokenNameIdentifier	 get Compiler
(	TokenNameLPAREN	
compilerName	TokenNameIdentifier	 compiler Name
,	TokenNameCOMMA	
this	TokenNamethis	
,	TokenNameCOMMA	
al	TokenNameIdentifier	 al
=	TokenNameEQUAL	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
createClassLoader	TokenNameIdentifier	 create Class Loader
(	TokenNameLPAREN	
compilerClasspath	TokenNameIdentifier	 compiler Classpath
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//if we are a webapp, hand off to the compiler, which had 	TokenNameCOMMENT_LINE	if we are a webapp, hand off to the compiler, which had 
//better handle it 	TokenNameCOMMENT_LINE	better handle it 
if	TokenNameif	
(	TokenNameLPAREN	
webApp	TokenNameIdentifier	 web App
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
doCompilation	TokenNameIdentifier	 do Compilation
(	TokenNameLPAREN	
compiler	TokenNameIdentifier	 compiler
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// make sure that we've got a srcdir 	TokenNameCOMMENT_LINE	make sure that we've got a srcdir 
if	TokenNameif	
(	TokenNameLPAREN	
src	TokenNameIdentifier	 src
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"srcdir attribute must be set!"	TokenNameStringLiteral	srcdir attribute must be set!
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
list	TokenNameIdentifier	 list
=	TokenNameEQUAL	
src	TokenNameIdentifier	 src
.	TokenNameDOT	
list	TokenNameIdentifier	 list
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
list	TokenNameIdentifier	 list
.	TokenNameDOT	
length	TokenNameIdentifier	 length
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"srcdir attribute must be set!"	TokenNameStringLiteral	srcdir attribute must be set!
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// if the compiler does its own dependency stuff, we just 	TokenNameCOMMENT_LINE	if the compiler does its own dependency stuff, we just 
// call it right now 	TokenNameCOMMENT_LINE	call it right now 
if	TokenNameif	
(	TokenNameLPAREN	
compiler	TokenNameIdentifier	 compiler
.	TokenNameDOT	
implementsOwnDependencyChecking	TokenNameIdentifier	 implements Own Dependency Checking
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
doCompilation	TokenNameIdentifier	 do Compilation
(	TokenNameLPAREN	
compiler	TokenNameIdentifier	 compiler
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
//the remainder of this method is only for compilers that 	TokenNameCOMMENT_LINE	the remainder of this method is only for compilers that 
//need their dependency work done 	TokenNameCOMMENT_LINE	need their dependency work done 
JspMangler	TokenNameIdentifier	 Jsp Mangler
mangler	TokenNameIdentifier	 mangler
=	TokenNameEQUAL	
compiler	TokenNameIdentifier	 compiler
.	TokenNameDOT	
createMangler	TokenNameIdentifier	 create Mangler
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// scan source directories and dest directory to build up both copy 	TokenNameCOMMENT_LINE	scan source directories and dest directory to build up both copy 
// lists and compile lists 	TokenNameCOMMENT_LINE	lists and compile lists 
resetFileLists	TokenNameIdentifier	 reset File Lists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
filecount	TokenNameIdentifier	 filecount
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
list	TokenNameIdentifier	 list
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
File	TokenNameIdentifier	 File
srcDir	TokenNameIdentifier	 src Dir
=	TokenNameEQUAL	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
list	TokenNameIdentifier	 list
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
srcDir	TokenNameIdentifier	 src Dir
.	TokenNameDOT	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"srcdir ""	TokenNameStringLiteral	srcdir "
+	TokenNamePLUS	
srcDir	TokenNameIdentifier	 src Dir
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
"" does not exist!"	TokenNameStringLiteral	" does not exist!
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
DirectoryScanner	TokenNameIdentifier	 Directory Scanner
ds	TokenNameIdentifier	 ds
=	TokenNameEQUAL	
this	TokenNamethis	
.	TokenNameDOT	
getDirectoryScanner	TokenNameIdentifier	 get Directory Scanner
(	TokenNameLPAREN	
srcDir	TokenNameIdentifier	 src Dir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
files	TokenNameIdentifier	 files
=	TokenNameEQUAL	
ds	TokenNameIdentifier	 ds
.	TokenNameDOT	
getIncludedFiles	TokenNameIdentifier	 get Included Files
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
filecount	TokenNameIdentifier	 filecount
=	TokenNameEQUAL	
files	TokenNameIdentifier	 files
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
scanDir	TokenNameIdentifier	 scan Dir
(	TokenNameLPAREN	
srcDir	TokenNameIdentifier	 src Dir
,	TokenNameCOMMA	
dest	TokenNameIdentifier	 dest
,	TokenNameCOMMA	
mangler	TokenNameIdentifier	 mangler
,	TokenNameCOMMA	
files	TokenNameIdentifier	 files
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// compile the source files 	TokenNameCOMMENT_LINE	compile the source files 
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"compiling "	TokenNameStringLiteral	compiling 
+	TokenNamePLUS	
compileList	TokenNameIdentifier	 compile List
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" files"	TokenNameStringLiteral	 files
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
compileList	TokenNameIdentifier	 compile List
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Compiling "	TokenNameStringLiteral	Compiling 
+	TokenNamePLUS	
compileList	TokenNameIdentifier	 compile List
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" source file"	TokenNameStringLiteral	 source file
+	TokenNamePLUS	
(	TokenNameLPAREN	
compileList	TokenNameIdentifier	 compile List
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
1	TokenNameIntegerLiteral	
?	TokenNameQUESTION	
""	TokenNameStringLiteral	 
:	TokenNameCOLON	
"s"	TokenNameStringLiteral	s
)	TokenNameRPAREN	
+	TokenNamePLUS	
" to "	TokenNameStringLiteral	 to 
+	TokenNamePLUS	
dest	TokenNameIdentifier	 dest
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doCompilation	TokenNameIdentifier	 do Compilation
(	TokenNameLPAREN	
compiler	TokenNameIdentifier	 compiler
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
filecount	TokenNameIdentifier	 filecount
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"there were no files to compile"	TokenNameStringLiteral	there were no files to compile
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_INFO	TokenNameIdentifier	 MSG  INFO
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"all files are up to date"	TokenNameStringLiteral	all files are up to date
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
al	TokenNameIdentifier	 al
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
al	TokenNameIdentifier	 al
.	TokenNameDOT	
cleanup	TokenNameIdentifier	 cleanup
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * calculate where the files will end up: * this is destDir or it id destDir + the package name */	TokenNameCOMMENT_JAVADOC	 calculate where the files will end up: this is destDir or it id destDir + the package name 
private	TokenNameprivate	
File	TokenNameIdentifier	 File
getActualDestDir	TokenNameIdentifier	 get Actual Dest Dir
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
File	TokenNameIdentifier	 File
dest	TokenNameIdentifier	 dest
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
packageName	TokenNameIdentifier	 package Name
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
dest	TokenNameIdentifier	 dest
=	TokenNameEQUAL	
destDir	TokenNameIdentifier	 dest Dir
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
path	TokenNameIdentifier	 path
=	TokenNameEQUAL	
destDir	TokenNameIdentifier	 dest Dir
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
separatorChar	TokenNameIdentifier	 separator Char
+	TokenNamePLUS	
packageName	TokenNameIdentifier	 package Name
.	TokenNameDOT	
replace	TokenNameIdentifier	 replace
(	TokenNameLPAREN	
'.'	TokenNameCharacterLiteral	
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
separatorChar	TokenNameIdentifier	 separator Char
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
dest	TokenNameIdentifier	 dest
=	TokenNameEQUAL	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
path	TokenNameIdentifier	 path
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
dest	TokenNameIdentifier	 dest
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * do the compile */	TokenNameCOMMENT_JAVADOC	 do the compile 
private	TokenNameprivate	
void	TokenNamevoid	
doCompilation	TokenNameIdentifier	 do Compilation
(	TokenNameLPAREN	
JspCompilerAdapter	TokenNameIdentifier	 Jsp Compiler Adapter
compiler	TokenNameIdentifier	 compiler
)	TokenNameRPAREN	
throws	TokenNamethrows	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
// now we need to populate the compiler adapter 	TokenNameCOMMENT_LINE	now we need to populate the compiler adapter 
compiler	TokenNameIdentifier	 compiler
.	TokenNameDOT	
setJspc	TokenNameIdentifier	 set Jspc
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// finally, lets execute the compiler!! 	TokenNameCOMMENT_LINE	finally, lets execute the compiler!! 
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
compiler	TokenNameIdentifier	 compiler
.	TokenNameDOT	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
failOnError	TokenNameIdentifier	 fail On Error
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
FAIL_MSG	TokenNameIdentifier	 FAIL  MSG
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
FAIL_MSG	TokenNameIdentifier	 FAIL  MSG
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_ERR	TokenNameIdentifier	 MSG  ERR
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Clear the list of files to be compiled and copied.. */	TokenNameCOMMENT_JAVADOC	 Clear the list of files to be compiled and copied.. 
protected	TokenNameprotected	
void	TokenNamevoid	
resetFileLists	TokenNameIdentifier	 reset File Lists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
compileList	TokenNameIdentifier	 compile List
.	TokenNameDOT	
removeAllElements	TokenNameIdentifier	 remove All Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Scans the directory looking for source files to be compiled. * The results are returned in the class variable compileList * @param srcDir the source directory. * @param dest the destination directory. * @param mangler the jsp filename mangler. * @param files the file names to mangle. */	TokenNameCOMMENT_JAVADOC	 Scans the directory looking for source files to be compiled. The results are returned in the class variable compileList @param srcDir the source directory. @param dest the destination directory. @param mangler the jsp filename mangler. @param files the file names to mangle. 
protected	TokenNameprotected	
void	TokenNamevoid	
scanDir	TokenNameIdentifier	 scan Dir
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
srcDir	TokenNameIdentifier	 src Dir
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
dest	TokenNameIdentifier	 dest
,	TokenNameCOMMA	
JspMangler	TokenNameIdentifier	 Jsp Mangler
mangler	TokenNameIdentifier	 mangler
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
files	TokenNameIdentifier	 files
)	TokenNameRPAREN	
{	TokenNameLBRACE	
long	TokenNamelong	
now	TokenNameIdentifier	 now
=	TokenNameEQUAL	
(	TokenNameLPAREN	
new	TokenNamenew	
Date	TokenNameIdentifier	 Date
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getTime	TokenNameIdentifier	 get Time
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
files	TokenNameIdentifier	 files
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
filename	TokenNameIdentifier	 filename
=	TokenNameEQUAL	
files	TokenNameIdentifier	 files
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
File	TokenNameIdentifier	 File
srcFile	TokenNameIdentifier	 src File
=	TokenNameEQUAL	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
srcDir	TokenNameIdentifier	 src Dir
,	TokenNameCOMMA	
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
File	TokenNameIdentifier	 File
javaFile	TokenNameIdentifier	 java File
=	TokenNameEQUAL	
mapToJavaFile	TokenNameIdentifier	 map To Java File
(	TokenNameLPAREN	
mangler	TokenNameIdentifier	 mangler
,	TokenNameCOMMA	
srcFile	TokenNameIdentifier	 src File
,	TokenNameCOMMA	
srcDir	TokenNameIdentifier	 src Dir
,	TokenNameCOMMA	
dest	TokenNameIdentifier	 dest
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
javaFile	TokenNameIdentifier	 java File
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
srcFile	TokenNameIdentifier	 src File
.	TokenNameDOT	
lastModified	TokenNameIdentifier	 last Modified
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
now	TokenNameIdentifier	 now
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Warning: file modified in the future: "	TokenNameStringLiteral	Warning: file modified in the future: 
+	TokenNamePLUS	
filename	TokenNameIdentifier	 filename
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_WARN	TokenNameIdentifier	 MSG  WARN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
boolean	TokenNameboolean	
shouldCompile	TokenNameIdentifier	 should Compile
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
shouldCompile	TokenNameIdentifier	 should Compile
=	TokenNameEQUAL	
isCompileNeeded	TokenNameIdentifier	 is Compile Needed
(	TokenNameLPAREN	
srcFile	TokenNameIdentifier	 src File
,	TokenNameCOMMA	
javaFile	TokenNameIdentifier	 java File
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
shouldCompile	TokenNameIdentifier	 should Compile
)	TokenNameRPAREN	
{	TokenNameLBRACE	
compileList	TokenNameIdentifier	 compile List
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
srcFile	TokenNameIdentifier	 src File
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
javaFiles	TokenNameIdentifier	 java Files
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
javaFile	TokenNameIdentifier	 java File
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Test whether or not compilation is needed. A return value of * <code>true<code> means yes, <code>false</code> means * our tests do not indicate this, but as the TLDs are * not used for dependency checking this is not guaranteed. * The current tests are * <ol> * <li>no dest file * <li>dest file out of date w.r.t source * <li>dest file zero bytes long * </ol> * @param srcFile JSP source file * @param javaFile JSP dest file * @return true if a compile is definately needed. * */	TokenNameCOMMENT_JAVADOC	 Test whether or not compilation is needed. A return value of <code>true<code> means yes, <code>false</code> means our tests do not indicate this, but as the TLDs are not used for dependency checking this is not guaranteed. The current tests are <ol> <li>no dest file <li>dest file out of date w.r.t source <li>dest file zero bytes long </ol> @param srcFile JSP source file @param javaFile JSP dest file @return true if a compile is definately needed. 
private	TokenNameprivate	
boolean	TokenNameboolean	
isCompileNeeded	TokenNameIdentifier	 is Compile Needed
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
srcFile	TokenNameIdentifier	 src File
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
javaFile	TokenNameIdentifier	 java File
)	TokenNameRPAREN	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
shouldCompile	TokenNameIdentifier	 should Compile
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
javaFile	TokenNameIdentifier	 java File
.	TokenNameDOT	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
shouldCompile	TokenNameIdentifier	 should Compile
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Compiling "	TokenNameStringLiteral	Compiling 
+	TokenNamePLUS	
srcFile	TokenNameIdentifier	 src File
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" because java file "	TokenNameStringLiteral	 because java file 
+	TokenNamePLUS	
javaFile	TokenNameIdentifier	 java File
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" does not exist"	TokenNameStringLiteral	 does not exist
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
srcFile	TokenNameIdentifier	 src File
.	TokenNameDOT	
lastModified	TokenNameIdentifier	 last Modified
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
javaFile	TokenNameIdentifier	 java File
.	TokenNameDOT	
lastModified	TokenNameIdentifier	 last Modified
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
shouldCompile	TokenNameIdentifier	 should Compile
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Compiling "	TokenNameStringLiteral	Compiling 
+	TokenNamePLUS	
srcFile	TokenNameIdentifier	 src File
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" because it is out of date with respect to "	TokenNameStringLiteral	 because it is out of date with respect to 
+	TokenNamePLUS	
javaFile	TokenNameIdentifier	 java File
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
javaFile	TokenNameIdentifier	 java File
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
shouldCompile	TokenNameIdentifier	 should Compile
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Compiling "	TokenNameStringLiteral	Compiling 
+	TokenNamePLUS	
srcFile	TokenNameIdentifier	 src File
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" because java file "	TokenNameStringLiteral	 because java file 
+	TokenNamePLUS	
javaFile	TokenNameIdentifier	 java File
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" is empty"	TokenNameStringLiteral	 is empty
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
shouldCompile	TokenNameIdentifier	 should Compile
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * get a filename from our jsp file. * @param mangler the jsp filename managler. * @param srcFile the source file. * @param srcDir the source directory. * @param dest the destination directory. * @return the filename. * @todo support packages and subdirs */	TokenNameCOMMENT_JAVADOC	 get a filename from our jsp file. @param mangler the jsp filename managler. @param srcFile the source file. @param srcDir the source directory. @param dest the destination directory. @return the filename. @todo support packages and subdirs 
protected	TokenNameprotected	
File	TokenNameIdentifier	 File
mapToJavaFile	TokenNameIdentifier	 map To Java File
(	TokenNameLPAREN	
JspMangler	TokenNameIdentifier	 Jsp Mangler
mangler	TokenNameIdentifier	 mangler
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
srcFile	TokenNameIdentifier	 src File
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
srcDir	TokenNameIdentifier	 src Dir
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
dest	TokenNameIdentifier	 dest
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
srcFile	TokenNameIdentifier	 src File
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
endsWith	TokenNameIdentifier	 ends With
(	TokenNameLPAREN	
".jsp"	TokenNameStringLiteral	.jsp
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
javaFileName	TokenNameIdentifier	 java File Name
=	TokenNameEQUAL	
mangler	TokenNameIdentifier	 mangler
.	TokenNameDOT	
mapJspToJavaName	TokenNameIdentifier	 map Jsp To Java Name
(	TokenNameLPAREN	
srcFile	TokenNameIdentifier	 src File
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// String srcFileDir=srcFile.getParent(); 	TokenNameCOMMENT_LINE	String srcFileDir=srcFile.getParent(); 
return	TokenNamereturn	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
dest	TokenNameIdentifier	 dest
,	TokenNameCOMMA	
javaFileName	TokenNameIdentifier	 java File Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * delete any java output files that are empty * this is to get around a little defect in jasper: when it * fails, it leaves incomplete files around. */	TokenNameCOMMENT_JAVADOC	 delete any java output files that are empty this is to get around a little defect in jasper: when it fails, it leaves incomplete files around. 
public	TokenNamepublic	
void	TokenNamevoid	
deleteEmptyJavaFiles	TokenNameIdentifier	 delete Empty Java Files
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
javaFiles	TokenNameIdentifier	 java Files
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Enumeration	TokenNameIdentifier	 Enumeration
e	TokenNameIdentifier	 e
=	TokenNameEQUAL	
javaFiles	TokenNameIdentifier	 java Files
.	TokenNameDOT	
elements	TokenNameIdentifier	 elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
File	TokenNameIdentifier	 File
file	TokenNameIdentifier	 file
=	TokenNameEQUAL	
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
)	TokenNameRPAREN	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
nextElement	TokenNameIdentifier	 next Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"deleting empty output file "	TokenNameStringLiteral	deleting empty output file 
+	TokenNamePLUS	
file	TokenNameIdentifier	 file
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
delete	TokenNameIdentifier	 delete
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * static inner class used as a parameter element */	TokenNameCOMMENT_JAVADOC	 static inner class used as a parameter element 
public	TokenNamepublic	
static	TokenNamestatic	
class	TokenNameclass	
WebAppParameter	TokenNameIdentifier	 Web App Parameter
{	TokenNameLBRACE	
/** * the sole option */	TokenNameCOMMENT_JAVADOC	 the sole option 
private	TokenNameprivate	
File	TokenNameIdentifier	 File
directory	TokenNameIdentifier	 directory
;	TokenNameSEMICOLON	
/** * query current directory * @return the directory. */	TokenNameCOMMENT_JAVADOC	 query current directory @return the directory. 
public	TokenNamepublic	
File	TokenNameIdentifier	 File
getDirectory	TokenNameIdentifier	 get Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
directory	TokenNameIdentifier	 directory
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * set directory; alternate syntax * @param directory the base dir. */	TokenNameCOMMENT_JAVADOC	 set directory; alternate syntax @param directory the base dir. 
public	TokenNamepublic	
void	TokenNamevoid	
setBaseDir	TokenNameIdentifier	 set Base Dir
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
directory	TokenNameIdentifier	 directory
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
directory	TokenNameIdentifier	 directory
=	TokenNameEQUAL	
directory	TokenNameIdentifier	 directory
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
//end inner class 	TokenNameCOMMENT_LINE	end inner class 
}	TokenNameRBRACE	
//end class 	TokenNameCOMMENT_LINE	end class 
}	TokenNameRBRACE	
