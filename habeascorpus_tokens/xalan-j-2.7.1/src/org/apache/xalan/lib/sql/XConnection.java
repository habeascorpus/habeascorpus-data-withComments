/* * Licensed to the Apache Software Foundation (ASF) under one * or more contributor license agreements. See the NOTICE file * distributed with this work for additional information * regarding copyright ownership. The ASF licenses this file * to you under the Apache License, Version 2.0 (the "License"); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to you under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
/* * $Id: XConnection.java 468638 2006-10-28 06:52:06Z minchau $ */	TokenNameCOMMENT_BLOCK	 $Id: XConnection.java 468638 2006-10-28 06:52:06Z minchau $ 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
lib	TokenNameIdentifier	 lib
.	TokenNameDOT	
sql	TokenNameIdentifier	 sql
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
sql	TokenNameIdentifier	 sql
.	TokenNameDOT	
Connection	TokenNameIdentifier	 Connection
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
sql	TokenNameIdentifier	 sql
.	TokenNameDOT	
SQLException	TokenNameIdentifier	 SQL Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
sql	TokenNameIdentifier	 sql
.	TokenNameDOT	
SQLWarning	TokenNameIdentifier	 SQL Warning
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Properties	TokenNameIdentifier	 Properties
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Vector	TokenNameIdentifier	 Vector
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
.	TokenNameDOT	
ErrorListener	TokenNameIdentifier	 Error Listener
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
.	TokenNameDOT	
TransformerException	TokenNameIdentifier	 Transformer Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
extensions	TokenNameIdentifier	 extensions
.	TokenNameDOT	
ExpressionContext	TokenNameIdentifier	 Expression Context
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
dtm	TokenNameIdentifier	 dtm
.	TokenNameDOT	
DTM	TokenNameIdentifier	 DTM
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
dtm	TokenNameIdentifier	 dtm
.	TokenNameDOT	
DTMIterator	TokenNameIdentifier	 DTM Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
dtm	TokenNameIdentifier	 dtm
.	TokenNameDOT	
DTMManager	TokenNameIdentifier	 DTM Manager
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
dtm	TokenNameIdentifier	 dtm
.	TokenNameDOT	
ref	TokenNameIdentifier	 ref
.	TokenNameDOT	
DTMManagerDefault	TokenNameIdentifier	 DTM Manager Default
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
dtm	TokenNameIdentifier	 dtm
.	TokenNameDOT	
ref	TokenNameIdentifier	 ref
.	TokenNameDOT	
DTMNodeIterator	TokenNameIdentifier	 DTM Node Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
dtm	TokenNameIdentifier	 dtm
.	TokenNameDOT	
ref	TokenNameIdentifier	 ref
.	TokenNameDOT	
DTMNodeProxy	TokenNameIdentifier	 DTM Node Proxy
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xpath	TokenNameIdentifier	 xpath
.	TokenNameDOT	
XPathContext	TokenNameIdentifier	 X Path Context
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xpath	TokenNameIdentifier	 xpath
.	TokenNameDOT	
objects	TokenNameIdentifier	 objects
.	TokenNameDOT	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xpath	TokenNameIdentifier	 xpath
.	TokenNameDOT	
objects	TokenNameIdentifier	 objects
.	TokenNameDOT	
XNodeSet	TokenNameIdentifier	 X Node Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Element	TokenNameIdentifier	 Element
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
NamedNodeMap	TokenNameIdentifier	 Named Node Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Node	TokenNameIdentifier	 Node
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
NodeList	TokenNameIdentifier	 Node List
;	TokenNameSEMICOLON	
/** * An XSLT extension that allows a stylesheet to * access JDBC data. * * It is accessed by specifying a namespace URI as follows: * <pre> * xmlns:sql="http://xml.apache.org/xalan/sql" * </pre> * * From the stylesheet perspective, * XConnection provides 3 extension functions: new(), * query(), and close(). * Use new() to call one of XConnection constructors, which * establishes a JDBC driver connection to a data source and * returns an XConnection object. * Then use the XConnection object query() method to return a * result set in the form of a row-set element. * When you have finished working with the row-set, call the * XConnection object close() method to terminate the connection. */	TokenNameCOMMENT_JAVADOC	 An XSLT extension that allows a stylesheet to access JDBC data. * It is accessed by specifying a namespace URI as follows: <pre> xmlns:sql="http://xml.apache.org/xalan/sql" </pre> * From the stylesheet perspective, XConnection provides 3 extension functions: new(), query(), and close(). Use new() to call one of XConnection constructors, which establishes a JDBC driver connection to a data source and returns an XConnection object. Then use the XConnection object query() method to return a result set in the form of a row-set element. When you have finished working with the row-set, call the XConnection object close() method to terminate the connection. 
public	TokenNamepublic	
class	TokenNameclass	
XConnection	TokenNameIdentifier	 X Connection
{	TokenNameLBRACE	
/** * Flag for DEBUG mode */	TokenNameCOMMENT_JAVADOC	 Flag for DEBUG mode 
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
boolean	TokenNameboolean	
DEBUG	TokenNameIdentifier	 DEBUG
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * The Current Connection Pool in Use. An XConnection can only * represent one query at a time, prior to doing some type of query. */	TokenNameCOMMENT_JAVADOC	 The Current Connection Pool in Use. An XConnection can only represent one query at a time, prior to doing some type of query. 
private	TokenNameprivate	
ConnectionPool	TokenNameIdentifier	 Connection Pool
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * The DBMS Connection used to produce this SQL Document. * Will be used to clear free up the database resources on * close. */	TokenNameCOMMENT_JAVADOC	 The DBMS Connection used to produce this SQL Document. Will be used to clear free up the database resources on close. 
private	TokenNameprivate	
Connection	TokenNameIdentifier	 Connection
m_Connection	TokenNameIdentifier	 m  Connection
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * If a default Connection Pool is used. i.e. A connection Pool * that is created internally, then do we actually allow pools * to be created. Due to the archititure of the Xalan Extensions, * there is no notification of when the Extension is being unloaded and * as such, there is a good chance that JDBC COnnections are not closed. * A finalized is provided to try and catch this situation but since * support of finalizers is inconsistant across JVM's this may cause * a problem. The robustness of the JDBC Driver is also at issue here. * if a controlled shutdown is provided by the driver then default * conntectiom pools are OK. */	TokenNameCOMMENT_JAVADOC	 If a default Connection Pool is used. i.e. A connection Pool that is created internally, then do we actually allow pools to be created. Due to the archititure of the Xalan Extensions, there is no notification of when the Extension is being unloaded and as such, there is a good chance that JDBC COnnections are not closed. A finalized is provided to try and catch this situation but since support of finalizers is inconsistant across JVM's this may cause a problem. The robustness of the JDBC Driver is also at issue here. if a controlled shutdown is provided by the driver then default conntectiom pools are OK. 
private	TokenNameprivate	
boolean	TokenNameboolean	
m_DefaultPoolingEnabled	TokenNameIdentifier	 m  Default Pooling Enabled
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * As we do queries, we will produce SQL Documents. Any ony may produce * one or more SQL Documents so that the current connection information * may be easilly reused. This collection will hold a collection of all * the documents created. As Documents are closed, they will be removed * from the collection and told to free all the used resources. */	TokenNameCOMMENT_JAVADOC	 As we do queries, we will produce SQL Documents. Any ony may produce one or more SQL Documents so that the current connection information may be easilly reused. This collection will hold a collection of all the documents created. As Documents are closed, they will be removed from the collection and told to free all the used resources. 
private	TokenNameprivate	
Vector	TokenNameIdentifier	 Vector
m_OpenSQLDocuments	TokenNameIdentifier	 m  Open SQL Documents
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Let's keep a copy of the ConnectionPoolMgr in * alive here so we are keeping the static pool alive * We will also use this Pool Manager to register our default pools. */	TokenNameCOMMENT_JAVADOC	 Let's keep a copy of the ConnectionPoolMgr in alive here so we are keeping the static pool alive We will also use this Pool Manager to register our default pools. 
private	TokenNameprivate	
ConnectionPoolManager	TokenNameIdentifier	 Connection Pool Manager
m_PoolMgr	TokenNameIdentifier	 m  Pool Mgr
=	TokenNameEQUAL	
new	TokenNamenew	
ConnectionPoolManager	TokenNameIdentifier	 Connection Pool Manager
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * For PreparedStatements, we need a place to * to store the parameters in a vector. */	TokenNameCOMMENT_JAVADOC	 For PreparedStatements, we need a place to to store the parameters in a vector. 
private	TokenNameprivate	
Vector	TokenNameIdentifier	 Vector
m_ParameterList	TokenNameIdentifier	 m  Parameter List
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Allow the SQL Extensions to return null on error. The Error information will * be stored in a seperate Error Document that can easily be retrived using the * getError() method. * %REVIEW% This functionality will probably be buried inside the SQLDocument. */	TokenNameCOMMENT_JAVADOC	 Allow the SQL Extensions to return null on error. The Error information will be stored in a seperate Error Document that can easily be retrived using the getError() method. %REVIEW% This functionality will probably be buried inside the SQLDocument. 
private	TokenNameprivate	
Exception	TokenNameIdentifier	 Exception
m_Error	TokenNameIdentifier	 m  Error
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * When the Stylesheet wants to review the errors from a paticular * document, it asks the XConnection. We need to track what document * in the list of managed documents caused the last error. As SetError * is called, it will record the document that had the error. */	TokenNameCOMMENT_JAVADOC	 When the Stylesheet wants to review the errors from a paticular document, it asks the XConnection. We need to track what document in the list of managed documents caused the last error. As SetError is called, it will record the document that had the error. 
private	TokenNameprivate	
SQLDocument	TokenNameIdentifier	 SQL Document
m_LastSQLDocumentWithError	TokenNameIdentifier	 m  Last SQL Document With Error
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * If true then full information should be returned about errors and warnings * in getError(). This includes chained errors and warnings. * If false (the default) then getError() returns just the first SQLException. */	TokenNameCOMMENT_JAVADOC	 If true then full information should be returned about errors and warnings in getError(). This includes chained errors and warnings. If false (the default) then getError() returns just the first SQLException. 
private	TokenNameprivate	
boolean	TokenNameboolean	
m_FullErrors	TokenNameIdentifier	 m  Full Errors
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * One a per XConnection basis there is a master QueryParser that is responsible * for generating Query Parsers. This will allow us to cache previous instances * so the inline parser execution time is minimized. */	TokenNameCOMMENT_JAVADOC	 One a per XConnection basis there is a master QueryParser that is responsible for generating Query Parsers. This will allow us to cache previous instances so the inline parser execution time is minimized. 
private	TokenNameprivate	
SQLQueryParser	TokenNameIdentifier	 SQL Query Parser
m_QueryParser	TokenNameIdentifier	 m  Query Parser
=	TokenNameEQUAL	
new	TokenNamenew	
SQLQueryParser	TokenNameIdentifier	 SQL Query Parser
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** */	TokenNameCOMMENT_JAVADOC	 
private	TokenNameprivate	
boolean	TokenNameboolean	
m_IsDefaultPool	TokenNameIdentifier	 m  Is Default Pool
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * This flag will be used to indicate to the SQLDocument to use * Streaming mode. Streeaming Mode will reduce the memory footprint * to a fixed amount but will not let you traverse the tree more than * once since the Row data will be reused for every Row in the Query. */	TokenNameCOMMENT_JAVADOC	 This flag will be used to indicate to the SQLDocument to use Streaming mode. Streeaming Mode will reduce the memory footprint to a fixed amount but will not let you traverse the tree more than once since the Row data will be reused for every Row in the Query. 
private	TokenNameprivate	
boolean	TokenNameboolean	
m_IsStreamingEnabled	TokenNameIdentifier	 m  Is Streaming Enabled
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
/** * */	TokenNameCOMMENT_JAVADOC	 
private	TokenNameprivate	
boolean	TokenNameboolean	
m_InlineVariables	TokenNameIdentifier	 m  Inline Variables
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * This flag will be used to indicate if multiple result sets are * supported from the database. If they are, then the metadata element is * moved to insude the row-set element and multiple row-set elements may * be included under the sql root element. */	TokenNameCOMMENT_JAVADOC	 This flag will be used to indicate if multiple result sets are supported from the database. If they are, then the metadata element is moved to insude the row-set element and multiple row-set elements may be included under the sql root element. 
private	TokenNameprivate	
boolean	TokenNameboolean	
m_IsMultipleResultsEnabled	TokenNameIdentifier	 m  Is Multiple Results Enabled
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * This flag will be used to indicate if database preparedstatements * should be cached. This also controls if the Java statement object * should be cached. */	TokenNameCOMMENT_JAVADOC	 This flag will be used to indicate if database preparedstatements should be cached. This also controls if the Java statement object should be cached. 
private	TokenNameprivate	
boolean	TokenNameboolean	
m_IsStatementCachingEnabled	TokenNameIdentifier	 m  Is Statement Caching Enabled
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** */	TokenNameCOMMENT_JAVADOC	 
public	TokenNamepublic	
XConnection	TokenNameIdentifier	 X Connection
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * Constructs a new XConnection and attempts to connect to a datasource as * defined in the * <code>connect(ExpressionContext exprContext, String connPoolName)</code> * method. * <code>org.apache.xalan.lib.sql.ConnectionPool</code> or a JNDI datasource. * * @param exprContext Context automatically passed from the XSLT sheet. * @param name The name of the ConnectionPool or the JNDI DataSource path. * */	TokenNameCOMMENT_JAVADOC	 Constructs a new XConnection and attempts to connect to a datasource as defined in the <code>connect(ExpressionContext exprContext, String connPoolName)</code> method. <code>org.apache.xalan.lib.sql.ConnectionPool</code> or a JNDI datasource. * @param exprContext Context automatically passed from the XSLT sheet. @param name The name of the ConnectionPool or the JNDI DataSource path. 
public	TokenNamepublic	
XConnection	TokenNameIdentifier	 X Connection
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
connPoolName	TokenNameIdentifier	 conn Pool Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
connect	TokenNameIdentifier	 connect
(	TokenNameLPAREN	
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
connPoolName	TokenNameIdentifier	 conn Pool Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @param exprContext * @param driver * @param dbURL */	TokenNameCOMMENT_JAVADOC	 @param exprContext @param driver @param dbURL 
public	TokenNamepublic	
XConnection	TokenNameIdentifier	 X Connection
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
driver	TokenNameIdentifier	 driver
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
dbURL	TokenNameIdentifier	 db URL
)	TokenNameRPAREN	
{	TokenNameLBRACE	
connect	TokenNameIdentifier	 connect
(	TokenNameLPAREN	
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
driver	TokenNameIdentifier	 driver
,	TokenNameCOMMA	
dbURL	TokenNameIdentifier	 db URL
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @param exprContext * @param list */	TokenNameCOMMENT_JAVADOC	 @param exprContext @param list 
public	TokenNamepublic	
XConnection	TokenNameIdentifier	 X Connection
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
NodeList	TokenNameIdentifier	 Node List
list	TokenNameIdentifier	 list
)	TokenNameRPAREN	
{	TokenNameLBRACE	
connect	TokenNameIdentifier	 connect
(	TokenNameLPAREN	
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
list	TokenNameIdentifier	 list
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @param exprContext * @param driver * @param dbURL * @param user * @param password */	TokenNameCOMMENT_JAVADOC	 @param exprContext @param driver @param dbURL @param user @param password 
public	TokenNamepublic	
XConnection	TokenNameIdentifier	 X Connection
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
driver	TokenNameIdentifier	 driver
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
dbURL	TokenNameIdentifier	 db URL
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
user	TokenNameIdentifier	 user
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
password	TokenNameIdentifier	 password
)	TokenNameRPAREN	
{	TokenNameLBRACE	
connect	TokenNameIdentifier	 connect
(	TokenNameLPAREN	
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
driver	TokenNameIdentifier	 driver
,	TokenNameCOMMA	
dbURL	TokenNameIdentifier	 db URL
,	TokenNameCOMMA	
user	TokenNameIdentifier	 user
,	TokenNameCOMMA	
password	TokenNameIdentifier	 password
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @param exprContext * @param driver * @param dbURL * @param protocolElem */	TokenNameCOMMENT_JAVADOC	 @param exprContext @param driver @param dbURL @param protocolElem 
public	TokenNamepublic	
XConnection	TokenNameIdentifier	 X Connection
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
driver	TokenNameIdentifier	 driver
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
dbURL	TokenNameIdentifier	 db URL
,	TokenNameCOMMA	
Element	TokenNameIdentifier	 Element
protocolElem	TokenNameIdentifier	 protocol Elem
)	TokenNameRPAREN	
{	TokenNameLBRACE	
connect	TokenNameIdentifier	 connect
(	TokenNameLPAREN	
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
driver	TokenNameIdentifier	 driver
,	TokenNameCOMMA	
dbURL	TokenNameIdentifier	 db URL
,	TokenNameCOMMA	
protocolElem	TokenNameIdentifier	 protocol Elem
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns an XConnection from either a user created * <code>org.apache.xalan.lib.sql.ConnectionPool</code> or a JNDI datasource. * * This method first tries to resolve the passed name against * <code>ConnectionPool</code>s registered with * <code>ConnectionPoolManager</code>. * If that fails, it attempts to find the name as a JNDI DataSource path. * * @param exprContext Context automatically passed from the XSLT sheet. * @param name The name of the ConnectionPool or the JNDI DataSource path. * */	TokenNameCOMMENT_JAVADOC	 Returns an XConnection from either a user created <code>org.apache.xalan.lib.sql.ConnectionPool</code> or a JNDI datasource. * This method first tries to resolve the passed name against <code>ConnectionPool</code>s registered with <code>ConnectionPoolManager</code>. If that fails, it attempts to find the name as a JNDI DataSource path. * @param exprContext Context automatically passed from the XSLT sheet. @param name The name of the ConnectionPool or the JNDI DataSource path. 
public	TokenNamepublic	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
connect	TokenNameIdentifier	 connect
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
=	TokenNameEQUAL	
m_PoolMgr	TokenNameIdentifier	 m  Pool Mgr
.	TokenNameDOT	
getPool	TokenNameIdentifier	 get Pool
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//Try to create a jndi source with the passed name 	TokenNameCOMMENT_LINE	Try to create a jndi source with the passed name 
ConnectionPool	TokenNameIdentifier	 Connection Pool
pool	TokenNameIdentifier	 pool
=	TokenNameEQUAL	
new	TokenNamenew	
JNDIConnectionPool	TokenNameIdentifier	 JNDI Connection Pool
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
pool	TokenNameIdentifier	 pool
.	TokenNameDOT	
testConnection	TokenNameIdentifier	 test Connection
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//JNDIConnectionPool seems good, so register it with the pool manager. 	TokenNameCOMMENT_LINE	JNDIConnectionPool seems good, so register it with the pool manager. 
//Once registered, it will show up like other named ConnectionPool's, 	TokenNameCOMMENT_LINE	Once registered, it will show up like other named ConnectionPool's, 
//so the m_PoolMgr.getPool(name) method (above) will find it. 	TokenNameCOMMENT_LINE	so the m_PoolMgr.getPool(name) method (above) will find it. 
m_PoolMgr	TokenNameIdentifier	 m  Pool Mgr
.	TokenNameDOT	
registerPool	TokenNameIdentifier	 register Pool
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
pool	TokenNameIdentifier	 pool
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
=	TokenNameEQUAL	
pool	TokenNameIdentifier	 pool
;	TokenNameSEMICOLON	
m_IsDefaultPool	TokenNameIdentifier	 m  Is Default Pool
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalArgumentException	TokenNameIdentifier	 Illegal Argument Exception
(	TokenNameLPAREN	
"Invalid ConnectionPool name or JNDI Datasource path: "	TokenNameStringLiteral	Invalid ConnectionPool name or JNDI Datasource path: 
+	TokenNamePLUS	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
m_IsDefaultPool	TokenNameIdentifier	 m  Is Default Pool
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
exprContext	TokenNameIdentifier	 expr Context
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Create an XConnection object with just a driver and database URL. * @param exprContext * @param driver JDBC driver of the form foo.bar.Driver. * @param dbURL database URL of the form jdbc:subprotocol:subname. * */	TokenNameCOMMENT_JAVADOC	 Create an XConnection object with just a driver and database URL. @param exprContext @param driver JDBC driver of the form foo.bar.Driver. @param dbURL database URL of the form jdbc:subprotocol:subname. 
public	TokenNamepublic	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
connect	TokenNameIdentifier	 connect
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
driver	TokenNameIdentifier	 driver
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
dbURL	TokenNameIdentifier	 db URL
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
init	TokenNameIdentifier	 init
(	TokenNameLPAREN	
driver	TokenNameIdentifier	 driver
,	TokenNameCOMMA	
dbURL	TokenNameIdentifier	 db URL
,	TokenNameCOMMA	
new	TokenNamenew	
Properties	TokenNameIdentifier	 Properties
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
SQLException	TokenNameIdentifier	 SQL Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
exprContext	TokenNameIdentifier	 expr Context
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
exprContext	TokenNameIdentifier	 expr Context
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * @param exprContext * @param protocolElem * */	TokenNameCOMMENT_JAVADOC	 @param exprContext @param protocolElem 
public	TokenNamepublic	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
connect	TokenNameIdentifier	 connect
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
Element	TokenNameIdentifier	 Element
protocolElem	TokenNameIdentifier	 protocol Elem
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
initFromElement	TokenNameIdentifier	 init From Element
(	TokenNameLPAREN	
protocolElem	TokenNameIdentifier	 protocol Elem
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
SQLException	TokenNameIdentifier	 SQL Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
exprContext	TokenNameIdentifier	 expr Context
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
exprContext	TokenNameIdentifier	 expr Context
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * @param exprContext * @param list * */	TokenNameCOMMENT_JAVADOC	 @param exprContext @param list 
public	TokenNamepublic	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
connect	TokenNameIdentifier	 connect
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
NodeList	TokenNameIdentifier	 Node List
list	TokenNameIdentifier	 list
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
initFromElement	TokenNameIdentifier	 init From Element
(	TokenNameLPAREN	
(	TokenNameLPAREN	
Element	TokenNameIdentifier	 Element
)	TokenNameRPAREN	
list	TokenNameIdentifier	 list
.	TokenNameDOT	
item	TokenNameIdentifier	 item
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
SQLException	TokenNameIdentifier	 SQL Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
exprContext	TokenNameIdentifier	 expr Context
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
exprContext	TokenNameIdentifier	 expr Context
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Create an XConnection object with user ID and password. * @param exprContext * @param driver JDBC driver of the form foo.bar.Driver. * @param dbURL database URL of the form jdbc:subprotocol:subname. * @param user user ID. * @param password connection password. * */	TokenNameCOMMENT_JAVADOC	 Create an XConnection object with user ID and password. @param exprContext @param driver JDBC driver of the form foo.bar.Driver. @param dbURL database URL of the form jdbc:subprotocol:subname. @param user user ID. @param password connection password. 
public	TokenNamepublic	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
connect	TokenNameIdentifier	 connect
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
driver	TokenNameIdentifier	 driver
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
dbURL	TokenNameIdentifier	 db URL
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
user	TokenNameIdentifier	 user
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
password	TokenNameIdentifier	 password
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
Properties	TokenNameIdentifier	 Properties
prop	TokenNameIdentifier	 prop
=	TokenNameEQUAL	
new	TokenNamenew	
Properties	TokenNameIdentifier	 Properties
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
prop	TokenNameIdentifier	 prop
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"user"	TokenNameStringLiteral	user
,	TokenNameCOMMA	
user	TokenNameIdentifier	 user
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
prop	TokenNameIdentifier	 prop
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"password"	TokenNameStringLiteral	password
,	TokenNameCOMMA	
password	TokenNameIdentifier	 password
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
init	TokenNameIdentifier	 init
(	TokenNameLPAREN	
driver	TokenNameIdentifier	 driver
,	TokenNameCOMMA	
dbURL	TokenNameIdentifier	 db URL
,	TokenNameCOMMA	
prop	TokenNameIdentifier	 prop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
SQLException	TokenNameIdentifier	 SQL Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
exprContext	TokenNameIdentifier	 expr Context
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
exprContext	TokenNameIdentifier	 expr Context
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Create an XConnection object with a connection protocol * @param exprContext * @param driver JDBC driver of the form foo.bar.Driver. * @param dbURL database URL of the form jdbc:subprotocol:subname. * @param protocolElem list of string tag/value connection arguments, * normally including at least "user" and "password". * */	TokenNameCOMMENT_JAVADOC	 Create an XConnection object with a connection protocol @param exprContext @param driver JDBC driver of the form foo.bar.Driver. @param dbURL database URL of the form jdbc:subprotocol:subname. @param protocolElem list of string tag/value connection arguments, normally including at least "user" and "password". 
public	TokenNamepublic	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
connect	TokenNameIdentifier	 connect
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
driver	TokenNameIdentifier	 driver
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
dbURL	TokenNameIdentifier	 db URL
,	TokenNameCOMMA	
Element	TokenNameIdentifier	 Element
protocolElem	TokenNameIdentifier	 protocol Elem
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
Properties	TokenNameIdentifier	 Properties
prop	TokenNameIdentifier	 prop
=	TokenNameEQUAL	
new	TokenNamenew	
Properties	TokenNameIdentifier	 Properties
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
NamedNodeMap	TokenNameIdentifier	 Named Node Map
atts	TokenNameIdentifier	 atts
=	TokenNameEQUAL	
protocolElem	TokenNameIdentifier	 protocol Elem
.	TokenNameDOT	
getAttributes	TokenNameIdentifier	 get Attributes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
atts	TokenNameIdentifier	 atts
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
prop	TokenNameIdentifier	 prop
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
atts	TokenNameIdentifier	 atts
.	TokenNameDOT	
item	TokenNameIdentifier	 item
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
atts	TokenNameIdentifier	 atts
.	TokenNameDOT	
item	TokenNameIdentifier	 item
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
init	TokenNameIdentifier	 init
(	TokenNameLPAREN	
driver	TokenNameIdentifier	 driver
,	TokenNameCOMMA	
dbURL	TokenNameIdentifier	 db URL
,	TokenNameCOMMA	
prop	TokenNameIdentifier	 prop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
SQLException	TokenNameIdentifier	 SQL Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
exprContext	TokenNameIdentifier	 expr Context
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
exprContext	TokenNameIdentifier	 expr Context
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
XBooleanStatic	TokenNameIdentifier	 X Boolean Static
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Allow the database connection information to be sepcified in * the XML tree. The connection information could also be * externally originated and passed in as an XSL Parameter. * The required XML Format is as follows. * A document fragment is needed to specify the connection information * the top tag name is not specific for this code, we are only interested * in the tags inside. * <DBINFO-TAG> * Specify the driver name for this connection pool * <dbdriver>drivername</dbdriver> * Specify the URL for the driver in this connection pool * <dburl>url</dburl> * Specify the password for this connection pool * <password>password</password> * Specify the username for this connection pool * <user>username</user> * You can add extra protocol items including the User Name & Password * with the protocol tag. For each extra protocol item, add a new element * where the name of the item is specified as the name attribute and * and its value as the elements value. * <protocol name="name of value">value</protocol> * </DBINFO-TAG> * @param e * * @throws SQLException */	TokenNameCOMMENT_JAVADOC	 Allow the database connection information to be sepcified in the XML tree. The connection information could also be externally originated and passed in as an XSL Parameter. The required XML Format is as follows. A document fragment is needed to specify the connection information the top tag name is not specific for this code, we are only interested in the tags inside. <DBINFO-TAG> Specify the driver name for this connection pool <dbdriver>drivername</dbdriver> Specify the URL for the driver in this connection pool <dburl>url</dburl> Specify the password for this connection pool <password>password</password> Specify the username for this connection pool <user>username</user> You can add extra protocol items including the User Name & Password with the protocol tag. For each extra protocol item, add a new element where the name of the item is specified as the name attribute and and its value as the elements value. <protocol name="name of value">value</protocol> </DBINFO-TAG> @param e * @throws SQLException 
private	TokenNameprivate	
void	TokenNamevoid	
initFromElement	TokenNameIdentifier	 init From Element
(	TokenNameLPAREN	
Element	TokenNameIdentifier	 Element
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
throws	TokenNamethrows	
SQLException	TokenNameIdentifier	 SQL Exception
{	TokenNameLBRACE	
Properties	TokenNameIdentifier	 Properties
prop	TokenNameIdentifier	 prop
=	TokenNameEQUAL	
new	TokenNamenew	
Properties	TokenNameIdentifier	 Properties
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
driver	TokenNameIdentifier	 driver
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
dbURL	TokenNameIdentifier	 db URL
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
getFirstChild	TokenNameIdentifier	 get First Child
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
==	TokenNameEQUAL_EQUAL	
n	TokenNameIdentifier	 n
)	TokenNameRPAREN	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
// really need to throw an error 	TokenNameCOMMENT_LINE	really need to throw an error 
do	TokenNamedo	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
nName	TokenNameIdentifier	 n Name
=	TokenNameEQUAL	
n	TokenNameIdentifier	 n
.	TokenNameDOT	
getNodeName	TokenNameIdentifier	 get Node Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
nName	TokenNameIdentifier	 n Name
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
"dbdriver"	TokenNameStringLiteral	dbdriver
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
driver	TokenNameIdentifier	 driver
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
n1	TokenNameIdentifier	 n1
=	TokenNameEQUAL	
n	TokenNameIdentifier	 n
.	TokenNameDOT	
getFirstChild	TokenNameIdentifier	 get First Child
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
n1	TokenNameIdentifier	 n1
)	TokenNameRPAREN	
{	TokenNameLBRACE	
driver	TokenNameIdentifier	 driver
=	TokenNameEQUAL	
n1	TokenNameIdentifier	 n1
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
nName	TokenNameIdentifier	 n Name
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
"dburl"	TokenNameStringLiteral	dburl
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
dbURL	TokenNameIdentifier	 db URL
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
n1	TokenNameIdentifier	 n1
=	TokenNameEQUAL	
n	TokenNameIdentifier	 n
.	TokenNameDOT	
getFirstChild	TokenNameIdentifier	 get First Child
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
n1	TokenNameIdentifier	 n1
)	TokenNameRPAREN	
{	TokenNameLBRACE	
dbURL	TokenNameIdentifier	 db URL
=	TokenNameEQUAL	
n1	TokenNameIdentifier	 n1
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
nName	TokenNameIdentifier	 n Name
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
"password"	TokenNameStringLiteral	password
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
n1	TokenNameIdentifier	 n1
=	TokenNameEQUAL	
n	TokenNameIdentifier	 n
.	TokenNameDOT	
getFirstChild	TokenNameIdentifier	 get First Child
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
n1	TokenNameIdentifier	 n1
)	TokenNameRPAREN	
{	TokenNameLBRACE	
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
n1	TokenNameIdentifier	 n1
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
prop	TokenNameIdentifier	 prop
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"password"	TokenNameStringLiteral	password
,	TokenNameCOMMA	
s	TokenNameIdentifier	 s
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
nName	TokenNameIdentifier	 n Name
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
"user"	TokenNameStringLiteral	user
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
n1	TokenNameIdentifier	 n1
=	TokenNameEQUAL	
n	TokenNameIdentifier	 n
.	TokenNameDOT	
getFirstChild	TokenNameIdentifier	 get First Child
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
n1	TokenNameIdentifier	 n1
)	TokenNameRPAREN	
{	TokenNameLBRACE	
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
n1	TokenNameIdentifier	 n1
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
prop	TokenNameIdentifier	 prop
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"user"	TokenNameStringLiteral	user
,	TokenNameCOMMA	
s	TokenNameIdentifier	 s
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
nName	TokenNameIdentifier	 n Name
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
"protocol"	TokenNameStringLiteral	protocol
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
Name	TokenNameIdentifier	 Name
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
NamedNodeMap	TokenNameIdentifier	 Named Node Map
attrs	TokenNameIdentifier	 attrs
=	TokenNameEQUAL	
n	TokenNameIdentifier	 n
.	TokenNameDOT	
getAttributes	TokenNameIdentifier	 get Attributes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
n1	TokenNameIdentifier	 n1
=	TokenNameEQUAL	
attrs	TokenNameIdentifier	 attrs
.	TokenNameDOT	
getNamedItem	TokenNameIdentifier	 get Named Item
(	TokenNameLPAREN	
"name"	TokenNameStringLiteral	name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
n1	TokenNameIdentifier	 n1
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
Name	TokenNameIdentifier	 Name
=	TokenNameEQUAL	
n1	TokenNameIdentifier	 n1
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
n2	TokenNameIdentifier	 n2
=	TokenNameEQUAL	
n	TokenNameIdentifier	 n
.	TokenNameDOT	
getFirstChild	TokenNameIdentifier	 get First Child
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
n2	TokenNameIdentifier	 n2
)	TokenNameRPAREN	
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
n2	TokenNameIdentifier	 n2
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
prop	TokenNameIdentifier	 prop
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Name	TokenNameIdentifier	 Name
,	TokenNameCOMMA	
s	TokenNameIdentifier	 s
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
n	TokenNameIdentifier	 n
.	TokenNameDOT	
getNextSibling	TokenNameIdentifier	 get Next Sibling
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
init	TokenNameIdentifier	 init
(	TokenNameLPAREN	
driver	TokenNameIdentifier	 driver
,	TokenNameCOMMA	
dbURL	TokenNameIdentifier	 db URL
,	TokenNameCOMMA	
prop	TokenNameIdentifier	 prop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Initilize is being called because we did not have an * existing Connection Pool, so let's see if we created one * already or lets create one ourselves. * @param driver * @param dbURL * @param prop * * @throws SQLException */	TokenNameCOMMENT_JAVADOC	 Initilize is being called because we did not have an existing Connection Pool, so let's see if we created one already or lets create one ourselves. @param driver @param dbURL @param prop * @throws SQLException 
private	TokenNameprivate	
void	TokenNamevoid	
init	TokenNameIdentifier	 init
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
driver	TokenNameIdentifier	 driver
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
dbURL	TokenNameIdentifier	 db URL
,	TokenNameCOMMA	
Properties	TokenNameIdentifier	 Properties
prop	TokenNameIdentifier	 prop
)	TokenNameRPAREN	
throws	TokenNamethrows	
SQLException	TokenNameIdentifier	 SQL Exception
{	TokenNameLBRACE	
Connection	TokenNameIdentifier	 Connection
con	TokenNameIdentifier	 con
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"XConnection, Connection Init"	TokenNameStringLiteral	XConnection, Connection Init
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
user	TokenNameIdentifier	 user
=	TokenNameEQUAL	
prop	TokenNameIdentifier	 prop
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
"user"	TokenNameStringLiteral	user
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
user	TokenNameIdentifier	 user
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
user	TokenNameIdentifier	 user
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
passwd	TokenNameIdentifier	 passwd
=	TokenNameEQUAL	
prop	TokenNameIdentifier	 prop
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
"password"	TokenNameStringLiteral	password
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
passwd	TokenNameIdentifier	 passwd
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
passwd	TokenNameIdentifier	 passwd
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
poolName	TokenNameIdentifier	 pool Name
=	TokenNameEQUAL	
driver	TokenNameIdentifier	 driver
+	TokenNamePLUS	
dbURL	TokenNameIdentifier	 db URL
+	TokenNamePLUS	
user	TokenNameIdentifier	 user
+	TokenNamePLUS	
passwd	TokenNameIdentifier	 passwd
;	TokenNameSEMICOLON	
ConnectionPool	TokenNameIdentifier	 Connection Pool
cpool	TokenNameIdentifier	 cpool
=	TokenNameEQUAL	
m_PoolMgr	TokenNameIdentifier	 m  Pool Mgr
.	TokenNameDOT	
getPool	TokenNameIdentifier	 get Pool
(	TokenNameLPAREN	
poolName	TokenNameIdentifier	 pool Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
cpool	TokenNameIdentifier	 cpool
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"XConnection, Creating Connection"	TokenNameStringLiteral	XConnection, Creating Connection
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" Driver :"	TokenNameStringLiteral	 Driver :
+	TokenNamePLUS	
driver	TokenNameIdentifier	 driver
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" URL :"	TokenNameStringLiteral	 URL :
+	TokenNamePLUS	
dbURL	TokenNameIdentifier	 db URL
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" user :"	TokenNameStringLiteral	 user :
+	TokenNamePLUS	
user	TokenNameIdentifier	 user
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" passwd :"	TokenNameStringLiteral	 passwd :
+	TokenNamePLUS	
passwd	TokenNameIdentifier	 passwd
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
DefaultConnectionPool	TokenNameIdentifier	 Default Connection Pool
defpool	TokenNameIdentifier	 defpool
=	TokenNameEQUAL	
new	TokenNamenew	
DefaultConnectionPool	TokenNameIdentifier	 Default Connection Pool
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
defpool	TokenNameIdentifier	 defpool
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Failed to Create a Default Connection Pool"	TokenNameStringLiteral	Failed to Create a Default Connection Pool
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
defpool	TokenNameIdentifier	 defpool
.	TokenNameDOT	
setDriver	TokenNameIdentifier	 set Driver
(	TokenNameLPAREN	
driver	TokenNameIdentifier	 driver
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
defpool	TokenNameIdentifier	 defpool
.	TokenNameDOT	
setURL	TokenNameIdentifier	 set URL
(	TokenNameLPAREN	
dbURL	TokenNameIdentifier	 db URL
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
defpool	TokenNameIdentifier	 defpool
.	TokenNameDOT	
setProtocol	TokenNameIdentifier	 set Protocol
(	TokenNameLPAREN	
prop	TokenNameIdentifier	 prop
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Only enable pooling in the default pool if we are explicatly 	TokenNameCOMMENT_LINE	Only enable pooling in the default pool if we are explicatly 
// told too. 	TokenNameCOMMENT_LINE	told too. 
if	TokenNameif	
(	TokenNameLPAREN	
m_DefaultPoolingEnabled	TokenNameIdentifier	 m  Default Pooling Enabled
)	TokenNameRPAREN	
defpool	TokenNameIdentifier	 defpool
.	TokenNameDOT	
setPoolEnabled	TokenNameIdentifier	 set Pool Enabled
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_PoolMgr	TokenNameIdentifier	 m  Pool Mgr
.	TokenNameDOT	
registerPool	TokenNameIdentifier	 register Pool
(	TokenNameLPAREN	
poolName	TokenNameIdentifier	 pool Name
,	TokenNameCOMMA	
defpool	TokenNameIdentifier	 defpool
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
=	TokenNameEQUAL	
defpool	TokenNameIdentifier	 defpool
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
=	TokenNameEQUAL	
cpool	TokenNameIdentifier	 cpool
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
m_IsDefaultPool	TokenNameIdentifier	 m  Is Default Pool
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
// 	TokenNameCOMMENT_LINE	 
// Let's test to see if we really can connect 	TokenNameCOMMENT_LINE	Let's test to see if we really can connect 
// Just remember to give it back after the test. 	TokenNameCOMMENT_LINE	Just remember to give it back after the test. 
// 	TokenNameCOMMENT_LINE	 
try	TokenNametry	
{	TokenNameLBRACE	
con	TokenNameIdentifier	 con
=	TokenNameEQUAL	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
.	TokenNameDOT	
getConnection	TokenNameIdentifier	 get Connection
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
SQLException	TokenNameIdentifier	 SQL Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
con	TokenNameIdentifier	 con
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
.	TokenNameDOT	
releaseConnectionOnError	TokenNameIdentifier	 release Connection On Error
(	TokenNameLPAREN	
con	TokenNameIdentifier	 con
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
con	TokenNameIdentifier	 con
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
throw	TokenNamethrow	
e	TokenNameIdentifier	 e
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
con	TokenNameIdentifier	 con
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
.	TokenNameDOT	
releaseConnection	TokenNameIdentifier	 release Connection
(	TokenNameLPAREN	
con	TokenNameIdentifier	 con
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Allow the SQL Document to retrive a connection to be used * to build the SQL Statement. */	TokenNameCOMMENT_JAVADOC	 Allow the SQL Document to retrive a connection to be used to build the SQL Statement. 
public	TokenNamepublic	
ConnectionPool	TokenNameIdentifier	 Connection Pool
getConnectionPool	TokenNameIdentifier	 get Connection Pool
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Execute a query statement by instantiating an * @param exprContext * @param queryString the SQL query. * @return XStatement implements NodeIterator. * @throws SQLException * @link org.apache.xalan.lib.sql.XStatement XStatement} * object. The XStatement executes the query, and uses the result set * to create a * @link org.apache.xalan.lib.sql.RowSet RowSet}, * a row-set element. */	TokenNameCOMMENT_JAVADOC	 Execute a query statement by instantiating an @param exprContext @param queryString the SQL query. @return XStatement implements NodeIterator. @throws SQLException @link org.apache.xalan.lib.sql.XStatement XStatement} object. The XStatement executes the query, and uses the result set to create a @link org.apache.xalan.lib.sql.RowSet RowSet}, a row-set element. 
public	TokenNamepublic	
DTM	TokenNameIdentifier	 DTM
query	TokenNameIdentifier	 query
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
queryString	TokenNameIdentifier	 query String
)	TokenNameRPAREN	
{	TokenNameLBRACE	
SQLDocument	TokenNameIdentifier	 SQL Document
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"pquery()"	TokenNameStringLiteral	pquery()
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Build an Error Document, NOT Connected. 	TokenNameCOMMENT_LINE	Build an Error Document, NOT Connected. 
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
==	TokenNameEQUAL_EQUAL	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
SQLQueryParser	TokenNameIdentifier	 SQL Query Parser
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
m_QueryParser	TokenNameIdentifier	 m  Query Parser
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
queryString	TokenNameIdentifier	 query String
,	TokenNameCOMMA	
SQLQueryParser	TokenNameIdentifier	 SQL Query Parser
.	TokenNameDOT	
NO_INLINE_PARSER	TokenNameIdentifier	 NO  INLINE  PARSER
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
SQLDocument	TokenNameIdentifier	 SQL Document
.	TokenNameDOT	
getNewDocument	TokenNameIdentifier	 get New Document
(	TokenNameLPAREN	
exprContext	TokenNameIdentifier	 expr Context
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// also keep a local reference 	TokenNameCOMMENT_LINE	also keep a local reference 
m_OpenSQLDocuments	TokenNameIdentifier	 m  Open SQL Documents
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// OK We had an error building the document, let try and grab the 	TokenNameCOMMENT_LINE	OK We had an error building the document, let try and grab the 
// error information and clean up our connections. 	TokenNameCOMMENT_LINE	error information and clean up our connections. 
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"exception in query()"	TokenNameStringLiteral	exception in query()
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
hasErrors	TokenNameIdentifier	 has Errors
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
doc	TokenNameIdentifier	 doc
,	TokenNameCOMMA	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
checkWarnings	TokenNameIdentifier	 check Warnings
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
m_IsDefaultPool	TokenNameIdentifier	 m  Is Default Pool
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"leaving query()"	TokenNameStringLiteral	leaving query()
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Doc will be null if there was an error 	TokenNameCOMMENT_LINE	Doc will be null if there was an error 
return	TokenNamereturn	
doc	TokenNameIdentifier	 doc
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Execute a parameterized query statement by instantiating an * @param exprContext * @param queryString the SQL query. * @return XStatement implements NodeIterator. * @throws SQLException * @link org.apache.xalan.lib.sql.XStatement XStatement} * object. The XStatement executes the query, and uses the result set * to create a * @link org.apache.xalan.lib.sql.RowSet RowSet}, * a row-set element. */	TokenNameCOMMENT_JAVADOC	 Execute a parameterized query statement by instantiating an @param exprContext @param queryString the SQL query. @return XStatement implements NodeIterator. @throws SQLException @link org.apache.xalan.lib.sql.XStatement XStatement} object. The XStatement executes the query, and uses the result set to create a @link org.apache.xalan.lib.sql.RowSet RowSet}, a row-set element. 
public	TokenNamepublic	
DTM	TokenNameIdentifier	 DTM
pquery	TokenNameIdentifier	 pquery
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
queryString	TokenNameIdentifier	 query String
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
pquery	TokenNameIdentifier	 pquery
(	TokenNameLPAREN	
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
queryString	TokenNameIdentifier	 query String
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Execute a parameterized query statement by instantiating an * @param exprContext * @param queryString the SQL query. * @param typeInfo * @return XStatement implements NodeIterator. * @throws SQLException * @link org.apache.xalan.lib.sql.XStatement XStatement} * object. The XStatement executes the query, and uses the result set * to create a * @link org.apache.xalan.lib.sql.RowSet RowSet}, * a row-set element. * This method allows for the user to pass in a comma seperated * String that represents a list of parameter types. If supplied * the parameter types will be used to overload the current types * in the current parameter list. */	TokenNameCOMMENT_JAVADOC	 Execute a parameterized query statement by instantiating an @param exprContext @param queryString the SQL query. @param typeInfo @return XStatement implements NodeIterator. @throws SQLException @link org.apache.xalan.lib.sql.XStatement XStatement} object. The XStatement executes the query, and uses the result set to create a @link org.apache.xalan.lib.sql.RowSet RowSet}, a row-set element. This method allows for the user to pass in a comma seperated String that represents a list of parameter types. If supplied the parameter types will be used to overload the current types in the current parameter list. 
public	TokenNamepublic	
DTM	TokenNameIdentifier	 DTM
pquery	TokenNameIdentifier	 pquery
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
queryString	TokenNameIdentifier	 query String
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
typeInfo	TokenNameIdentifier	 type Info
)	TokenNameRPAREN	
{	TokenNameLBRACE	
SQLDocument	TokenNameIdentifier	 SQL Document
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"pquery()"	TokenNameStringLiteral	pquery()
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Build an Error Document, NOT Connected. 	TokenNameCOMMENT_LINE	Build an Error Document, NOT Connected. 
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
==	TokenNameEQUAL_EQUAL	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
SQLQueryParser	TokenNameIdentifier	 SQL Query Parser
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
m_QueryParser	TokenNameIdentifier	 m  Query Parser
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
queryString	TokenNameIdentifier	 query String
,	TokenNameCOMMA	
SQLQueryParser	TokenNameIdentifier	 SQL Query Parser
.	TokenNameDOT	
NO_OVERRIDE	TokenNameIdentifier	 NO  OVERRIDE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// If we are not using the inline parser, then let add the data 	TokenNameCOMMENT_LINE	If we are not using the inline parser, then let add the data 
// to the parser so it can populate the SQL Statement. 	TokenNameCOMMENT_LINE	to the parser so it can populate the SQL Statement. 
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
m_InlineVariables	TokenNameIdentifier	 m  Inline Variables
)	TokenNameRPAREN	
{	TokenNameLBRACE	
addTypeToData	TokenNameIdentifier	 add Type To Data
(	TokenNameLPAREN	
typeInfo	TokenNameIdentifier	 type Info
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
.	TokenNameDOT	
setParameters	TokenNameIdentifier	 set Parameters
(	TokenNameLPAREN	
m_ParameterList	TokenNameIdentifier	 m  Parameter List
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
SQLDocument	TokenNameIdentifier	 SQL Document
.	TokenNameDOT	
getNewDocument	TokenNameIdentifier	 get New Document
(	TokenNameLPAREN	
exprContext	TokenNameIdentifier	 expr Context
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// also keep a local reference 	TokenNameCOMMENT_LINE	also keep a local reference 
m_OpenSQLDocuments	TokenNameIdentifier	 m  Open SQL Documents
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// OK We had an error building the document, let try and grab the 	TokenNameCOMMENT_LINE	OK We had an error building the document, let try and grab the 
// error information and clean up our connections. 	TokenNameCOMMENT_LINE	error information and clean up our connections. 
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"exception in query()"	TokenNameStringLiteral	exception in query()
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
hasErrors	TokenNameIdentifier	 has Errors
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
doc	TokenNameIdentifier	 doc
,	TokenNameCOMMA	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
checkWarnings	TokenNameIdentifier	 check Warnings
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// If we are using the Default Connection Pool, then 	TokenNameCOMMENT_LINE	If we are using the Default Connection Pool, then 
// force the connection pool to flush unused connections. 	TokenNameCOMMENT_LINE	force the connection pool to flush unused connections. 
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
m_IsDefaultPool	TokenNameIdentifier	 m  Is Default Pool
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"leaving query()"	TokenNameStringLiteral	leaving query()
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Doc will be null if there was an error 	TokenNameCOMMENT_LINE	Doc will be null if there was an error 
return	TokenNamereturn	
doc	TokenNameIdentifier	 doc
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * The purpose of this routine is to force the DB cursor to skip forward * N records. You should call this function after [p]query to help with * pagination. i.e. Perfrom your select, then skip forward past the records * you read previously. * * @param exprContext * @param o * @param value */	TokenNameCOMMENT_JAVADOC	 The purpose of this routine is to force the DB cursor to skip forward N records. You should call this function after [p]query to help with pagination. i.e. Perfrom your select, then skip forward past the records you read previously. * @param exprContext @param o @param value 
public	TokenNamepublic	
void	TokenNamevoid	
skipRec	TokenNameIdentifier	 skip Rec
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
Object	TokenNameIdentifier	 Object
o	TokenNameIdentifier	 o
,	TokenNameCOMMA	
int	TokenNameint	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
{	TokenNameLBRACE	
SQLDocument	TokenNameIdentifier	 SQL Document
sqldoc	TokenNameIdentifier	 sqldoc
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
DTMNodeIterator	TokenNameIdentifier	 DTM Node Iterator
nodei	TokenNameIdentifier	 nodei
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
sqldoc	TokenNameIdentifier	 sqldoc
=	TokenNameEQUAL	
locateSQLDocument	TokenNameIdentifier	 locate SQL Document
(	TokenNameLPAREN	
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
o	TokenNameIdentifier	 o
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
sqldoc	TokenNameIdentifier	 sqldoc
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
sqldoc	TokenNameIdentifier	 sqldoc
.	TokenNameDOT	
skip	TokenNameIdentifier	 skip
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
addTypeToData	TokenNameIdentifier	 add Type To Data
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
typeInfo	TokenNameIdentifier	 type Info
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
indx	TokenNameIdentifier	 indx
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
typeInfo	TokenNameIdentifier	 type Info
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
m_ParameterList	TokenNameIdentifier	 m  Parameter List
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Parse up the parameter types that were defined 	TokenNameCOMMENT_LINE	Parse up the parameter types that were defined 
// with the query 	TokenNameCOMMENT_LINE	with the query 
StringTokenizer	TokenNameIdentifier	 String Tokenizer
plist	TokenNameIdentifier	 plist
=	TokenNameEQUAL	
new	TokenNamenew	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
(	TokenNameLPAREN	
typeInfo	TokenNameIdentifier	 type Info
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Override the existing type that is stored in the 	TokenNameCOMMENT_LINE	Override the existing type that is stored in the 
// parameter list. If there are more types than parameters 	TokenNameCOMMENT_LINE	parameter list. If there are more types than parameters 
// ignore for now, a more meaningfull error should occur 	TokenNameCOMMENT_LINE	ignore for now, a more meaningfull error should occur 
// when the actual query is executed. 	TokenNameCOMMENT_LINE	when the actual query is executed. 
indx	TokenNameIdentifier	 indx
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
plist	TokenNameIdentifier	 plist
.	TokenNameDOT	
hasMoreTokens	TokenNameIdentifier	 has More Tokens
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
plist	TokenNameIdentifier	 plist
.	TokenNameDOT	
nextToken	TokenNameIdentifier	 next Token
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
QueryParameter	TokenNameIdentifier	 Query Parameter
qp	TokenNameIdentifier	 qp
=	TokenNameEQUAL	
(	TokenNameLPAREN	
QueryParameter	TokenNameIdentifier	 Query Parameter
)	TokenNameRPAREN	
m_ParameterList	TokenNameIdentifier	 m  Parameter List
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
indx	TokenNameIdentifier	 indx
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
qp	TokenNameIdentifier	 qp
)	TokenNameRPAREN	
{	TokenNameLBRACE	
qp	TokenNameIdentifier	 qp
.	TokenNameDOT	
setTypeName	TokenNameIdentifier	 set Type Name
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
indx	TokenNameIdentifier	 indx
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Add an untyped value to the parameter list. * @param value * */	TokenNameCOMMENT_JAVADOC	 Add an untyped value to the parameter list. @param value 
public	TokenNamepublic	
void	TokenNamevoid	
addParameter	TokenNameIdentifier	 add Parameter
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
{	TokenNameLBRACE	
addParameterWithType	TokenNameIdentifier	 add Parameter With Type
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Add a typed parameter to the parameter list. * @param value * @param Type * */	TokenNameCOMMENT_JAVADOC	 Add a typed parameter to the parameter list. @param value @param Type 
public	TokenNamepublic	
void	TokenNamevoid	
addParameterWithType	TokenNameIdentifier	 add Parameter With Type
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
value	TokenNameIdentifier	 value
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
Type	TokenNameIdentifier	 Type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_ParameterList	TokenNameIdentifier	 m  Parameter List
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
new	TokenNamenew	
QueryParameter	TokenNameIdentifier	 Query Parameter
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
,	TokenNameCOMMA	
Type	TokenNameIdentifier	 Type
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Add a single parameter to the parameter list * formatted as an Element * @param e * */	TokenNameCOMMENT_JAVADOC	 Add a single parameter to the parameter list formatted as an Element @param e 
public	TokenNamepublic	
void	TokenNamevoid	
addParameterFromElement	TokenNameIdentifier	 add Parameter From Element
(	TokenNameLPAREN	
Element	TokenNameIdentifier	 Element
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
NamedNodeMap	TokenNameIdentifier	 Named Node Map
attrs	TokenNameIdentifier	 attrs
=	TokenNameEQUAL	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
getAttributes	TokenNameIdentifier	 get Attributes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
Type	TokenNameIdentifier	 Type
=	TokenNameEQUAL	
attrs	TokenNameIdentifier	 attrs
.	TokenNameDOT	
getNamedItem	TokenNameIdentifier	 get Named Item
(	TokenNameLPAREN	
"type"	TokenNameStringLiteral	type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
n1	TokenNameIdentifier	 n1
=	TokenNameEQUAL	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
getFirstChild	TokenNameIdentifier	 get First Child
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
n1	TokenNameIdentifier	 n1
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
n1	TokenNameIdentifier	 n1
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
m_ParameterList	TokenNameIdentifier	 m  Parameter List
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
new	TokenNamenew	
QueryParameter	TokenNameIdentifier	 Query Parameter
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
,	TokenNameCOMMA	
Type	TokenNameIdentifier	 Type
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Add a section of parameters to the Parameter List * Do each element from the list * @param nl * */	TokenNameCOMMENT_JAVADOC	 Add a section of parameters to the Parameter List Do each element from the list @param nl 
public	TokenNamepublic	
void	TokenNamevoid	
addParameterFromElement	TokenNameIdentifier	 add Parameter From Element
(	TokenNameLPAREN	
NodeList	TokenNameIdentifier	 Node List
nl	TokenNameIdentifier	 nl
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// 	TokenNameCOMMENT_LINE	 
// Each child of the NodeList represents a node 	TokenNameCOMMENT_LINE	Each child of the NodeList represents a node 
// match from the select= statment. Process each 	TokenNameCOMMENT_LINE	match from the select= statment. Process each 
// of them as a seperate list. 	TokenNameCOMMENT_LINE	of them as a seperate list. 
// The XML Format is as follows 	TokenNameCOMMENT_LINE	The XML Format is as follows 
// 	TokenNameCOMMENT_LINE	 
// <START-TAG> 	TokenNameCOMMENT_LINE	<START-TAG> 
// <TAG1 type="int">value</TAG1> 	TokenNameCOMMENT_LINE	<TAG1 type="int">value</TAG1> 
// <TAGA type="int">value</TAGA> 	TokenNameCOMMENT_LINE	<TAGA type="int">value</TAGA> 
// <TAG2 type="string">value</TAG2> 	TokenNameCOMMENT_LINE	<TAG2 type="string">value</TAG2> 
// </START-TAG> 	TokenNameCOMMENT_LINE	</START-TAG> 
// 	TokenNameCOMMENT_LINE	 
// The XSL to process this is formatted as follows 	TokenNameCOMMENT_LINE	The XSL to process this is formatted as follows 
// <xsl:param name="plist" select="//START-TAG" /> 	TokenNameCOMMENT_LINE	<xsl:param name="plist" select="//START-TAG" /> 
// <sql:addParameter( $plist ); 	TokenNameCOMMENT_LINE	<sql:addParameter( $plist ); 
// 	TokenNameCOMMENT_LINE	 
int	TokenNameint	
count	TokenNameIdentifier	 count
=	TokenNameEQUAL	
nl	TokenNameIdentifier	 nl
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
x	TokenNameIdentifier	 x
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
x	TokenNameIdentifier	 x
<	TokenNameLESS	
count	TokenNameIdentifier	 count
;	TokenNameSEMICOLON	
x	TokenNameIdentifier	 x
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
addParameters	TokenNameIdentifier	 add Parameters
(	TokenNameLPAREN	
(	TokenNameLPAREN	
Element	TokenNameIdentifier	 Element
)	TokenNameRPAREN	
nl	TokenNameIdentifier	 nl
.	TokenNameDOT	
item	TokenNameIdentifier	 item
(	TokenNameLPAREN	
x	TokenNameIdentifier	 x
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * @param elem * */	TokenNameCOMMENT_JAVADOC	 @param elem 
private	TokenNameprivate	
void	TokenNamevoid	
addParameters	TokenNameIdentifier	 add Parameters
(	TokenNameLPAREN	
Element	TokenNameIdentifier	 Element
elem	TokenNameIdentifier	 elem
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// 	TokenNameCOMMENT_LINE	 
// Process all of the Child Elements 	TokenNameCOMMENT_LINE	Process all of the Child Elements 
// The format is as follows 	TokenNameCOMMENT_LINE	The format is as follows 
// 	TokenNameCOMMENT_LINE	 
//<TAG type ="typeid">value</TAG> 	TokenNameCOMMENT_LINE	<TAG type ="typeid">value</TAG> 
//<TAG1 type ="typeid">value</TAG1> 	TokenNameCOMMENT_LINE	<TAG1 type ="typeid">value</TAG1> 
//<TAGA type ="typeid">value</TAGA> 	TokenNameCOMMENT_LINE	<TAGA type ="typeid">value</TAGA> 
// 	TokenNameCOMMENT_LINE	 
// The name of the Node is not important just is value 	TokenNameCOMMENT_LINE	The name of the Node is not important just is value 
// and if it contains a type attribute 	TokenNameCOMMENT_LINE	and if it contains a type attribute 
Node	TokenNameIdentifier	 Node
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
elem	TokenNameIdentifier	 elem
.	TokenNameDOT	
getFirstChild	TokenNameIdentifier	 get First Child
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
==	TokenNameEQUAL_EQUAL	
n	TokenNameIdentifier	 n
)	TokenNameRPAREN	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
do	TokenNamedo	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
n	TokenNameIdentifier	 n
.	TokenNameDOT	
getNodeType	TokenNameIdentifier	 get Node Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
Node	TokenNameIdentifier	 Node
.	TokenNameDOT	
ELEMENT_NODE	TokenNameIdentifier	 ELEMENT  NODE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
NamedNodeMap	TokenNameIdentifier	 Named Node Map
attrs	TokenNameIdentifier	 attrs
=	TokenNameEQUAL	
n	TokenNameIdentifier	 n
.	TokenNameDOT	
getAttributes	TokenNameIdentifier	 get Attributes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
Type	TokenNameIdentifier	 Type
=	TokenNameEQUAL	
attrs	TokenNameIdentifier	 attrs
.	TokenNameDOT	
getNamedItem	TokenNameIdentifier	 get Named Item
(	TokenNameLPAREN	
"type"	TokenNameStringLiteral	type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
TypeStr	TokenNameIdentifier	 Type Str
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
Type	TokenNameIdentifier	 Type
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
TypeStr	TokenNameIdentifier	 Type Str
=	TokenNameEQUAL	
"string"	TokenNameStringLiteral	string
;	TokenNameSEMICOLON	
else	TokenNameelse	
TypeStr	TokenNameIdentifier	 Type Str
=	TokenNameEQUAL	
Type	TokenNameIdentifier	 Type
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Node	TokenNameIdentifier	 Node
n1	TokenNameIdentifier	 n1
=	TokenNameEQUAL	
n	TokenNameIdentifier	 n
.	TokenNameDOT	
getFirstChild	TokenNameIdentifier	 get First Child
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
n1	TokenNameIdentifier	 n1
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
n1	TokenNameIdentifier	 n1
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
m_ParameterList	TokenNameIdentifier	 m  Parameter List
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
new	TokenNamenew	
QueryParameter	TokenNameIdentifier	 Query Parameter
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
,	TokenNameCOMMA	
TypeStr	TokenNameIdentifier	 Type Str
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
n	TokenNameIdentifier	 n
.	TokenNameDOT	
getNextSibling	TokenNameIdentifier	 get Next Sibling
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * */	TokenNameCOMMENT_JAVADOC	 
public	TokenNamepublic	
void	TokenNamevoid	
clearParameters	TokenNameIdentifier	 clear Parameters
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_ParameterList	TokenNameIdentifier	 m  Parameter List
.	TokenNameDOT	
removeAllElements	TokenNameIdentifier	 remove All Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * There is a problem with some JDBC drivers when a Connection * is open and the JVM shutsdown. If there is a problem, there * is no way to control the currently open connections in the * pool. So for the default connection pool, the actuall pooling * mechinsm is disabled by default. The Stylesheet designer can * re-enabled pooling to take advantage of connection pools. * The connection pool can even be disabled which will close all * outstanding connections. * * @deprecated Use setFeature("default-pool-enabled", "true"); */	TokenNameCOMMENT_JAVADOC	 There is a problem with some JDBC drivers when a Connection is open and the JVM shutsdown. If there is a problem, there is no way to control the currently open connections in the pool. So for the default connection pool, the actuall pooling mechinsm is disabled by default. The Stylesheet designer can re-enabled pooling to take advantage of connection pools. The connection pool can even be disabled which will close all outstanding connections. * @deprecated Use setFeature("default-pool-enabled", "true"); 
public	TokenNamepublic	
void	TokenNamevoid	
enableDefaultConnectionPool	TokenNameIdentifier	 enable Default Connection Pool
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Enabling Default Connection Pool"	TokenNameStringLiteral	Enabling Default Connection Pool
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_DefaultPoolingEnabled	TokenNameIdentifier	 m  Default Pooling Enabled
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
m_IsDefaultPool	TokenNameIdentifier	 m  Is Default Pool
)	TokenNameRPAREN	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
.	TokenNameDOT	
setPoolEnabled	TokenNameIdentifier	 set Pool Enabled
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * See enableDefaultConnectionPool * * @deprecated Use setFeature("default-pool-enabled", "false"); */	TokenNameCOMMENT_JAVADOC	 See enableDefaultConnectionPool * @deprecated Use setFeature("default-pool-enabled", "false"); 
public	TokenNamepublic	
void	TokenNamevoid	
disableDefaultConnectionPool	TokenNameIdentifier	 disable Default Connection Pool
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Disabling Default Connection Pool"	TokenNameStringLiteral	Disabling Default Connection Pool
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_DefaultPoolingEnabled	TokenNameIdentifier	 m  Default Pooling Enabled
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
m_IsDefaultPool	TokenNameIdentifier	 m  Is Default Pool
)	TokenNameRPAREN	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
.	TokenNameDOT	
setPoolEnabled	TokenNameIdentifier	 set Pool Enabled
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Control how the SQL Document uses memory. In Streaming Mode, * memory consumption is greatly reduces so you can have queries * of unlimited size but it will not let you traverse the data * more than once. * * @deprecated Use setFeature("streaming", "true"); */	TokenNameCOMMENT_JAVADOC	 Control how the SQL Document uses memory. In Streaming Mode, memory consumption is greatly reduces so you can have queries of unlimited size but it will not let you traverse the data more than once. * @deprecated Use setFeature("streaming", "true"); 
public	TokenNamepublic	
void	TokenNamevoid	
enableStreamingMode	TokenNameIdentifier	 enable Streaming Mode
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Enabling Streaming Mode"	TokenNameStringLiteral	Enabling Streaming Mode
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_IsStreamingEnabled	TokenNameIdentifier	 m  Is Streaming Enabled
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Control how the SQL Document uses memory. In Streaming Mode, * memory consumption is greatly reduces so you can have queries * of unlimited size but it will not let you traverse the data * more than once. * * @deprecated Use setFeature("streaming", "false"); */	TokenNameCOMMENT_JAVADOC	 Control how the SQL Document uses memory. In Streaming Mode, memory consumption is greatly reduces so you can have queries of unlimited size but it will not let you traverse the data more than once. * @deprecated Use setFeature("streaming", "false"); 
public	TokenNamepublic	
void	TokenNamevoid	
disableStreamingMode	TokenNameIdentifier	 disable Streaming Mode
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Disable Streaming Mode"	TokenNameStringLiteral	Disable Streaming Mode
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_IsStreamingEnabled	TokenNameIdentifier	 m  Is Streaming Enabled
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Provide access to the last error that occued. This error * may be over written when the next operation occurs. * */	TokenNameCOMMENT_JAVADOC	 Provide access to the last error that occued. This error may be over written when the next operation occurs. 
public	TokenNamepublic	
DTM	TokenNameIdentifier	 DTM
getError	TokenNameIdentifier	 get Error
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
m_FullErrors	TokenNameIdentifier	 m  Full Errors
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
idx	TokenNameIdentifier	 idx
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
idx	TokenNameIdentifier	 idx
<	TokenNameLESS	
m_OpenSQLDocuments	TokenNameIdentifier	 m  Open SQL Documents
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
idx	TokenNameIdentifier	 idx
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
SQLDocument	TokenNameIdentifier	 SQL Document
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
(	TokenNameLPAREN	
SQLDocument	TokenNameIdentifier	 SQL Document
)	TokenNameRPAREN	
m_OpenSQLDocuments	TokenNameIdentifier	 m  Open SQL Documents
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
idx	TokenNameIdentifier	 idx
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
SQLWarning	TokenNameIdentifier	 SQL Warning
warn	TokenNameIdentifier	 warn
=	TokenNameEQUAL	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
checkWarnings	TokenNameIdentifier	 check Warnings
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
warn	TokenNameIdentifier	 warn
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
null	TokenNamenull	
,	TokenNameCOMMA	
doc	TokenNameIdentifier	 doc
,	TokenNameCOMMA	
warn	TokenNameIdentifier	 warn
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
buildErrorDocument	TokenNameIdentifier	 build Error Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Close the connection to the data source. * * @throws SQLException */	TokenNameCOMMENT_JAVADOC	 Close the connection to the data source. * @throws SQLException 
public	TokenNamepublic	
void	TokenNamevoid	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
SQLException	TokenNameIdentifier	 SQL Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Entering XConnection.close()"	TokenNameStringLiteral	Entering XConnection.close()
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// 	TokenNameCOMMENT_LINE	 
// This function is included just for Legacy support 	TokenNameCOMMENT_LINE	This function is included just for Legacy support 
// If it is really called then we must me using a single 	TokenNameCOMMENT_LINE	If it is really called then we must me using a single 
// document interface, so close all open documents. 	TokenNameCOMMENT_LINE	document interface, so close all open documents. 
while	TokenNamewhile	
(	TokenNameLPAREN	
m_OpenSQLDocuments	TokenNameIdentifier	 m  Open SQL Documents
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
SQLDocument	TokenNameIdentifier	 SQL Document
d	TokenNameIdentifier	 d
=	TokenNameEQUAL	
(	TokenNameLPAREN	
SQLDocument	TokenNameIdentifier	 SQL Document
)	TokenNameRPAREN	
m_OpenSQLDocuments	TokenNameIdentifier	 m  Open SQL Documents
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
// If we are using the Default Connection Pool, then 	TokenNameCOMMENT_LINE	If we are using the Default Connection Pool, then 
// force the connection pool to flush unused connections. 	TokenNameCOMMENT_LINE	force the connection pool to flush unused connections. 
d	TokenNameIdentifier	 d
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
m_IsDefaultPool	TokenNameIdentifier	 m  Is Default Pool
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
se	TokenNameIdentifier	 se
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
m_OpenSQLDocuments	TokenNameIdentifier	 m  Open SQL Documents
.	TokenNameDOT	
removeElementAt	TokenNameIdentifier	 remove Element At
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
m_Connection	TokenNameIdentifier	 m  Connection
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
.	TokenNameDOT	
releaseConnection	TokenNameIdentifier	 release Connection
(	TokenNameLPAREN	
m_Connection	TokenNameIdentifier	 m  Connection
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_Connection	TokenNameIdentifier	 m  Connection
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Exiting XConnection.close"	TokenNameStringLiteral	Exiting XConnection.close
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Close the connection to the data source. Only close the connections * for a single document. * * @throws SQLException */	TokenNameCOMMENT_JAVADOC	 Close the connection to the data source. Only close the connections for a single document. * @throws SQLException 
public	TokenNamepublic	
void	TokenNamevoid	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
Object	TokenNameIdentifier	 Object
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
throws	TokenNamethrows	
SQLException	TokenNameIdentifier	 SQL Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Entering XConnection.close("	TokenNameStringLiteral	Entering XConnection.close(
+	TokenNamePLUS	
doc	TokenNameIdentifier	 doc
+	TokenNamePLUS	
")"	TokenNameStringLiteral	)
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
SQLDocument	TokenNameIdentifier	 SQL Document
sqlDoc	TokenNameIdentifier	 sql Doc
=	TokenNameEQUAL	
locateSQLDocument	TokenNameIdentifier	 locate SQL Document
(	TokenNameLPAREN	
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
sqlDoc	TokenNameIdentifier	 sql Doc
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// If we are using the Default Connection Pool, then 	TokenNameCOMMENT_LINE	If we are using the Default Connection Pool, then 
// force the connection pool to flush unused connections. 	TokenNameCOMMENT_LINE	force the connection pool to flush unused connections. 
sqlDoc	TokenNameIdentifier	 sql Doc
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
m_IsDefaultPool	TokenNameIdentifier	 m  Is Default Pool
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_OpenSQLDocuments	TokenNameIdentifier	 m  Open SQL Documents
.	TokenNameDOT	
remove	TokenNameIdentifier	 remove
(	TokenNameLPAREN	
sqlDoc	TokenNameIdentifier	 sql Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * When an SQL Document is returned as a DTM object, the XSL variable is actually * assigned as a DTMIterator. This is a helper function that will allow you to get * a reference to the original SQLDocument from the iterator. * * Original code submitted by * Moraine Didier mailto://didier.moraine@winterthur.be * @param doc * @return */	TokenNameCOMMENT_JAVADOC	 When an SQL Document is returned as a DTM object, the XSL variable is actually assigned as a DTMIterator. This is a helper function that will allow you to get a reference to the original SQLDocument from the iterator. * Original code submitted by Moraine Didier mailto://didier.moraine@winterthur.be @param doc @return 
private	TokenNameprivate	
SQLDocument	TokenNameIdentifier	 SQL Document
locateSQLDocument	TokenNameIdentifier	 locate SQL Document
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
exprContext	TokenNameIdentifier	 expr Context
,	TokenNameCOMMA	
Object	TokenNameIdentifier	 Object
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
instanceof	TokenNameinstanceof	
DTMNodeIterator	TokenNameIdentifier	 DTM Node Iterator
)	TokenNameRPAREN	
{	TokenNameLBRACE	
DTMNodeIterator	TokenNameIdentifier	 DTM Node Iterator
dtmIter	TokenNameIdentifier	 dtm Iter
=	TokenNameEQUAL	
(	TokenNameLPAREN	
DTMNodeIterator	TokenNameIdentifier	 DTM Node Iterator
)	TokenNameRPAREN	
doc	TokenNameIdentifier	 doc
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
DTMNodeProxy	TokenNameIdentifier	 DTM Node Proxy
root	TokenNameIdentifier	 root
=	TokenNameEQUAL	
(	TokenNameLPAREN	
DTMNodeProxy	TokenNameIdentifier	 DTM Node Proxy
)	TokenNameRPAREN	
dtmIter	TokenNameIdentifier	 dtm Iter
.	TokenNameDOT	
getRoot	TokenNameIdentifier	 get Root
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
(	TokenNameLPAREN	
SQLDocument	TokenNameIdentifier	 SQL Document
)	TokenNameRPAREN	
root	TokenNameIdentifier	 root
.	TokenNameDOT	
getDTM	TokenNameIdentifier	 get DTM
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
XNodeSet	TokenNameIdentifier	 X Node Set
xNS	TokenNameIdentifier	 x NS
=	TokenNameEQUAL	
(	TokenNameLPAREN	
XNodeSet	TokenNameIdentifier	 X Node Set
)	TokenNameRPAREN	
dtmIter	TokenNameIdentifier	 dtm Iter
.	TokenNameDOT	
getDTMIterator	TokenNameIdentifier	 get DTM Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DTMIterator	TokenNameIdentifier	 DTM Iterator
iter	TokenNameIdentifier	 iter
=	TokenNameEQUAL	
(	TokenNameLPAREN	
DTMIterator	TokenNameIdentifier	 DTM Iterator
)	TokenNameRPAREN	
xNS	TokenNameIdentifier	 x NS
.	TokenNameDOT	
getContainedIter	TokenNameIdentifier	 get Contained Iter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DTM	TokenNameIdentifier	 DTM
dtm	TokenNameIdentifier	 dtm
=	TokenNameEQUAL	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
getDTM	TokenNameIdentifier	 get DTM
(	TokenNameLPAREN	
xNS	TokenNameIdentifier	 x NS
.	TokenNameDOT	
nextNode	TokenNameIdentifier	 next Node
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
(	TokenNameLPAREN	
SQLDocument	TokenNameIdentifier	 SQL Document
)	TokenNameRPAREN	
dtm	TokenNameIdentifier	 dtm
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/* XNodeSet xNS = (XNodeSet)dtmIter.getDTMIterator(); OneStepIterator iter = (OneStepIterator)xNS.getContainedIter(); DTMManager aDTMManager = (DTMManager)iter.getDTMManager(); return (SQLDocument)aDTMManager.getDTM(xNS.nextNode()); */	TokenNameCOMMENT_BLOCK	 XNodeSet xNS = (XNodeSet)dtmIter.getDTMIterator(); OneStepIterator iter = (OneStepIterator)xNS.getContainedIter(); DTMManager aDTMManager = (DTMManager)iter.getDTMManager(); return (SQLDocument)aDTMManager.getDTM(xNS.nextNode()); 
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
new	TokenNamenew	
Exception	TokenNameIdentifier	 Exception
(	TokenNameLPAREN	
"SQL Extension:close - Can Not Identify SQLDocument"	TokenNameStringLiteral	SQL Extension:close - Can Not Identify SQLDocument
)	TokenNameRPAREN	
,	TokenNameCOMMA	
exprContext	TokenNameIdentifier	 expr Context
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
exprContext	TokenNameIdentifier	 expr Context
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * @param exprContext * @param excp * */	TokenNameCOMMENT_JAVADOC	 @param exprContext @param excp 
private	TokenNameprivate	
SQLErrorDocument	TokenNameIdentifier	 SQL Error Document
buildErrorDocument	TokenNameIdentifier	 build Error Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
SQLErrorDocument	TokenNameIdentifier	 SQL Error Document
eDoc	TokenNameIdentifier	 e Doc
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
m_LastSQLDocumentWithError	TokenNameIdentifier	 m  Last SQL Document With Error
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// @todo 	TokenNameCOMMENT_LINE	@todo 
// Do we need to do something with this ?? 	TokenNameCOMMENT_LINE	Do we need to do something with this ?? 
// m_Error != null || (m_FullErrors && m_Warning != null) ) 	TokenNameCOMMENT_LINE	m_Error != null || (m_FullErrors && m_Warning != null) ) 
ExpressionContext	TokenNameIdentifier	 Expression Context
ctx	TokenNameIdentifier	 ctx
=	TokenNameEQUAL	
m_LastSQLDocumentWithError	TokenNameIdentifier	 m  Last SQL Document With Error
.	TokenNameDOT	
getExpressionContext	TokenNameIdentifier	 get Expression Context
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
SQLWarning	TokenNameIdentifier	 SQL Warning
warn	TokenNameIdentifier	 warn
=	TokenNameEQUAL	
m_LastSQLDocumentWithError	TokenNameIdentifier	 m  Last SQL Document With Error
.	TokenNameDOT	
checkWarnings	TokenNameIdentifier	 check Warnings
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
DTMManager	TokenNameIdentifier	 DTM Manager
mgr	TokenNameIdentifier	 mgr
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XPathContext	TokenNameIdentifier	 X Path Context
.	TokenNameDOT	
XPathExpressionContext	TokenNameIdentifier	 X Path Expression Context
)	TokenNameRPAREN	
ctx	TokenNameIdentifier	 ctx
)	TokenNameRPAREN	
.	TokenNameDOT	
getDTMManager	TokenNameIdentifier	 get DTM Manager
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DTMManagerDefault	TokenNameIdentifier	 DTM Manager Default
mgrDefault	TokenNameIdentifier	 mgr Default
=	TokenNameEQUAL	
(	TokenNameLPAREN	
DTMManagerDefault	TokenNameIdentifier	 DTM Manager Default
)	TokenNameRPAREN	
mgr	TokenNameIdentifier	 mgr
;	TokenNameSEMICOLON	
int	TokenNameint	
dtmIdent	TokenNameIdentifier	 dtm Ident
=	TokenNameEQUAL	
mgrDefault	TokenNameIdentifier	 mgr Default
.	TokenNameDOT	
getFirstFreeDTMID	TokenNameIdentifier	 get First Free DTMID
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
eDoc	TokenNameIdentifier	 e Doc
=	TokenNameEQUAL	
new	TokenNamenew	
SQLErrorDocument	TokenNameIdentifier	 SQL Error Document
(	TokenNameLPAREN	
mgr	TokenNameIdentifier	 mgr
,	TokenNameCOMMA	
dtmIdent	TokenNameIdentifier	 dtm Ident
<<	TokenNameLEFT_SHIFT	
DTMManager	TokenNameIdentifier	 DTM Manager
.	TokenNameDOT	
IDENT_DTM_NODE_BITS	TokenNameIdentifier	 IDENT  DTM  NODE  BITS
,	TokenNameCOMMA	
m_Error	TokenNameIdentifier	 m  Error
,	TokenNameCOMMA	
warn	TokenNameIdentifier	 warn
,	TokenNameCOMMA	
m_FullErrors	TokenNameIdentifier	 m  Full Errors
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Register our document 	TokenNameCOMMENT_LINE	Register our document 
mgrDefault	TokenNameIdentifier	 mgr Default
.	TokenNameDOT	
addDTM	TokenNameIdentifier	 add DTM
(	TokenNameLPAREN	
eDoc	TokenNameIdentifier	 e Doc
,	TokenNameCOMMA	
dtmIdent	TokenNameIdentifier	 dtm Ident
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Clear the error and warning. 	TokenNameCOMMENT_LINE	Clear the error and warning. 
m_Error	TokenNameIdentifier	 m  Error
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
m_LastSQLDocumentWithError	TokenNameIdentifier	 m  Last SQL Document With Error
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
eDoc	TokenNameIdentifier	 e Doc
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
eDoc	TokenNameIdentifier	 e Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * This is an internal version of Set Error that is called withen * XConnection where there is no SQLDocument created yet. As in the * Connect statement or creation of the ConnectionPool. */	TokenNameCOMMENT_JAVADOC	 This is an internal version of Set Error that is called withen XConnection where there is no SQLDocument created yet. As in the Connect statement or creation of the ConnectionPool. 
public	TokenNamepublic	
void	TokenNamevoid	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
excp	TokenNameIdentifier	 excp
,	TokenNameCOMMA	
ExpressionContext	TokenNameIdentifier	 Expression Context
expr	TokenNameIdentifier	 expr
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
ErrorListener	TokenNameIdentifier	 Error Listener
listen	TokenNameIdentifier	 listen
=	TokenNameEQUAL	
expr	TokenNameIdentifier	 expr
.	TokenNameDOT	
getErrorListener	TokenNameIdentifier	 get Error Listener
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
listen	TokenNameIdentifier	 listen
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
excp	TokenNameIdentifier	 excp
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
listen	TokenNameIdentifier	 listen
.	TokenNameDOT	
warning	TokenNameIdentifier	 warning
(	TokenNameLPAREN	
new	TokenNamenew	
TransformerException	TokenNameIdentifier	 Transformer Exception
(	TokenNameLPAREN	
excp	TokenNameIdentifier	 excp
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
expr	TokenNameIdentifier	 expr
.	TokenNameDOT	
getXPathContext	TokenNameIdentifier	 get X Path Context
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getSAXLocator	TokenNameIdentifier	 get SAX Locator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
excp	TokenNameIdentifier	 excp
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Set an error and/or warning on this connection. * */	TokenNameCOMMENT_JAVADOC	 Set an error and/or warning on this connection. 
public	TokenNamepublic	
void	TokenNamevoid	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
excp	TokenNameIdentifier	 excp
,	TokenNameCOMMA	
SQLDocument	TokenNameIdentifier	 SQL Document
doc	TokenNameIdentifier	 doc
,	TokenNameCOMMA	
SQLWarning	TokenNameIdentifier	 SQL Warning
warn	TokenNameIdentifier	 warn
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ExpressionContext	TokenNameIdentifier	 Expression Context
cont	TokenNameIdentifier	 cont
=	TokenNameEQUAL	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
getExpressionContext	TokenNameIdentifier	 get Expression Context
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_LastSQLDocumentWithError	TokenNameIdentifier	 m  Last SQL Document With Error
=	TokenNameEQUAL	
doc	TokenNameIdentifier	 doc
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
ErrorListener	TokenNameIdentifier	 Error Listener
listen	TokenNameIdentifier	 listen
=	TokenNameEQUAL	
cont	TokenNameIdentifier	 cont
.	TokenNameDOT	
getErrorListener	TokenNameIdentifier	 get Error Listener
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
listen	TokenNameIdentifier	 listen
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
excp	TokenNameIdentifier	 excp
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
listen	TokenNameIdentifier	 listen
.	TokenNameDOT	
warning	TokenNameIdentifier	 warning
(	TokenNameLPAREN	
new	TokenNamenew	
TransformerException	TokenNameIdentifier	 Transformer Exception
(	TokenNameLPAREN	
excp	TokenNameIdentifier	 excp
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
cont	TokenNameIdentifier	 cont
.	TokenNameDOT	
getXPathContext	TokenNameIdentifier	 get X Path Context
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getSAXLocator	TokenNameIdentifier	 get SAX Locator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
excp	TokenNameIdentifier	 excp
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
listen	TokenNameIdentifier	 listen
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
warn	TokenNameIdentifier	 warn
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
listen	TokenNameIdentifier	 listen
.	TokenNameDOT	
warning	TokenNameIdentifier	 warning
(	TokenNameLPAREN	
new	TokenNamenew	
TransformerException	TokenNameIdentifier	 Transformer Exception
(	TokenNameLPAREN	
warn	TokenNameIdentifier	 warn
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
cont	TokenNameIdentifier	 cont
.	TokenNameDOT	
getXPathContext	TokenNameIdentifier	 get X Path Context
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getSAXLocator	TokenNameIdentifier	 get SAX Locator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
warn	TokenNameIdentifier	 warn
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Assume there will be just one error, but perhaps multiple warnings. 	TokenNameCOMMENT_LINE	Assume there will be just one error, but perhaps multiple warnings. 
if	TokenNameif	
(	TokenNameLPAREN	
excp	TokenNameIdentifier	 excp
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
m_Error	TokenNameIdentifier	 m  Error
=	TokenNameEQUAL	
excp	TokenNameIdentifier	 excp
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
warn	TokenNameIdentifier	 warn
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Because the log may not have processed the previous warning yet 	TokenNameCOMMENT_LINE	Because the log may not have processed the previous warning yet 
// we need to make a new one. 	TokenNameCOMMENT_LINE	we need to make a new one. 
SQLWarning	TokenNameIdentifier	 SQL Warning
tw	TokenNameIdentifier	 tw
=	TokenNameEQUAL	
new	TokenNamenew	
SQLWarning	TokenNameIdentifier	 SQL Warning
(	TokenNameLPAREN	
warn	TokenNameIdentifier	 warn
.	TokenNameDOT	
getMessage	TokenNameIdentifier	 get Message
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
warn	TokenNameIdentifier	 warn
.	TokenNameDOT	
getSQLState	TokenNameIdentifier	 get SQL State
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
warn	TokenNameIdentifier	 warn
.	TokenNameDOT	
getErrorCode	TokenNameIdentifier	 get Error Code
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
SQLWarning	TokenNameIdentifier	 SQL Warning
nw	TokenNameIdentifier	 nw
=	TokenNameEQUAL	
warn	TokenNameIdentifier	 warn
.	TokenNameDOT	
getNextWarning	TokenNameIdentifier	 get Next Warning
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
nw	TokenNameIdentifier	 nw
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
tw	TokenNameIdentifier	 tw
.	TokenNameDOT	
setNextWarning	TokenNameIdentifier	 set Next Warning
(	TokenNameLPAREN	
new	TokenNamenew	
SQLWarning	TokenNameIdentifier	 SQL Warning
(	TokenNameLPAREN	
nw	TokenNameIdentifier	 nw
.	TokenNameDOT	
getMessage	TokenNameIdentifier	 get Message
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
nw	TokenNameIdentifier	 nw
.	TokenNameDOT	
getSQLState	TokenNameIdentifier	 get SQL State
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
nw	TokenNameIdentifier	 nw
.	TokenNameDOT	
getErrorCode	TokenNameIdentifier	 get Error Code
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
nw	TokenNameIdentifier	 nw
=	TokenNameEQUAL	
nw	TokenNameIdentifier	 nw
.	TokenNameDOT	
getNextWarning	TokenNameIdentifier	 get Next Warning
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
tw	TokenNameIdentifier	 tw
.	TokenNameDOT	
setNextWarning	TokenNameIdentifier	 set Next Warning
(	TokenNameLPAREN	
new	TokenNamenew	
SQLWarning	TokenNameIdentifier	 SQL Warning
(	TokenNameLPAREN	
warn	TokenNameIdentifier	 warn
.	TokenNameDOT	
getMessage	TokenNameIdentifier	 get Message
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
warn	TokenNameIdentifier	 warn
.	TokenNameDOT	
getSQLState	TokenNameIdentifier	 get SQL State
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
warn	TokenNameIdentifier	 warn
.	TokenNameDOT	
getErrorCode	TokenNameIdentifier	 get Error Code
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// m_Warning = tw; 	TokenNameCOMMENT_LINE	m_Warning = tw; 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//m_Error = null; 	TokenNameCOMMENT_LINE	m_Error = null; 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Set feature options for this XConnection. * @param feature The name of the feature being set, currently supports (streaming, inline-variables, multiple-results, cache-statements, default-pool-enabled). * @param setting The new setting for the specified feature, currently "true" is true and anything else is false. * */	TokenNameCOMMENT_JAVADOC	 Set feature options for this XConnection. @param feature The name of the feature being set, currently supports (streaming, inline-variables, multiple-results, cache-statements, default-pool-enabled). @param setting The new setting for the specified feature, currently "true" is true and anything else is false. 
public	TokenNamepublic	
void	TokenNamevoid	
setFeature	TokenNameIdentifier	 set Feature
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
feature	TokenNameIdentifier	 feature
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
setting	TokenNameIdentifier	 setting
)	TokenNameRPAREN	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
"true"	TokenNameStringLiteral	true
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
setting	TokenNameIdentifier	 setting
)	TokenNameRPAREN	
)	TokenNameRPAREN	
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
"streaming"	TokenNameStringLiteral	streaming
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
feature	TokenNameIdentifier	 feature
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_IsStreamingEnabled	TokenNameIdentifier	 m  Is Streaming Enabled
=	TokenNameEQUAL	
value	TokenNameIdentifier	 value
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"inline-variables"	TokenNameStringLiteral	inline-variables
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
feature	TokenNameIdentifier	 feature
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_InlineVariables	TokenNameIdentifier	 m  Inline Variables
=	TokenNameEQUAL	
value	TokenNameIdentifier	 value
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"multiple-results"	TokenNameStringLiteral	multiple-results
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
feature	TokenNameIdentifier	 feature
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_IsMultipleResultsEnabled	TokenNameIdentifier	 m  Is Multiple Results Enabled
=	TokenNameEQUAL	
value	TokenNameIdentifier	 value
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"cache-statements"	TokenNameStringLiteral	cache-statements
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
feature	TokenNameIdentifier	 feature
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_IsStatementCachingEnabled	TokenNameIdentifier	 m  Is Statement Caching Enabled
=	TokenNameEQUAL	
value	TokenNameIdentifier	 value
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"default-pool-enabled"	TokenNameStringLiteral	default-pool-enabled
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
feature	TokenNameIdentifier	 feature
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_DefaultPoolingEnabled	TokenNameIdentifier	 m  Default Pooling Enabled
=	TokenNameEQUAL	
value	TokenNameIdentifier	 value
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
m_IsDefaultPool	TokenNameIdentifier	 m  Is Default Pool
)	TokenNameRPAREN	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
m_ConnectionPool	TokenNameIdentifier	 m  Connection Pool
.	TokenNameDOT	
setPoolEnabled	TokenNameIdentifier	 set Pool Enabled
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"full-errors"	TokenNameStringLiteral	full-errors
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
feature	TokenNameIdentifier	 feature
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_FullErrors	TokenNameIdentifier	 m  Full Errors
=	TokenNameEQUAL	
value	TokenNameIdentifier	 value
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Get feature options for this XConnection. * @param feature The name of the feature to get the setting for. * @return The setting of the specified feature. Will be "true" or "false" (null if the feature is not known) */	TokenNameCOMMENT_JAVADOC	 Get feature options for this XConnection. @param feature The name of the feature to get the setting for. @return The setting of the specified feature. Will be "true" or "false" (null if the feature is not known) 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getFeature	TokenNameIdentifier	 get Feature
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
feature	TokenNameIdentifier	 feature
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
"streaming"	TokenNameStringLiteral	streaming
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
feature	TokenNameIdentifier	 feature
)	TokenNameRPAREN	
)	TokenNameRPAREN	
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
m_IsStreamingEnabled	TokenNameIdentifier	 m  Is Streaming Enabled
?	TokenNameQUESTION	
"true"	TokenNameStringLiteral	true
:	TokenNameCOLON	
"false"	TokenNameStringLiteral	false
;	TokenNameSEMICOLON	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"inline-variables"	TokenNameStringLiteral	inline-variables
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
feature	TokenNameIdentifier	 feature
)	TokenNameRPAREN	
)	TokenNameRPAREN	
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
m_InlineVariables	TokenNameIdentifier	 m  Inline Variables
?	TokenNameQUESTION	
"true"	TokenNameStringLiteral	true
:	TokenNameCOLON	
"false"	TokenNameStringLiteral	false
;	TokenNameSEMICOLON	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"multiple-results"	TokenNameStringLiteral	multiple-results
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
feature	TokenNameIdentifier	 feature
)	TokenNameRPAREN	
)	TokenNameRPAREN	
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
m_IsMultipleResultsEnabled	TokenNameIdentifier	 m  Is Multiple Results Enabled
?	TokenNameQUESTION	
"true"	TokenNameStringLiteral	true
:	TokenNameCOLON	
"false"	TokenNameStringLiteral	false
;	TokenNameSEMICOLON	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"cache-statements"	TokenNameStringLiteral	cache-statements
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
feature	TokenNameIdentifier	 feature
)	TokenNameRPAREN	
)	TokenNameRPAREN	
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
m_IsStatementCachingEnabled	TokenNameIdentifier	 m  Is Statement Caching Enabled
?	TokenNameQUESTION	
"true"	TokenNameStringLiteral	true
:	TokenNameCOLON	
"false"	TokenNameStringLiteral	false
;	TokenNameSEMICOLON	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"default-pool-enabled"	TokenNameStringLiteral	default-pool-enabled
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
feature	TokenNameIdentifier	 feature
)	TokenNameRPAREN	
)	TokenNameRPAREN	
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
m_DefaultPoolingEnabled	TokenNameIdentifier	 m  Default Pooling Enabled
?	TokenNameQUESTION	
"true"	TokenNameStringLiteral	true
:	TokenNameCOLON	
"false"	TokenNameStringLiteral	false
;	TokenNameSEMICOLON	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"full-errors"	TokenNameStringLiteral	full-errors
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
feature	TokenNameIdentifier	 feature
)	TokenNameRPAREN	
)	TokenNameRPAREN	
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
m_FullErrors	TokenNameIdentifier	 m  Full Errors
?	TokenNameQUESTION	
"true"	TokenNameStringLiteral	true
:	TokenNameCOLON	
"false"	TokenNameStringLiteral	false
;	TokenNameSEMICOLON	
return	TokenNamereturn	
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * */	TokenNameCOMMENT_JAVADOC	 
protected	TokenNameprotected	
void	TokenNamevoid	
finalize	TokenNameIdentifier	 finalize
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DEBUG	TokenNameIdentifier	 DEBUG
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"In XConnection, finalize"	TokenNameStringLiteral	In XConnection, finalize
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Empty We are final Anyway 	TokenNameCOMMENT_LINE	Empty We are final Anyway 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
