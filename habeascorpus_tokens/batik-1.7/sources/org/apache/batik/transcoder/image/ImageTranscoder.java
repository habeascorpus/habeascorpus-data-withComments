/* Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
transcoder	TokenNameIdentifier	 transcoder
.	TokenNameDOT	
image	TokenNameIdentifier	 image
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
AlphaComposite	TokenNameIdentifier	 Alpha Composite
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
Graphics2D	TokenNameIdentifier	 Graphics2 D
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
Paint	TokenNameIdentifier	 Paint
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
Shape	TokenNameIdentifier	 Shape
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
geom	TokenNameIdentifier	 geom
.	TokenNameDOT	
AffineTransform	TokenNameIdentifier	 Affine Transform
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
geom	TokenNameIdentifier	 geom
.	TokenNameDOT	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
BufferedImage	TokenNameIdentifier	 Buffered Image
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
DataBufferInt	TokenNameIdentifier	 Data Buffer Int
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
SinglePixelPackedSampleModel	TokenNameIdentifier	 Single Pixel Packed Sample Model
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
GraphicsUtil	TokenNameIdentifier	 Graphics Util
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
renderer	TokenNameIdentifier	 renderer
.	TokenNameDOT	
ConcreteImageRendererFactory	TokenNameIdentifier	 Concrete Image Renderer Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
renderer	TokenNameIdentifier	 renderer
.	TokenNameDOT	
ImageRenderer	TokenNameIdentifier	 Image Renderer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
gvt	TokenNameIdentifier	 gvt
.	TokenNameDOT	
renderer	TokenNameIdentifier	 renderer
.	TokenNameDOT	
ImageRendererFactory	TokenNameIdentifier	 Image Renderer Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
transcoder	TokenNameIdentifier	 transcoder
.	TokenNameDOT	
SVGAbstractTranscoder	TokenNameIdentifier	 SVG Abstract Transcoder
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
transcoder	TokenNameIdentifier	 transcoder
.	TokenNameDOT	
TranscoderException	TokenNameIdentifier	 Transcoder Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
transcoder	TokenNameIdentifier	 transcoder
.	TokenNameDOT	
TranscoderOutput	TokenNameIdentifier	 Transcoder Output
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
transcoder	TokenNameIdentifier	 transcoder
.	TokenNameDOT	
TranscodingHints	TokenNameIdentifier	 Transcoding Hints
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
transcoder	TokenNameIdentifier	 transcoder
.	TokenNameDOT	
keys	TokenNameIdentifier	 keys
.	TokenNameDOT	
BooleanKey	TokenNameIdentifier	 Boolean Key
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
transcoder	TokenNameIdentifier	 transcoder
.	TokenNameDOT	
keys	TokenNameIdentifier	 keys
.	TokenNameDOT	
PaintKey	TokenNameIdentifier	 Paint Key
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Document	TokenNameIdentifier	 Document
;	TokenNameSEMICOLON	
/** * This class enables to transcode an input to an image of any format. * * <p>Two transcoding hints (<tt>KEY_WIDTH</tt> and * <tt>KEY_HEIGHT</tt>) can be used to respectively specify the image * width and the image height. If only one of these keys is specified, * the transcoder preserves the aspect ratio of the original image. * * <p>The <tt>KEY_BACKGROUND_COLOR</tt> defines the background color * to use for opaque image formats, or the background color that may * be used for image formats that support alpha channel. * * <p>The <tt>KEY_AOI</tt> represents the area of interest to paint * in device space. * * <p>Three additional transcoding hints that act on the SVG * processor can be specified: * * <p><tt>KEY_LANGUAGE</tt> to set the default language to use (may be * used by a &lt;switch> SVG element for example), * <tt>KEY_USER_STYLESHEET_URI</tt> to fix the URI of a user * stylesheet, and <tt>KEY_MM_PER_PIXEL</tt> to specify the number of * millimeters in each pixel . * * @author <a href="mailto:Thierry.Kormann@sophia.inria.fr">Thierry Kormann</a> * @version $Id: ImageTranscoder.java 533275 2007-04-28 01:30:54Z deweese $ */	TokenNameCOMMENT_JAVADOC	 This class enables to transcode an input to an image of any format. * <p>Two transcoding hints (<tt>KEY_WIDTH</tt> and <tt>KEY_HEIGHT</tt>) can be used to respectively specify the image width and the image height. If only one of these keys is specified, the transcoder preserves the aspect ratio of the original image. * <p>The <tt>KEY_BACKGROUND_COLOR</tt> defines the background color to use for opaque image formats, or the background color that may be used for image formats that support alpha channel. * <p>The <tt>KEY_AOI</tt> represents the area of interest to paint in device space. * <p>Three additional transcoding hints that act on the SVG processor can be specified: * <p><tt>KEY_LANGUAGE</tt> to set the default language to use (may be used by a &lt;switch> SVG element for example), <tt>KEY_USER_STYLESHEET_URI</tt> to fix the URI of a user stylesheet, and <tt>KEY_MM_PER_PIXEL</tt> to specify the number of millimeters in each pixel . * @author <a href="mailto:Thierry.Kormann@sophia.inria.fr">Thierry Kormann</a> @version $Id: ImageTranscoder.java 533275 2007-04-28 01:30:54Z deweese $ 
public	TokenNamepublic	
abstract	TokenNameabstract	
class	TokenNameclass	
ImageTranscoder	TokenNameIdentifier	 Image Transcoder
extends	TokenNameextends	
SVGAbstractTranscoder	TokenNameIdentifier	 SVG Abstract Transcoder
{	TokenNameLBRACE	
/** * Constructs a new <tt>ImageTranscoder</tt>. */	TokenNameCOMMENT_JAVADOC	 Constructs a new <tt>ImageTranscoder</tt>. 
protected	TokenNameprotected	
ImageTranscoder	TokenNameIdentifier	 Image Transcoder
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * Transcodes the specified Document as an image in the specified output. * * @param document the document to transcode * @param uri the uri of the document or null if any * @param output the ouput where to transcode * @exception TranscoderException if an error occured while transcoding */	TokenNameCOMMENT_JAVADOC	 Transcodes the specified Document as an image in the specified output. * @param document the document to transcode @param uri the uri of the document or null if any @param output the ouput where to transcode @exception TranscoderException if an error occured while transcoding 
protected	TokenNameprotected	
void	TokenNamevoid	
transcode	TokenNameIdentifier	 transcode
(	TokenNameLPAREN	
Document	TokenNameIdentifier	 Document
document	TokenNameIdentifier	 document
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
TranscoderOutput	TokenNameIdentifier	 Transcoder Output
output	TokenNameIdentifier	 output
)	TokenNameRPAREN	
throws	TokenNamethrows	
TranscoderException	TokenNameIdentifier	 Transcoder Exception
{	TokenNameLBRACE	
// Sets up root, curTxf & curAoi 	TokenNameCOMMENT_LINE	Sets up root, curTxf & curAoi 
super	TokenNamesuper	
.	TokenNameDOT	
transcode	TokenNameIdentifier	 transcode
(	TokenNameLPAREN	
document	TokenNameIdentifier	 document
,	TokenNameCOMMA	
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
output	TokenNameIdentifier	 output
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// prepare the image to be painted 	TokenNameCOMMENT_LINE	prepare the image to be painted 
int	TokenNameint	
w	TokenNameIdentifier	 w
=	TokenNameEQUAL	
(	TokenNameLPAREN	
int	TokenNameint	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
width	TokenNameIdentifier	 width
+	TokenNamePLUS	
0.5	TokenNameDoubleLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
h	TokenNameIdentifier	 h
=	TokenNameEQUAL	
(	TokenNameLPAREN	
int	TokenNameint	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
height	TokenNameIdentifier	 height
+	TokenNamePLUS	
0.5	TokenNameDoubleLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// paint the SVG document using the bridge package 	TokenNameCOMMENT_LINE	paint the SVG document using the bridge package 
// create the appropriate renderer 	TokenNameCOMMENT_LINE	create the appropriate renderer 
ImageRenderer	TokenNameIdentifier	 Image Renderer
renderer	TokenNameIdentifier	 renderer
=	TokenNameEQUAL	
createRenderer	TokenNameIdentifier	 create Renderer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
renderer	TokenNameIdentifier	 renderer
.	TokenNameDOT	
updateOffScreen	TokenNameIdentifier	 update Off Screen
(	TokenNameLPAREN	
w	TokenNameIdentifier	 w
,	TokenNameCOMMA	
h	TokenNameIdentifier	 h
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// curTxf.translate(0.5, 0.5); 	TokenNameCOMMENT_LINE	curTxf.translate(0.5, 0.5); 
renderer	TokenNameIdentifier	 renderer
.	TokenNameDOT	
setTransform	TokenNameIdentifier	 set Transform
(	TokenNameLPAREN	
curTxf	TokenNameIdentifier	 cur Txf
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
renderer	TokenNameIdentifier	 renderer
.	TokenNameDOT	
setTree	TokenNameIdentifier	 set Tree
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
root	TokenNameIdentifier	 root
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
root	TokenNameIdentifier	 root
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// We're done with it... 	TokenNameCOMMENT_LINE	We're done with it... 
try	TokenNametry	
{	TokenNameLBRACE	
// now we are sure that the aoi is the image size 	TokenNameCOMMENT_LINE	now we are sure that the aoi is the image size 
Shape	TokenNameIdentifier	 Shape
raoi	TokenNameIdentifier	 raoi
=	TokenNameEQUAL	
new	TokenNamenew	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Float	TokenNameIdentifier	 Float
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
width	TokenNameIdentifier	 width
,	TokenNameCOMMA	
height	TokenNameIdentifier	 height
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Warning: the renderer's AOI must be in user space 	TokenNameCOMMENT_LINE	Warning: the renderer's AOI must be in user space 
renderer	TokenNameIdentifier	 renderer
.	TokenNameDOT	
repaint	TokenNameIdentifier	 repaint
(	TokenNameLPAREN	
curTxf	TokenNameIdentifier	 cur Txf
.	TokenNameDOT	
createInverse	TokenNameIdentifier	 create Inverse
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
createTransformedShape	TokenNameIdentifier	 create Transformed Shape
(	TokenNameLPAREN	
raoi	TokenNameIdentifier	 raoi
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BufferedImage	TokenNameIdentifier	 Buffered Image
rend	TokenNameIdentifier	 rend
=	TokenNameEQUAL	
renderer	TokenNameIdentifier	 renderer
.	TokenNameDOT	
getOffScreen	TokenNameIdentifier	 get Off Screen
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
renderer	TokenNameIdentifier	 renderer
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// We're done with it... 	TokenNameCOMMENT_LINE	We're done with it... 
BufferedImage	TokenNameIdentifier	 Buffered Image
dest	TokenNameIdentifier	 dest
=	TokenNameEQUAL	
createImage	TokenNameIdentifier	 create Image
(	TokenNameLPAREN	
w	TokenNameIdentifier	 w
,	TokenNameCOMMA	
h	TokenNameIdentifier	 h
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Graphics2D	TokenNameIdentifier	 Graphics2 D
g2d	TokenNameIdentifier	 g2d
=	TokenNameEQUAL	
GraphicsUtil	TokenNameIdentifier	 Graphics Util
.	TokenNameDOT	
createGraphics	TokenNameIdentifier	 create Graphics
(	TokenNameLPAREN	
dest	TokenNameIdentifier	 dest
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
hints	TokenNameIdentifier	 hints
.	TokenNameDOT	
containsKey	TokenNameIdentifier	 contains Key
(	TokenNameLPAREN	
KEY_BACKGROUND_COLOR	TokenNameIdentifier	 KEY  BACKGROUND  COLOR
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Paint	TokenNameIdentifier	 Paint
bgcolor	TokenNameIdentifier	 bgcolor
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Paint	TokenNameIdentifier	 Paint
)	TokenNameRPAREN	
hints	TokenNameIdentifier	 hints
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
KEY_BACKGROUND_COLOR	TokenNameIdentifier	 KEY  BACKGROUND  COLOR
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
setComposite	TokenNameIdentifier	 set Composite
(	TokenNameLPAREN	
AlphaComposite	TokenNameIdentifier	 Alpha Composite
.	TokenNameDOT	
SrcOver	TokenNameIdentifier	 Src Over
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
setPaint	TokenNameIdentifier	 set Paint
(	TokenNameLPAREN	
bgcolor	TokenNameIdentifier	 bgcolor
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
fillRect	TokenNameIdentifier	 fill Rect
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
w	TokenNameIdentifier	 w
,	TokenNameCOMMA	
h	TokenNameIdentifier	 h
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
rend	TokenNameIdentifier	 rend
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// might be null if the svg document is empty 	TokenNameCOMMENT_LINE	might be null if the svg document is empty 
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
drawRenderedImage	TokenNameIdentifier	 draw Rendered Image
(	TokenNameLPAREN	
rend	TokenNameIdentifier	 rend
,	TokenNameCOMMA	
new	TokenNamenew	
AffineTransform	TokenNameIdentifier	 Affine Transform
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
dispose	TokenNameIdentifier	 dispose
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
rend	TokenNameIdentifier	 rend
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// We're done with it... 	TokenNameCOMMENT_LINE	We're done with it... 
writeImage	TokenNameIdentifier	 write Image
(	TokenNameLPAREN	
dest	TokenNameIdentifier	 dest
,	TokenNameCOMMA	
output	TokenNameIdentifier	 output
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
ex	TokenNameIdentifier	 ex
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
TranscoderException	TokenNameIdentifier	 Transcoder Exception
(	TokenNameLPAREN	
ex	TokenNameIdentifier	 ex
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Method so subclasses can modify the Renderer used to render document. */	TokenNameCOMMENT_JAVADOC	 Method so subclasses can modify the Renderer used to render document. 
protected	TokenNameprotected	
ImageRenderer	TokenNameIdentifier	 Image Renderer
createRenderer	TokenNameIdentifier	 create Renderer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ImageRendererFactory	TokenNameIdentifier	 Image Renderer Factory
rendFactory	TokenNameIdentifier	 rend Factory
=	TokenNameEQUAL	
new	TokenNamenew	
ConcreteImageRendererFactory	TokenNameIdentifier	 Concrete Image Renderer Factory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// ImageRenderer renderer = rendFactory.createDynamicImageRenderer(); 	TokenNameCOMMENT_LINE	ImageRenderer renderer = rendFactory.createDynamicImageRenderer(); 
return	TokenNamereturn	
rendFactory	TokenNameIdentifier	 rend Factory
.	TokenNameDOT	
createStaticImageRenderer	TokenNameIdentifier	 create Static Image Renderer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Converts an image so that viewers which do not support the * alpha channel will see a white background (and not a black * one). * @param img the image to convert * @param sppsm */	TokenNameCOMMENT_JAVADOC	 Converts an image so that viewers which do not support the alpha channel will see a white background (and not a black one). @param img the image to convert @param sppsm 
protected	TokenNameprotected	
void	TokenNamevoid	
forceTransparentWhite	TokenNameIdentifier	 force Transparent White
(	TokenNameLPAREN	
BufferedImage	TokenNameIdentifier	 Buffered Image
img	TokenNameIdentifier	 img
,	TokenNameCOMMA	
SinglePixelPackedSampleModel	TokenNameIdentifier	 Single Pixel Packed Sample Model
sppsm	TokenNameIdentifier	 sppsm
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// 	TokenNameCOMMENT_LINE	 
// This is a trick so that viewers which do not support 	TokenNameCOMMENT_LINE	This is a trick so that viewers which do not support 
// the alpha channel will see a white background (and not 	TokenNameCOMMENT_LINE	the alpha channel will see a white background (and not 
// a black one). 	TokenNameCOMMENT_LINE	a black one). 
// 	TokenNameCOMMENT_LINE	 
int	TokenNameint	
w	TokenNameIdentifier	 w
=	TokenNameEQUAL	
img	TokenNameIdentifier	 img
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
h	TokenNameIdentifier	 h
=	TokenNameEQUAL	
img	TokenNameIdentifier	 img
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DataBufferInt	TokenNameIdentifier	 Data Buffer Int
biDB	TokenNameIdentifier	 bi DB
=	TokenNameEQUAL	
(	TokenNameLPAREN	
DataBufferInt	TokenNameIdentifier	 Data Buffer Int
)	TokenNameRPAREN	
img	TokenNameIdentifier	 img
.	TokenNameDOT	
getRaster	TokenNameIdentifier	 get Raster
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getDataBuffer	TokenNameIdentifier	 get Data Buffer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
scanStride	TokenNameIdentifier	 scan Stride
=	TokenNameEQUAL	
sppsm	TokenNameIdentifier	 sppsm
.	TokenNameDOT	
getScanlineStride	TokenNameIdentifier	 get Scanline Stride
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
dbOffset	TokenNameIdentifier	 db Offset
=	TokenNameEQUAL	
biDB	TokenNameIdentifier	 bi DB
.	TokenNameDOT	
getOffset	TokenNameIdentifier	 get Offset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
pixels	TokenNameIdentifier	 pixels
=	TokenNameEQUAL	
biDB	TokenNameIdentifier	 bi DB
.	TokenNameDOT	
getBankData	TokenNameIdentifier	 get Bank Data
(	TokenNameLPAREN	
)	TokenNameRPAREN	
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
int	TokenNameint	
p	TokenNameIdentifier	 p
=	TokenNameEQUAL	
dbOffset	TokenNameIdentifier	 db Offset
;	TokenNameSEMICOLON	
int	TokenNameint	
adjust	TokenNameIdentifier	 adjust
=	TokenNameEQUAL	
scanStride	TokenNameIdentifier	 scan Stride
-	TokenNameMINUS	
w	TokenNameIdentifier	 w
;	TokenNameSEMICOLON	
int	TokenNameint	
a	TokenNameIdentifier	 a
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
r	TokenNameIdentifier	 r
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
g	TokenNameIdentifier	 g
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
b	TokenNameIdentifier	 b
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
pel	TokenNameIdentifier	 pel
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
h	TokenNameIdentifier	 h
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
w	TokenNameIdentifier	 w
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
pel	TokenNameIdentifier	 pel
=	TokenNameEQUAL	
pixels	TokenNameIdentifier	 pixels
[	TokenNameLBRACKET	
p	TokenNameIdentifier	 p
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
a	TokenNameIdentifier	 a
=	TokenNameEQUAL	
(	TokenNameLPAREN	
pel	TokenNameIdentifier	 pel
>>	TokenNameRIGHT_SHIFT	
24	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
&	TokenNameAND	
0xff	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
r	TokenNameIdentifier	 r
=	TokenNameEQUAL	
(	TokenNameLPAREN	
pel	TokenNameIdentifier	 pel
>>	TokenNameRIGHT_SHIFT	
16	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
&	TokenNameAND	
0xff	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
g	TokenNameIdentifier	 g
=	TokenNameEQUAL	
(	TokenNameLPAREN	
pel	TokenNameIdentifier	 pel
>>	TokenNameRIGHT_SHIFT	
8	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
&	TokenNameAND	
0xff	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
b	TokenNameIdentifier	 b
=	TokenNameEQUAL	
pel	TokenNameIdentifier	 pel
&	TokenNameAND	
0xff	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
r	TokenNameIdentifier	 r
=	TokenNameEQUAL	
(	TokenNameLPAREN	
255	TokenNameIntegerLiteral	
*	TokenNameMULTIPLY	
(	TokenNameLPAREN	
255	TokenNameIntegerLiteral	
-	TokenNameMINUS	
a	TokenNameIdentifier	 a
)	TokenNameRPAREN	
+	TokenNamePLUS	
a	TokenNameIdentifier	 a
*	TokenNameMULTIPLY	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
/	TokenNameDIVIDE	
255	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
g	TokenNameIdentifier	 g
=	TokenNameEQUAL	
(	TokenNameLPAREN	
255	TokenNameIntegerLiteral	
*	TokenNameMULTIPLY	
(	TokenNameLPAREN	
255	TokenNameIntegerLiteral	
-	TokenNameMINUS	
a	TokenNameIdentifier	 a
)	TokenNameRPAREN	
+	TokenNamePLUS	
a	TokenNameIdentifier	 a
*	TokenNameMULTIPLY	
g	TokenNameIdentifier	 g
)	TokenNameRPAREN	
/	TokenNameDIVIDE	
255	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
b	TokenNameIdentifier	 b
=	TokenNameEQUAL	
(	TokenNameLPAREN	
255	TokenNameIntegerLiteral	
*	TokenNameMULTIPLY	
(	TokenNameLPAREN	
255	TokenNameIntegerLiteral	
-	TokenNameMINUS	
a	TokenNameIdentifier	 a
)	TokenNameRPAREN	
+	TokenNamePLUS	
a	TokenNameIdentifier	 a
*	TokenNameMULTIPLY	
b	TokenNameIdentifier	 b
)	TokenNameRPAREN	
/	TokenNameDIVIDE	
255	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
pixels	TokenNameIdentifier	 pixels
[	TokenNameLBRACKET	
p	TokenNameIdentifier	 p
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
(	TokenNameLPAREN	
a	TokenNameIdentifier	 a
<<	TokenNameLEFT_SHIFT	
24	TokenNameIntegerLiteral	
&	TokenNameAND	
0xff000000	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
|	TokenNameOR	
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
<<	TokenNameLEFT_SHIFT	
16	TokenNameIntegerLiteral	
&	TokenNameAND	
0xff0000	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
|	TokenNameOR	
(	TokenNameLPAREN	
g	TokenNameIdentifier	 g
<<	TokenNameLEFT_SHIFT	
8	TokenNameIntegerLiteral	
&	TokenNameAND	
0xff00	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
|	TokenNameOR	
(	TokenNameLPAREN	
b	TokenNameIdentifier	 b
&	TokenNameAND	
0xff	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
p	TokenNameIdentifier	 p
+=	TokenNamePLUS_EQUAL	
adjust	TokenNameIdentifier	 adjust
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Creates a new image with the specified dimension. * @param width the image width in pixels * @param height the image height in pixels */	TokenNameCOMMENT_JAVADOC	 Creates a new image with the specified dimension. @param width the image width in pixels @param height the image height in pixels 
public	TokenNamepublic	
abstract	TokenNameabstract	
BufferedImage	TokenNameIdentifier	 Buffered Image
createImage	TokenNameIdentifier	 create Image
(	TokenNameLPAREN	
int	TokenNameint	
width	TokenNameIdentifier	 width
,	TokenNameCOMMA	
int	TokenNameint	
height	TokenNameIdentifier	 height
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Writes the specified image to the specified output. * @param img the image to write * @param output the output where to store the image * @throws TranscoderException if an error occured while storing the image */	TokenNameCOMMENT_JAVADOC	 Writes the specified image to the specified output. @param img the image to write @param output the output where to store the image @throws TranscoderException if an error occured while storing the image 
public	TokenNamepublic	
abstract	TokenNameabstract	
void	TokenNamevoid	
writeImage	TokenNameIdentifier	 write Image
(	TokenNameLPAREN	
BufferedImage	TokenNameIdentifier	 Buffered Image
img	TokenNameIdentifier	 img
,	TokenNameCOMMA	
TranscoderOutput	TokenNameIdentifier	 Transcoder Output
output	TokenNameIdentifier	 output
)	TokenNameRPAREN	
throws	TokenNamethrows	
TranscoderException	TokenNameIdentifier	 Transcoder Exception
;	TokenNameSEMICOLON	
// -------------------------------------------------------------------- 	TokenNameCOMMENT_LINE	-------------------------------------------------------------------- 
// Keys definition 	TokenNameCOMMENT_LINE	Keys definition 
// -------------------------------------------------------------------- 	TokenNameCOMMENT_LINE	-------------------------------------------------------------------- 
/** * The image background paint key. * <TABLE BORDER="0" CELLSPACING="0" CELLPADDING="1"> * <TR> * <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Key: </TH> * <TD VALIGN="TOP">KEY_BACKGROUND_COLOR</TD></TR> * <TR> * <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Value: </TH> * <TD VALIGN="TOP">Paint</TD></TR> * <TR> * <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Default: </TH> * <TD VALIGN="TOP">null</TD></TR> * <TR> * <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Required: </TH> * <TD VALIGN="TOP">No</TD></TR> * <TR> * <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Description: </TH> * <TD VALIGN="TOP">Specify the background color to use. * The color is required by opaque image formats and is used by * image formats that support alpha channel.</TD></TR> * </TABLE> */	TokenNameCOMMENT_JAVADOC	 The image background paint key. <TABLE BORDER="0" CELLSPACING="0" CELLPADDING="1"> <TR> <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Key: </TH> <TD VALIGN="TOP">KEY_BACKGROUND_COLOR</TD></TR> <TR> <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Value: </TH> <TD VALIGN="TOP">Paint</TD></TR> <TR> <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Default: </TH> <TD VALIGN="TOP">null</TD></TR> <TR> <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Required: </TH> <TD VALIGN="TOP">No</TD></TR> <TR> <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Description: </TH> <TD VALIGN="TOP">Specify the background color to use. The color is required by opaque image formats and is used by image formats that support alpha channel.</TD></TR> </TABLE> 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
TranscodingHints	TokenNameIdentifier	 Transcoding Hints
.	TokenNameDOT	
Key	TokenNameIdentifier	 Key
KEY_BACKGROUND_COLOR	TokenNameIdentifier	 KEY  BACKGROUND  COLOR
=	TokenNameEQUAL	
new	TokenNamenew	
PaintKey	TokenNameIdentifier	 Paint Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * The forceTransparentWhite key. * * <TABLE BORDER="0" CELLSPACING="0" CELLPADDING="1"> * <TR> * <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Key: </TH> * <TD VALIGN="TOP">KEY_FORCE_TRANSPARENT_WHITE</TD></TR> * <TR> * <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Value: </TH> * <TD VALIGN="TOP">Boolean</TD></TR> * <TR> * <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Default: </TH> * <TD VALIGN="TOP">false</TD></TR> * <TR> * <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Required: </TH> * <TD VALIGN="TOP">No</TD></TR> * <TR> * <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Description: </TH> * <TD VALIGN="TOP">It controls whether the encoder should force * the image's fully transparent pixels to be fully transparent * white instead of fully transparent black. This is usefull when * the encoded file is displayed in a browser which does not * support transparency correctly and lets the image display with * a white background instead of a black background. <br /> * * However, note that the modified image will display differently * over a white background in a viewer that supports * transparency.<br/> * * Not all Transcoders use this key (in particular some formats * can't preserve the alpha channel at all in which case this * is not used. * </TD></TR> * </TABLE> */	TokenNameCOMMENT_JAVADOC	 The forceTransparentWhite key. * <TABLE BORDER="0" CELLSPACING="0" CELLPADDING="1"> <TR> <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Key: </TH> <TD VALIGN="TOP">KEY_FORCE_TRANSPARENT_WHITE</TD></TR> <TR> <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Value: </TH> <TD VALIGN="TOP">Boolean</TD></TR> <TR> <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Default: </TH> <TD VALIGN="TOP">false</TD></TR> <TR> <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Required: </TH> <TD VALIGN="TOP">No</TD></TR> <TR> <TH VALIGN="TOP" ALIGN="RIGHT"><P ALIGN="RIGHT">Description: </TH> <TD VALIGN="TOP">It controls whether the encoder should force the image's fully transparent pixels to be fully transparent white instead of fully transparent black. This is usefull when the encoded file is displayed in a browser which does not support transparency correctly and lets the image display with a white background instead of a black background. <br /> * However, note that the modified image will display differently over a white background in a viewer that supports transparency.<br/> * Not all Transcoders use this key (in particular some formats can't preserve the alpha channel at all in which case this is not used. </TD></TR> </TABLE> 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
TranscodingHints	TokenNameIdentifier	 Transcoding Hints
.	TokenNameDOT	
Key	TokenNameIdentifier	 Key
KEY_FORCE_TRANSPARENT_WHITE	TokenNameIdentifier	 KEY  FORCE  TRANSPARENT  WHITE
=	TokenNameEQUAL	
new	TokenNamenew	
BooleanKey	TokenNameIdentifier	 Boolean Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
