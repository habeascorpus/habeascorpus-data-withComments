package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
example	TokenNameIdentifier	 example
.	TokenNameDOT	
merge	TokenNameIdentifier	 merge
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
IndexReader	TokenNameIdentifier	 Index Reader
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
IndexWriter	TokenNameIdentifier	 Index Writer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
IndexWriterConfig	TokenNameIdentifier	 Index Writer Config
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
PayloadProcessorProvider	TokenNameIdentifier	 Payload Processor Provider
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
store	TokenNameIdentifier	 store
.	TokenNameDOT	
Directory	TokenNameIdentifier	 Directory
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
example	TokenNameIdentifier	 example
.	TokenNameDOT	
ExampleUtils	TokenNameIdentifier	 Example Utils
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
FacetsPayloadProcessorProvider	TokenNameIdentifier	 Facets Payload Processor Provider
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
params	TokenNameIdentifier	 params
.	TokenNameDOT	
DefaultFacetIndexingParams	TokenNameIdentifier	 Default Facet Indexing Params
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
taxonomy	TokenNameIdentifier	 taxonomy
.	TokenNameDOT	
directory	TokenNameIdentifier	 directory
.	TokenNameDOT	
DirectoryTaxonomyWriter	TokenNameIdentifier	 Directory Taxonomy Writer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
taxonomy	TokenNameIdentifier	 taxonomy
.	TokenNameDOT	
directory	TokenNameIdentifier	 directory
.	TokenNameDOT	
DirectoryTaxonomyWriter	TokenNameIdentifier	 Directory Taxonomy Writer
.	TokenNameDOT	
DiskOrdinalMap	TokenNameIdentifier	 Disk Ordinal Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
taxonomy	TokenNameIdentifier	 taxonomy
.	TokenNameDOT	
directory	TokenNameIdentifier	 directory
.	TokenNameDOT	
DirectoryTaxonomyWriter	TokenNameIdentifier	 Directory Taxonomy Writer
.	TokenNameDOT	
MemoryOrdinalMap	TokenNameIdentifier	 Memory Ordinal Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
taxonomy	TokenNameIdentifier	 taxonomy
.	TokenNameDOT	
directory	TokenNameIdentifier	 directory
.	TokenNameDOT	
DirectoryTaxonomyWriter	TokenNameIdentifier	 Directory Taxonomy Writer
.	TokenNameDOT	
OrdinalMap	TokenNameIdentifier	 Ordinal Map
;	TokenNameSEMICOLON	
/** * Licensed to the Apache Software Foundation (ASF) under one or more * contributor license agreements. See the NOTICE file distributed with * this work for additional information regarding copyright ownership. * The ASF licenses this file to You under the Apache License, Version 2.0 * (the "License"); you may not use this file except in compliance with * the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_JAVADOC	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
/** * @lucene.experimental */	TokenNameCOMMENT_JAVADOC	 @lucene.experimental 
public	TokenNamepublic	
class	TokenNameclass	
TaxonomyMergeUtils	TokenNameIdentifier	 Taxonomy Merge Utils
{	TokenNameLBRACE	
/** * Merges the given taxonomy and index directories. Note that this method * opens {@link DirectoryTaxonomyWriter} and {@link IndexWriter} on the * respective destination indexes. Therefore if you have a writer open on any * of them, it should be closed, or you should use * {@link #merge(Directory, Directory, IndexWriter, DirectoryTaxonomyWriter)} * instead. * * @see #merge(Directory, Directory, IndexWriter, DirectoryTaxonomyWriter) */	TokenNameCOMMENT_JAVADOC	 Merges the given taxonomy and index directories. Note that this method opens {@link DirectoryTaxonomyWriter} and {@link IndexWriter} on the respective destination indexes. Therefore if you have a writer open on any of them, it should be closed, or you should use {@link #merge(Directory, Directory, IndexWriter, DirectoryTaxonomyWriter)} instead. * @see #merge(Directory, Directory, IndexWriter, DirectoryTaxonomyWriter) 
public	TokenNamepublic	
static	TokenNamestatic	
void	TokenNamevoid	
merge	TokenNameIdentifier	 merge
(	TokenNameLPAREN	
Directory	TokenNameIdentifier	 Directory
srcIndexDir	TokenNameIdentifier	 src Index Dir
,	TokenNameCOMMA	
Directory	TokenNameIdentifier	 Directory
srcTaxDir	TokenNameIdentifier	 src Tax Dir
,	TokenNameCOMMA	
Directory	TokenNameIdentifier	 Directory
destIndexDir	TokenNameIdentifier	 dest Index Dir
,	TokenNameCOMMA	
Directory	TokenNameIdentifier	 Directory
destTaxDir	TokenNameIdentifier	 dest Tax Dir
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
IndexWriter	TokenNameIdentifier	 Index Writer
destIndexWriter	TokenNameIdentifier	 dest Index Writer
=	TokenNameEQUAL	
new	TokenNamenew	
IndexWriter	TokenNameIdentifier	 Index Writer
(	TokenNameLPAREN	
destIndexDir	TokenNameIdentifier	 dest Index Dir
,	TokenNameCOMMA	
new	TokenNamenew	
IndexWriterConfig	TokenNameIdentifier	 Index Writer Config
(	TokenNameLPAREN	
ExampleUtils	TokenNameIdentifier	 Example Utils
.	TokenNameDOT	
EXAMPLE_VER	TokenNameIdentifier	 EXAMPLE  VER
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DirectoryTaxonomyWriter	TokenNameIdentifier	 Directory Taxonomy Writer
destTaxWriter	TokenNameIdentifier	 dest Tax Writer
=	TokenNameEQUAL	
new	TokenNamenew	
DirectoryTaxonomyWriter	TokenNameIdentifier	 Directory Taxonomy Writer
(	TokenNameLPAREN	
destTaxDir	TokenNameIdentifier	 dest Tax Dir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
merge	TokenNameIdentifier	 merge
(	TokenNameLPAREN	
srcIndexDir	TokenNameIdentifier	 src Index Dir
,	TokenNameCOMMA	
srcTaxDir	TokenNameIdentifier	 src Tax Dir
,	TokenNameCOMMA	
new	TokenNamenew	
MemoryOrdinalMap	TokenNameIdentifier	 Memory Ordinal Map
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
destIndexWriter	TokenNameIdentifier	 dest Index Writer
,	TokenNameCOMMA	
destTaxWriter	TokenNameIdentifier	 dest Tax Writer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
destTaxWriter	TokenNameIdentifier	 dest Tax Writer
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
destIndexWriter	TokenNameIdentifier	 dest Index Writer
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Merges the given taxonomy and index directories and commits the changes to * the given writers. This method uses {@link MemoryOrdinalMap} to store the * mapped ordinals. If you cannot afford the memory, you can use * {@link #merge(Directory, Directory, DirectoryTaxonomyWriter.OrdinalMap, IndexWriter, DirectoryTaxonomyWriter)} * by passing {@link DiskOrdinalMap}. * * @see #merge(Directory, Directory, DirectoryTaxonomyWriter.OrdinalMap, IndexWriter, DirectoryTaxonomyWriter) */	TokenNameCOMMENT_JAVADOC	 Merges the given taxonomy and index directories and commits the changes to the given writers. This method uses {@link MemoryOrdinalMap} to store the mapped ordinals. If you cannot afford the memory, you can use {@link #merge(Directory, Directory, DirectoryTaxonomyWriter.OrdinalMap, IndexWriter, DirectoryTaxonomyWriter)} by passing {@link DiskOrdinalMap}. * @see #merge(Directory, Directory, DirectoryTaxonomyWriter.OrdinalMap, IndexWriter, DirectoryTaxonomyWriter) 
public	TokenNamepublic	
static	TokenNamestatic	
void	TokenNamevoid	
merge	TokenNameIdentifier	 merge
(	TokenNameLPAREN	
Directory	TokenNameIdentifier	 Directory
srcIndexDir	TokenNameIdentifier	 src Index Dir
,	TokenNameCOMMA	
Directory	TokenNameIdentifier	 Directory
srcTaxDir	TokenNameIdentifier	 src Tax Dir
,	TokenNameCOMMA	
IndexWriter	TokenNameIdentifier	 Index Writer
destIndexWriter	TokenNameIdentifier	 dest Index Writer
,	TokenNameCOMMA	
DirectoryTaxonomyWriter	TokenNameIdentifier	 Directory Taxonomy Writer
destTaxWriter	TokenNameIdentifier	 dest Tax Writer
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
merge	TokenNameIdentifier	 merge
(	TokenNameLPAREN	
srcIndexDir	TokenNameIdentifier	 src Index Dir
,	TokenNameCOMMA	
srcTaxDir	TokenNameIdentifier	 src Tax Dir
,	TokenNameCOMMA	
new	TokenNamenew	
MemoryOrdinalMap	TokenNameIdentifier	 Memory Ordinal Map
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
destIndexWriter	TokenNameIdentifier	 dest Index Writer
,	TokenNameCOMMA	
destTaxWriter	TokenNameIdentifier	 dest Tax Writer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Merges the given taxonomy and index directories and commits the changes to * the given writers. */	TokenNameCOMMENT_JAVADOC	 Merges the given taxonomy and index directories and commits the changes to the given writers. 
public	TokenNamepublic	
static	TokenNamestatic	
void	TokenNamevoid	
merge	TokenNameIdentifier	 merge
(	TokenNameLPAREN	
Directory	TokenNameIdentifier	 Directory
srcIndexDir	TokenNameIdentifier	 src Index Dir
,	TokenNameCOMMA	
Directory	TokenNameIdentifier	 Directory
srcTaxDir	TokenNameIdentifier	 src Tax Dir
,	TokenNameCOMMA	
OrdinalMap	TokenNameIdentifier	 Ordinal Map
map	TokenNameIdentifier	 map
,	TokenNameCOMMA	
IndexWriter	TokenNameIdentifier	 Index Writer
destIndexWriter	TokenNameIdentifier	 dest Index Writer
,	TokenNameCOMMA	
DirectoryTaxonomyWriter	TokenNameIdentifier	 Directory Taxonomy Writer
destTaxWriter	TokenNameIdentifier	 dest Tax Writer
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
// merge the taxonomies 	TokenNameCOMMENT_LINE	merge the taxonomies 
destTaxWriter	TokenNameIdentifier	 dest Tax Writer
.	TokenNameDOT	
addTaxonomy	TokenNameIdentifier	 add Taxonomy
(	TokenNameLPAREN	
srcTaxDir	TokenNameIdentifier	 src Tax Dir
,	TokenNameCOMMA	
map	TokenNameIdentifier	 map
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
PayloadProcessorProvider	TokenNameIdentifier	 Payload Processor Provider
payloadProcessor	TokenNameIdentifier	 payload Processor
=	TokenNameEQUAL	
new	TokenNamenew	
FacetsPayloadProcessorProvider	TokenNameIdentifier	 Facets Payload Processor Provider
(	TokenNameLPAREN	
srcIndexDir	TokenNameIdentifier	 src Index Dir
,	TokenNameCOMMA	
map	TokenNameIdentifier	 map
.	TokenNameDOT	
getMap	TokenNameIdentifier	 get Map
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
DefaultFacetIndexingParams	TokenNameIdentifier	 Default Facet Indexing Params
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
destIndexWriter	TokenNameIdentifier	 dest Index Writer
.	TokenNameDOT	
setPayloadProcessorProvider	TokenNameIdentifier	 set Payload Processor Provider
(	TokenNameLPAREN	
payloadProcessor	TokenNameIdentifier	 payload Processor
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
IndexReader	TokenNameIdentifier	 Index Reader
reader	TokenNameIdentifier	 reader
=	TokenNameEQUAL	
IndexReader	TokenNameIdentifier	 Index Reader
.	TokenNameDOT	
open	TokenNameIdentifier	 open
(	TokenNameLPAREN	
srcIndexDir	TokenNameIdentifier	 src Index Dir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
destIndexWriter	TokenNameIdentifier	 dest Index Writer
.	TokenNameDOT	
addIndexes	TokenNameIdentifier	 add Indexes
(	TokenNameLPAREN	
reader	TokenNameIdentifier	 reader
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// commit changes to taxonomy and index respectively. 	TokenNameCOMMENT_LINE	commit changes to taxonomy and index respectively. 
destTaxWriter	TokenNameIdentifier	 dest Tax Writer
.	TokenNameDOT	
commit	TokenNameIdentifier	 commit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
destIndexWriter	TokenNameIdentifier	 dest Index Writer
.	TokenNameDOT	
commit	TokenNameIdentifier	 commit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
reader	TokenNameIdentifier	 reader
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
