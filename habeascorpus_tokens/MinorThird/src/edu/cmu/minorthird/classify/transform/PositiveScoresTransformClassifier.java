package	TokenNamepackage	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
File	TokenNameIdentifier	 File
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
Serializable	TokenNameIdentifier	 Serializable
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Iterator	TokenNameIdentifier	 Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
BasicDataset	TokenNameIdentifier	 Basic Dataset
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
ClassLabel	TokenNameIdentifier	 Class Label
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
Classifier	TokenNameIdentifier	 Classifier
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
ClassifierLearner	TokenNameIdentifier	 Classifier Learner
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
Dataset	TokenNameIdentifier	 Dataset
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
DatasetClassifierTeacher	TokenNameIdentifier	 Dataset Classifier Teacher
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
Example	TokenNameIdentifier	 Example
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
Explanation	TokenNameIdentifier	 Explanation
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
Feature	TokenNameIdentifier	 Feature
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
Instance	TokenNameIdentifier	 Instance
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
MutableInstance	TokenNameIdentifier	 Mutable Instance
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
Splitter	TokenNameIdentifier	 Splitter
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
algorithms	TokenNameIdentifier	 algorithms
.	TokenNameDOT	
linear	TokenNameIdentifier	 linear
.	TokenNameDOT	
Hyperplane	TokenNameIdentifier	 Hyperplane
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
algorithms	TokenNameIdentifier	 algorithms
.	TokenNameDOT	
linear	TokenNameIdentifier	 linear
.	TokenNameDOT	
VotedPerceptron	TokenNameIdentifier	 Voted Perceptron
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
experiments	TokenNameIdentifier	 experiments
.	TokenNameDOT	
Evaluation	TokenNameIdentifier	 Evaluation
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
classify	TokenNameIdentifier	 classify
.	TokenNameDOT	
experiments	TokenNameIdentifier	 experiments
.	TokenNameDOT	
Expt	TokenNameIdentifier	 Expt
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
Span	TokenNameIdentifier	 Span
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
TextBase	TokenNameIdentifier	 Text Base
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
TextLabels	TokenNameIdentifier	 Text Labels
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
learn	TokenNameIdentifier	 learn
.	TokenNameDOT	
SpanFeatureExtractor	TokenNameIdentifier	 Span Feature Extractor
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
LineProcessingUtil	TokenNameIdentifier	 Line Processing Util
;	TokenNameSEMICOLON	
/** * @author Vitor R. Carvalho * * Classifiers that, from a linear binary classfier, perform the classification of new instances * by disregarding all features whose hyperplane axis are negative. * * */	TokenNameCOMMENT_JAVADOC	 @author Vitor R. Carvalho * Classifiers that, from a linear binary classfier, perform the classification of new instances by disregarding all features whose hyperplane axis are negative. * 
public	TokenNamepublic	
class	TokenNameclass	
PositiveScoresTransformClassifier	TokenNameIdentifier	 Positive Scores Transform Classifier
implements	TokenNameimplements	
Classifier	TokenNameIdentifier	 Classifier
,	TokenNameCOMMA	
Serializable	TokenNameIdentifier	 Serializable
{	TokenNameLBRACE	
static	TokenNamestatic	
private	TokenNameprivate	
final	TokenNamefinal	
long	TokenNamelong	
serialVersionUID	TokenNameIdentifier	 serial Version UID
=	TokenNameEQUAL	
20080201L	TokenNameLongLiteral	
;	TokenNameSEMICOLON	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
double	TokenNamedouble	
threshold	TokenNameIdentifier	 threshold
;	TokenNameSEMICOLON	
//positive threshold, instead of zero 	TokenNameCOMMENT_LINE	positive threshold, instead of zero 
private	TokenNameprivate	
Hyperplane	TokenNameIdentifier	 Hyperplane
hyp	TokenNameIdentifier	 hyp
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
double	TokenNamedouble	
minFeatScore	TokenNameIdentifier	 min Feat Score
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
//constructor 	TokenNameCOMMENT_LINE	constructor 
public	TokenNamepublic	
PositiveScoresTransformClassifier	TokenNameIdentifier	 Positive Scores Transform Classifier
(	TokenNameLPAREN	
Classifier	TokenNameIdentifier	 Classifier
c	TokenNameIdentifier	 c
,	TokenNameCOMMA	
Dataset	TokenNameIdentifier	 Dataset
data	TokenNameIdentifier	 data
)	TokenNameRPAREN	
{	TokenNameLBRACE	
hyp	TokenNameIdentifier	 hyp
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Hyperplane	TokenNameIdentifier	 Hyperplane
)	TokenNameRPAREN	
c	TokenNameIdentifier	 c
;	TokenNameSEMICOLON	
//optional: just for fun, change meanFeatScore - never tested 	TokenNameCOMMENT_LINE	optional: just for fun, change meanFeatScore - never tested 
//minFeatScore = calculateMinFeatScore(data, 0.5); 	TokenNameCOMMENT_LINE	minFeatScore = calculateMinFeatScore(data, 0.5); 
threshold	TokenNameIdentifier	 threshold
=	TokenNameEQUAL	
calculatePositiveThreshold	TokenNameIdentifier	 calculate Positive Threshold
(	TokenNameLPAREN	
data	TokenNameIdentifier	 data
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Threshold = "	TokenNameStringLiteral	Threshold = 
+	TokenNamePLUS	
threshold	TokenNameIdentifier	 threshold
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
ClassLabel	TokenNameIdentifier	 Class Label
classification	TokenNameIdentifier	 classification
(	TokenNameLPAREN	
Instance	TokenNameIdentifier	 Instance
instance	TokenNameIdentifier	 instance
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
score	TokenNameIdentifier	 score
(	TokenNameLPAREN	
instance	TokenNameIdentifier	 instance
,	TokenNameCOMMA	
minFeatScore	TokenNameIdentifier	 min Feat Score
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
th	TokenNameIdentifier	 th
=	TokenNameEQUAL	
s	TokenNameIdentifier	 s
-	TokenNameMINUS	
threshold	TokenNameIdentifier	 threshold
;	TokenNameSEMICOLON	
return	TokenNamereturn	
s	TokenNameIdentifier	 s
>=	TokenNameGREATER_EQUAL	
threshold	TokenNameIdentifier	 threshold
?	TokenNameQUESTION	
ClassLabel	TokenNameIdentifier	 Class Label
.	TokenNameDOT	
positiveLabel	TokenNameIdentifier	 positive Label
(	TokenNameLPAREN	
th	TokenNameIdentifier	 th
)	TokenNameRPAREN	
:	TokenNameCOLON	
ClassLabel	TokenNameIdentifier	 Class Label
.	TokenNameDOT	
negativeLabel	TokenNameIdentifier	 negative Label
(	TokenNameLPAREN	
th	TokenNameIdentifier	 th
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//need to change 	TokenNameCOMMENT_LINE	need to change 
//return s>=threshold ? ClassLabel.positiveLabel(s) : ClassLabel.negativeLabel(s); 	TokenNameCOMMENT_LINE	return s>=threshold ? ClassLabel.positiveLabel(s) : ClassLabel.negativeLabel(s); 
}	TokenNameRBRACE	
/** * iterate over training data to discover positive threshold. * the threshold is the weighted average between positive and negative mean scores */	TokenNameCOMMENT_JAVADOC	 iterate over training data to discover positive threshold. the threshold is the weighted average between positive and negative mean scores 
public	TokenNamepublic	
double	TokenNamedouble	
calculatePositiveThreshold	TokenNameIdentifier	 calculate Positive Threshold
(	TokenNameLPAREN	
Dataset	TokenNameIdentifier	 Dataset
data	TokenNameIdentifier	 data
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
posScore	TokenNameIdentifier	 pos Score
=	TokenNameEQUAL	
0.0	TokenNameDoubleLiteral	
,	TokenNameCOMMA	
negScore	TokenNameIdentifier	 neg Score
=	TokenNameEQUAL	
0.0	TokenNameDoubleLiteral	
;	TokenNameSEMICOLON	
int	TokenNameint	
numPos	TokenNameIdentifier	 num Pos
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
numNeg	TokenNameIdentifier	 num Neg
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Example	TokenNameIdentifier	 Example
>	TokenNameGREATER	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
data	TokenNameIdentifier	 data
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Example	TokenNameIdentifier	 Example
ex	TokenNameIdentifier	 ex
=	TokenNameEQUAL	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Instance	TokenNameIdentifier	 Instance
inst	TokenNameIdentifier	 inst
=	TokenNameEQUAL	
ex	TokenNameIdentifier	 ex
.	TokenNameDOT	
asInstance	TokenNameIdentifier	 as Instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
ex	TokenNameIdentifier	 ex
.	TokenNameDOT	
getLabel	TokenNameIdentifier	 get Label
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
isPositive	TokenNameIdentifier	 is Positive
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
numPos	TokenNameIdentifier	 num Pos
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
posScore	TokenNameIdentifier	 pos Score
+=	TokenNamePLUS_EQUAL	
score	TokenNameIdentifier	 score
(	TokenNameLPAREN	
inst	TokenNameIdentifier	 inst
,	TokenNameCOMMA	
minFeatScore	TokenNameIdentifier	 min Feat Score
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
numNeg	TokenNameIdentifier	 num Neg
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
negScore	TokenNameIdentifier	 neg Score
+=	TokenNamePLUS_EQUAL	
score	TokenNameIdentifier	 score
(	TokenNameLPAREN	
inst	TokenNameIdentifier	 inst
,	TokenNameCOMMA	
minFeatScore	TokenNameIdentifier	 min Feat Score
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
//calculate means 	TokenNameCOMMENT_LINE	calculate means 
double	TokenNamedouble	
negTh	TokenNameIdentifier	 neg Th
=	TokenNameEQUAL	
(	TokenNameLPAREN	
negScore	TokenNameIdentifier	 neg Score
/	TokenNameDIVIDE	
numNeg	TokenNameIdentifier	 num Neg
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
posTh	TokenNameIdentifier	 pos Th
=	TokenNameEQUAL	
(	TokenNameLPAREN	
posScore	TokenNameIdentifier	 pos Score
/	TokenNameDIVIDE	
numPos	TokenNameIdentifier	 num Pos
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//System.out.println("posTh/negTh = "+posTh+" / "+negTh); 	TokenNameCOMMENT_LINE	System.out.println("posTh/negTh = "+posTh+" / "+negTh); 
//double myTh = (negTh+posTh)/2; //simple average 	TokenNameCOMMENT_LINE	double myTh = (negTh+posTh)/2; //simple average 
double	TokenNamedouble	
myTh	TokenNameIdentifier	 my Th
=	TokenNameEQUAL	
(	TokenNameLPAREN	
negTh	TokenNameIdentifier	 neg Th
*	TokenNameMULTIPLY	
numPos	TokenNameIdentifier	 num Pos
+	TokenNamePLUS	
posTh	TokenNameIdentifier	 pos Th
*	TokenNameMULTIPLY	
numNeg	TokenNameIdentifier	 num Neg
)	TokenNameRPAREN	
/	TokenNameDIVIDE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
numPos	TokenNameIdentifier	 num Pos
+	TokenNamePLUS	
numNeg	TokenNameIdentifier	 num Neg
)	TokenNameRPAREN	
*	TokenNameMULTIPLY	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//a weighted average 	TokenNameCOMMENT_LINE	a weighted average 
return	TokenNamereturn	
myTh	TokenNameIdentifier	 my Th
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Finds the maximum positive axis weigth of hyperplane and * calculates minFeatScore based on percentage this value * * this was never tested! * */	TokenNameCOMMENT_JAVADOC	 Finds the maximum positive axis weigth of hyperplane and calculates minFeatScore based on percentage this value * this was never tested! 
// private double calculateMinFeatScore(Dataset data,double percent){ 	TokenNameCOMMENT_LINE	private double calculateMinFeatScore(Dataset data,double percent){ 
// double lastMax=0.0; 	TokenNameCOMMENT_LINE	double lastMax=0.0; 
// if((percent>1)||(percent<0)){ 	TokenNameCOMMENT_LINE	if((percent>1)||(percent<0)){ 
// System.out.println("ERROR ; percentage should be a valid number[0,1]"); 	TokenNameCOMMENT_LINE	System.out.println("ERROR ; percentage should be a valid number[0,1]"); 
// return 0; 	TokenNameCOMMENT_LINE	return 0; 
// } 	TokenNameCOMMENT_LINE	} 
// for(Iterator<Feature> i=hyp.featureIterator();i.hasNext();){ 	TokenNameCOMMENT_LINE	for(Iterator<Feature> i=hyp.featureIterator();i.hasNext();){ 
// Feature f=i.next(); 	TokenNameCOMMENT_LINE	Feature f=i.next(); 
// double aa=hyp.featureScore(f); 	TokenNameCOMMENT_LINE	double aa=hyp.featureScore(f); 
// if(lastMax<aa) 	TokenNameCOMMENT_LINE	if(lastMax<aa) 
// lastMax=aa; 	TokenNameCOMMENT_LINE	lastMax=aa; 
// } 	TokenNameCOMMENT_LINE	} 
// double b=lastMax*percent; 	TokenNameCOMMENT_LINE	double b=lastMax*percent; 
// System.out.println("lastMAx = "+b); 	TokenNameCOMMENT_LINE	System.out.println("lastMAx = "+b); 
// return b; 	TokenNameCOMMENT_LINE	return b; 
// 	TokenNameCOMMENT_LINE	 
// } 	TokenNameCOMMENT_LINE	} 
public	TokenNamepublic	
double	TokenNamedouble	
score	TokenNameIdentifier	 score
(	TokenNameLPAREN	
Instance	TokenNameIdentifier	 Instance
instance	TokenNameIdentifier	 instance
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
score	TokenNameIdentifier	 score
(	TokenNameLPAREN	
instance	TokenNameIdentifier	 instance
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** Inner product of hyperplane and instance weights, disregarding * the negative dimensions of hyperplane. */	TokenNameCOMMENT_JAVADOC	 Inner product of hyperplane and instance weights, disregarding the negative dimensions of hyperplane. 
public	TokenNamepublic	
double	TokenNamedouble	
score	TokenNameIdentifier	 score
(	TokenNameLPAREN	
Instance	TokenNameIdentifier	 Instance
instance	TokenNameIdentifier	 instance
,	TokenNameCOMMA	
double	TokenNamedouble	
minFeatScore	TokenNameIdentifier	 min Feat Score
)	TokenNameRPAREN	
{	TokenNameLBRACE	
double	TokenNamedouble	
score	TokenNameIdentifier	 score
=	TokenNameEQUAL	
0.0	TokenNameDoubleLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Feature	TokenNameIdentifier	 Feature
>	TokenNameGREATER	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
instance	TokenNameIdentifier	 instance
.	TokenNameDOT	
featureIterator	TokenNameIdentifier	 feature Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Feature	TokenNameIdentifier	 Feature
f	TokenNameIdentifier	 f
=	TokenNameEQUAL	
j	TokenNameIdentifier	 j
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//only positive dimensions of hyperplane 	TokenNameCOMMENT_LINE	only positive dimensions of hyperplane 
if	TokenNameif	
(	TokenNameLPAREN	
hyp	TokenNameIdentifier	 hyp
.	TokenNameDOT	
featureScore	TokenNameIdentifier	 feature Score
(	TokenNameLPAREN	
f	TokenNameIdentifier	 f
)	TokenNameRPAREN	
>	TokenNameGREATER	
minFeatScore	TokenNameIdentifier	 min Feat Score
)	TokenNameRPAREN	
{	TokenNameLBRACE	
score	TokenNameIdentifier	 score
+=	TokenNamePLUS_EQUAL	
instance	TokenNameIdentifier	 instance
.	TokenNameDOT	
getWeight	TokenNameIdentifier	 get Weight
(	TokenNameLPAREN	
f	TokenNameIdentifier	 f
)	TokenNameRPAREN	
*	TokenNameMULTIPLY	
hyp	TokenNameIdentifier	 hyp
.	TokenNameDOT	
featureScore	TokenNameIdentifier	 feature Score
(	TokenNameLPAREN	
f	TokenNameIdentifier	 f
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
score	TokenNameIdentifier	 score
+=	TokenNamePLUS_EQUAL	
hyp	TokenNameIdentifier	 hyp
.	TokenNameDOT	
featureScore	TokenNameIdentifier	 feature Score
(	TokenNameLPAREN	
Hyperplane	TokenNameIdentifier	 Hyperplane
.	TokenNameDOT	
BIAS_TERM	TokenNameIdentifier	 BIAS  TERM
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
score	TokenNameIdentifier	 score
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
String	TokenNameIdentifier	 String
explain	TokenNameIdentifier	 explain
(	TokenNameLPAREN	
Instance	TokenNameIdentifier	 Instance
instance	TokenNameIdentifier	 instance
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
"classify using only features with positive hyperplane weights"	TokenNameStringLiteral	classify using only features with positive hyperplane weights
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
Explanation	TokenNameIdentifier	 Explanation
getExplanation	TokenNameIdentifier	 get Explanation
(	TokenNameLPAREN	
Instance	TokenNameIdentifier	 Instance
instance	TokenNameIdentifier	 instance
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Explanation	TokenNameIdentifier	 Explanation
ex	TokenNameIdentifier	 ex
=	TokenNameEQUAL	
new	TokenNamenew	
Explanation	TokenNameIdentifier	 Explanation
(	TokenNameLPAREN	
explain	TokenNameIdentifier	 explain
(	TokenNameLPAREN	
instance	TokenNameIdentifier	 instance
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
ex	TokenNameIdentifier	 ex
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// private static void usage(){ 	TokenNameCOMMENT_LINE	private static void usage(){ 
// System.out.println("PositiveScoresTransformClassifier dataset"); 	TokenNameCOMMENT_LINE	System.out.println("PositiveScoresTransformClassifier dataset"); 
// } 	TokenNameCOMMENT_LINE	} 
public	TokenNamepublic	
static	TokenNamestatic	
void	TokenNamevoid	
main	TokenNameIdentifier	 main
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
args	TokenNameIdentifier	 args
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
args	TokenNameIdentifier	 args
.	TokenNameDOT	
length	TokenNameIdentifier	 length
<	TokenNameLESS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
args	TokenNameIdentifier	 args
.	TokenNameDOT	
length	TokenNameIdentifier	 length
>	TokenNameGREATER	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Usage: PositiveScoresTransformClassifier classname"	TokenNameStringLiteral	Usage: PositiveScoresTransformClassifier classname
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
mytag	TokenNameIdentifier	 mytag
=	TokenNameEQUAL	
args	TokenNameIdentifier	 args
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
Dataset	TokenNameIdentifier	 Dataset
dataset	TokenNameIdentifier	 dataset
=	TokenNameEQUAL	
new	TokenNamenew	
BasicDataset	TokenNameIdentifier	 Basic Dataset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
SpanFeatureExtractor	TokenNameIdentifier	 Span Feature Extractor
fe	TokenNameIdentifier	 fe
=	TokenNameEQUAL	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
learn	TokenNameIdentifier	 learn
.	TokenNameDOT	
SampleFE	TokenNameIdentifier	 Sample FE
.	TokenNameDOT	
BAG_OF_LC_WORDS	TokenNameIdentifier	 BAG  OF  LC  WORDS
;	TokenNameSEMICOLON	
TextLabels	TokenNameIdentifier	 Text Labels
labels	TokenNameIdentifier	 labels
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
labels	TokenNameIdentifier	 labels
=	TokenNameEQUAL	
LineProcessingUtil	TokenNameIdentifier	 Line Processing Util
.	TokenNameDOT	
readBsh	TokenNameIdentifier	 read Bsh
(	TokenNameLPAREN	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
"C:/m3test/total/data/"	TokenNameStringLiteral	C:/m3test/total/data/
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
"C:/m3test/total/env/all"	TokenNameStringLiteral	C:/m3test/total/env/all
+	TokenNamePLUS	
mytag	TokenNameIdentifier	 mytag
+	TokenNamePLUS	
".env"	TokenNameStringLiteral	.env
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TextBase	TokenNameIdentifier	 Text Base
tb	TokenNameIdentifier	 tb
=	TokenNameEQUAL	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
getTextBase	TokenNameIdentifier	 get Text Base
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
it	TokenNameIdentifier	 it
=	TokenNameEQUAL	
tb	TokenNameIdentifier	 tb
.	TokenNameDOT	
documentSpanIterator	TokenNameIdentifier	 document Span Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
it	TokenNameIdentifier	 it
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Span	TokenNameIdentifier	 Span
docspan	TokenNameIdentifier	 docspan
=	TokenNameEQUAL	
it	TokenNameIdentifier	 it
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//String docid=docspan.getDocumentId(); 	TokenNameCOMMENT_LINE	String docid=docspan.getDocumentId(); 
MutableInstance	TokenNameIdentifier	 Mutable Instance
ins	TokenNameIdentifier	 ins
=	TokenNameEQUAL	
(	TokenNameLPAREN	
MutableInstance	TokenNameIdentifier	 Mutable Instance
)	TokenNameRPAREN	
fe	TokenNameIdentifier	 fe
.	TokenNameDOT	
extractInstance	TokenNameIdentifier	 extract Instance
(	TokenNameLPAREN	
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
docspan	TokenNameIdentifier	 docspan
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ClassLabel	TokenNameIdentifier	 Class Label
mylabel	TokenNameIdentifier	 mylabel
=	TokenNameEQUAL	
new	TokenNamenew	
ClassLabel	TokenNameIdentifier	 Class Label
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
mylabel	TokenNameIdentifier	 mylabel
=	TokenNameEQUAL	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
hasType	TokenNameIdentifier	 has Type
(	TokenNameLPAREN	
docspan	TokenNameIdentifier	 docspan
,	TokenNameCOMMA	
mytag	TokenNameIdentifier	 mytag
)	TokenNameRPAREN	
?	TokenNameQUESTION	
ClassLabel	TokenNameIdentifier	 Class Label
.	TokenNameDOT	
binaryLabel	TokenNameIdentifier	 binary Label
(	TokenNameLPAREN	
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
:	TokenNameCOLON	
ClassLabel	TokenNameIdentifier	 Class Label
.	TokenNameDOT	
binaryLabel	TokenNameIdentifier	 binary Label
(	TokenNameLPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
dataset	TokenNameIdentifier	 dataset
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
Example	TokenNameIdentifier	 Example
(	TokenNameLPAREN	
ins	TokenNameIdentifier	 ins
,	TokenNameCOMMA	
mylabel	TokenNameIdentifier	 mylabel
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
//only works for linear classifiers 	TokenNameCOMMENT_LINE	only works for linear classifiers 
ClassifierLearner	TokenNameIdentifier	 Classifier Learner
learner	TokenNameIdentifier	 learner
=	TokenNameEQUAL	
new	TokenNamenew	
VotedPerceptron	TokenNameIdentifier	 Voted Perceptron
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// ClassifierLearner learner = new MarginPerceptron(); 	TokenNameCOMMENT_LINE	ClassifierLearner learner = new MarginPerceptron(); 
// ClassifierLearner learner = new NaiveBayes(); 	TokenNameCOMMENT_LINE	ClassifierLearner learner = new NaiveBayes(); 
Splitter	TokenNameIdentifier	 Splitter
<	TokenNameLESS	
Example	TokenNameIdentifier	 Example
>	TokenNameGREATER	
split	TokenNameIdentifier	 split
=	TokenNameEQUAL	
Expt	TokenNameIdentifier	 Expt
.	TokenNameDOT	
toSplitter	TokenNameIdentifier	 to Splitter
(	TokenNameLPAREN	
"k2"	TokenNameStringLiteral	k2
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Evaluation	TokenNameIdentifier	 Evaluation
v	TokenNameIdentifier	 v
=	TokenNameEQUAL	
new	TokenNamenew	
Evaluation	TokenNameIdentifier	 Evaluation
(	TokenNameLPAREN	
dataset	TokenNameIdentifier	 dataset
.	TokenNameDOT	
getSchema	TokenNameIdentifier	 get Schema
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Dataset	TokenNameIdentifier	 Dataset
.	TokenNameDOT	
Split	TokenNameIdentifier	 Split
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
dataset	TokenNameIdentifier	 dataset
.	TokenNameDOT	
split	TokenNameIdentifier	 split
(	TokenNameLPAREN	
split	TokenNameIdentifier	 split
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
k	TokenNameIdentifier	 k
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
k	TokenNameIdentifier	 k
<	TokenNameLESS	
s	TokenNameIdentifier	 s
.	TokenNameDOT	
getNumPartitions	TokenNameIdentifier	 get Num Partitions
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
k	TokenNameIdentifier	 k
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Dataset	TokenNameIdentifier	 Dataset
trainData	TokenNameIdentifier	 train Data
=	TokenNameEQUAL	
s	TokenNameIdentifier	 s
.	TokenNameDOT	
getTrain	TokenNameIdentifier	 get Train
(	TokenNameLPAREN	
k	TokenNameIdentifier	 k
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Dataset	TokenNameIdentifier	 Dataset
testData	TokenNameIdentifier	 test Data
=	TokenNameEQUAL	
s	TokenNameIdentifier	 s
.	TokenNameDOT	
getTest	TokenNameIdentifier	 get Test
(	TokenNameLPAREN	
k	TokenNameIdentifier	 k
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"splitting with "	TokenNameStringLiteral	splitting with 
+	TokenNamePLUS	
split	TokenNameIdentifier	 split
+	TokenNamePLUS	
", preparing to train on "	TokenNameStringLiteral	, preparing to train on 
+	TokenNamePLUS	
trainData	TokenNameIdentifier	 train Data
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" and test on "	TokenNameStringLiteral	 and test on 
+	TokenNamePLUS	
testData	TokenNameIdentifier	 test Data
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Classifier	TokenNameIdentifier	 Classifier
cc	TokenNameIdentifier	 cc
=	TokenNameEQUAL	
new	TokenNamenew	
DatasetClassifierTeacher	TokenNameIdentifier	 Dataset Classifier Teacher
(	TokenNameLPAREN	
trainData	TokenNameIdentifier	 train Data
)	TokenNameRPAREN	
.	TokenNameDOT	
train	TokenNameIdentifier	 train
(	TokenNameLPAREN	
learner	TokenNameIdentifier	 learner
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// apply transformation 	TokenNameCOMMENT_LINE	apply transformation 
Classifier	TokenNameIdentifier	 Classifier
cc_transformed	TokenNameIdentifier	 cc transformed
=	TokenNameEQUAL	
new	TokenNamenew	
PositiveScoresTransformClassifier	TokenNameIdentifier	 Positive Scores Transform Classifier
(	TokenNameLPAREN	
cc	TokenNameIdentifier	 cc
,	TokenNameCOMMA	
trainData	TokenNameIdentifier	 train Data
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
v	TokenNameIdentifier	 v
.	TokenNameDOT	
extend	TokenNameIdentifier	 extend
(	TokenNameLPAREN	
cc_transformed	TokenNameIdentifier	 cc transformed
,	TokenNameCOMMA	
testData	TokenNameIdentifier	 test Data
,	TokenNameCOMMA	
k	TokenNameIdentifier	 k
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//or, without the transformation 	TokenNameCOMMENT_LINE	or, without the transformation 
// v.extend( cc, testData, k ); 	TokenNameCOMMENT_LINE	v.extend( cc, testData, k ); 
}	TokenNameRBRACE	
v	TokenNameIdentifier	 v
.	TokenNameDOT	
summarize	TokenNameIdentifier	 summarize
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
printStackTrace	TokenNameIdentifier	 print Stack Trace
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Usage: PositiveScoresTransformClassifier classname"	TokenNameStringLiteral	Usage: PositiveScoresTransformClassifier classname
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"for instance, nameclass = Req, Dlv, Cmt, POS, etc"	TokenNameStringLiteral	for instance, nameclass = Req, Dlv, Cmt, POS, etc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
