/* * Licensed to the Apache Software Foundation (ASF) under one or more * contributor license agreements. See the NOTICE file distributed with * this work for additional information regarding copyright ownership. * The ASF licenses this file to You under the Apache License, Version 2.0 * (the "License"); you may not use this file except in compliance with * the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
traversers	TokenNameIdentifier	 traversers
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
dv	TokenNameIdentifier	 dv
.	TokenNameDOT	
InvalidDatatypeValueException	TokenNameIdentifier	 Invalid Datatype Value Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
dv	TokenNameIdentifier	 dv
.	TokenNameDOT	
ValidatedInfo	TokenNameIdentifier	 Validated Info
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
dv	TokenNameIdentifier	 dv
.	TokenNameDOT	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
SchemaGrammar	TokenNameIdentifier	 Schema Grammar
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSAnnotationImpl	TokenNameIdentifier	 XS Annotation Impl
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSAttributeDecl	TokenNameIdentifier	 XS Attribute Decl
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSAttributeUseImpl	TokenNameIdentifier	 XS Attribute Use Impl
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSComplexTypeDecl	TokenNameIdentifier	 XS Complex Type Decl
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
XInt	TokenNameIdentifier	 X Int
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
XSObjectListImpl	TokenNameIdentifier	 XS Object List Impl
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
DOMUtil	TokenNameIdentifier	 DOM Util
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
XMLSymbols	TokenNameIdentifier	 XML Symbols
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xni	TokenNameIdentifier	 xni
.	TokenNameDOT	
QName	TokenNameIdentifier	 Q Name
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSConstants	TokenNameIdentifier	 XS Constants
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSObjectList	TokenNameIdentifier	 XS Object List
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSTypeDefinition	TokenNameIdentifier	 XS Type Definition
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Element	TokenNameIdentifier	 Element
;	TokenNameSEMICOLON	
/** * The attribute declaration schema component traverser. * * &lt;attribute * default = string * fixed = string * form = (qualified | unqualified) * id = ID * name = NCName * ref = QName * type = QName * use = (optional | prohibited | required) : optional * {any attributes with non-schema namespace . . .}&gt; * Content: (annotation?, (simpleType?)) * &lt;/attribute&gt; * * @xerces.internal * * @author Sandy Gao, IBM * @author Neeraj Bajaj, Sun Microsystems, inc. * @version $Id: XSDAttributeTraverser.java 821931 2009-10-05 17:42:57Z sandygao $ */	TokenNameCOMMENT_JAVADOC	 The attribute declaration schema component traverser. * &lt;attribute default = string fixed = string form = (qualified | unqualified) id = ID name = NCName ref = QName type = QName use = (optional | prohibited | required) : optional {any attributes with non-schema namespace . . .}&gt; Content: (annotation?, (simpleType?)) &lt;/attribute&gt; * @xerces.internal * @author Sandy Gao, IBM @author Neeraj Bajaj, Sun Microsystems, inc. @version $Id: XSDAttributeTraverser.java 821931 2009-10-05 17:42:57Z sandygao $ 
class	TokenNameclass	
XSDAttributeTraverser	TokenNameIdentifier	 XSD Attribute Traverser
extends	TokenNameextends	
XSDAbstractTraverser	TokenNameIdentifier	 XSD Abstract Traverser
{	TokenNameLBRACE	
public	TokenNamepublic	
XSDAttributeTraverser	TokenNameIdentifier	 XSD Attribute Traverser
(	TokenNameLPAREN	
XSDHandler	TokenNameIdentifier	 XSD Handler
handler	TokenNameIdentifier	 handler
,	TokenNameCOMMA	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
gAttrCheck	TokenNameIdentifier	 g Attr Check
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
handler	TokenNameIdentifier	 handler
,	TokenNameCOMMA	
gAttrCheck	TokenNameIdentifier	 g Attr Check
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
protected	TokenNameprotected	
XSAttributeUseImpl	TokenNameIdentifier	 XS Attribute Use Impl
traverseLocal	TokenNameIdentifier	 traverse Local
(	TokenNameLPAREN	
Element	TokenNameIdentifier	 Element
attrDecl	TokenNameIdentifier	 attr Decl
,	TokenNameCOMMA	
XSDocumentInfo	TokenNameIdentifier	 XS Document Info
schemaDoc	TokenNameIdentifier	 schema Doc
,	TokenNameCOMMA	
SchemaGrammar	TokenNameIdentifier	 Schema Grammar
grammar	TokenNameIdentifier	 grammar
,	TokenNameCOMMA	
XSComplexTypeDecl	TokenNameIdentifier	 XS Complex Type Decl
enclosingCT	TokenNameIdentifier	 enclosing CT
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// General Attribute Checking 	TokenNameCOMMENT_LINE	General Attribute Checking 
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
attrValues	TokenNameIdentifier	 attr Values
=	TokenNameEQUAL	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
checkAttributes	TokenNameIdentifier	 check Attributes
(	TokenNameLPAREN	
attrDecl	TokenNameIdentifier	 attr Decl
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
defaultAtt	TokenNameIdentifier	 default Att
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
attrValues	TokenNameIdentifier	 attr Values
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_DEFAULT	TokenNameIdentifier	 ATTIDX  DEFAULT
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
fixedAtt	TokenNameIdentifier	 fixed Att
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
attrValues	TokenNameIdentifier	 attr Values
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_FIXED	TokenNameIdentifier	 ATTIDX  FIXED
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
nameAtt	TokenNameIdentifier	 name Att
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
attrValues	TokenNameIdentifier	 attr Values
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_NAME	TokenNameIdentifier	 ATTIDX  NAME
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
QName	TokenNameIdentifier	 Q Name
refAtt	TokenNameIdentifier	 ref Att
=	TokenNameEQUAL	
(	TokenNameLPAREN	
QName	TokenNameIdentifier	 Q Name
)	TokenNameRPAREN	
attrValues	TokenNameIdentifier	 attr Values
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_REF	TokenNameIdentifier	 ATTIDX  REF
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
XInt	TokenNameIdentifier	 X Int
useAtt	TokenNameIdentifier	 use Att
=	TokenNameEQUAL	
(	TokenNameLPAREN	
XInt	TokenNameIdentifier	 X Int
)	TokenNameRPAREN	
attrValues	TokenNameIdentifier	 attr Values
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_USE	TokenNameIdentifier	 ATTIDX  USE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// get 'attribute declaration' 	TokenNameCOMMENT_LINE	get 'attribute declaration' 
XSAttributeDecl	TokenNameIdentifier	 XS Attribute Decl
attribute	TokenNameIdentifier	 attribute
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
XSAnnotationImpl	TokenNameIdentifier	 XS Annotation Impl
annotation	TokenNameIdentifier	 annotation
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
attrDecl	TokenNameIdentifier	 attr Decl
.	TokenNameDOT	
getAttributeNode	TokenNameIdentifier	 get Attribute Node
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ATT_REF	TokenNameIdentifier	 ATT  REF
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
refAtt	TokenNameIdentifier	 ref Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attribute	TokenNameIdentifier	 attribute
=	TokenNameEQUAL	
(	TokenNameLPAREN	
XSAttributeDecl	TokenNameIdentifier	 XS Attribute Decl
)	TokenNameRPAREN	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
getGlobalDecl	TokenNameIdentifier	 get Global Decl
(	TokenNameLPAREN	
schemaDoc	TokenNameIdentifier	 schema Doc
,	TokenNameCOMMA	
XSDHandler	TokenNameIdentifier	 XSD Handler
.	TokenNameDOT	
ATTRIBUTE_TYPE	TokenNameIdentifier	 ATTRIBUTE  TYPE
,	TokenNameCOMMA	
refAtt	TokenNameIdentifier	 ref Att
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Element	TokenNameIdentifier	 Element
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getFirstChildElement	TokenNameIdentifier	 get First Child Element
(	TokenNameLPAREN	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_ANNOTATION	TokenNameIdentifier	 ELT  ANNOTATION
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
annotation	TokenNameIdentifier	 annotation
=	TokenNameEQUAL	
traverseAnnotationDecl	TokenNameIdentifier	 traverse Annotation Decl
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
,	TokenNameCOMMA	
attrValues	TokenNameIdentifier	 attr Values
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getNextSiblingElement	TokenNameIdentifier	 get Next Sibling Element
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getSyntheticAnnotation	TokenNameIdentifier	 get Synthetic Annotation
(	TokenNameLPAREN	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
annotation	TokenNameIdentifier	 annotation
=	TokenNameEQUAL	
traverseSyntheticAnnotation	TokenNameIdentifier	 traverse Synthetic Annotation
(	TokenNameLPAREN	
attrDecl	TokenNameIdentifier	 attr Decl
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
attrValues	TokenNameIdentifier	 attr Values
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"src-attribute.3.2"	TokenNameStringLiteral	src-attribute.3.2
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
refAtt	TokenNameIdentifier	 ref Att
.	TokenNameDOT	
rawname	TokenNameIdentifier	 rawname
}	TokenNameRBRACE	
,	TokenNameCOMMA	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// for error reporting 	TokenNameCOMMENT_LINE	for error reporting 
nameAtt	TokenNameIdentifier	 name Att
=	TokenNameEQUAL	
refAtt	TokenNameIdentifier	 ref Att
.	TokenNameDOT	
localpart	TokenNameIdentifier	 localpart
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
attribute	TokenNameIdentifier	 attribute
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
attribute	TokenNameIdentifier	 attribute
=	TokenNameEQUAL	
traverseNamedAttr	TokenNameIdentifier	 traverse Named Attr
(	TokenNameLPAREN	
attrDecl	TokenNameIdentifier	 attr Decl
,	TokenNameCOMMA	
attrValues	TokenNameIdentifier	 attr Values
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
,	TokenNameCOMMA	
grammar	TokenNameIdentifier	 grammar
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
enclosingCT	TokenNameIdentifier	 enclosing CT
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// get 'value constraint' 	TokenNameCOMMENT_LINE	get 'value constraint' 
short	TokenNameshort	
consType	TokenNameIdentifier	 cons Type
=	TokenNameEQUAL	
XSConstants	TokenNameIdentifier	 XS Constants
.	TokenNameDOT	
VC_NONE	TokenNameIdentifier	 VC  NONE
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
defaultAtt	TokenNameIdentifier	 default Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
consType	TokenNameIdentifier	 cons Type
=	TokenNameEQUAL	
XSConstants	TokenNameIdentifier	 XS Constants
.	TokenNameDOT	
VC_DEFAULT	TokenNameIdentifier	 VC  DEFAULT
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
fixedAtt	TokenNameIdentifier	 fixed Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
consType	TokenNameIdentifier	 cons Type
=	TokenNameEQUAL	
XSConstants	TokenNameIdentifier	 XS Constants
.	TokenNameDOT	
VC_FIXED	TokenNameIdentifier	 VC  FIXED
;	TokenNameSEMICOLON	
defaultAtt	TokenNameIdentifier	 default Att
=	TokenNameEQUAL	
fixedAtt	TokenNameIdentifier	 fixed Att
;	TokenNameSEMICOLON	
fixedAtt	TokenNameIdentifier	 fixed Att
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
XSAttributeUseImpl	TokenNameIdentifier	 XS Attribute Use Impl
attrUse	TokenNameIdentifier	 attr Use
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
attribute	TokenNameIdentifier	 attribute
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
fDeclPool	TokenNameIdentifier	 f Decl Pool
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attrUse	TokenNameIdentifier	 attr Use
=	TokenNameEQUAL	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
fDeclPool	TokenNameIdentifier	 f Decl Pool
.	TokenNameDOT	
getAttributeUse	TokenNameIdentifier	 get Attribute Use
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
attrUse	TokenNameIdentifier	 attr Use
=	TokenNameEQUAL	
new	TokenNamenew	
XSAttributeUseImpl	TokenNameIdentifier	 XS Attribute Use Impl
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fAttrDecl	TokenNameIdentifier	 f Attr Decl
=	TokenNameEQUAL	
attribute	TokenNameIdentifier	 attribute
;	TokenNameSEMICOLON	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fUse	TokenNameIdentifier	 f Use
=	TokenNameEQUAL	
useAtt	TokenNameIdentifier	 use Att
.	TokenNameDOT	
shortValue	TokenNameIdentifier	 short Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fConstraintType	TokenNameIdentifier	 f Constraint Type
=	TokenNameEQUAL	
consType	TokenNameIdentifier	 cons Type
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
defaultAtt	TokenNameIdentifier	 default Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fDefault	TokenNameIdentifier	 f Default
=	TokenNameEQUAL	
new	TokenNamenew	
ValidatedInfo	TokenNameIdentifier	 Validated Info
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fDefault	TokenNameIdentifier	 f Default
.	TokenNameDOT	
normalizedValue	TokenNameIdentifier	 normalized Value
=	TokenNameEQUAL	
defaultAtt	TokenNameIdentifier	 default Att
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Get the annotation associated witht the local attr decl 	TokenNameCOMMENT_LINE	Get the annotation associated witht the local attr decl 
if	TokenNameif	
(	TokenNameLPAREN	
attrDecl	TokenNameIdentifier	 attr Decl
.	TokenNameDOT	
getAttributeNode	TokenNameIdentifier	 get Attribute Node
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ATT_REF	TokenNameIdentifier	 ATT  REF
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fAnnotations	TokenNameIdentifier	 f Annotations
=	TokenNameEQUAL	
attribute	TokenNameIdentifier	 attribute
.	TokenNameDOT	
getAnnotations	TokenNameIdentifier	 get Annotations
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
XSObjectList	TokenNameIdentifier	 XS Object List
annotations	TokenNameIdentifier	 annotations
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
annotation	TokenNameIdentifier	 annotation
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
annotations	TokenNameIdentifier	 annotations
=	TokenNameEQUAL	
new	TokenNamenew	
XSObjectListImpl	TokenNameIdentifier	 XS Object List Impl
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XSObjectListImpl	TokenNameIdentifier	 XS Object List Impl
)	TokenNameRPAREN	
annotations	TokenNameIdentifier	 annotations
)	TokenNameRPAREN	
.	TokenNameDOT	
addXSObject	TokenNameIdentifier	 add XS Object
(	TokenNameLPAREN	
annotation	TokenNameIdentifier	 annotation
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
annotations	TokenNameIdentifier	 annotations
=	TokenNameEQUAL	
XSObjectListImpl	TokenNameIdentifier	 XS Object List Impl
.	TokenNameDOT	
EMPTY_LIST	TokenNameIdentifier	 EMPTY  LIST
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fAnnotations	TokenNameIdentifier	 f Annotations
=	TokenNameEQUAL	
annotations	TokenNameIdentifier	 annotations
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
//src-attribute 	TokenNameCOMMENT_LINE	src-attribute 
// 1 default and fixed must not both be present. 	TokenNameCOMMENT_LINE	1 default and fixed must not both be present. 
if	TokenNameif	
(	TokenNameLPAREN	
defaultAtt	TokenNameIdentifier	 default Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
fixedAtt	TokenNameIdentifier	 fixed Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"src-attribute.1"	TokenNameStringLiteral	src-attribute.1
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
nameAtt	TokenNameIdentifier	 name Att
}	TokenNameRBRACE	
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// 2 If default and use are both present, use must have the actual value optional. 	TokenNameCOMMENT_LINE	2 If default and use are both present, use must have the actual value optional. 
if	TokenNameif	
(	TokenNameLPAREN	
consType	TokenNameIdentifier	 cons Type
==	TokenNameEQUAL_EQUAL	
XSConstants	TokenNameIdentifier	 XS Constants
.	TokenNameDOT	
VC_DEFAULT	TokenNameIdentifier	 VC  DEFAULT
&&	TokenNameAND_AND	
useAtt	TokenNameIdentifier	 use Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
useAtt	TokenNameIdentifier	 use Att
.	TokenNameDOT	
intValue	TokenNameIdentifier	 int Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
USE_OPTIONAL	TokenNameIdentifier	 USE  OPTIONAL
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"src-attribute.2"	TokenNameStringLiteral	src-attribute.2
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
nameAtt	TokenNameIdentifier	 name Att
}	TokenNameRBRACE	
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Recover by honouring the default value 	TokenNameCOMMENT_LINE	Recover by honouring the default value 
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fUse	TokenNameIdentifier	 f Use
=	TokenNameEQUAL	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
USE_OPTIONAL	TokenNameIdentifier	 USE  OPTIONAL
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// a-props-correct 	TokenNameCOMMENT_LINE	a-props-correct 
if	TokenNameif	
(	TokenNameLPAREN	
defaultAtt	TokenNameIdentifier	 default Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
attrUse	TokenNameIdentifier	 attr Use
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// 2 if there is a {value constraint}, the canonical lexical representation of its value must be valid with respect to the {type definition} as defined in String Valid (3.14.4). 	TokenNameCOMMENT_LINE	2 if there is a {value constraint}, the canonical lexical representation of its value must be valid with respect to the {type definition} as defined in String Valid (3.14.4). 
fValidationState	TokenNameIdentifier	 f Validation State
.	TokenNameDOT	
setNamespaceSupport	TokenNameIdentifier	 set Namespace Support
(	TokenNameLPAREN	
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
fNamespaceSupport	TokenNameIdentifier	 f Namespace Support
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
checkDefaultValid	TokenNameIdentifier	 check Default Valid
(	TokenNameLPAREN	
attrUse	TokenNameIdentifier	 attr Use
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
InvalidDatatypeValueException	TokenNameIdentifier	 Invalid Datatype Value Exception
ide	TokenNameIdentifier	 ide
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
ide	TokenNameIdentifier	 ide
.	TokenNameDOT	
getKey	TokenNameIdentifier	 get Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
ide	TokenNameIdentifier	 ide
.	TokenNameDOT	
getArgs	TokenNameIdentifier	 get Args
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"a-props-correct.2"	TokenNameStringLiteral	a-props-correct.2
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
nameAtt	TokenNameIdentifier	 name Att
,	TokenNameCOMMA	
defaultAtt	TokenNameIdentifier	 default Att
}	TokenNameRBRACE	
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Recover by removing the default value 	TokenNameCOMMENT_LINE	Recover by removing the default value 
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fDefault	TokenNameIdentifier	 f Default
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fConstraintType	TokenNameIdentifier	 f Constraint Type
=	TokenNameEQUAL	
XSConstants	TokenNameIdentifier	 XS Constants
.	TokenNameDOT	
VC_NONE	TokenNameIdentifier	 VC  NONE
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// 3 If the {type definition} is or is derived from ID then there must not be a {value constraint}. 	TokenNameCOMMENT_LINE	3 If the {type definition} is or is derived from ID then there must not be a {value constraint}. 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
)	TokenNameRPAREN	
attribute	TokenNameIdentifier	 attribute
.	TokenNameDOT	
getTypeDefinition	TokenNameIdentifier	 get Type Definition
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
isIDType	TokenNameIdentifier	 is ID Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"a-props-correct.3"	TokenNameStringLiteral	a-props-correct.3
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
nameAtt	TokenNameIdentifier	 name Att
}	TokenNameRBRACE	
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Recover by removing the default value 	TokenNameCOMMENT_LINE	Recover by removing the default value 
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fDefault	TokenNameIdentifier	 f Default
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fConstraintType	TokenNameIdentifier	 f Constraint Type
=	TokenNameEQUAL	
XSConstants	TokenNameIdentifier	 XS Constants
.	TokenNameDOT	
VC_NONE	TokenNameIdentifier	 VC  NONE
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// check 3.5.6 constraint 	TokenNameCOMMENT_LINE	check 3.5.6 constraint 
// Attribute Use Correct 	TokenNameCOMMENT_LINE	Attribute Use Correct 
// 2 If the {attribute declaration} has a fixed {value constraint}, then if the attribute use itself has a {value constraint}, it must also be fixed and its value must match that of the {attribute declaration}'s {value constraint}. 	TokenNameCOMMENT_LINE	2 If the {attribute declaration} has a fixed {value constraint}, then if the attribute use itself has a {value constraint}, it must also be fixed and its value must match that of the {attribute declaration}'s {value constraint}. 
if	TokenNameif	
(	TokenNameLPAREN	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fAttrDecl	TokenNameIdentifier	 f Attr Decl
.	TokenNameDOT	
getConstraintType	TokenNameIdentifier	 get Constraint Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
XSConstants	TokenNameIdentifier	 XS Constants
.	TokenNameDOT	
VC_FIXED	TokenNameIdentifier	 VC  FIXED
&&	TokenNameAND_AND	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fConstraintType	TokenNameIdentifier	 f Constraint Type
!=	TokenNameNOT_EQUAL	
XSConstants	TokenNameIdentifier	 XS Constants
.	TokenNameDOT	
VC_NONE	TokenNameIdentifier	 VC  NONE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fConstraintType	TokenNameIdentifier	 f Constraint Type
!=	TokenNameNOT_EQUAL	
XSConstants	TokenNameIdentifier	 XS Constants
.	TokenNameDOT	
VC_FIXED	TokenNameIdentifier	 VC  FIXED
||	TokenNameOR_OR	
!	TokenNameNOT	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fAttrDecl	TokenNameIdentifier	 f Attr Decl
.	TokenNameDOT	
getValInfo	TokenNameIdentifier	 get Val Info
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
actualValue	TokenNameIdentifier	 actual Value
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fDefault	TokenNameIdentifier	 f Default
.	TokenNameDOT	
actualValue	TokenNameIdentifier	 actual Value
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"au-props-correct.2"	TokenNameStringLiteral	au-props-correct.2
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
nameAtt	TokenNameIdentifier	 name Att
,	TokenNameCOMMA	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fAttrDecl	TokenNameIdentifier	 f Attr Decl
.	TokenNameDOT	
getValInfo	TokenNameIdentifier	 get Val Info
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
stringValue	TokenNameIdentifier	 string Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Recover by using the decl's {value constraint} 	TokenNameCOMMENT_LINE	Recover by using the decl's {value constraint} 
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fDefault	TokenNameIdentifier	 f Default
=	TokenNameEQUAL	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fAttrDecl	TokenNameIdentifier	 f Attr Decl
.	TokenNameDOT	
getValInfo	TokenNameIdentifier	 get Val Info
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fConstraintType	TokenNameIdentifier	 f Constraint Type
=	TokenNameEQUAL	
XSConstants	TokenNameIdentifier	 XS Constants
.	TokenNameDOT	
VC_FIXED	TokenNameIdentifier	 VC  FIXED
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
returnAttrArray	TokenNameIdentifier	 return Attr Array
(	TokenNameLPAREN	
attrValues	TokenNameIdentifier	 attr Values
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
attrUse	TokenNameIdentifier	 attr Use
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
protected	TokenNameprotected	
XSAttributeDecl	TokenNameIdentifier	 XS Attribute Decl
traverseGlobal	TokenNameIdentifier	 traverse Global
(	TokenNameLPAREN	
Element	TokenNameIdentifier	 Element
attrDecl	TokenNameIdentifier	 attr Decl
,	TokenNameCOMMA	
XSDocumentInfo	TokenNameIdentifier	 XS Document Info
schemaDoc	TokenNameIdentifier	 schema Doc
,	TokenNameCOMMA	
SchemaGrammar	TokenNameIdentifier	 Schema Grammar
grammar	TokenNameIdentifier	 grammar
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// General Attribute Checking 	TokenNameCOMMENT_LINE	General Attribute Checking 
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
attrValues	TokenNameIdentifier	 attr Values
=	TokenNameEQUAL	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
checkAttributes	TokenNameIdentifier	 check Attributes
(	TokenNameLPAREN	
attrDecl	TokenNameIdentifier	 attr Decl
,	TokenNameCOMMA	
true	TokenNametrue	
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
XSAttributeDecl	TokenNameIdentifier	 XS Attribute Decl
attribute	TokenNameIdentifier	 attribute
=	TokenNameEQUAL	
traverseNamedAttr	TokenNameIdentifier	 traverse Named Attr
(	TokenNameLPAREN	
attrDecl	TokenNameIdentifier	 attr Decl
,	TokenNameCOMMA	
attrValues	TokenNameIdentifier	 attr Values
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
,	TokenNameCOMMA	
grammar	TokenNameIdentifier	 grammar
,	TokenNameCOMMA	
true	TokenNametrue	
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
returnAttrArray	TokenNameIdentifier	 return Attr Array
(	TokenNameLPAREN	
attrValues	TokenNameIdentifier	 attr Values
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
attribute	TokenNameIdentifier	 attribute
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Traverse a globally declared attribute. * * @param attrDecl * @param attrValues * @param schemaDoc * @param grammar * @param isGlobal * @return the attribute declaration index */	TokenNameCOMMENT_JAVADOC	 Traverse a globally declared attribute. * @param attrDecl @param attrValues @param schemaDoc @param grammar @param isGlobal @return the attribute declaration index 
XSAttributeDecl	TokenNameIdentifier	 XS Attribute Decl
traverseNamedAttr	TokenNameIdentifier	 traverse Named Attr
(	TokenNameLPAREN	
Element	TokenNameIdentifier	 Element
attrDecl	TokenNameIdentifier	 attr Decl
,	TokenNameCOMMA	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
attrValues	TokenNameIdentifier	 attr Values
,	TokenNameCOMMA	
XSDocumentInfo	TokenNameIdentifier	 XS Document Info
schemaDoc	TokenNameIdentifier	 schema Doc
,	TokenNameCOMMA	
SchemaGrammar	TokenNameIdentifier	 Schema Grammar
grammar	TokenNameIdentifier	 grammar
,	TokenNameCOMMA	
boolean	TokenNameboolean	
isGlobal	TokenNameIdentifier	 is Global
,	TokenNameCOMMA	
XSComplexTypeDecl	TokenNameIdentifier	 XS Complex Type Decl
enclosingCT	TokenNameIdentifier	 enclosing CT
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
defaultAtt	TokenNameIdentifier	 default Att
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
attrValues	TokenNameIdentifier	 attr Values
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_DEFAULT	TokenNameIdentifier	 ATTIDX  DEFAULT
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
fixedAtt	TokenNameIdentifier	 fixed Att
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
attrValues	TokenNameIdentifier	 attr Values
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_FIXED	TokenNameIdentifier	 ATTIDX  FIXED
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
XInt	TokenNameIdentifier	 X Int
formAtt	TokenNameIdentifier	 form Att
=	TokenNameEQUAL	
(	TokenNameLPAREN	
XInt	TokenNameIdentifier	 X Int
)	TokenNameRPAREN	
attrValues	TokenNameIdentifier	 attr Values
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_FORM	TokenNameIdentifier	 ATTIDX  FORM
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
nameAtt	TokenNameIdentifier	 name Att
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
attrValues	TokenNameIdentifier	 attr Values
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_NAME	TokenNameIdentifier	 ATTIDX  NAME
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
QName	TokenNameIdentifier	 Q Name
typeAtt	TokenNameIdentifier	 type Att
=	TokenNameEQUAL	
(	TokenNameLPAREN	
QName	TokenNameIdentifier	 Q Name
)	TokenNameRPAREN	
attrValues	TokenNameIdentifier	 attr Values
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_TYPE	TokenNameIdentifier	 ATTIDX  TYPE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// Step 1: get declaration information 	TokenNameCOMMENT_LINE	Step 1: get declaration information 
XSAttributeDecl	TokenNameIdentifier	 XS Attribute Decl
attribute	TokenNameIdentifier	 attribute
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
fDeclPool	TokenNameIdentifier	 f Decl Pool
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attribute	TokenNameIdentifier	 attribute
=	TokenNameEQUAL	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
fDeclPool	TokenNameIdentifier	 f Decl Pool
.	TokenNameDOT	
getAttributeDecl	TokenNameIdentifier	 get Attribute Decl
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
attribute	TokenNameIdentifier	 attribute
=	TokenNameEQUAL	
new	TokenNamenew	
XSAttributeDecl	TokenNameIdentifier	 XS Attribute Decl
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// get 'name' 	TokenNameCOMMENT_LINE	get 'name' 
if	TokenNameif	
(	TokenNameLPAREN	
nameAtt	TokenNameIdentifier	 name Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
nameAtt	TokenNameIdentifier	 name Att
=	TokenNameEQUAL	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
nameAtt	TokenNameIdentifier	 name Att
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// get 'target namespace' 	TokenNameCOMMENT_LINE	get 'target namespace' 
String	TokenNameIdentifier	 String
tnsAtt	TokenNameIdentifier	 tns Att
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
XSComplexTypeDecl	TokenNameIdentifier	 XS Complex Type Decl
enclCT	TokenNameIdentifier	 encl CT
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
short	TokenNameshort	
scope	TokenNameIdentifier	 scope
=	TokenNameEQUAL	
XSAttributeDecl	TokenNameIdentifier	 XS Attribute Decl
.	TokenNameDOT	
SCOPE_ABSENT	TokenNameIdentifier	 SCOPE  ABSENT
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
isGlobal	TokenNameIdentifier	 is Global
)	TokenNameRPAREN	
{	TokenNameLBRACE	
tnsAtt	TokenNameIdentifier	 tns Att
=	TokenNameEQUAL	
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
fTargetNamespace	TokenNameIdentifier	 f Target Namespace
;	TokenNameSEMICOLON	
scope	TokenNameIdentifier	 scope
=	TokenNameEQUAL	
XSAttributeDecl	TokenNameIdentifier	 XS Attribute Decl
.	TokenNameDOT	
SCOPE_GLOBAL	TokenNameIdentifier	 SCOPE  GLOBAL
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
enclosingCT	TokenNameIdentifier	 enclosing CT
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
enclCT	TokenNameIdentifier	 encl CT
=	TokenNameEQUAL	
enclosingCT	TokenNameIdentifier	 enclosing CT
;	TokenNameSEMICOLON	
scope	TokenNameIdentifier	 scope
=	TokenNameEQUAL	
XSAttributeDecl	TokenNameIdentifier	 XS Attribute Decl
.	TokenNameDOT	
SCOPE_LOCAL	TokenNameIdentifier	 SCOPE  LOCAL
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
formAtt	TokenNameIdentifier	 form Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
formAtt	TokenNameIdentifier	 form Att
.	TokenNameDOT	
intValue	TokenNameIdentifier	 int Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
FORM_QUALIFIED	TokenNameIdentifier	 FORM  QUALIFIED
)	TokenNameRPAREN	
tnsAtt	TokenNameIdentifier	 tns Att
=	TokenNameEQUAL	
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
fTargetNamespace	TokenNameIdentifier	 f Target Namespace
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
fAreLocalAttributesQualified	TokenNameIdentifier	 f Are Local Attributes Qualified
)	TokenNameRPAREN	
{	TokenNameLBRACE	
tnsAtt	TokenNameIdentifier	 tns Att
=	TokenNameEQUAL	
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
fTargetNamespace	TokenNameIdentifier	 f Target Namespace
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// get 'value constraint' 	TokenNameCOMMENT_LINE	get 'value constraint' 
// for local named attribute, value constraint is absent 	TokenNameCOMMENT_LINE	for local named attribute, value constraint is absent 
ValidatedInfo	TokenNameIdentifier	 Validated Info
attDefault	TokenNameIdentifier	 att Default
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
short	TokenNameshort	
constraintType	TokenNameIdentifier	 constraint Type
=	TokenNameEQUAL	
XSConstants	TokenNameIdentifier	 XS Constants
.	TokenNameDOT	
VC_NONE	TokenNameIdentifier	 VC  NONE
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
isGlobal	TokenNameIdentifier	 is Global
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fixedAtt	TokenNameIdentifier	 fixed Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attDefault	TokenNameIdentifier	 att Default
=	TokenNameEQUAL	
new	TokenNamenew	
ValidatedInfo	TokenNameIdentifier	 Validated Info
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
attDefault	TokenNameIdentifier	 att Default
.	TokenNameDOT	
normalizedValue	TokenNameIdentifier	 normalized Value
=	TokenNameEQUAL	
fixedAtt	TokenNameIdentifier	 fixed Att
;	TokenNameSEMICOLON	
constraintType	TokenNameIdentifier	 constraint Type
=	TokenNameEQUAL	
XSConstants	TokenNameIdentifier	 XS Constants
.	TokenNameDOT	
VC_FIXED	TokenNameIdentifier	 VC  FIXED
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
defaultAtt	TokenNameIdentifier	 default Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attDefault	TokenNameIdentifier	 att Default
=	TokenNameEQUAL	
new	TokenNamenew	
ValidatedInfo	TokenNameIdentifier	 Validated Info
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
attDefault	TokenNameIdentifier	 att Default
.	TokenNameDOT	
normalizedValue	TokenNameIdentifier	 normalized Value
=	TokenNameEQUAL	
defaultAtt	TokenNameIdentifier	 default Att
;	TokenNameSEMICOLON	
constraintType	TokenNameIdentifier	 constraint Type
=	TokenNameEQUAL	
XSConstants	TokenNameIdentifier	 XS Constants
.	TokenNameDOT	
VC_DEFAULT	TokenNameIdentifier	 VC  DEFAULT
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// get 'annotation' 	TokenNameCOMMENT_LINE	get 'annotation' 
Element	TokenNameIdentifier	 Element
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getFirstChildElement	TokenNameIdentifier	 get First Child Element
(	TokenNameLPAREN	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
XSAnnotationImpl	TokenNameIdentifier	 XS Annotation Impl
annotation	TokenNameIdentifier	 annotation
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_ANNOTATION	TokenNameIdentifier	 ELT  ANNOTATION
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
annotation	TokenNameIdentifier	 annotation
=	TokenNameEQUAL	
traverseAnnotationDecl	TokenNameIdentifier	 traverse Annotation Decl
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
,	TokenNameCOMMA	
attrValues	TokenNameIdentifier	 attr Values
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getNextSiblingElement	TokenNameIdentifier	 get Next Sibling Element
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getSyntheticAnnotation	TokenNameIdentifier	 get Synthetic Annotation
(	TokenNameLPAREN	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
annotation	TokenNameIdentifier	 annotation
=	TokenNameEQUAL	
traverseSyntheticAnnotation	TokenNameIdentifier	 traverse Synthetic Annotation
(	TokenNameLPAREN	
attrDecl	TokenNameIdentifier	 attr Decl
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
attrValues	TokenNameIdentifier	 attr Values
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// get 'type definition' 	TokenNameCOMMENT_LINE	get 'type definition' 
XSSimpleType	TokenNameIdentifier	 XS Simple Type
attrType	TokenNameIdentifier	 attr Type
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
haveAnonType	TokenNameIdentifier	 have Anon Type
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
// Handle Anonymous type if there is one 	TokenNameCOMMENT_LINE	Handle Anonymous type if there is one 
if	TokenNameif	
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
childName	TokenNameIdentifier	 child Name
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
childName	TokenNameIdentifier	 child Name
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_SIMPLETYPE	TokenNameIdentifier	 ELT  SIMPLETYPE
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attrType	TokenNameIdentifier	 attr Type
=	TokenNameEQUAL	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
fSimpleTypeTraverser	TokenNameIdentifier	 f Simple Type Traverser
.	TokenNameDOT	
traverseLocal	TokenNameIdentifier	 traverse Local
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
,	TokenNameCOMMA	
grammar	TokenNameIdentifier	 grammar
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
haveAnonType	TokenNameIdentifier	 have Anon Type
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getNextSiblingElement	TokenNameIdentifier	 get Next Sibling Element
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Handle type attribute 	TokenNameCOMMENT_LINE	Handle type attribute 
if	TokenNameif	
(	TokenNameLPAREN	
attrType	TokenNameIdentifier	 attr Type
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
typeAtt	TokenNameIdentifier	 type Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
XSTypeDefinition	TokenNameIdentifier	 XS Type Definition
type	TokenNameIdentifier	 type
=	TokenNameEQUAL	
(	TokenNameLPAREN	
XSTypeDefinition	TokenNameIdentifier	 XS Type Definition
)	TokenNameRPAREN	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
getGlobalDecl	TokenNameIdentifier	 get Global Decl
(	TokenNameLPAREN	
schemaDoc	TokenNameIdentifier	 schema Doc
,	TokenNameCOMMA	
XSDHandler	TokenNameIdentifier	 XSD Handler
.	TokenNameDOT	
TYPEDECL_TYPE	TokenNameIdentifier	 TYPEDECL  TYPE
,	TokenNameCOMMA	
typeAtt	TokenNameIdentifier	 type Att
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
type	TokenNameIdentifier	 type
.	TokenNameDOT	
getTypeCategory	TokenNameIdentifier	 get Type Category
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
XSTypeDefinition	TokenNameIdentifier	 XS Type Definition
.	TokenNameDOT	
SIMPLE_TYPE	TokenNameIdentifier	 SIMPLE  TYPE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attrType	TokenNameIdentifier	 attr Type
=	TokenNameEQUAL	
(	TokenNameLPAREN	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
)	TokenNameRPAREN	
type	TokenNameIdentifier	 type
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"src-resolve"	TokenNameStringLiteral	src-resolve
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
typeAtt	TokenNameIdentifier	 type Att
.	TokenNameDOT	
rawname	TokenNameIdentifier	 rawname
,	TokenNameCOMMA	
"simpleType definition"	TokenNameStringLiteral	simpleType definition
}	TokenNameRBRACE	
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attribute	TokenNameIdentifier	 attribute
.	TokenNameDOT	
fUnresolvedTypeName	TokenNameIdentifier	 f Unresolved Type Name
=	TokenNameEQUAL	
typeAtt	TokenNameIdentifier	 type Att
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
attrType	TokenNameIdentifier	 attr Type
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attrType	TokenNameIdentifier	 attr Type
=	TokenNameEQUAL	
SchemaGrammar	TokenNameIdentifier	 Schema Grammar
.	TokenNameDOT	
fAnySimpleType	TokenNameIdentifier	 f Any Simple Type
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
XSObjectList	TokenNameIdentifier	 XS Object List
annotations	TokenNameIdentifier	 annotations
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
annotation	TokenNameIdentifier	 annotation
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
annotations	TokenNameIdentifier	 annotations
=	TokenNameEQUAL	
new	TokenNamenew	
XSObjectListImpl	TokenNameIdentifier	 XS Object List Impl
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XSObjectListImpl	TokenNameIdentifier	 XS Object List Impl
)	TokenNameRPAREN	
annotations	TokenNameIdentifier	 annotations
)	TokenNameRPAREN	
.	TokenNameDOT	
addXSObject	TokenNameIdentifier	 add XS Object
(	TokenNameLPAREN	
annotation	TokenNameIdentifier	 annotation
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
annotations	TokenNameIdentifier	 annotations
=	TokenNameEQUAL	
XSObjectListImpl	TokenNameIdentifier	 XS Object List Impl
.	TokenNameDOT	
EMPTY_LIST	TokenNameIdentifier	 EMPTY  LIST
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
attribute	TokenNameIdentifier	 attribute
.	TokenNameDOT	
setValues	TokenNameIdentifier	 set Values
(	TokenNameLPAREN	
nameAtt	TokenNameIdentifier	 name Att
,	TokenNameCOMMA	
tnsAtt	TokenNameIdentifier	 tns Att
,	TokenNameCOMMA	
attrType	TokenNameIdentifier	 attr Type
,	TokenNameCOMMA	
constraintType	TokenNameIdentifier	 constraint Type
,	TokenNameCOMMA	
scope	TokenNameIdentifier	 scope
,	TokenNameCOMMA	
attDefault	TokenNameIdentifier	 att Default
,	TokenNameCOMMA	
enclCT	TokenNameIdentifier	 encl CT
,	TokenNameCOMMA	
annotations	TokenNameIdentifier	 annotations
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Step 3: check against schema for schemas 	TokenNameCOMMENT_LINE	Step 3: check against schema for schemas 
// required attributes 	TokenNameCOMMENT_LINE	required attributes 
if	TokenNameif	
(	TokenNameLPAREN	
nameAtt	TokenNameIdentifier	 name Att
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
isGlobal	TokenNameIdentifier	 is Global
)	TokenNameRPAREN	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"s4s-att-must-appear"	TokenNameStringLiteral	s4s-att-must-appear
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_ATTRIBUTE	TokenNameIdentifier	 ELT  ATTRIBUTE
,	TokenNameCOMMA	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ATT_NAME	TokenNameIdentifier	 ATT  NAME
}	TokenNameRBRACE	
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"src-attribute.3.1"	TokenNameStringLiteral	src-attribute.3.1
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
nameAtt	TokenNameIdentifier	 name Att
=	TokenNameEQUAL	
NO_NAME	TokenNameIdentifier	 NO  NAME
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// element 	TokenNameCOMMENT_LINE	element 
if	TokenNameif	
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"s4s-elt-must-match.1"	TokenNameStringLiteral	s4s-elt-must-match.1
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
nameAtt	TokenNameIdentifier	 name Att
,	TokenNameCOMMA	
"(annotation?, (simpleType?))"	TokenNameStringLiteral	(annotation?, (simpleType?))
,	TokenNameCOMMA	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Step 4: check 3.2.3 constraints 	TokenNameCOMMENT_LINE	Step 4: check 3.2.3 constraints 
// src-attribute 	TokenNameCOMMENT_LINE	src-attribute 
// 1 default and fixed must not both be present. 	TokenNameCOMMENT_LINE	1 default and fixed must not both be present. 
if	TokenNameif	
(	TokenNameLPAREN	
defaultAtt	TokenNameIdentifier	 default Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
fixedAtt	TokenNameIdentifier	 fixed Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"src-attribute.1"	TokenNameStringLiteral	src-attribute.1
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
nameAtt	TokenNameIdentifier	 name Att
}	TokenNameRBRACE	
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// 2 If default and use are both present, use must have the actual value optional. 	TokenNameCOMMENT_LINE	2 If default and use are both present, use must have the actual value optional. 
// This is checked in "traverse" method 	TokenNameCOMMENT_LINE	This is checked in "traverse" method 
// 3 If the item's parent is not <schema>, then all of the following must be true: 	TokenNameCOMMENT_LINE	3 If the item's parent is not <schema>, then all of the following must be true: 
// 3.1 One of ref or name must be present, but not both. 	TokenNameCOMMENT_LINE	3.1 One of ref or name must be present, but not both. 
// This is checked in XSAttributeChecker 	TokenNameCOMMENT_LINE	This is checked in XSAttributeChecker 
// 3.2 If ref is present, then all of <simpleType>, form and type must be absent. 	TokenNameCOMMENT_LINE	3.2 If ref is present, then all of <simpleType>, form and type must be absent. 
// Attributes are checked in XSAttributeChecker, elements are checked in "traverse" method 	TokenNameCOMMENT_LINE	Attributes are checked in XSAttributeChecker, elements are checked in "traverse" method 
// 4 type and <simpleType> must not both be present. 	TokenNameCOMMENT_LINE	4 type and <simpleType> must not both be present. 
if	TokenNameif	
(	TokenNameLPAREN	
haveAnonType	TokenNameIdentifier	 have Anon Type
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
typeAtt	TokenNameIdentifier	 type Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"src-attribute.4"	TokenNameStringLiteral	src-attribute.4
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
nameAtt	TokenNameIdentifier	 name Att
}	TokenNameRBRACE	
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Step 5: check 3.2.6 constraints 	TokenNameCOMMENT_LINE	Step 5: check 3.2.6 constraints 
// check for NOTATION type 	TokenNameCOMMENT_LINE	check for NOTATION type 
checkNotationType	TokenNameIdentifier	 check Notation Type
(	TokenNameLPAREN	
nameAtt	TokenNameIdentifier	 name Att
,	TokenNameCOMMA	
attrType	TokenNameIdentifier	 attr Type
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// a-props-correct 	TokenNameCOMMENT_LINE	a-props-correct 
// 2 if there is a {value constraint}, the canonical lexical representation of its value must be valid with respect to the {type definition} as defined in String Valid (3.14.4). 	TokenNameCOMMENT_LINE	2 if there is a {value constraint}, the canonical lexical representation of its value must be valid with respect to the {type definition} as defined in String Valid (3.14.4). 
if	TokenNameif	
(	TokenNameLPAREN	
attDefault	TokenNameIdentifier	 att Default
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fValidationState	TokenNameIdentifier	 f Validation State
.	TokenNameDOT	
setNamespaceSupport	TokenNameIdentifier	 set Namespace Support
(	TokenNameLPAREN	
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
fNamespaceSupport	TokenNameIdentifier	 f Namespace Support
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
checkDefaultValid	TokenNameIdentifier	 check Default Valid
(	TokenNameLPAREN	
attribute	TokenNameIdentifier	 attribute
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
InvalidDatatypeValueException	TokenNameIdentifier	 Invalid Datatype Value Exception
ide	TokenNameIdentifier	 ide
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
ide	TokenNameIdentifier	 ide
.	TokenNameDOT	
getKey	TokenNameIdentifier	 get Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
ide	TokenNameIdentifier	 ide
.	TokenNameDOT	
getArgs	TokenNameIdentifier	 get Args
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"a-props-correct.2"	TokenNameStringLiteral	a-props-correct.2
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
nameAtt	TokenNameIdentifier	 name Att
,	TokenNameCOMMA	
attDefault	TokenNameIdentifier	 att Default
.	TokenNameDOT	
normalizedValue	TokenNameIdentifier	 normalized Value
}	TokenNameRBRACE	
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Recover by removing the default value 	TokenNameCOMMENT_LINE	Recover by removing the default value 
attDefault	TokenNameIdentifier	 att Default
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
constraintType	TokenNameIdentifier	 constraint Type
=	TokenNameEQUAL	
XSConstants	TokenNameIdentifier	 XS Constants
.	TokenNameDOT	
VC_NONE	TokenNameIdentifier	 VC  NONE
;	TokenNameSEMICOLON	
attribute	TokenNameIdentifier	 attribute
.	TokenNameDOT	
setValues	TokenNameIdentifier	 set Values
(	TokenNameLPAREN	
nameAtt	TokenNameIdentifier	 name Att
,	TokenNameCOMMA	
tnsAtt	TokenNameIdentifier	 tns Att
,	TokenNameCOMMA	
attrType	TokenNameIdentifier	 attr Type
,	TokenNameCOMMA	
constraintType	TokenNameIdentifier	 constraint Type
,	TokenNameCOMMA	
scope	TokenNameIdentifier	 scope
,	TokenNameCOMMA	
attDefault	TokenNameIdentifier	 att Default
,	TokenNameCOMMA	
enclCT	TokenNameIdentifier	 encl CT
,	TokenNameCOMMA	
annotations	TokenNameIdentifier	 annotations
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// 3 If the {type definition} is or is derived from ID then there must not be a {value constraint}. 	TokenNameCOMMENT_LINE	3 If the {type definition} is or is derived from ID then there must not be a {value constraint}. 
if	TokenNameif	
(	TokenNameLPAREN	
attDefault	TokenNameIdentifier	 att Default
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
attrType	TokenNameIdentifier	 attr Type
.	TokenNameDOT	
isIDType	TokenNameIdentifier	 is ID Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"a-props-correct.3"	TokenNameStringLiteral	a-props-correct.3
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
nameAtt	TokenNameIdentifier	 name Att
}	TokenNameRBRACE	
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Recover by removing the default value 	TokenNameCOMMENT_LINE	Recover by removing the default value 
attDefault	TokenNameIdentifier	 att Default
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
constraintType	TokenNameIdentifier	 constraint Type
=	TokenNameEQUAL	
XSConstants	TokenNameIdentifier	 XS Constants
.	TokenNameDOT	
VC_NONE	TokenNameIdentifier	 VC  NONE
;	TokenNameSEMICOLON	
attribute	TokenNameIdentifier	 attribute
.	TokenNameDOT	
setValues	TokenNameIdentifier	 set Values
(	TokenNameLPAREN	
nameAtt	TokenNameIdentifier	 name Att
,	TokenNameCOMMA	
tnsAtt	TokenNameIdentifier	 tns Att
,	TokenNameCOMMA	
attrType	TokenNameIdentifier	 attr Type
,	TokenNameCOMMA	
constraintType	TokenNameIdentifier	 constraint Type
,	TokenNameCOMMA	
scope	TokenNameIdentifier	 scope
,	TokenNameCOMMA	
attDefault	TokenNameIdentifier	 att Default
,	TokenNameCOMMA	
enclCT	TokenNameIdentifier	 encl CT
,	TokenNameCOMMA	
annotations	TokenNameIdentifier	 annotations
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// no-xmlns 	TokenNameCOMMENT_LINE	no-xmlns 
// The {name} of an attribute declaration must not match xmlns. 	TokenNameCOMMENT_LINE	The {name} of an attribute declaration must not match xmlns. 
if	TokenNameif	
(	TokenNameLPAREN	
nameAtt	TokenNameIdentifier	 name Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
nameAtt	TokenNameIdentifier	 name Att
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
XMLSymbols	TokenNameIdentifier	 XML Symbols
.	TokenNameDOT	
PREFIX_XMLNS	TokenNameIdentifier	 PREFIX  XMLNS
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"no-xmlns"	TokenNameStringLiteral	no-xmlns
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// no-xsi 	TokenNameCOMMENT_LINE	no-xsi 
// The {target namespace} of an attribute declaration, whether local or top-level, must not match http://www.w3.org/2001/XMLSchema-instance (unless it is one of the four built-in declarations given in the next section). 	TokenNameCOMMENT_LINE	The {target namespace} of an attribute declaration, whether local or top-level, must not match http://www.w3.org/2001/XMLSchema-instance (unless it is one of the four built-in declarations given in the next section). 
if	TokenNameif	
(	TokenNameLPAREN	
tnsAtt	TokenNameIdentifier	 tns Att
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
tnsAtt	TokenNameIdentifier	 tns Att
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
URI_XSI	TokenNameIdentifier	 URI  XSI
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"no-xsi"	TokenNameStringLiteral	no-xsi
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
URI_XSI	TokenNameIdentifier	 URI  XSI
}	TokenNameRBRACE	
,	TokenNameCOMMA	
attrDecl	TokenNameIdentifier	 attr Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Attribute without a name. Return null. 	TokenNameCOMMENT_LINE	Attribute without a name. Return null. 
if	TokenNameif	
(	TokenNameLPAREN	
nameAtt	TokenNameIdentifier	 name Att
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
NO_NAME	TokenNameIdentifier	 NO  NAME
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// Step 2: register attribute decl to the grammar 	TokenNameCOMMENT_LINE	Step 2: register attribute decl to the grammar 
if	TokenNameif	
(	TokenNameLPAREN	
isGlobal	TokenNameIdentifier	 is Global
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
grammar	TokenNameIdentifier	 grammar
.	TokenNameDOT	
getGlobalAttributeDecl	TokenNameIdentifier	 get Global Attribute Decl
(	TokenNameLPAREN	
nameAtt	TokenNameIdentifier	 name Att
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
grammar	TokenNameIdentifier	 grammar
.	TokenNameDOT	
addGlobalAttributeDecl	TokenNameIdentifier	 add Global Attribute Decl
(	TokenNameLPAREN	
attribute	TokenNameIdentifier	 attribute
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// also add it to extended map 	TokenNameCOMMENT_LINE	also add it to extended map 
final	TokenNamefinal	
String	TokenNameIdentifier	 String
loc	TokenNameIdentifier	 loc
=	TokenNameEQUAL	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
schemaDocument2SystemId	TokenNameIdentifier	 schema Document2 System Id
(	TokenNameLPAREN	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
XSAttributeDecl	TokenNameIdentifier	 XS Attribute Decl
attribute2	TokenNameIdentifier	 attribute2
=	TokenNameEQUAL	
grammar	TokenNameIdentifier	 grammar
.	TokenNameDOT	
getGlobalAttributeDecl	TokenNameIdentifier	 get Global Attribute Decl
(	TokenNameLPAREN	
nameAtt	TokenNameIdentifier	 name Att
,	TokenNameCOMMA	
loc	TokenNameIdentifier	 loc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
attribute2	TokenNameIdentifier	 attribute2
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
grammar	TokenNameIdentifier	 grammar
.	TokenNameDOT	
addGlobalAttributeDecl	TokenNameIdentifier	 add Global Attribute Decl
(	TokenNameLPAREN	
attribute	TokenNameIdentifier	 attribute
,	TokenNameCOMMA	
loc	TokenNameIdentifier	 loc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
fTolerateDuplicates	TokenNameIdentifier	 f Tolerate Duplicates
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
attribute2	TokenNameIdentifier	 attribute2
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attribute	TokenNameIdentifier	 attribute
=	TokenNameEQUAL	
attribute2	TokenNameIdentifier	 attribute2
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
addGlobalAttributeDecl	TokenNameIdentifier	 add Global Attribute Decl
(	TokenNameLPAREN	
attribute	TokenNameIdentifier	 attribute
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
attribute	TokenNameIdentifier	 attribute
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// throws an error if the constraint value is invalid for the given type 	TokenNameCOMMENT_LINE	throws an error if the constraint value is invalid for the given type 
void	TokenNamevoid	
checkDefaultValid	TokenNameIdentifier	 check Default Valid
(	TokenNameLPAREN	
XSAttributeDecl	TokenNameIdentifier	 XS Attribute Decl
attribute	TokenNameIdentifier	 attribute
)	TokenNameRPAREN	
throws	TokenNamethrows	
InvalidDatatypeValueException	TokenNameIdentifier	 Invalid Datatype Value Exception
{	TokenNameLBRACE	
// validate the original lexical rep, and set the actual value 	TokenNameCOMMENT_LINE	validate the original lexical rep, and set the actual value 
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
)	TokenNameRPAREN	
attribute	TokenNameIdentifier	 attribute
.	TokenNameDOT	
getTypeDefinition	TokenNameIdentifier	 get Type Definition
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
validate	TokenNameIdentifier	 validate
(	TokenNameLPAREN	
attribute	TokenNameIdentifier	 attribute
.	TokenNameDOT	
getValInfo	TokenNameIdentifier	 get Val Info
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
normalizedValue	TokenNameIdentifier	 normalized Value
,	TokenNameCOMMA	
fValidationState	TokenNameIdentifier	 f Validation State
,	TokenNameCOMMA	
attribute	TokenNameIdentifier	 attribute
.	TokenNameDOT	
getValInfo	TokenNameIdentifier	 get Val Info
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// validate the canonical lexical rep 	TokenNameCOMMENT_LINE	validate the canonical lexical rep 
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
)	TokenNameRPAREN	
attribute	TokenNameIdentifier	 attribute
.	TokenNameDOT	
getTypeDefinition	TokenNameIdentifier	 get Type Definition
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
validate	TokenNameIdentifier	 validate
(	TokenNameLPAREN	
attribute	TokenNameIdentifier	 attribute
.	TokenNameDOT	
getValInfo	TokenNameIdentifier	 get Val Info
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
stringValue	TokenNameIdentifier	 string Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fValidationState	TokenNameIdentifier	 f Validation State
,	TokenNameCOMMA	
attribute	TokenNameIdentifier	 attribute
.	TokenNameDOT	
getValInfo	TokenNameIdentifier	 get Val Info
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// throws an error if the constraint value is invalid for the given type 	TokenNameCOMMENT_LINE	throws an error if the constraint value is invalid for the given type 
void	TokenNamevoid	
checkDefaultValid	TokenNameIdentifier	 check Default Valid
(	TokenNameLPAREN	
XSAttributeUseImpl	TokenNameIdentifier	 XS Attribute Use Impl
attrUse	TokenNameIdentifier	 attr Use
)	TokenNameRPAREN	
throws	TokenNamethrows	
InvalidDatatypeValueException	TokenNameIdentifier	 Invalid Datatype Value Exception
{	TokenNameLBRACE	
// validate the original lexical rep, and set the actual value 	TokenNameCOMMENT_LINE	validate the original lexical rep, and set the actual value 
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
)	TokenNameRPAREN	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fAttrDecl	TokenNameIdentifier	 f Attr Decl
.	TokenNameDOT	
getTypeDefinition	TokenNameIdentifier	 get Type Definition
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
validate	TokenNameIdentifier	 validate
(	TokenNameLPAREN	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fDefault	TokenNameIdentifier	 f Default
.	TokenNameDOT	
normalizedValue	TokenNameIdentifier	 normalized Value
,	TokenNameCOMMA	
fValidationState	TokenNameIdentifier	 f Validation State
,	TokenNameCOMMA	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fDefault	TokenNameIdentifier	 f Default
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// validate the canonical lexical rep 	TokenNameCOMMENT_LINE	validate the canonical lexical rep 
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
)	TokenNameRPAREN	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fAttrDecl	TokenNameIdentifier	 f Attr Decl
.	TokenNameDOT	
getTypeDefinition	TokenNameIdentifier	 get Type Definition
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
validate	TokenNameIdentifier	 validate
(	TokenNameLPAREN	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fDefault	TokenNameIdentifier	 f Default
.	TokenNameDOT	
stringValue	TokenNameIdentifier	 string Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fValidationState	TokenNameIdentifier	 f Validation State
,	TokenNameCOMMA	
attrUse	TokenNameIdentifier	 attr Use
.	TokenNameDOT	
fDefault	TokenNameIdentifier	 f Default
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
