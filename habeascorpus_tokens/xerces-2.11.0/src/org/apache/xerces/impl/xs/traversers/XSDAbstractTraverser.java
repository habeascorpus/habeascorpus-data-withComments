/* * Licensed to the Apache Software Foundation (ASF) under one or more * contributor license agreements. See the NOTICE file distributed with * this work for additional information regarding copyright ownership. * The ASF licenses this file to You under the Apache License, Version 2.0 * (the "License"); you may not use this file except in compliance with * the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
traversers	TokenNameIdentifier	 traversers
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Locale	TokenNameIdentifier	 Locale
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Vector	TokenNameIdentifier	 Vector
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
dv	TokenNameIdentifier	 dv
.	TokenNameDOT	
InvalidDatatypeValueException	TokenNameIdentifier	 Invalid Datatype Value Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
dv	TokenNameIdentifier	 dv
.	TokenNameDOT	
XSFacets	TokenNameIdentifier	 XS Facets
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
dv	TokenNameIdentifier	 dv
.	TokenNameDOT	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
validation	TokenNameIdentifier	 validation
.	TokenNameDOT	
ValidationState	TokenNameIdentifier	 Validation State
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
SchemaGrammar	TokenNameIdentifier	 Schema Grammar
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSAnnotationImpl	TokenNameIdentifier	 XS Annotation Impl
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSAttributeGroupDecl	TokenNameIdentifier	 XS Attribute Group Decl
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSAttributeUseImpl	TokenNameIdentifier	 XS Attribute Use Impl
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSComplexTypeDecl	TokenNameIdentifier	 XS Complex Type Decl
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSElementDecl	TokenNameIdentifier	 XS Element Decl
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSParticleDecl	TokenNameIdentifier	 XS Particle Decl
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSWildcardDecl	TokenNameIdentifier	 XS Wildcard Decl
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
XInt	TokenNameIdentifier	 X Int
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
impl	TokenNameIdentifier	 impl
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
XSObjectListImpl	TokenNameIdentifier	 XS Object List Impl
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
DOMUtil	TokenNameIdentifier	 DOM Util
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
NamespaceSupport	TokenNameIdentifier	 Namespace Support
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
SymbolTable	TokenNameIdentifier	 Symbol Table
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xni	TokenNameIdentifier	 xni
.	TokenNameDOT	
QName	TokenNameIdentifier	 Q Name
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSAttributeUse	TokenNameIdentifier	 XS Attribute Use
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSObjectList	TokenNameIdentifier	 XS Object List
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xerces	TokenNameIdentifier	 xerces
.	TokenNameDOT	
xs	TokenNameIdentifier	 xs
.	TokenNameDOT	
XSTypeDefinition	TokenNameIdentifier	 XS Type Definition
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Element	TokenNameIdentifier	 Element
;	TokenNameSEMICOLON	
/** * Class <code>XSDAbstractTraverser</code> serves as the base class for all * other <code>XSD???Traverser</code>s. It holds the common data and provides * a unified way to initialize these data. * * @xerces.internal * * @author Elena Litani, IBM * @author Rahul Srivastava, Sun Microsystems Inc. * @author Neeraj Bajaj, Sun Microsystems Inc. * * @version $Id: XSDAbstractTraverser.java 912153 2010-02-20 17:18:22Z mrglavas $ */	TokenNameCOMMENT_JAVADOC	 Class <code>XSDAbstractTraverser</code> serves as the base class for all other <code>XSD???Traverser</code>s. It holds the common data and provides a unified way to initialize these data. * @xerces.internal * @author Elena Litani, IBM @author Rahul Srivastava, Sun Microsystems Inc. @author Neeraj Bajaj, Sun Microsystems Inc. * @version $Id: XSDAbstractTraverser.java 912153 2010-02-20 17:18:22Z mrglavas $ 
abstract	TokenNameabstract	
class	TokenNameclass	
XSDAbstractTraverser	TokenNameIdentifier	 XSD Abstract Traverser
{	TokenNameLBRACE	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
NO_NAME	TokenNameIdentifier	 NO  NAME
=	TokenNameEQUAL	
"(no name)"	TokenNameStringLiteral	(no name)
;	TokenNameSEMICOLON	
// Flags for checkOccurrences to indicate any special 	TokenNameCOMMENT_LINE	Flags for checkOccurrences to indicate any special 
// restrictions on minOccurs and maxOccurs relating to "all". 	TokenNameCOMMENT_LINE	restrictions on minOccurs and maxOccurs relating to "all". 
// NOT_ALL_CONTEXT - not processing an <all> 	TokenNameCOMMENT_LINE	NOT_ALL_CONTEXT - not processing an <all> 
// PROCESSING_ALL_EL - processing an <element> in an <all> 	TokenNameCOMMENT_LINE	PROCESSING_ALL_EL - processing an <element> in an <all> 
// GROUP_REF_WITH_ALL - processing <group> reference that contained <all> 	TokenNameCOMMENT_LINE	GROUP_REF_WITH_ALL - processing <group> reference that contained <all> 
// CHILD_OF_GROUP - processing a child of a model group definition 	TokenNameCOMMENT_LINE	CHILD_OF_GROUP - processing a child of a model group definition 
// PROCESSING_ALL_GP - processing an <all> group itself 	TokenNameCOMMENT_LINE	PROCESSING_ALL_GP - processing an <all> group itself 
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
NOT_ALL_CONTEXT	TokenNameIdentifier	 NOT  ALL  CONTEXT
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
PROCESSING_ALL_EL	TokenNameIdentifier	 PROCESSING  ALL  EL
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
GROUP_REF_WITH_ALL	TokenNameIdentifier	 GROUP  REF  WITH  ALL
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
CHILD_OF_GROUP	TokenNameIdentifier	 CHILD  OF  GROUP
=	TokenNameEQUAL	
4	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
PROCESSING_ALL_GP	TokenNameIdentifier	 PROCESSING  ALL  GP
=	TokenNameEQUAL	
8	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
//Shared data 	TokenNameCOMMENT_LINE	Shared data 
protected	TokenNameprotected	
XSDHandler	TokenNameIdentifier	 XSD Handler
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
SymbolTable	TokenNameIdentifier	 Symbol Table
fSymbolTable	TokenNameIdentifier	 f Symbol Table
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
fAttrChecker	TokenNameIdentifier	 f Attr Checker
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
boolean	TokenNameboolean	
fValidateAnnotations	TokenNameIdentifier	 f Validate Annotations
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
// used to validate default/fixed attribute values 	TokenNameCOMMENT_LINE	used to validate default/fixed attribute values 
ValidationState	TokenNameIdentifier	 Validation State
fValidationState	TokenNameIdentifier	 f Validation State
=	TokenNameEQUAL	
new	TokenNamenew	
ValidationState	TokenNameIdentifier	 Validation State
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
XSDAbstractTraverser	TokenNameIdentifier	 XSD Abstract Traverser
(	TokenNameLPAREN	
XSDHandler	TokenNameIdentifier	 XSD Handler
handler	TokenNameIdentifier	 handler
,	TokenNameCOMMA	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
attrChecker	TokenNameIdentifier	 attr Checker
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
=	TokenNameEQUAL	
handler	TokenNameIdentifier	 handler
;	TokenNameSEMICOLON	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
=	TokenNameEQUAL	
attrChecker	TokenNameIdentifier	 attr Checker
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
void	TokenNamevoid	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
SymbolTable	TokenNameIdentifier	 Symbol Table
symbolTable	TokenNameIdentifier	 symbol Table
,	TokenNameCOMMA	
boolean	TokenNameboolean	
validateAnnotations	TokenNameIdentifier	 validate Annotations
,	TokenNameCOMMA	
Locale	TokenNameIdentifier	 Locale
locale	TokenNameIdentifier	 locale
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
=	TokenNameEQUAL	
symbolTable	TokenNameIdentifier	 symbol Table
;	TokenNameSEMICOLON	
fValidateAnnotations	TokenNameIdentifier	 f Validate Annotations
=	TokenNameEQUAL	
validateAnnotations	TokenNameIdentifier	 validate Annotations
;	TokenNameSEMICOLON	
fValidationState	TokenNameIdentifier	 f Validation State
.	TokenNameDOT	
setExtraChecking	TokenNameIdentifier	 set Extra Checking
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fValidationState	TokenNameIdentifier	 f Validation State
.	TokenNameDOT	
setSymbolTable	TokenNameIdentifier	 set Symbol Table
(	TokenNameLPAREN	
symbolTable	TokenNameIdentifier	 symbol Table
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fValidationState	TokenNameIdentifier	 f Validation State
.	TokenNameDOT	
setLocale	TokenNameIdentifier	 set Locale
(	TokenNameLPAREN	
locale	TokenNameIdentifier	 locale
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// traverse the annotation declaration 	TokenNameCOMMENT_LINE	traverse the annotation declaration 
// REVISIT: how to pass the parentAttrs? as DOM attributes? 	TokenNameCOMMENT_LINE	REVISIT: how to pass the parentAttrs? as DOM attributes? 
// as name/value pairs (string)? in parsed form? 	TokenNameCOMMENT_LINE	as name/value pairs (string)? in parsed form? 
// @return XSAnnotationImpl object 	TokenNameCOMMENT_LINE	@return XSAnnotationImpl object 
XSAnnotationImpl	TokenNameIdentifier	 XS Annotation Impl
traverseAnnotationDecl	TokenNameIdentifier	 traverse Annotation Decl
(	TokenNameLPAREN	
Element	TokenNameIdentifier	 Element
annotationDecl	TokenNameIdentifier	 annotation Decl
,	TokenNameCOMMA	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
parentAttrs	TokenNameIdentifier	 parent Attrs
,	TokenNameCOMMA	
boolean	TokenNameboolean	
isGlobal	TokenNameIdentifier	 is Global
,	TokenNameCOMMA	
XSDocumentInfo	TokenNameIdentifier	 XS Document Info
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// General Attribute Checking 	TokenNameCOMMENT_LINE	General Attribute Checking 
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
attrValues	TokenNameIdentifier	 attr Values
=	TokenNameEQUAL	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
checkAttributes	TokenNameIdentifier	 check Attributes
(	TokenNameLPAREN	
annotationDecl	TokenNameIdentifier	 annotation Decl
,	TokenNameCOMMA	
isGlobal	TokenNameIdentifier	 is Global
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
returnAttrArray	TokenNameIdentifier	 return Attr Array
(	TokenNameLPAREN	
attrValues	TokenNameIdentifier	 attr Values
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
contents	TokenNameIdentifier	 contents
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getAnnotation	TokenNameIdentifier	 get Annotation
(	TokenNameLPAREN	
annotationDecl	TokenNameIdentifier	 annotation Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Element	TokenNameIdentifier	 Element
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getFirstChildElement	TokenNameIdentifier	 get First Child Element
(	TokenNameLPAREN	
annotationDecl	TokenNameIdentifier	 annotation Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
do	TokenNamedo	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// the only valid children of "annotation" are 	TokenNameCOMMENT_LINE	the only valid children of "annotation" are 
// "appinfo" and "documentation" 	TokenNameCOMMENT_LINE	"appinfo" and "documentation" 
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_APPINFO	TokenNameIdentifier	 ELT  APPINFO
)	TokenNameRPAREN	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_DOCUMENTATION	TokenNameIdentifier	 ELT  DOCUMENTATION
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"src-annotation"	TokenNameStringLiteral	src-annotation
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
name	TokenNameIdentifier	 name
}	TokenNameRBRACE	
,	TokenNameCOMMA	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// General Attribute Checking 	TokenNameCOMMENT_LINE	General Attribute Checking 
// There is no difference between global or local appinfo/documentation, 	TokenNameCOMMENT_LINE	There is no difference between global or local appinfo/documentation, 
// so we assume it's always global. 	TokenNameCOMMENT_LINE	so we assume it's always global. 
attrValues	TokenNameIdentifier	 attr Values
=	TokenNameEQUAL	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
checkAttributes	TokenNameIdentifier	 check Attributes
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
,	TokenNameCOMMA	
true	TokenNametrue	
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
returnAttrArray	TokenNameIdentifier	 return Attr Array
(	TokenNameLPAREN	
attrValues	TokenNameIdentifier	 attr Values
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getNextSiblingElement	TokenNameIdentifier	 get Next Sibling Element
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// if contents was null, must have been some kind of error; 	TokenNameCOMMENT_LINE	if contents was null, must have been some kind of error; 
// nothing to contribute to PSVI 	TokenNameCOMMENT_LINE	nothing to contribute to PSVI 
if	TokenNameif	
(	TokenNameLPAREN	
contents	TokenNameIdentifier	 contents
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// find the grammar; fSchemaHandler must be known! 	TokenNameCOMMENT_LINE	find the grammar; fSchemaHandler must be known! 
SchemaGrammar	TokenNameIdentifier	 Schema Grammar
grammar	TokenNameIdentifier	 grammar
=	TokenNameEQUAL	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
getGrammar	TokenNameIdentifier	 get Grammar
(	TokenNameLPAREN	
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
fTargetNamespace	TokenNameIdentifier	 f Target Namespace
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// fish out local attributes passed from parent 	TokenNameCOMMENT_LINE	fish out local attributes passed from parent 
Vector	TokenNameIdentifier	 Vector
annotationLocalAttrs	TokenNameIdentifier	 annotation Local Attrs
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Vector	TokenNameIdentifier	 Vector
)	TokenNameRPAREN	
parentAttrs	TokenNameIdentifier	 parent Attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_NONSCHEMA	TokenNameIdentifier	 ATTIDX  NONSCHEMA
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// optimize for case where there are no local attributes 	TokenNameCOMMENT_LINE	optimize for case where there are no local attributes 
if	TokenNameif	
(	TokenNameLPAREN	
annotationLocalAttrs	TokenNameIdentifier	 annotation Local Attrs
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
!	TokenNameNOT	
annotationLocalAttrs	TokenNameIdentifier	 annotation Local Attrs
.	TokenNameDOT	
isEmpty	TokenNameIdentifier	 is Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
StringBuffer	TokenNameIdentifier	 String Buffer
localStrBuffer	TokenNameIdentifier	 local Str Buffer
=	TokenNameEQUAL	
new	TokenNamenew	
StringBuffer	TokenNameIdentifier	 String Buffer
(	TokenNameLPAREN	
64	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
localStrBuffer	TokenNameIdentifier	 local Str Buffer
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Vector should contain rawname value pairs 	TokenNameCOMMENT_LINE	Vector should contain rawname value pairs 
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
annotationLocalAttrs	TokenNameIdentifier	 annotation Local Attrs
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
rawname	TokenNameIdentifier	 rawname
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
annotationLocalAttrs	TokenNameIdentifier	 annotation Local Attrs
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
colonIndex	TokenNameIdentifier	 colon Index
=	TokenNameEQUAL	
rawname	TokenNameIdentifier	 rawname
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
':'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
prefix	TokenNameIdentifier	 prefix
,	TokenNameCOMMA	
localpart	TokenNameIdentifier	 localpart
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
colonIndex	TokenNameIdentifier	 colon Index
==	TokenNameEQUAL_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
localpart	TokenNameIdentifier	 localpart
=	TokenNameEQUAL	
rawname	TokenNameIdentifier	 rawname
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
rawname	TokenNameIdentifier	 rawname
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
colonIndex	TokenNameIdentifier	 colon Index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
localpart	TokenNameIdentifier	 localpart
=	TokenNameEQUAL	
rawname	TokenNameIdentifier	 rawname
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
colonIndex	TokenNameIdentifier	 colon Index
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
=	TokenNameEQUAL	
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
fNamespaceSupport	TokenNameIdentifier	 f Namespace Support
.	TokenNameDOT	
getURI	TokenNameIdentifier	 get URI
(	TokenNameLPAREN	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
annotationDecl	TokenNameIdentifier	 annotation Decl
.	TokenNameDOT	
getAttributeNS	TokenNameIdentifier	 get Attribute NS
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
,	TokenNameCOMMA	
localpart	TokenNameIdentifier	 localpart
)	TokenNameRPAREN	
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
// skip the next value, too 	TokenNameCOMMENT_LINE	skip the next value, too 
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
localStrBuffer	TokenNameIdentifier	 local Str Buffer
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
rawname	TokenNameIdentifier	 rawname
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"=""	TokenNameStringLiteral	="
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
annotationLocalAttrs	TokenNameIdentifier	 annotation Local Attrs
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// search for pesky "s and <s within attr value: 	TokenNameCOMMENT_LINE	search for pesky "s and <s within attr value: 
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
processAttValue	TokenNameIdentifier	 process Att Value
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
localStrBuffer	TokenNameIdentifier	 local Str Buffer
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"" "	TokenNameStringLiteral	" 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// and now splice it into place; immediately after the annotation token, for simplicity's sake 	TokenNameCOMMENT_LINE	and now splice it into place; immediately after the annotation token, for simplicity's sake 
StringBuffer	TokenNameIdentifier	 String Buffer
contentBuffer	TokenNameIdentifier	 content Buffer
=	TokenNameEQUAL	
new	TokenNamenew	
StringBuffer	TokenNameIdentifier	 String Buffer
(	TokenNameLPAREN	
contents	TokenNameIdentifier	 contents
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
localStrBuffer	TokenNameIdentifier	 local Str Buffer
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
annotationTokenEnd	TokenNameIdentifier	 annotation Token End
=	TokenNameEQUAL	
contents	TokenNameIdentifier	 contents
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_ANNOTATION	TokenNameIdentifier	 ELT  ANNOTATION
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// annotation must occur somewhere or we're in big trouble... 	TokenNameCOMMENT_LINE	annotation must occur somewhere or we're in big trouble... 
if	TokenNameif	
(	TokenNameLPAREN	
annotationTokenEnd	TokenNameIdentifier	 annotation Token End
==	TokenNameEQUAL_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
annotationTokenEnd	TokenNameIdentifier	 annotation Token End
+=	TokenNamePLUS_EQUAL	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_ANNOTATION	TokenNameIdentifier	 ELT  ANNOTATION
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
contentBuffer	TokenNameIdentifier	 content Buffer
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
contents	TokenNameIdentifier	 contents
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
annotationTokenEnd	TokenNameIdentifier	 annotation Token End
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
contentBuffer	TokenNameIdentifier	 content Buffer
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
localStrBuffer	TokenNameIdentifier	 local Str Buffer
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
contentBuffer	TokenNameIdentifier	 content Buffer
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
contents	TokenNameIdentifier	 contents
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
annotationTokenEnd	TokenNameIdentifier	 annotation Token End
,	TokenNameCOMMA	
contents	TokenNameIdentifier	 contents
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
annotation	TokenNameIdentifier	 annotation
=	TokenNameEQUAL	
contentBuffer	TokenNameIdentifier	 content Buffer
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fValidateAnnotations	TokenNameIdentifier	 f Validate Annotations
)	TokenNameRPAREN	
{	TokenNameLBRACE	
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
addAnnotation	TokenNameIdentifier	 add Annotation
(	TokenNameLPAREN	
new	TokenNamenew	
XSAnnotationInfo	TokenNameIdentifier	 XS Annotation Info
(	TokenNameLPAREN	
annotation	TokenNameIdentifier	 annotation
,	TokenNameCOMMA	
annotationDecl	TokenNameIdentifier	 annotation Decl
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
new	TokenNamenew	
XSAnnotationImpl	TokenNameIdentifier	 XS Annotation Impl
(	TokenNameLPAREN	
annotation	TokenNameIdentifier	 annotation
,	TokenNameCOMMA	
grammar	TokenNameIdentifier	 grammar
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fValidateAnnotations	TokenNameIdentifier	 f Validate Annotations
)	TokenNameRPAREN	
{	TokenNameLBRACE	
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
addAnnotation	TokenNameIdentifier	 add Annotation
(	TokenNameLPAREN	
new	TokenNamenew	
XSAnnotationInfo	TokenNameIdentifier	 XS Annotation Info
(	TokenNameLPAREN	
contents	TokenNameIdentifier	 contents
,	TokenNameCOMMA	
annotationDecl	TokenNameIdentifier	 annotation Decl
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
new	TokenNamenew	
XSAnnotationImpl	TokenNameIdentifier	 XS Annotation Impl
(	TokenNameLPAREN	
contents	TokenNameIdentifier	 contents
,	TokenNameCOMMA	
grammar	TokenNameIdentifier	 grammar
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
XSAnnotationImpl	TokenNameIdentifier	 XS Annotation Impl
traverseSyntheticAnnotation	TokenNameIdentifier	 traverse Synthetic Annotation
(	TokenNameLPAREN	
Element	TokenNameIdentifier	 Element
annotationParent	TokenNameIdentifier	 annotation Parent
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
initialContent	TokenNameIdentifier	 initial Content
,	TokenNameCOMMA	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
parentAttrs	TokenNameIdentifier	 parent Attrs
,	TokenNameCOMMA	
boolean	TokenNameboolean	
isGlobal	TokenNameIdentifier	 is Global
,	TokenNameCOMMA	
XSDocumentInfo	TokenNameIdentifier	 XS Document Info
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
contents	TokenNameIdentifier	 contents
=	TokenNameEQUAL	
initialContent	TokenNameIdentifier	 initial Content
;	TokenNameSEMICOLON	
// find the grammar; fSchemaHandler must be known! 	TokenNameCOMMENT_LINE	find the grammar; fSchemaHandler must be known! 
SchemaGrammar	TokenNameIdentifier	 Schema Grammar
grammar	TokenNameIdentifier	 grammar
=	TokenNameEQUAL	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
getGrammar	TokenNameIdentifier	 get Grammar
(	TokenNameLPAREN	
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
fTargetNamespace	TokenNameIdentifier	 f Target Namespace
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// fish out local attributes passed from parent 	TokenNameCOMMENT_LINE	fish out local attributes passed from parent 
Vector	TokenNameIdentifier	 Vector
annotationLocalAttrs	TokenNameIdentifier	 annotation Local Attrs
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Vector	TokenNameIdentifier	 Vector
)	TokenNameRPAREN	
parentAttrs	TokenNameIdentifier	 parent Attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_NONSCHEMA	TokenNameIdentifier	 ATTIDX  NONSCHEMA
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// optimize for case where there are no local attributes 	TokenNameCOMMENT_LINE	optimize for case where there are no local attributes 
if	TokenNameif	
(	TokenNameLPAREN	
annotationLocalAttrs	TokenNameIdentifier	 annotation Local Attrs
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
!	TokenNameNOT	
annotationLocalAttrs	TokenNameIdentifier	 annotation Local Attrs
.	TokenNameDOT	
isEmpty	TokenNameIdentifier	 is Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
StringBuffer	TokenNameIdentifier	 String Buffer
localStrBuffer	TokenNameIdentifier	 local Str Buffer
=	TokenNameEQUAL	
new	TokenNamenew	
StringBuffer	TokenNameIdentifier	 String Buffer
(	TokenNameLPAREN	
64	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
localStrBuffer	TokenNameIdentifier	 local Str Buffer
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Vector should contain rawname value pairs 	TokenNameCOMMENT_LINE	Vector should contain rawname value pairs 
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
annotationLocalAttrs	TokenNameIdentifier	 annotation Local Attrs
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
rawname	TokenNameIdentifier	 rawname
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
annotationLocalAttrs	TokenNameIdentifier	 annotation Local Attrs
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
colonIndex	TokenNameIdentifier	 colon Index
=	TokenNameEQUAL	
rawname	TokenNameIdentifier	 rawname
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
':'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
prefix	TokenNameIdentifier	 prefix
,	TokenNameCOMMA	
localpart	TokenNameIdentifier	 localpart
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
colonIndex	TokenNameIdentifier	 colon Index
==	TokenNameEQUAL_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
localpart	TokenNameIdentifier	 localpart
=	TokenNameEQUAL	
rawname	TokenNameIdentifier	 rawname
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
prefix	TokenNameIdentifier	 prefix
=	TokenNameEQUAL	
rawname	TokenNameIdentifier	 rawname
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
colonIndex	TokenNameIdentifier	 colon Index
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
localpart	TokenNameIdentifier	 localpart
=	TokenNameEQUAL	
rawname	TokenNameIdentifier	 rawname
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
colonIndex	TokenNameIdentifier	 colon Index
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
=	TokenNameEQUAL	
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
fNamespaceSupport	TokenNameIdentifier	 f Namespace Support
.	TokenNameDOT	
getURI	TokenNameIdentifier	 get URI
(	TokenNameLPAREN	
fSymbolTable	TokenNameIdentifier	 f Symbol Table
.	TokenNameDOT	
addSymbol	TokenNameIdentifier	 add Symbol
(	TokenNameLPAREN	
prefix	TokenNameIdentifier	 prefix
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
localStrBuffer	TokenNameIdentifier	 local Str Buffer
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
rawname	TokenNameIdentifier	 rawname
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"=""	TokenNameStringLiteral	="
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
annotationLocalAttrs	TokenNameIdentifier	 annotation Local Attrs
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// search for pesky "s and <s within attr value: 	TokenNameCOMMENT_LINE	search for pesky "s and <s within attr value: 
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
processAttValue	TokenNameIdentifier	 process Att Value
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
localStrBuffer	TokenNameIdentifier	 local Str Buffer
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"" "	TokenNameStringLiteral	" 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// and now splice it into place; immediately after the annotation token, for simplicity's sake 	TokenNameCOMMENT_LINE	and now splice it into place; immediately after the annotation token, for simplicity's sake 
StringBuffer	TokenNameIdentifier	 String Buffer
contentBuffer	TokenNameIdentifier	 content Buffer
=	TokenNameEQUAL	
new	TokenNamenew	
StringBuffer	TokenNameIdentifier	 String Buffer
(	TokenNameLPAREN	
contents	TokenNameIdentifier	 contents
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
localStrBuffer	TokenNameIdentifier	 local Str Buffer
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
annotationTokenEnd	TokenNameIdentifier	 annotation Token End
=	TokenNameEQUAL	
contents	TokenNameIdentifier	 contents
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_ANNOTATION	TokenNameIdentifier	 ELT  ANNOTATION
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// annotation must occur somewhere or we're in big trouble... 	TokenNameCOMMENT_LINE	annotation must occur somewhere or we're in big trouble... 
if	TokenNameif	
(	TokenNameLPAREN	
annotationTokenEnd	TokenNameIdentifier	 annotation Token End
==	TokenNameEQUAL_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
annotationTokenEnd	TokenNameIdentifier	 annotation Token End
+=	TokenNamePLUS_EQUAL	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_ANNOTATION	TokenNameIdentifier	 ELT  ANNOTATION
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
contentBuffer	TokenNameIdentifier	 content Buffer
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
contents	TokenNameIdentifier	 contents
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
annotationTokenEnd	TokenNameIdentifier	 annotation Token End
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
contentBuffer	TokenNameIdentifier	 content Buffer
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
localStrBuffer	TokenNameIdentifier	 local Str Buffer
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
contentBuffer	TokenNameIdentifier	 content Buffer
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
contents	TokenNameIdentifier	 contents
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
annotationTokenEnd	TokenNameIdentifier	 annotation Token End
,	TokenNameCOMMA	
contents	TokenNameIdentifier	 contents
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
annotation	TokenNameIdentifier	 annotation
=	TokenNameEQUAL	
contentBuffer	TokenNameIdentifier	 content Buffer
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fValidateAnnotations	TokenNameIdentifier	 f Validate Annotations
)	TokenNameRPAREN	
{	TokenNameLBRACE	
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
addAnnotation	TokenNameIdentifier	 add Annotation
(	TokenNameLPAREN	
new	TokenNamenew	
XSAnnotationInfo	TokenNameIdentifier	 XS Annotation Info
(	TokenNameLPAREN	
annotation	TokenNameIdentifier	 annotation
,	TokenNameCOMMA	
annotationParent	TokenNameIdentifier	 annotation Parent
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
new	TokenNamenew	
XSAnnotationImpl	TokenNameIdentifier	 XS Annotation Impl
(	TokenNameLPAREN	
annotation	TokenNameIdentifier	 annotation
,	TokenNameCOMMA	
grammar	TokenNameIdentifier	 grammar
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fValidateAnnotations	TokenNameIdentifier	 f Validate Annotations
)	TokenNameRPAREN	
{	TokenNameLBRACE	
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
addAnnotation	TokenNameIdentifier	 add Annotation
(	TokenNameLPAREN	
new	TokenNamenew	
XSAnnotationInfo	TokenNameIdentifier	 XS Annotation Info
(	TokenNameLPAREN	
contents	TokenNameIdentifier	 contents
,	TokenNameCOMMA	
annotationParent	TokenNameIdentifier	 annotation Parent
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
new	TokenNamenew	
XSAnnotationImpl	TokenNameIdentifier	 XS Annotation Impl
(	TokenNameLPAREN	
contents	TokenNameIdentifier	 contents
,	TokenNameCOMMA	
grammar	TokenNameIdentifier	 grammar
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// the QName simple type used to resolve qnames 	TokenNameCOMMENT_LINE	the QName simple type used to resolve qnames 
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
fQNameDV	TokenNameIdentifier	 f Q Name DV
=	TokenNameEQUAL	
(	TokenNameLPAREN	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
)	TokenNameRPAREN	
SchemaGrammar	TokenNameIdentifier	 Schema Grammar
.	TokenNameDOT	
SG_SchemaNS	TokenNameIdentifier	 SG  Schema NS
.	TokenNameDOT	
getGlobalTypeDecl	TokenNameIdentifier	 get Global Type Decl
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ATTVAL_QNAME	TokenNameIdentifier	 ATTVAL  QNAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Temp data structures to be re-used in traversing facets 	TokenNameCOMMENT_LINE	Temp data structures to be re-used in traversing facets 
private	TokenNameprivate	
StringBuffer	TokenNameIdentifier	 String Buffer
fPattern	TokenNameIdentifier	 f Pattern
=	TokenNameEQUAL	
new	TokenNamenew	
StringBuffer	TokenNameIdentifier	 String Buffer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
XSFacets	TokenNameIdentifier	 XS Facets
xsFacets	TokenNameIdentifier	 xs Facets
=	TokenNameEQUAL	
new	TokenNamenew	
XSFacets	TokenNameIdentifier	 XS Facets
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
static	TokenNamestatic	
final	TokenNamefinal	
class	TokenNameclass	
FacetInfo	TokenNameIdentifier	 Facet Info
{	TokenNameLBRACE	
final	TokenNamefinal	
XSFacets	TokenNameIdentifier	 XS Facets
facetdata	TokenNameIdentifier	 facetdata
;	TokenNameSEMICOLON	
final	TokenNamefinal	
Element	TokenNameIdentifier	 Element
nodeAfterFacets	TokenNameIdentifier	 node After Facets
;	TokenNameSEMICOLON	
final	TokenNamefinal	
short	TokenNameshort	
fPresentFacets	TokenNameIdentifier	 f Present Facets
;	TokenNameSEMICOLON	
final	TokenNamefinal	
short	TokenNameshort	
fFixedFacets	TokenNameIdentifier	 f Fixed Facets
;	TokenNameSEMICOLON	
FacetInfo	TokenNameIdentifier	 Facet Info
(	TokenNameLPAREN	
XSFacets	TokenNameIdentifier	 XS Facets
facets	TokenNameIdentifier	 facets
,	TokenNameCOMMA	
Element	TokenNameIdentifier	 Element
nodeAfterFacets	TokenNameIdentifier	 node After Facets
,	TokenNameCOMMA	
short	TokenNameshort	
presentFacets	TokenNameIdentifier	 present Facets
,	TokenNameCOMMA	
short	TokenNameshort	
fixedFacets	TokenNameIdentifier	 fixed Facets
)	TokenNameRPAREN	
{	TokenNameLBRACE	
facetdata	TokenNameIdentifier	 facetdata
=	TokenNameEQUAL	
facets	TokenNameIdentifier	 facets
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
nodeAfterFacets	TokenNameIdentifier	 node After Facets
=	TokenNameEQUAL	
nodeAfterFacets	TokenNameIdentifier	 node After Facets
;	TokenNameSEMICOLON	
fPresentFacets	TokenNameIdentifier	 f Present Facets
=	TokenNameEQUAL	
presentFacets	TokenNameIdentifier	 present Facets
;	TokenNameSEMICOLON	
fFixedFacets	TokenNameIdentifier	 f Fixed Facets
=	TokenNameEQUAL	
fixedFacets	TokenNameIdentifier	 fixed Facets
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
FacetInfo	TokenNameIdentifier	 Facet Info
traverseFacets	TokenNameIdentifier	 traverse Facets
(	TokenNameLPAREN	
Element	TokenNameIdentifier	 Element
content	TokenNameIdentifier	 content
,	TokenNameCOMMA	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
baseValidator	TokenNameIdentifier	 base Validator
,	TokenNameCOMMA	
XSDocumentInfo	TokenNameIdentifier	 XS Document Info
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
short	TokenNameshort	
facetsPresent	TokenNameIdentifier	 facets Present
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
short	TokenNameshort	
facetsFixed	TokenNameIdentifier	 facets Fixed
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// facets that have fixed="true" 	TokenNameCOMMENT_LINE	facets that have fixed="true" 
String	TokenNameIdentifier	 String
facet	TokenNameIdentifier	 facet
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
hasQName	TokenNameIdentifier	 has Q Name
=	TokenNameEQUAL	
containsQName	TokenNameIdentifier	 contains Q Name
(	TokenNameLPAREN	
baseValidator	TokenNameIdentifier	 base Validator
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Vector	TokenNameIdentifier	 Vector
enumData	TokenNameIdentifier	 enum Data
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
XSObjectListImpl	TokenNameIdentifier	 XS Object List Impl
enumAnnotations	TokenNameIdentifier	 enum Annotations
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
XSObjectListImpl	TokenNameIdentifier	 XS Object List Impl
patternAnnotations	TokenNameIdentifier	 pattern Annotations
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Vector	TokenNameIdentifier	 Vector
enumNSDecls	TokenNameIdentifier	 enum NS Decls
=	TokenNameEQUAL	
hasQName	TokenNameIdentifier	 has Q Name
?	TokenNameQUESTION	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
null	TokenNamenull	
;	TokenNameSEMICOLON	
int	TokenNameint	
currentFacet	TokenNameIdentifier	 current Facet
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// General Attribute Checking 	TokenNameCOMMENT_LINE	General Attribute Checking 
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
attrs	TokenNameIdentifier	 attrs
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
facet	TokenNameIdentifier	 facet
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_ENUMERATION	TokenNameIdentifier	 ELT  ENUMERATION
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attrs	TokenNameIdentifier	 attrs
=	TokenNameEQUAL	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
checkAttributes	TokenNameIdentifier	 check Attributes
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
,	TokenNameCOMMA	
hasQName	TokenNameIdentifier	 has Q Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
enumVal	TokenNameIdentifier	 enum Val
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
attrs	TokenNameIdentifier	 attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_VALUE	TokenNameIdentifier	 ATTIDX  VALUE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// The facet can't be used if the value is missing. Ignore 	TokenNameCOMMENT_LINE	The facet can't be used if the value is missing. Ignore 
// this facet element. 	TokenNameCOMMENT_LINE	this facet element. 
if	TokenNameif	
(	TokenNameLPAREN	
enumVal	TokenNameIdentifier	 enum Val
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"s4s-att-must-appear"	TokenNameStringLiteral	s4s-att-must-appear
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_ENUMERATION	TokenNameIdentifier	 ELT  ENUMERATION
,	TokenNameCOMMA	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ATT_VALUE	TokenNameIdentifier	 ATT  VALUE
}	TokenNameRBRACE	
,	TokenNameCOMMA	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
returnAttrArray	TokenNameIdentifier	 return Attr Array
(	TokenNameLPAREN	
attrs	TokenNameIdentifier	 attrs
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
content	TokenNameIdentifier	 content
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getNextSiblingElement	TokenNameIdentifier	 get Next Sibling Element
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
NamespaceSupport	TokenNameIdentifier	 Namespace Support
nsDecls	TokenNameIdentifier	 ns Decls
=	TokenNameEQUAL	
(	TokenNameLPAREN	
NamespaceSupport	TokenNameIdentifier	 Namespace Support
)	TokenNameRPAREN	
attrs	TokenNameIdentifier	 attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_ENUMNSDECLS	TokenNameIdentifier	 ATTIDX  ENUMNSDECLS
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// for NOTATION types, need to check whether there is a notation 	TokenNameCOMMENT_LINE	for NOTATION types, need to check whether there is a notation 
// declared with the same name as the enumeration value. 	TokenNameCOMMENT_LINE	declared with the same name as the enumeration value. 
if	TokenNameif	
(	TokenNameLPAREN	
baseValidator	TokenNameIdentifier	 base Validator
.	TokenNameDOT	
getVariety	TokenNameIdentifier	 get Variety
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
VARIETY_ATOMIC	TokenNameIdentifier	 VARIETY  ATOMIC
&&	TokenNameAND_AND	
baseValidator	TokenNameIdentifier	 base Validator
.	TokenNameDOT	
getPrimitiveKind	TokenNameIdentifier	 get Primitive Kind
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
PRIMITIVE_NOTATION	TokenNameIdentifier	 PRIMITIVE  NOTATION
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// need to use the namespace context returned from checkAttributes 	TokenNameCOMMENT_LINE	need to use the namespace context returned from checkAttributes 
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
fValidationContext	TokenNameIdentifier	 f Validation Context
.	TokenNameDOT	
setNamespaceSupport	TokenNameIdentifier	 set Namespace Support
(	TokenNameLPAREN	
nsDecls	TokenNameIdentifier	 ns Decls
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Object	TokenNameIdentifier	 Object
notation	TokenNameIdentifier	 notation
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
QName	TokenNameIdentifier	 Q Name
temp	TokenNameIdentifier	 temp
=	TokenNameEQUAL	
(	TokenNameLPAREN	
QName	TokenNameIdentifier	 Q Name
)	TokenNameRPAREN	
fQNameDV	TokenNameIdentifier	 f Q Name DV
.	TokenNameDOT	
validate	TokenNameIdentifier	 validate
(	TokenNameLPAREN	
enumVal	TokenNameIdentifier	 enum Val
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
fValidationContext	TokenNameIdentifier	 f Validation Context
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// try to get the notation decl. if failed, getGlobalDecl 	TokenNameCOMMENT_LINE	try to get the notation decl. if failed, getGlobalDecl 
// reports an error, so we don't need to report one again. 	TokenNameCOMMENT_LINE	reports an error, so we don't need to report one again. 
notation	TokenNameIdentifier	 notation
=	TokenNameEQUAL	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
getGlobalDecl	TokenNameIdentifier	 get Global Decl
(	TokenNameLPAREN	
schemaDoc	TokenNameIdentifier	 schema Doc
,	TokenNameCOMMA	
XSDHandler	TokenNameIdentifier	 XSD Handler
.	TokenNameDOT	
NOTATION_TYPE	TokenNameIdentifier	 NOTATION  TYPE
,	TokenNameCOMMA	
temp	TokenNameIdentifier	 temp
,	TokenNameCOMMA	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
InvalidDatatypeValueException	TokenNameIdentifier	 Invalid Datatype Value Exception
ex	TokenNameIdentifier	 ex
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
ex	TokenNameIdentifier	 ex
.	TokenNameDOT	
getKey	TokenNameIdentifier	 get Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
ex	TokenNameIdentifier	 ex
.	TokenNameDOT	
getArgs	TokenNameIdentifier	 get Args
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
notation	TokenNameIdentifier	 notation
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Either the QName value is invalid, or it doens't 	TokenNameCOMMENT_LINE	Either the QName value is invalid, or it doens't 
// resolve to a notation declaration. 	TokenNameCOMMENT_LINE	resolve to a notation declaration. 
// Ignore this facet, to avoid instance validation problems 	TokenNameCOMMENT_LINE	Ignore this facet, to avoid instance validation problems 
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
returnAttrArray	TokenNameIdentifier	 return Attr Array
(	TokenNameLPAREN	
attrs	TokenNameIdentifier	 attrs
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
content	TokenNameIdentifier	 content
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getNextSiblingElement	TokenNameIdentifier	 get Next Sibling Element
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// restore to the normal namespace context 	TokenNameCOMMENT_LINE	restore to the normal namespace context 
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
fValidationContext	TokenNameIdentifier	 f Validation Context
.	TokenNameDOT	
setNamespaceSupport	TokenNameIdentifier	 set Namespace Support
(	TokenNameLPAREN	
schemaDoc	TokenNameIdentifier	 schema Doc
.	TokenNameDOT	
fNamespaceSupport	TokenNameIdentifier	 f Namespace Support
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
enumData	TokenNameIdentifier	 enum Data
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
enumData	TokenNameIdentifier	 enum Data
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
enumAnnotations	TokenNameIdentifier	 enum Annotations
=	TokenNameEQUAL	
new	TokenNamenew	
XSObjectListImpl	TokenNameIdentifier	 XS Object List Impl
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
enumData	TokenNameIdentifier	 enum Data
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
enumVal	TokenNameIdentifier	 enum Val
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
enumAnnotations	TokenNameIdentifier	 enum Annotations
.	TokenNameDOT	
addXSObject	TokenNameIdentifier	 add XS Object
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
hasQName	TokenNameIdentifier	 has Q Name
)	TokenNameRPAREN	
enumNSDecls	TokenNameIdentifier	 enum NS Decls
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
nsDecls	TokenNameIdentifier	 ns Decls
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Element	TokenNameIdentifier	 Element
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getFirstChildElement	TokenNameIdentifier	 get First Child Element
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_ANNOTATION	TokenNameIdentifier	 ELT  ANNOTATION
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// traverse annotation if any 	TokenNameCOMMENT_LINE	traverse annotation if any 
enumAnnotations	TokenNameIdentifier	 enum Annotations
.	TokenNameDOT	
addXSObject	TokenNameIdentifier	 add XS Object
(	TokenNameLPAREN	
enumAnnotations	TokenNameIdentifier	 enum Annotations
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
traverseAnnotationDecl	TokenNameIdentifier	 traverse Annotation Decl
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
,	TokenNameCOMMA	
attrs	TokenNameIdentifier	 attrs
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getNextSiblingElement	TokenNameIdentifier	 get Next Sibling Element
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getSyntheticAnnotation	TokenNameIdentifier	 get Synthetic Annotation
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
enumAnnotations	TokenNameIdentifier	 enum Annotations
.	TokenNameDOT	
addXSObject	TokenNameIdentifier	 add XS Object
(	TokenNameLPAREN	
enumAnnotations	TokenNameIdentifier	 enum Annotations
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
traverseSyntheticAnnotation	TokenNameIdentifier	 traverse Synthetic Annotation
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
attrs	TokenNameIdentifier	 attrs
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"s4s-elt-must-match.1"	TokenNameStringLiteral	s4s-elt-must-match.1
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"enumeration"	TokenNameStringLiteral	enumeration
,	TokenNameCOMMA	
"(annotation?)"	TokenNameStringLiteral	(annotation?)
,	TokenNameCOMMA	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_PATTERN	TokenNameIdentifier	 ELT  PATTERN
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attrs	TokenNameIdentifier	 attrs
=	TokenNameEQUAL	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
checkAttributes	TokenNameIdentifier	 check Attributes
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
patternVal	TokenNameIdentifier	 pattern Val
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
attrs	TokenNameIdentifier	 attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_VALUE	TokenNameIdentifier	 ATTIDX  VALUE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// The facet can't be used if the value is missing. Ignore 	TokenNameCOMMENT_LINE	The facet can't be used if the value is missing. Ignore 
// this facet element. 	TokenNameCOMMENT_LINE	this facet element. 
if	TokenNameif	
(	TokenNameLPAREN	
patternVal	TokenNameIdentifier	 pattern Val
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"s4s-att-must-appear"	TokenNameStringLiteral	s4s-att-must-appear
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_PATTERN	TokenNameIdentifier	 ELT  PATTERN
,	TokenNameCOMMA	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ATT_VALUE	TokenNameIdentifier	 ATT  VALUE
}	TokenNameRBRACE	
,	TokenNameCOMMA	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
returnAttrArray	TokenNameIdentifier	 return Attr Array
(	TokenNameLPAREN	
attrs	TokenNameIdentifier	 attrs
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
content	TokenNameIdentifier	 content
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getNextSiblingElement	TokenNameIdentifier	 get Next Sibling Element
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fPattern	TokenNameIdentifier	 f Pattern
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fPattern	TokenNameIdentifier	 f Pattern
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
patternVal	TokenNameIdentifier	 pattern Val
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// --------------------------------------------- 	TokenNameCOMMENT_LINE	--------------------------------------------- 
//datatypes: 5.2.4 pattern: src-multiple-pattern 	TokenNameCOMMENT_LINE	datatypes: 5.2.4 pattern: src-multiple-pattern 
// --------------------------------------------- 	TokenNameCOMMENT_LINE	--------------------------------------------- 
fPattern	TokenNameIdentifier	 f Pattern
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"|"	TokenNameStringLiteral	|
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fPattern	TokenNameIdentifier	 f Pattern
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
patternVal	TokenNameIdentifier	 pattern Val
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Element	TokenNameIdentifier	 Element
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getFirstChildElement	TokenNameIdentifier	 get First Child Element
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_ANNOTATION	TokenNameIdentifier	 ELT  ANNOTATION
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// traverse annotation if any 	TokenNameCOMMENT_LINE	traverse annotation if any 
if	TokenNameif	
(	TokenNameLPAREN	
patternAnnotations	TokenNameIdentifier	 pattern Annotations
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
patternAnnotations	TokenNameIdentifier	 pattern Annotations
=	TokenNameEQUAL	
new	TokenNamenew	
XSObjectListImpl	TokenNameIdentifier	 XS Object List Impl
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
patternAnnotations	TokenNameIdentifier	 pattern Annotations
.	TokenNameDOT	
addXSObject	TokenNameIdentifier	 add XS Object
(	TokenNameLPAREN	
traverseAnnotationDecl	TokenNameIdentifier	 traverse Annotation Decl
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
,	TokenNameCOMMA	
attrs	TokenNameIdentifier	 attrs
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getNextSiblingElement	TokenNameIdentifier	 get Next Sibling Element
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getSyntheticAnnotation	TokenNameIdentifier	 get Synthetic Annotation
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
patternAnnotations	TokenNameIdentifier	 pattern Annotations
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
patternAnnotations	TokenNameIdentifier	 pattern Annotations
=	TokenNameEQUAL	
new	TokenNamenew	
XSObjectListImpl	TokenNameIdentifier	 XS Object List Impl
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
patternAnnotations	TokenNameIdentifier	 pattern Annotations
.	TokenNameDOT	
addXSObject	TokenNameIdentifier	 add XS Object
(	TokenNameLPAREN	
traverseSyntheticAnnotation	TokenNameIdentifier	 traverse Synthetic Annotation
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
attrs	TokenNameIdentifier	 attrs
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"s4s-elt-must-match.1"	TokenNameStringLiteral	s4s-elt-must-match.1
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"pattern"	TokenNameStringLiteral	pattern
,	TokenNameCOMMA	
"(annotation?)"	TokenNameStringLiteral	(annotation?)
,	TokenNameCOMMA	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_MINLENGTH	TokenNameIdentifier	 ELT  MINLENGTH
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentFacet	TokenNameIdentifier	 current Facet
=	TokenNameEQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MINLENGTH	TokenNameIdentifier	 FACET  MINLENGTH
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_MAXLENGTH	TokenNameIdentifier	 ELT  MAXLENGTH
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentFacet	TokenNameIdentifier	 current Facet
=	TokenNameEQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MAXLENGTH	TokenNameIdentifier	 FACET  MAXLENGTH
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_MAXEXCLUSIVE	TokenNameIdentifier	 ELT  MAXEXCLUSIVE
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentFacet	TokenNameIdentifier	 current Facet
=	TokenNameEQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MAXEXCLUSIVE	TokenNameIdentifier	 FACET  MAXEXCLUSIVE
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_MAXINCLUSIVE	TokenNameIdentifier	 ELT  MAXINCLUSIVE
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentFacet	TokenNameIdentifier	 current Facet
=	TokenNameEQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MAXINCLUSIVE	TokenNameIdentifier	 FACET  MAXINCLUSIVE
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_MINEXCLUSIVE	TokenNameIdentifier	 ELT  MINEXCLUSIVE
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentFacet	TokenNameIdentifier	 current Facet
=	TokenNameEQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MINEXCLUSIVE	TokenNameIdentifier	 FACET  MINEXCLUSIVE
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_MININCLUSIVE	TokenNameIdentifier	 ELT  MININCLUSIVE
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentFacet	TokenNameIdentifier	 current Facet
=	TokenNameEQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MININCLUSIVE	TokenNameIdentifier	 FACET  MININCLUSIVE
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_TOTALDIGITS	TokenNameIdentifier	 ELT  TOTALDIGITS
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentFacet	TokenNameIdentifier	 current Facet
=	TokenNameEQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_TOTALDIGITS	TokenNameIdentifier	 FACET  TOTALDIGITS
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_FRACTIONDIGITS	TokenNameIdentifier	 ELT  FRACTIONDIGITS
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentFacet	TokenNameIdentifier	 current Facet
=	TokenNameEQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_FRACTIONDIGITS	TokenNameIdentifier	 FACET  FRACTIONDIGITS
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_WHITESPACE	TokenNameIdentifier	 ELT  WHITESPACE
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentFacet	TokenNameIdentifier	 current Facet
=	TokenNameEQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_WHITESPACE	TokenNameIdentifier	 FACET  WHITESPACE
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
facet	TokenNameIdentifier	 facet
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_LENGTH	TokenNameIdentifier	 ELT  LENGTH
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentFacet	TokenNameIdentifier	 current Facet
=	TokenNameEQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_LENGTH	TokenNameIdentifier	 FACET  LENGTH
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
// a non-facet 	TokenNameCOMMENT_LINE	a non-facet 
}	TokenNameRBRACE	
attrs	TokenNameIdentifier	 attrs
=	TokenNameEQUAL	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
checkAttributes	TokenNameIdentifier	 check Attributes
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// check for duplicate facets 	TokenNameCOMMENT_LINE	check for duplicate facets 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
facetsPresent	TokenNameIdentifier	 facets Present
&	TokenNameAND	
currentFacet	TokenNameIdentifier	 current Facet
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Ignore this facet, to avoid corrupting the previous facet 	TokenNameCOMMENT_LINE	Ignore this facet, to avoid corrupting the previous facet 
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"src-single-facet-value"	TokenNameStringLiteral	src-single-facet-value
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
facet	TokenNameIdentifier	 facet
}	TokenNameRBRACE	
,	TokenNameCOMMA	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
returnAttrArray	TokenNameIdentifier	 return Attr Array
(	TokenNameLPAREN	
attrs	TokenNameIdentifier	 attrs
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
content	TokenNameIdentifier	 content
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getNextSiblingElement	TokenNameIdentifier	 get Next Sibling Element
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// The facet can't be used if the value is missing. Ignore 	TokenNameCOMMENT_LINE	The facet can't be used if the value is missing. Ignore 
// this facet element. 	TokenNameCOMMENT_LINE	this facet element. 
if	TokenNameif	
(	TokenNameLPAREN	
attrs	TokenNameIdentifier	 attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_VALUE	TokenNameIdentifier	 ATTIDX  VALUE
]	TokenNameRBRACKET	
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Report an error if the "value" attribute is missing. 	TokenNameCOMMENT_LINE	Report an error if the "value" attribute is missing. 
// If it's not missing, then its value is invalid, and an 	TokenNameCOMMENT_LINE	If it's not missing, then its value is invalid, and an 
// error should have already been reported by the 	TokenNameCOMMENT_LINE	error should have already been reported by the 
// attribute checker. 	TokenNameCOMMENT_LINE	attribute checker. 
if	TokenNameif	
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
.	TokenNameDOT	
getAttributeNodeNS	TokenNameIdentifier	 get Attribute Node NS
(	TokenNameLPAREN	
null	TokenNamenull	
,	TokenNameCOMMA	
"value"	TokenNameStringLiteral	value
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"s4s-att-must-appear"	TokenNameStringLiteral	s4s-att-must-appear
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
content	TokenNameIdentifier	 content
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ATT_VALUE	TokenNameIdentifier	 ATT  VALUE
}	TokenNameRBRACE	
,	TokenNameCOMMA	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
returnAttrArray	TokenNameIdentifier	 return Attr Array
(	TokenNameLPAREN	
attrs	TokenNameIdentifier	 attrs
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
content	TokenNameIdentifier	 content
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getNextSiblingElement	TokenNameIdentifier	 get Next Sibling Element
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
facetsPresent	TokenNameIdentifier	 facets Present
|=	TokenNameOR_EQUAL	
currentFacet	TokenNameIdentifier	 current Facet
;	TokenNameSEMICOLON	
// check for fixed facet 	TokenNameCOMMENT_LINE	check for fixed facet 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
Boolean	TokenNameIdentifier	 Boolean
)	TokenNameRPAREN	
attrs	TokenNameIdentifier	 attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_FIXED	TokenNameIdentifier	 ATTIDX  FIXED
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
.	TokenNameDOT	
booleanValue	TokenNameIdentifier	 boolean Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
facetsFixed	TokenNameIdentifier	 facets Fixed
|=	TokenNameOR_EQUAL	
currentFacet	TokenNameIdentifier	 current Facet
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
switch	TokenNameswitch	
(	TokenNameLPAREN	
currentFacet	TokenNameIdentifier	 current Facet
)	TokenNameRPAREN	
{	TokenNameLBRACE	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MINLENGTH	TokenNameIdentifier	 FACET  MINLENGTH
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
minLength	TokenNameIdentifier	 min Length
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XInt	TokenNameIdentifier	 X Int
)	TokenNameRPAREN	
attrs	TokenNameIdentifier	 attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_VALUE	TokenNameIdentifier	 ATTIDX  VALUE
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
.	TokenNameDOT	
intValue	TokenNameIdentifier	 int Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MAXLENGTH	TokenNameIdentifier	 FACET  MAXLENGTH
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
maxLength	TokenNameIdentifier	 max Length
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XInt	TokenNameIdentifier	 X Int
)	TokenNameRPAREN	
attrs	TokenNameIdentifier	 attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_VALUE	TokenNameIdentifier	 ATTIDX  VALUE
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
.	TokenNameDOT	
intValue	TokenNameIdentifier	 int Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MAXEXCLUSIVE	TokenNameIdentifier	 FACET  MAXEXCLUSIVE
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
maxExclusive	TokenNameIdentifier	 max Exclusive
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
attrs	TokenNameIdentifier	 attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_VALUE	TokenNameIdentifier	 ATTIDX  VALUE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MAXINCLUSIVE	TokenNameIdentifier	 FACET  MAXINCLUSIVE
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
maxInclusive	TokenNameIdentifier	 max Inclusive
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
attrs	TokenNameIdentifier	 attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_VALUE	TokenNameIdentifier	 ATTIDX  VALUE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MINEXCLUSIVE	TokenNameIdentifier	 FACET  MINEXCLUSIVE
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
minExclusive	TokenNameIdentifier	 min Exclusive
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
attrs	TokenNameIdentifier	 attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_VALUE	TokenNameIdentifier	 ATTIDX  VALUE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MININCLUSIVE	TokenNameIdentifier	 FACET  MININCLUSIVE
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
minInclusive	TokenNameIdentifier	 min Inclusive
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
attrs	TokenNameIdentifier	 attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_VALUE	TokenNameIdentifier	 ATTIDX  VALUE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_TOTALDIGITS	TokenNameIdentifier	 FACET  TOTALDIGITS
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
totalDigits	TokenNameIdentifier	 total Digits
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XInt	TokenNameIdentifier	 X Int
)	TokenNameRPAREN	
attrs	TokenNameIdentifier	 attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_VALUE	TokenNameIdentifier	 ATTIDX  VALUE
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
.	TokenNameDOT	
intValue	TokenNameIdentifier	 int Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_FRACTIONDIGITS	TokenNameIdentifier	 FACET  FRACTIONDIGITS
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
fractionDigits	TokenNameIdentifier	 fraction Digits
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XInt	TokenNameIdentifier	 X Int
)	TokenNameRPAREN	
attrs	TokenNameIdentifier	 attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_VALUE	TokenNameIdentifier	 ATTIDX  VALUE
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
.	TokenNameDOT	
intValue	TokenNameIdentifier	 int Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_WHITESPACE	TokenNameIdentifier	 FACET  WHITESPACE
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
whiteSpace	TokenNameIdentifier	 white Space
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XInt	TokenNameIdentifier	 X Int
)	TokenNameRPAREN	
attrs	TokenNameIdentifier	 attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_VALUE	TokenNameIdentifier	 ATTIDX  VALUE
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
.	TokenNameDOT	
shortValue	TokenNameIdentifier	 short Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_LENGTH	TokenNameIdentifier	 FACET  LENGTH
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
length	TokenNameIdentifier	 length
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XInt	TokenNameIdentifier	 X Int
)	TokenNameRPAREN	
attrs	TokenNameIdentifier	 attrs
[	TokenNameLBRACKET	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_VALUE	TokenNameIdentifier	 ATTIDX  VALUE
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
.	TokenNameDOT	
intValue	TokenNameIdentifier	 int Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Element	TokenNameIdentifier	 Element
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getFirstChildElement	TokenNameIdentifier	 get First Child Element
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
XSAnnotationImpl	TokenNameIdentifier	 XS Annotation Impl
annotation	TokenNameIdentifier	 annotation
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_ANNOTATION	TokenNameIdentifier	 ELT  ANNOTATION
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// traverse annotation if any 	TokenNameCOMMENT_LINE	traverse annotation if any 
annotation	TokenNameIdentifier	 annotation
=	TokenNameEQUAL	
traverseAnnotationDecl	TokenNameIdentifier	 traverse Annotation Decl
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
,	TokenNameCOMMA	
attrs	TokenNameIdentifier	 attrs
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getNextSiblingElement	TokenNameIdentifier	 get Next Sibling Element
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getSyntheticAnnotation	TokenNameIdentifier	 get Synthetic Annotation
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
annotation	TokenNameIdentifier	 annotation
=	TokenNameEQUAL	
traverseSyntheticAnnotation	TokenNameIdentifier	 traverse Synthetic Annotation
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
attrs	TokenNameIdentifier	 attrs
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
switch	TokenNameswitch	
(	TokenNameLPAREN	
currentFacet	TokenNameIdentifier	 current Facet
)	TokenNameRPAREN	
{	TokenNameLBRACE	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MINLENGTH	TokenNameIdentifier	 FACET  MINLENGTH
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
minLengthAnnotation	TokenNameIdentifier	 min Length Annotation
=	TokenNameEQUAL	
annotation	TokenNameIdentifier	 annotation
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MAXLENGTH	TokenNameIdentifier	 FACET  MAXLENGTH
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
maxLengthAnnotation	TokenNameIdentifier	 max Length Annotation
=	TokenNameEQUAL	
annotation	TokenNameIdentifier	 annotation
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MAXEXCLUSIVE	TokenNameIdentifier	 FACET  MAXEXCLUSIVE
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
maxExclusiveAnnotation	TokenNameIdentifier	 max Exclusive Annotation
=	TokenNameEQUAL	
annotation	TokenNameIdentifier	 annotation
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MAXINCLUSIVE	TokenNameIdentifier	 FACET  MAXINCLUSIVE
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
maxInclusiveAnnotation	TokenNameIdentifier	 max Inclusive Annotation
=	TokenNameEQUAL	
annotation	TokenNameIdentifier	 annotation
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MINEXCLUSIVE	TokenNameIdentifier	 FACET  MINEXCLUSIVE
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
minExclusiveAnnotation	TokenNameIdentifier	 min Exclusive Annotation
=	TokenNameEQUAL	
annotation	TokenNameIdentifier	 annotation
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_MININCLUSIVE	TokenNameIdentifier	 FACET  MININCLUSIVE
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
minInclusiveAnnotation	TokenNameIdentifier	 min Inclusive Annotation
=	TokenNameEQUAL	
annotation	TokenNameIdentifier	 annotation
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_TOTALDIGITS	TokenNameIdentifier	 FACET  TOTALDIGITS
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
totalDigitsAnnotation	TokenNameIdentifier	 total Digits Annotation
=	TokenNameEQUAL	
annotation	TokenNameIdentifier	 annotation
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_FRACTIONDIGITS	TokenNameIdentifier	 FACET  FRACTIONDIGITS
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
fractionDigitsAnnotation	TokenNameIdentifier	 fraction Digits Annotation
=	TokenNameEQUAL	
annotation	TokenNameIdentifier	 annotation
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_WHITESPACE	TokenNameIdentifier	 FACET  WHITESPACE
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
whiteSpaceAnnotation	TokenNameIdentifier	 white Space Annotation
=	TokenNameEQUAL	
annotation	TokenNameIdentifier	 annotation
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_LENGTH	TokenNameIdentifier	 FACET  LENGTH
:	TokenNameCOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
lengthAnnotation	TokenNameIdentifier	 length Annotation
=	TokenNameEQUAL	
annotation	TokenNameIdentifier	 annotation
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"s4s-elt-must-match.1"	TokenNameStringLiteral	s4s-elt-must-match.1
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
facet	TokenNameIdentifier	 facet
,	TokenNameCOMMA	
"(annotation?)"	TokenNameStringLiteral	(annotation?)
,	TokenNameCOMMA	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
fAttrChecker	TokenNameIdentifier	 f Attr Checker
.	TokenNameDOT	
returnAttrArray	TokenNameIdentifier	 return Attr Array
(	TokenNameLPAREN	
attrs	TokenNameIdentifier	 attrs
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
content	TokenNameIdentifier	 content
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getNextSiblingElement	TokenNameIdentifier	 get Next Sibling Element
(	TokenNameLPAREN	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
enumData	TokenNameIdentifier	 enum Data
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
facetsPresent	TokenNameIdentifier	 facets Present
|=	TokenNameOR_EQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_ENUMERATION	TokenNameIdentifier	 FACET  ENUMERATION
;	TokenNameSEMICOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
enumeration	TokenNameIdentifier	 enumeration
=	TokenNameEQUAL	
enumData	TokenNameIdentifier	 enum Data
;	TokenNameSEMICOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
enumNSDecls	TokenNameIdentifier	 enum NS Decls
=	TokenNameEQUAL	
enumNSDecls	TokenNameIdentifier	 enum NS Decls
;	TokenNameSEMICOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
enumAnnotations	TokenNameIdentifier	 enum Annotations
=	TokenNameEQUAL	
enumAnnotations	TokenNameIdentifier	 enum Annotations
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fPattern	TokenNameIdentifier	 f Pattern
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
facetsPresent	TokenNameIdentifier	 facets Present
|=	TokenNameOR_EQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_PATTERN	TokenNameIdentifier	 FACET  PATTERN
;	TokenNameSEMICOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
pattern	TokenNameIdentifier	 pattern
=	TokenNameEQUAL	
fPattern	TokenNameIdentifier	 f Pattern
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
xsFacets	TokenNameIdentifier	 xs Facets
.	TokenNameDOT	
patternAnnotations	TokenNameIdentifier	 pattern Annotations
=	TokenNameEQUAL	
patternAnnotations	TokenNameIdentifier	 pattern Annotations
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
fPattern	TokenNameIdentifier	 f Pattern
.	TokenNameDOT	
setLength	TokenNameIdentifier	 set Length
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
FacetInfo	TokenNameIdentifier	 Facet Info
(	TokenNameLPAREN	
xsFacets	TokenNameIdentifier	 xs Facets
,	TokenNameCOMMA	
content	TokenNameIdentifier	 content
,	TokenNameCOMMA	
facetsPresent	TokenNameIdentifier	 facets Present
,	TokenNameCOMMA	
facetsFixed	TokenNameIdentifier	 facets Fixed
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// return whether QName/NOTATION is part of the given type 	TokenNameCOMMENT_LINE	return whether QName/NOTATION is part of the given type 
private	TokenNameprivate	
boolean	TokenNameboolean	
containsQName	TokenNameIdentifier	 contains Q Name
(	TokenNameLPAREN	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
type	TokenNameIdentifier	 type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
.	TokenNameDOT	
getVariety	TokenNameIdentifier	 get Variety
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
VARIETY_ATOMIC	TokenNameIdentifier	 VARIETY  ATOMIC
)	TokenNameRPAREN	
{	TokenNameLBRACE	
short	TokenNameshort	
primitive	TokenNameIdentifier	 primitive
=	TokenNameEQUAL	
type	TokenNameIdentifier	 type
.	TokenNameDOT	
getPrimitiveKind	TokenNameIdentifier	 get Primitive Kind
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
(	TokenNameLPAREN	
primitive	TokenNameIdentifier	 primitive
==	TokenNameEQUAL_EQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
PRIMITIVE_QNAME	TokenNameIdentifier	 PRIMITIVE  QNAME
||	TokenNameOR_OR	
primitive	TokenNameIdentifier	 primitive
==	TokenNameEQUAL_EQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
PRIMITIVE_NOTATION	TokenNameIdentifier	 PRIMITIVE  NOTATION
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
.	TokenNameDOT	
getVariety	TokenNameIdentifier	 get Variety
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
VARIETY_LIST	TokenNameIdentifier	 VARIETY  LIST
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
containsQName	TokenNameIdentifier	 contains Q Name
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
)	TokenNameRPAREN	
type	TokenNameIdentifier	 type
.	TokenNameDOT	
getItemType	TokenNameIdentifier	 get Item Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
.	TokenNameDOT	
getVariety	TokenNameIdentifier	 get Variety
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
VARIETY_UNION	TokenNameIdentifier	 VARIETY  UNION
)	TokenNameRPAREN	
{	TokenNameLBRACE	
XSObjectList	TokenNameIdentifier	 XS Object List
members	TokenNameIdentifier	 members
=	TokenNameEQUAL	
type	TokenNameIdentifier	 type
.	TokenNameDOT	
getMemberTypes	TokenNameIdentifier	 get Member Types
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
members	TokenNameIdentifier	 members
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
containsQName	TokenNameIdentifier	 contains Q Name
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
)	TokenNameRPAREN	
members	TokenNameIdentifier	 members
.	TokenNameDOT	
item	TokenNameIdentifier	 item
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// 	TokenNameCOMMENT_LINE	 
// Traverse a set of attribute and attribute group elements 	TokenNameCOMMENT_LINE	Traverse a set of attribute and attribute group elements 
// Needed by complexType and attributeGroup traversal 	TokenNameCOMMENT_LINE	Needed by complexType and attributeGroup traversal 
// This method will return the first non-attribute/attrgrp found 	TokenNameCOMMENT_LINE	This method will return the first non-attribute/attrgrp found 
// 	TokenNameCOMMENT_LINE	 
Element	TokenNameIdentifier	 Element
traverseAttrsAndAttrGrps	TokenNameIdentifier	 traverse Attrs And Attr Grps
(	TokenNameLPAREN	
Element	TokenNameIdentifier	 Element
firstAttr	TokenNameIdentifier	 first Attr
,	TokenNameCOMMA	
XSAttributeGroupDecl	TokenNameIdentifier	 XS Attribute Group Decl
attrGrp	TokenNameIdentifier	 attr Grp
,	TokenNameCOMMA	
XSDocumentInfo	TokenNameIdentifier	 XS Document Info
schemaDoc	TokenNameIdentifier	 schema Doc
,	TokenNameCOMMA	
SchemaGrammar	TokenNameIdentifier	 Schema Grammar
grammar	TokenNameIdentifier	 grammar
,	TokenNameCOMMA	
XSComplexTypeDecl	TokenNameIdentifier	 XS Complex Type Decl
enclosingCT	TokenNameIdentifier	 enclosing CT
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Element	TokenNameIdentifier	 Element
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
XSAttributeGroupDecl	TokenNameIdentifier	 XS Attribute Group Decl
tempAttrGrp	TokenNameIdentifier	 temp Attr Grp
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
XSAttributeUseImpl	TokenNameIdentifier	 XS Attribute Use Impl
tempAttrUse	TokenNameIdentifier	 temp Attr Use
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
XSAttributeUse	TokenNameIdentifier	 XS Attribute Use
otherUse	TokenNameIdentifier	 other Use
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
childName	TokenNameIdentifier	 child Name
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
firstAttr	TokenNameIdentifier	 first Attr
;	TokenNameSEMICOLON	
child	TokenNameIdentifier	 child
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getNextSiblingElement	TokenNameIdentifier	 get Next Sibling Element
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
childName	TokenNameIdentifier	 child Name
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
childName	TokenNameIdentifier	 child Name
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_ATTRIBUTE	TokenNameIdentifier	 ELT  ATTRIBUTE
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
tempAttrUse	TokenNameIdentifier	 temp Attr Use
=	TokenNameEQUAL	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
fAttributeTraverser	TokenNameIdentifier	 f Attribute Traverser
.	TokenNameDOT	
traverseLocal	TokenNameIdentifier	 traverse Local
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
,	TokenNameCOMMA	
grammar	TokenNameIdentifier	 grammar
,	TokenNameCOMMA	
enclosingCT	TokenNameIdentifier	 enclosing CT
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
tempAttrUse	TokenNameIdentifier	 temp Attr Use
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
tempAttrUse	TokenNameIdentifier	 temp Attr Use
.	TokenNameDOT	
fUse	TokenNameIdentifier	 f Use
==	TokenNameEQUAL_EQUAL	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
USE_PROHIBITED	TokenNameIdentifier	 USE  PROHIBITED
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
addAttributeUse	TokenNameIdentifier	 add Attribute Use
(	TokenNameLPAREN	
tempAttrUse	TokenNameIdentifier	 temp Attr Use
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
otherUse	TokenNameIdentifier	 other Use
=	TokenNameEQUAL	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
getAttributeUseNoProhibited	TokenNameIdentifier	 get Attribute Use No Prohibited
(	TokenNameLPAREN	
tempAttrUse	TokenNameIdentifier	 temp Attr Use
.	TokenNameDOT	
fAttrDecl	TokenNameIdentifier	 f Attr Decl
.	TokenNameDOT	
getNamespace	TokenNameIdentifier	 get Namespace
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
tempAttrUse	TokenNameIdentifier	 temp Attr Use
.	TokenNameDOT	
fAttrDecl	TokenNameIdentifier	 f Attr Decl
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
otherUse	TokenNameIdentifier	 other Use
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
idName	TokenNameIdentifier	 id Name
=	TokenNameEQUAL	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
addAttributeUse	TokenNameIdentifier	 add Attribute Use
(	TokenNameLPAREN	
tempAttrUse	TokenNameIdentifier	 temp Attr Use
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
idName	TokenNameIdentifier	 id Name
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
code	TokenNameIdentifier	 code
=	TokenNameEQUAL	
(	TokenNameLPAREN	
enclosingCT	TokenNameIdentifier	 enclosing CT
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
"ag-props-correct.3"	TokenNameStringLiteral	ag-props-correct.3
:	TokenNameCOLON	
"ct-props-correct.5"	TokenNameStringLiteral	ct-props-correct.5
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
(	TokenNameLPAREN	
enclosingCT	TokenNameIdentifier	 enclosing CT
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fName	TokenNameIdentifier	 f Name
:	TokenNameCOLON	
enclosingCT	TokenNameIdentifier	 enclosing CT
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
code	TokenNameIdentifier	 code
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
tempAttrUse	TokenNameIdentifier	 temp Attr Use
.	TokenNameDOT	
fAttrDecl	TokenNameIdentifier	 f Attr Decl
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
idName	TokenNameIdentifier	 id Name
}	TokenNameRBRACE	
,	TokenNameCOMMA	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
otherUse	TokenNameIdentifier	 other Use
!=	TokenNameNOT_EQUAL	
tempAttrUse	TokenNameIdentifier	 temp Attr Use
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
code	TokenNameIdentifier	 code
=	TokenNameEQUAL	
(	TokenNameLPAREN	
enclosingCT	TokenNameIdentifier	 enclosing CT
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
"ag-props-correct.2"	TokenNameStringLiteral	ag-props-correct.2
:	TokenNameCOLON	
"ct-props-correct.4"	TokenNameStringLiteral	ct-props-correct.4
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
(	TokenNameLPAREN	
enclosingCT	TokenNameIdentifier	 enclosing CT
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fName	TokenNameIdentifier	 f Name
:	TokenNameCOLON	
enclosingCT	TokenNameIdentifier	 enclosing CT
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
code	TokenNameIdentifier	 code
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
tempAttrUse	TokenNameIdentifier	 temp Attr Use
.	TokenNameDOT	
fAttrDecl	TokenNameIdentifier	 f Attr Decl
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
childName	TokenNameIdentifier	 child Name
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_ATTRIBUTEGROUP	TokenNameIdentifier	 ELT  ATTRIBUTEGROUP
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//REVISIT: do we need to save some state at this point?? 	TokenNameCOMMENT_LINE	REVISIT: do we need to save some state at this point?? 
tempAttrGrp	TokenNameIdentifier	 temp Attr Grp
=	TokenNameEQUAL	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
fAttributeGroupTraverser	TokenNameIdentifier	 f Attribute Group Traverser
.	TokenNameDOT	
traverseLocal	TokenNameIdentifier	 traverse Local
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
,	TokenNameCOMMA	
grammar	TokenNameIdentifier	 grammar
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
tempAttrGrp	TokenNameIdentifier	 temp Attr Grp
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
XSObjectList	TokenNameIdentifier	 XS Object List
attrUseS	TokenNameIdentifier	 attr Use S
=	TokenNameEQUAL	
tempAttrGrp	TokenNameIdentifier	 temp Attr Grp
.	TokenNameDOT	
getAttributeUses	TokenNameIdentifier	 get Attribute Uses
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
XSAttributeUseImpl	TokenNameIdentifier	 XS Attribute Use Impl
oneAttrUse	TokenNameIdentifier	 one Attr Use
;	TokenNameSEMICOLON	
int	TokenNameint	
attrCount	TokenNameIdentifier	 attr Count
=	TokenNameEQUAL	
attrUseS	TokenNameIdentifier	 attr Use S
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
attrCount	TokenNameIdentifier	 attr Count
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
oneAttrUse	TokenNameIdentifier	 one Attr Use
=	TokenNameEQUAL	
(	TokenNameLPAREN	
XSAttributeUseImpl	TokenNameIdentifier	 XS Attribute Use Impl
)	TokenNameRPAREN	
attrUseS	TokenNameIdentifier	 attr Use S
.	TokenNameDOT	
item	TokenNameIdentifier	 item
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
oneAttrUse	TokenNameIdentifier	 one Attr Use
.	TokenNameDOT	
fUse	TokenNameIdentifier	 f Use
==	TokenNameEQUAL_EQUAL	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
USE_PROHIBITED	TokenNameIdentifier	 USE  PROHIBITED
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
addAttributeUse	TokenNameIdentifier	 add Attribute Use
(	TokenNameLPAREN	
oneAttrUse	TokenNameIdentifier	 one Attr Use
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
otherUse	TokenNameIdentifier	 other Use
=	TokenNameEQUAL	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
getAttributeUseNoProhibited	TokenNameIdentifier	 get Attribute Use No Prohibited
(	TokenNameLPAREN	
oneAttrUse	TokenNameIdentifier	 one Attr Use
.	TokenNameDOT	
fAttrDecl	TokenNameIdentifier	 f Attr Decl
.	TokenNameDOT	
getNamespace	TokenNameIdentifier	 get Namespace
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
oneAttrUse	TokenNameIdentifier	 one Attr Use
.	TokenNameDOT	
fAttrDecl	TokenNameIdentifier	 f Attr Decl
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
otherUse	TokenNameIdentifier	 other Use
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
idName	TokenNameIdentifier	 id Name
=	TokenNameEQUAL	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
addAttributeUse	TokenNameIdentifier	 add Attribute Use
(	TokenNameLPAREN	
oneAttrUse	TokenNameIdentifier	 one Attr Use
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
idName	TokenNameIdentifier	 id Name
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
code	TokenNameIdentifier	 code
=	TokenNameEQUAL	
(	TokenNameLPAREN	
enclosingCT	TokenNameIdentifier	 enclosing CT
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
"ag-props-correct.3"	TokenNameStringLiteral	ag-props-correct.3
:	TokenNameCOLON	
"ct-props-correct.5"	TokenNameStringLiteral	ct-props-correct.5
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
(	TokenNameLPAREN	
enclosingCT	TokenNameIdentifier	 enclosing CT
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fName	TokenNameIdentifier	 f Name
:	TokenNameCOLON	
enclosingCT	TokenNameIdentifier	 enclosing CT
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
code	TokenNameIdentifier	 code
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
oneAttrUse	TokenNameIdentifier	 one Attr Use
.	TokenNameDOT	
fAttrDecl	TokenNameIdentifier	 f Attr Decl
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
idName	TokenNameIdentifier	 id Name
}	TokenNameRBRACE	
,	TokenNameCOMMA	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
oneAttrUse	TokenNameIdentifier	 one Attr Use
!=	TokenNameNOT_EQUAL	
otherUse	TokenNameIdentifier	 other Use
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
code	TokenNameIdentifier	 code
=	TokenNameEQUAL	
(	TokenNameLPAREN	
enclosingCT	TokenNameIdentifier	 enclosing CT
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
"ag-props-correct.2"	TokenNameStringLiteral	ag-props-correct.2
:	TokenNameCOLON	
"ct-props-correct.4"	TokenNameStringLiteral	ct-props-correct.4
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
(	TokenNameLPAREN	
enclosingCT	TokenNameIdentifier	 enclosing CT
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fName	TokenNameIdentifier	 f Name
:	TokenNameCOLON	
enclosingCT	TokenNameIdentifier	 enclosing CT
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
code	TokenNameIdentifier	 code
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
oneAttrUse	TokenNameIdentifier	 one Attr Use
.	TokenNameDOT	
fAttrDecl	TokenNameIdentifier	 f Attr Decl
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
tempAttrGrp	TokenNameIdentifier	 temp Attr Grp
.	TokenNameDOT	
fAttributeWC	TokenNameIdentifier	 f Attribute WC
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fAttributeWC	TokenNameIdentifier	 f Attribute WC
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fAttributeWC	TokenNameIdentifier	 f Attribute WC
=	TokenNameEQUAL	
tempAttrGrp	TokenNameIdentifier	 temp Attr Grp
.	TokenNameDOT	
fAttributeWC	TokenNameIdentifier	 f Attribute WC
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// perform intersection of attribute wildcard 	TokenNameCOMMENT_LINE	perform intersection of attribute wildcard 
else	TokenNameelse	
{	TokenNameLBRACE	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fAttributeWC	TokenNameIdentifier	 f Attribute WC
=	TokenNameEQUAL	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fAttributeWC	TokenNameIdentifier	 f Attribute WC
.	TokenNameDOT	
performIntersectionWith	TokenNameIdentifier	 perform Intersection With
(	TokenNameLPAREN	
tempAttrGrp	TokenNameIdentifier	 temp Attr Grp
.	TokenNameDOT	
fAttributeWC	TokenNameIdentifier	 f Attribute WC
,	TokenNameCOMMA	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fAttributeWC	TokenNameIdentifier	 f Attribute WC
.	TokenNameDOT	
fProcessContents	TokenNameIdentifier	 f Process Contents
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fAttributeWC	TokenNameIdentifier	 f Attribute WC
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
code	TokenNameIdentifier	 code
=	TokenNameEQUAL	
(	TokenNameLPAREN	
enclosingCT	TokenNameIdentifier	 enclosing CT
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
"src-attribute_group.2"	TokenNameStringLiteral	src-attribute_group.2
:	TokenNameCOLON	
"src-ct.4"	TokenNameStringLiteral	src-ct.4
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
(	TokenNameLPAREN	
enclosingCT	TokenNameIdentifier	 enclosing CT
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fName	TokenNameIdentifier	 f Name
:	TokenNameCOLON	
enclosingCT	TokenNameIdentifier	 enclosing CT
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
code	TokenNameIdentifier	 code
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
name	TokenNameIdentifier	 name
}	TokenNameRBRACE	
,	TokenNameCOMMA	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// for 	TokenNameCOMMENT_LINE	for 
if	TokenNameif	
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
childName	TokenNameIdentifier	 child Name
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
childName	TokenNameIdentifier	 child Name
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ELT_ANYATTRIBUTE	TokenNameIdentifier	 ELT  ANYATTRIBUTE
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
XSWildcardDecl	TokenNameIdentifier	 XS Wildcard Decl
tempAttrWC	TokenNameIdentifier	 temp Attr WC
=	TokenNameEQUAL	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
fWildCardTraverser	TokenNameIdentifier	 f Wild Card Traverser
.	TokenNameDOT	
traverseAnyAttribute	TokenNameIdentifier	 traverse Any Attribute
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
,	TokenNameCOMMA	
schemaDoc	TokenNameIdentifier	 schema Doc
,	TokenNameCOMMA	
grammar	TokenNameIdentifier	 grammar
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fAttributeWC	TokenNameIdentifier	 f Attribute WC
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fAttributeWC	TokenNameIdentifier	 f Attribute WC
=	TokenNameEQUAL	
tempAttrWC	TokenNameIdentifier	 temp Attr WC
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// perform intersection of attribute wildcard 	TokenNameCOMMENT_LINE	perform intersection of attribute wildcard 
else	TokenNameelse	
{	TokenNameLBRACE	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fAttributeWC	TokenNameIdentifier	 f Attribute WC
=	TokenNameEQUAL	
tempAttrWC	TokenNameIdentifier	 temp Attr WC
.	TokenNameDOT	
performIntersectionWith	TokenNameIdentifier	 perform Intersection With
(	TokenNameLPAREN	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fAttributeWC	TokenNameIdentifier	 f Attribute WC
,	TokenNameCOMMA	
tempAttrWC	TokenNameIdentifier	 temp Attr WC
.	TokenNameDOT	
fProcessContents	TokenNameIdentifier	 f Process Contents
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fAttributeWC	TokenNameIdentifier	 f Attribute WC
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
code	TokenNameIdentifier	 code
=	TokenNameEQUAL	
(	TokenNameLPAREN	
enclosingCT	TokenNameIdentifier	 enclosing CT
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
"src-attribute_group.2"	TokenNameStringLiteral	src-attribute_group.2
:	TokenNameCOLON	
"src-ct.4"	TokenNameStringLiteral	src-ct.4
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
(	TokenNameLPAREN	
enclosingCT	TokenNameIdentifier	 enclosing CT
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
attrGrp	TokenNameIdentifier	 attr Grp
.	TokenNameDOT	
fName	TokenNameIdentifier	 f Name
:	TokenNameCOLON	
enclosingCT	TokenNameIdentifier	 enclosing CT
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
code	TokenNameIdentifier	 code
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
name	TokenNameIdentifier	 name
}	TokenNameRBRACE	
,	TokenNameCOMMA	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getNextSiblingElement	TokenNameIdentifier	 get Next Sibling Element
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Success 	TokenNameCOMMENT_LINE	Success 
return	TokenNamereturn	
child	TokenNameIdentifier	 child
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
void	TokenNamevoid	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
key	TokenNameIdentifier	 key
,	TokenNameCOMMA	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
args	TokenNameIdentifier	 args
,	TokenNameCOMMA	
Element	TokenNameIdentifier	 Element
ele	TokenNameIdentifier	 ele
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fSchemaHandler	TokenNameIdentifier	 f Schema Handler
.	TokenNameDOT	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
,	TokenNameCOMMA	
args	TokenNameIdentifier	 args
,	TokenNameCOMMA	
ele	TokenNameIdentifier	 ele
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Element/Attribute traversers call this method to check whether * the type is NOTATION without enumeration facet */	TokenNameCOMMENT_JAVADOC	 Element/Attribute traversers call this method to check whether the type is NOTATION without enumeration facet 
void	TokenNamevoid	
checkNotationType	TokenNameIdentifier	 check Notation Type
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
refName	TokenNameIdentifier	 ref Name
,	TokenNameCOMMA	
XSTypeDefinition	TokenNameIdentifier	 XS Type Definition
typeDecl	TokenNameIdentifier	 type Decl
,	TokenNameCOMMA	
Element	TokenNameIdentifier	 Element
elem	TokenNameIdentifier	 elem
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
typeDecl	TokenNameIdentifier	 type Decl
.	TokenNameDOT	
getTypeCategory	TokenNameIdentifier	 get Type Category
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
XSTypeDefinition	TokenNameIdentifier	 XS Type Definition
.	TokenNameDOT	
SIMPLE_TYPE	TokenNameIdentifier	 SIMPLE  TYPE
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
)	TokenNameRPAREN	
typeDecl	TokenNameIdentifier	 type Decl
)	TokenNameRPAREN	
.	TokenNameDOT	
getVariety	TokenNameIdentifier	 get Variety
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
VARIETY_ATOMIC	TokenNameIdentifier	 VARIETY  ATOMIC
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
)	TokenNameRPAREN	
typeDecl	TokenNameIdentifier	 type Decl
)	TokenNameRPAREN	
.	TokenNameDOT	
getPrimitiveKind	TokenNameIdentifier	 get Primitive Kind
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
PRIMITIVE_NOTATION	TokenNameIdentifier	 PRIMITIVE  NOTATION
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
)	TokenNameRPAREN	
typeDecl	TokenNameIdentifier	 type Decl
)	TokenNameRPAREN	
.	TokenNameDOT	
getDefinedFacets	TokenNameIdentifier	 get Defined Facets
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&	TokenNameAND	
XSSimpleType	TokenNameIdentifier	 XS Simple Type
.	TokenNameDOT	
FACET_ENUMERATION	TokenNameIdentifier	 FACET  ENUMERATION
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"enumeration-required-notation"	TokenNameStringLiteral	enumeration-required-notation
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
typeDecl	TokenNameIdentifier	 type Decl
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
refName	TokenNameIdentifier	 ref Name
,	TokenNameCOMMA	
DOMUtil	TokenNameIdentifier	 DOM Util
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
elem	TokenNameIdentifier	 elem
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
elem	TokenNameIdentifier	 elem
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Checks constraints for minOccurs, maxOccurs 	TokenNameCOMMENT_LINE	Checks constraints for minOccurs, maxOccurs 
protected	TokenNameprotected	
XSParticleDecl	TokenNameIdentifier	 XS Particle Decl
checkOccurrences	TokenNameIdentifier	 check Occurrences
(	TokenNameLPAREN	
XSParticleDecl	TokenNameIdentifier	 XS Particle Decl
particle	TokenNameIdentifier	 particle
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
particleName	TokenNameIdentifier	 particle Name
,	TokenNameCOMMA	
Element	TokenNameIdentifier	 Element
parent	TokenNameIdentifier	 parent
,	TokenNameCOMMA	
int	TokenNameint	
allContextFlags	TokenNameIdentifier	 all Context Flags
,	TokenNameCOMMA	
long	TokenNamelong	
defaultVals	TokenNameIdentifier	 default Vals
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
min	TokenNameIdentifier	 min
=	TokenNameEQUAL	
particle	TokenNameIdentifier	 particle
.	TokenNameDOT	
fMinOccurs	TokenNameIdentifier	 f Min Occurs
;	TokenNameSEMICOLON	
int	TokenNameint	
max	TokenNameIdentifier	 max
=	TokenNameEQUAL	
particle	TokenNameIdentifier	 particle
.	TokenNameDOT	
fMaxOccurs	TokenNameIdentifier	 f Max Occurs
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
defaultMin	TokenNameIdentifier	 default Min
=	TokenNameEQUAL	
(	TokenNameLPAREN	
defaultVals	TokenNameIdentifier	 default Vals
&	TokenNameAND	
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
<<	TokenNameLEFT_SHIFT	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_MINOCCURS	TokenNameIdentifier	 ATTIDX  MINOCCURS
)	TokenNameRPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
defaultMax	TokenNameIdentifier	 default Max
=	TokenNameEQUAL	
(	TokenNameLPAREN	
defaultVals	TokenNameIdentifier	 default Vals
&	TokenNameAND	
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
<<	TokenNameLEFT_SHIFT	
XSAttributeChecker	TokenNameIdentifier	 XS Attribute Checker
.	TokenNameDOT	
ATTIDX_MAXOCCURS	TokenNameIdentifier	 ATTIDX  MAXOCCURS
)	TokenNameRPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
processingAllEl	TokenNameIdentifier	 processing All El
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
allContextFlags	TokenNameIdentifier	 all Context Flags
&	TokenNameAND	
PROCESSING_ALL_EL	TokenNameIdentifier	 PROCESSING  ALL  EL
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
processingAllGP	TokenNameIdentifier	 processing All GP
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
allContextFlags	TokenNameIdentifier	 all Context Flags
&	TokenNameAND	
PROCESSING_ALL_GP	TokenNameIdentifier	 PROCESSING  ALL  GP
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
groupRefWithAll	TokenNameIdentifier	 group Ref With All
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
allContextFlags	TokenNameIdentifier	 all Context Flags
&	TokenNameAND	
GROUP_REF_WITH_ALL	TokenNameIdentifier	 GROUP  REF  WITH  ALL
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
isGroupChild	TokenNameIdentifier	 is Group Child
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
allContextFlags	TokenNameIdentifier	 all Context Flags
&	TokenNameAND	
CHILD_OF_GROUP	TokenNameIdentifier	 CHILD  OF  GROUP
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Neither minOccurs nor maxOccurs may be specified 	TokenNameCOMMENT_LINE	Neither minOccurs nor maxOccurs may be specified 
// for the child of a model group definition. 	TokenNameCOMMENT_LINE	for the child of a model group definition. 
if	TokenNameif	
(	TokenNameLPAREN	
isGroupChild	TokenNameIdentifier	 is Group Child
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
defaultMin	TokenNameIdentifier	 default Min
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
args	TokenNameIdentifier	 args
=	TokenNameEQUAL	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
particleName	TokenNameIdentifier	 particle Name
,	TokenNameCOMMA	
"minOccurs"	TokenNameStringLiteral	minOccurs
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"s4s-att-not-allowed"	TokenNameStringLiteral	s4s-att-not-allowed
,	TokenNameCOMMA	
args	TokenNameIdentifier	 args
,	TokenNameCOMMA	
parent	TokenNameIdentifier	 parent
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
min	TokenNameIdentifier	 min
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
defaultMax	TokenNameIdentifier	 default Max
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
args	TokenNameIdentifier	 args
=	TokenNameEQUAL	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
particleName	TokenNameIdentifier	 particle Name
,	TokenNameCOMMA	
"maxOccurs"	TokenNameStringLiteral	maxOccurs
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"s4s-att-not-allowed"	TokenNameStringLiteral	s4s-att-not-allowed
,	TokenNameCOMMA	
args	TokenNameIdentifier	 args
,	TokenNameCOMMA	
parent	TokenNameIdentifier	 parent
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
max	TokenNameIdentifier	 max
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// If minOccurs=maxOccurs=0, no component is specified 	TokenNameCOMMENT_LINE	If minOccurs=maxOccurs=0, no component is specified 
if	TokenNameif	
(	TokenNameLPAREN	
min	TokenNameIdentifier	 min
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
&&	TokenNameAND_AND	
max	TokenNameIdentifier	 max
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
particle	TokenNameIdentifier	 particle
.	TokenNameDOT	
fType	TokenNameIdentifier	 f Type
=	TokenNameEQUAL	
XSParticleDecl	TokenNameIdentifier	 XS Particle Decl
.	TokenNameDOT	
PARTICLE_EMPTY	TokenNameIdentifier	 PARTICLE  EMPTY
;	TokenNameSEMICOLON	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// For the elements referenced in an <all>, minOccurs attribute 	TokenNameCOMMENT_LINE	For the elements referenced in an <all>, minOccurs attribute 
// must be zero or one, and maxOccurs attribute must be one. 	TokenNameCOMMENT_LINE	must be zero or one, and maxOccurs attribute must be one. 
// For a complex type definition that contains an <all> or a 	TokenNameCOMMENT_LINE	For a complex type definition that contains an <all> or a 
// reference a <group> whose model group is an all model group, 	TokenNameCOMMENT_LINE	reference a <group> whose model group is an all model group, 
// minOccurs and maxOccurs must be one. 	TokenNameCOMMENT_LINE	minOccurs and maxOccurs must be one. 
if	TokenNameif	
(	TokenNameLPAREN	
processingAllEl	TokenNameIdentifier	 processing All El
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
max	TokenNameIdentifier	 max
!=	TokenNameNOT_EQUAL	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"cos-all-limited.2"	TokenNameStringLiteral	cos-all-limited.2
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
max	TokenNameIdentifier	 max
==	TokenNameEQUAL_EQUAL	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
OCCURRENCE_UNBOUNDED	TokenNameIdentifier	 OCCURRENCE  UNBOUNDED
)	TokenNameRPAREN	
?	TokenNameQUESTION	
SchemaSymbols	TokenNameIdentifier	 Schema Symbols
.	TokenNameDOT	
ATTVAL_UNBOUNDED	TokenNameIdentifier	 ATTVAL  UNBOUNDED
:	TokenNameCOLON	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
max	TokenNameIdentifier	 max
)	TokenNameRPAREN	
,	TokenNameCOMMA	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
XSElementDecl	TokenNameIdentifier	 XS Element Decl
)	TokenNameRPAREN	
particle	TokenNameIdentifier	 particle
.	TokenNameDOT	
fValue	TokenNameIdentifier	 f Value
)	TokenNameRPAREN	
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
parent	TokenNameIdentifier	 parent
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
max	TokenNameIdentifier	 max
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
min	TokenNameIdentifier	 min
>	TokenNameGREATER	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
min	TokenNameIdentifier	 min
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
processingAllGP	TokenNameIdentifier	 processing All GP
||	TokenNameOR_OR	
groupRefWithAll	TokenNameIdentifier	 group Ref With All
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
max	TokenNameIdentifier	 max
!=	TokenNameNOT_EQUAL	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportSchemaError	TokenNameIdentifier	 report Schema Error
(	TokenNameLPAREN	
"cos-all-limited.1.2"	TokenNameStringLiteral	cos-all-limited.1.2
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
parent	TokenNameIdentifier	 parent
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
min	TokenNameIdentifier	 min
>	TokenNameGREATER	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
min	TokenNameIdentifier	 min
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
max	TokenNameIdentifier	 max
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
particle	TokenNameIdentifier	 particle
.	TokenNameDOT	
fMinOccurs	TokenNameIdentifier	 f Min Occurs
=	TokenNameEQUAL	
min	TokenNameIdentifier	 min
;	TokenNameSEMICOLON	
particle	TokenNameIdentifier	 particle
.	TokenNameDOT	
fMaxOccurs	TokenNameIdentifier	 f Max Occurs
=	TokenNameEQUAL	
max	TokenNameIdentifier	 max
;	TokenNameSEMICOLON	
return	TokenNamereturn	
particle	TokenNameIdentifier	 particle
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
String	TokenNameIdentifier	 String
processAttValue	TokenNameIdentifier	 process Att Value
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
original	TokenNameIdentifier	 original
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
int	TokenNameint	
length	TokenNameIdentifier	 length
=	TokenNameEQUAL	
original	TokenNameIdentifier	 original
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// normally, nothing will happen 	TokenNameCOMMENT_LINE	normally, nothing will happen 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
++	TokenNamePLUS_PLUS	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
{	TokenNameLBRACE	
char	TokenNamechar	
currChar	TokenNameIdentifier	 curr Char
=	TokenNameEQUAL	
original	TokenNameIdentifier	 original
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
currChar	TokenNameIdentifier	 curr Char
==	TokenNameEQUAL_EQUAL	
'"'	TokenNameCharacterLiteral	
||	TokenNameOR_OR	
currChar	TokenNameIdentifier	 curr Char
==	TokenNameEQUAL_EQUAL	
'<'	TokenNameCharacterLiteral	
||	TokenNameOR_OR	
currChar	TokenNameIdentifier	 curr Char
==	TokenNameEQUAL_EQUAL	
'&'	TokenNameCharacterLiteral	
||	TokenNameOR_OR	
currChar	TokenNameIdentifier	 curr Char
==	TokenNameEQUAL_EQUAL	
0x09	TokenNameIntegerLiteral	
||	TokenNameOR_OR	
currChar	TokenNameIdentifier	 curr Char
==	TokenNameEQUAL_EQUAL	
0x0A	TokenNameIntegerLiteral	
||	TokenNameOR_OR	
currChar	TokenNameIdentifier	 curr Char
==	TokenNameEQUAL_EQUAL	
0x0D	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
escapeAttValue	TokenNameIdentifier	 escape Att Value
(	TokenNameLPAREN	
original	TokenNameIdentifier	 original
,	TokenNameCOMMA	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
original	TokenNameIdentifier	 original
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// this is not terribly performant! 	TokenNameCOMMENT_LINE	this is not terribly performant! 
private	TokenNameprivate	
static	TokenNamestatic	
String	TokenNameIdentifier	 String
escapeAttValue	TokenNameIdentifier	 escape Att Value
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
original	TokenNameIdentifier	 original
,	TokenNameCOMMA	
int	TokenNameint	
from	TokenNameIdentifier	 from
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
i	TokenNameIdentifier	 i
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
length	TokenNameIdentifier	 length
=	TokenNameEQUAL	
original	TokenNameIdentifier	 original
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
StringBuffer	TokenNameIdentifier	 String Buffer
newVal	TokenNameIdentifier	 new Val
=	TokenNameEQUAL	
new	TokenNamenew	
StringBuffer	TokenNameIdentifier	 String Buffer
(	TokenNameLPAREN	
length	TokenNameIdentifier	 length
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
newVal	TokenNameIdentifier	 new Val
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
original	TokenNameIdentifier	 original
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
from	TokenNameIdentifier	 from
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
from	TokenNameIdentifier	 from
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
++	TokenNamePLUS_PLUS	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
{	TokenNameLBRACE	
char	TokenNamechar	
currChar	TokenNameIdentifier	 curr Char
=	TokenNameEQUAL	
original	TokenNameIdentifier	 original
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
currChar	TokenNameIdentifier	 curr Char
==	TokenNameEQUAL_EQUAL	
'"'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
newVal	TokenNameIdentifier	 new Val
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"&quot;"	TokenNameStringLiteral	&quot;
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
currChar	TokenNameIdentifier	 curr Char
==	TokenNameEQUAL_EQUAL	
'<'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
newVal	TokenNameIdentifier	 new Val
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"&lt;"	TokenNameStringLiteral	&lt;
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
currChar	TokenNameIdentifier	 curr Char
==	TokenNameEQUAL_EQUAL	
'&'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
newVal	TokenNameIdentifier	 new Val
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"&amp;"	TokenNameStringLiteral	&amp;
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Must escape 0x09, 0x0A and 0x0D if they appear in attribute 	TokenNameCOMMENT_LINE	Must escape 0x09, 0x0A and 0x0D if they appear in attribute 
// value so that they may be round-tripped. They would otherwise 	TokenNameCOMMENT_LINE	value so that they may be round-tripped. They would otherwise 
// be transformed to a 0x20 during attribute value normalization. 	TokenNameCOMMENT_LINE	be transformed to a 0x20 during attribute value normalization. 
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
currChar	TokenNameIdentifier	 curr Char
==	TokenNameEQUAL_EQUAL	
0x09	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
newVal	TokenNameIdentifier	 new Val
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"&#x9;"	TokenNameStringLiteral	&#x9;
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
currChar	TokenNameIdentifier	 curr Char
==	TokenNameEQUAL_EQUAL	
0x0A	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
newVal	TokenNameIdentifier	 new Val
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"&#xA;"	TokenNameStringLiteral	&#xA;
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
currChar	TokenNameIdentifier	 curr Char
==	TokenNameEQUAL_EQUAL	
0x0D	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
newVal	TokenNameIdentifier	 new Val
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"&#xD;"	TokenNameStringLiteral	&#xD;
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
newVal	TokenNameIdentifier	 new Val
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
currChar	TokenNameIdentifier	 curr Char
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
newVal	TokenNameIdentifier	 new Val
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
