/* * Licensed to the Apache Software Foundation (ASF) under one or more * contributor license agreements. See the NOTICE file distributed with * this work for additional information regarding copyright ownership. * The ASF licenses this file to You under the Apache License, Version 2.0 * (the "License"); you may not use this file except in compliance with * the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. * */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
FileOutputStream	TokenNameIdentifier	 File Output Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
OutputStream	TokenNameIdentifier	 Output Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
OutputStreamWriter	TokenNameIdentifier	 Output Stream Writer
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
PrintStream	TokenNameIdentifier	 Print Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
Writer	TokenNameIdentifier	 Writer
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Hashtable	TokenNameIdentifier	 Hashtable
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Stack	TokenNameIdentifier	 Stack
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Enumeration	TokenNameIdentifier	 Enumeration
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
parsers	TokenNameIdentifier	 parsers
.	TokenNameDOT	
DocumentBuilder	TokenNameIdentifier	 Document Builder
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
parsers	TokenNameIdentifier	 parsers
.	TokenNameDOT	
DocumentBuilderFactory	TokenNameIdentifier	 Document Builder Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
DOMElementWriter	TokenNameIdentifier	 DOM Element Writer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
FileUtils	TokenNameIdentifier	 File Utils
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
StringUtils	TokenNameIdentifier	 String Utils
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Document	TokenNameIdentifier	 Document
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Element	TokenNameIdentifier	 Element
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Node	TokenNameIdentifier	 Node
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Text	TokenNameIdentifier	 Text
;	TokenNameSEMICOLON	
/** * Generates a file in the current directory with * an XML description of what happened during a build. * The default filename is "log.xml", but this can be overridden * with the property <code>XmlLogger.file</code>. * * This implementation assumes in its sanity checking that only one * thread runs a particular target/task at a time. This is enforced * by the way that parallel builds and antcalls are done - and * indeed all but the simplest of tasks could run into problems * if executed in parallel. * * @see Project#addBuildListener(BuildListener) */	TokenNameCOMMENT_JAVADOC	 Generates a file in the current directory with an XML description of what happened during a build. The default filename is "log.xml", but this can be overridden with the property <code>XmlLogger.file</code>. * This implementation assumes in its sanity checking that only one thread runs a particular target/task at a time. This is enforced by the way that parallel builds and antcalls are done - and indeed all but the simplest of tasks could run into problems if executed in parallel. * @see Project#addBuildListener(BuildListener) 
public	TokenNamepublic	
class	TokenNameclass	
XmlLogger	TokenNameIdentifier	 Xml Logger
implements	TokenNameimplements	
BuildLogger	TokenNameIdentifier	 Build Logger
{	TokenNameLBRACE	
private	TokenNameprivate	
int	TokenNameint	
msgOutputLevel	TokenNameIdentifier	 msg Output Level
=	TokenNameEQUAL	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_DEBUG	TokenNameIdentifier	 MSG  DEBUG
;	TokenNameSEMICOLON	
private	TokenNameprivate	
PrintStream	TokenNameIdentifier	 Print Stream
outStream	TokenNameIdentifier	 out Stream
;	TokenNameSEMICOLON	
/** DocumentBuilder to use when creating the document to start with. */	TokenNameCOMMENT_JAVADOC	 DocumentBuilder to use when creating the document to start with. 
private	TokenNameprivate	
static	TokenNamestatic	
DocumentBuilder	TokenNameIdentifier	 Document Builder
builder	TokenNameIdentifier	 builder
=	TokenNameEQUAL	
getDocumentBuilder	TokenNameIdentifier	 get Document Builder
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Returns a default DocumentBuilder instance or throws an * ExceptionInInitializerError if it can't be created. * * @return a default DocumentBuilder instance. */	TokenNameCOMMENT_JAVADOC	 Returns a default DocumentBuilder instance or throws an ExceptionInInitializerError if it can't be created. * @return a default DocumentBuilder instance. 
private	TokenNameprivate	
static	TokenNamestatic	
DocumentBuilder	TokenNameIdentifier	 Document Builder
getDocumentBuilder	TokenNameIdentifier	 get Document Builder
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
return	TokenNamereturn	
DocumentBuilderFactory	TokenNameIdentifier	 Document Builder Factory
.	TokenNameDOT	
newInstance	TokenNameIdentifier	 new Instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
newDocumentBuilder	TokenNameIdentifier	 new Document Builder
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
exc	TokenNameIdentifier	 exc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
ExceptionInInitializerError	TokenNameIdentifier	 Exception In Initializer Error
(	TokenNameLPAREN	
exc	TokenNameIdentifier	 exc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** XML element name for a build. */	TokenNameCOMMENT_JAVADOC	 XML element name for a build. 
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
BUILD_TAG	TokenNameIdentifier	 BUILD  TAG
=	TokenNameEQUAL	
"build"	TokenNameStringLiteral	build
;	TokenNameSEMICOLON	
/** XML element name for a target. */	TokenNameCOMMENT_JAVADOC	 XML element name for a target. 
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
TARGET_TAG	TokenNameIdentifier	 TARGET  TAG
=	TokenNameEQUAL	
"target"	TokenNameStringLiteral	target
;	TokenNameSEMICOLON	
/** XML element name for a task. */	TokenNameCOMMENT_JAVADOC	 XML element name for a task. 
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
TASK_TAG	TokenNameIdentifier	 TASK  TAG
=	TokenNameEQUAL	
"task"	TokenNameStringLiteral	task
;	TokenNameSEMICOLON	
/** XML element name for a message. */	TokenNameCOMMENT_JAVADOC	 XML element name for a message. 
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
MESSAGE_TAG	TokenNameIdentifier	 MESSAGE  TAG
=	TokenNameEQUAL	
"message"	TokenNameStringLiteral	message
;	TokenNameSEMICOLON	
/** XML attribute name for a name. */	TokenNameCOMMENT_JAVADOC	 XML attribute name for a name. 
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
NAME_ATTR	TokenNameIdentifier	 NAME  ATTR
=	TokenNameEQUAL	
"name"	TokenNameStringLiteral	name
;	TokenNameSEMICOLON	
/** XML attribute name for a time. */	TokenNameCOMMENT_JAVADOC	 XML attribute name for a time. 
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
TIME_ATTR	TokenNameIdentifier	 TIME  ATTR
=	TokenNameEQUAL	
"time"	TokenNameStringLiteral	time
;	TokenNameSEMICOLON	
/** XML attribute name for a message priority. */	TokenNameCOMMENT_JAVADOC	 XML attribute name for a message priority. 
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
PRIORITY_ATTR	TokenNameIdentifier	 PRIORITY  ATTR
=	TokenNameEQUAL	
"priority"	TokenNameStringLiteral	priority
;	TokenNameSEMICOLON	
/** XML attribute name for a file location. */	TokenNameCOMMENT_JAVADOC	 XML attribute name for a file location. 
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
LOCATION_ATTR	TokenNameIdentifier	 LOCATION  ATTR
=	TokenNameEQUAL	
"location"	TokenNameStringLiteral	location
;	TokenNameSEMICOLON	
/** XML attribute name for an error description. */	TokenNameCOMMENT_JAVADOC	 XML attribute name for an error description. 
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
ERROR_ATTR	TokenNameIdentifier	 ERROR  ATTR
=	TokenNameEQUAL	
"error"	TokenNameStringLiteral	error
;	TokenNameSEMICOLON	
/** XML element name for a stack trace. */	TokenNameCOMMENT_JAVADOC	 XML element name for a stack trace. 
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
STACKTRACE_TAG	TokenNameIdentifier	 STACKTRACE  TAG
=	TokenNameEQUAL	
"stacktrace"	TokenNameStringLiteral	stacktrace
;	TokenNameSEMICOLON	
/** The complete log document for this build. */	TokenNameCOMMENT_JAVADOC	 The complete log document for this build. 
private	TokenNameprivate	
Document	TokenNameIdentifier	 Document
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
builder	TokenNameIdentifier	 builder
.	TokenNameDOT	
newDocument	TokenNameIdentifier	 new Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** Mapping for when tasks started (Task to TimedElement). */	TokenNameCOMMENT_JAVADOC	 Mapping for when tasks started (Task to TimedElement). 
private	TokenNameprivate	
Hashtable	TokenNameIdentifier	 Hashtable
tasks	TokenNameIdentifier	 tasks
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** Mapping for when targets started (Task to TimedElement). */	TokenNameCOMMENT_JAVADOC	 Mapping for when targets started (Task to TimedElement). 
private	TokenNameprivate	
Hashtable	TokenNameIdentifier	 Hashtable
targets	TokenNameIdentifier	 targets
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Mapping of threads to stacks of elements * (Thread to Stack of TimedElement). */	TokenNameCOMMENT_JAVADOC	 Mapping of threads to stacks of elements (Thread to Stack of TimedElement). 
private	TokenNameprivate	
Hashtable	TokenNameIdentifier	 Hashtable
threadStacks	TokenNameIdentifier	 thread Stacks
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * When the build started. */	TokenNameCOMMENT_JAVADOC	 When the build started. 
private	TokenNameprivate	
TimedElement	TokenNameIdentifier	 Timed Element
buildElement	TokenNameIdentifier	 build Element
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** Utility class representing the time an element started. */	TokenNameCOMMENT_JAVADOC	 Utility class representing the time an element started. 
private	TokenNameprivate	
static	TokenNamestatic	
class	TokenNameclass	
TimedElement	TokenNameIdentifier	 Timed Element
{	TokenNameLBRACE	
/** * Start time in milliseconds * (as returned by <code>System.currentTimeMillis()</code>). */	TokenNameCOMMENT_JAVADOC	 Start time in milliseconds (as returned by <code>System.currentTimeMillis()</code>). 
private	TokenNameprivate	
long	TokenNamelong	
startTime	TokenNameIdentifier	 start Time
;	TokenNameSEMICOLON	
/** Element created at the start time. */	TokenNameCOMMENT_JAVADOC	 Element created at the start time. 
private	TokenNameprivate	
Element	TokenNameIdentifier	 Element
element	TokenNameIdentifier	 element
;	TokenNameSEMICOLON	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
getTagName	TokenNameIdentifier	 get Tag Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
":"	TokenNameStringLiteral	:
+	TokenNamePLUS	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
"name"	TokenNameStringLiteral	name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Constructs a new BuildListener that logs build events to an XML file. */	TokenNameCOMMENT_JAVADOC	 Constructs a new BuildListener that logs build events to an XML file. 
public	TokenNamepublic	
XmlLogger	TokenNameIdentifier	 Xml Logger
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * Fired when the build starts, this builds the top-level element for the * document and remembers the time of the start of the build. * * @param event Ignored. */	TokenNameCOMMENT_JAVADOC	 Fired when the build starts, this builds the top-level element for the document and remembers the time of the start of the build. * @param event Ignored. 
public	TokenNamepublic	
void	TokenNamevoid	
buildStarted	TokenNameIdentifier	 build Started
(	TokenNameLPAREN	
BuildEvent	TokenNameIdentifier	 Build Event
event	TokenNameIdentifier	 event
)	TokenNameRPAREN	
{	TokenNameLBRACE	
buildElement	TokenNameIdentifier	 build Element
=	TokenNameEQUAL	
new	TokenNamenew	
TimedElement	TokenNameIdentifier	 Timed Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
buildElement	TokenNameIdentifier	 build Element
.	TokenNameDOT	
startTime	TokenNameIdentifier	 start Time
=	TokenNameEQUAL	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
currentTimeMillis	TokenNameIdentifier	 current Time Millis
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
buildElement	TokenNameIdentifier	 build Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
=	TokenNameEQUAL	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
createElement	TokenNameIdentifier	 create Element
(	TokenNameLPAREN	
BUILD_TAG	TokenNameIdentifier	 BUILD  TAG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Fired when the build finishes, this adds the time taken and any * error stacktrace to the build element and writes the document to disk. * * @param event An event with any relevant extra information. * Will not be <code>null</code>. */	TokenNameCOMMENT_JAVADOC	 Fired when the build finishes, this adds the time taken and any error stacktrace to the build element and writes the document to disk. * @param event An event with any relevant extra information. Will not be <code>null</code>. 
public	TokenNamepublic	
void	TokenNamevoid	
buildFinished	TokenNameIdentifier	 build Finished
(	TokenNameLPAREN	
BuildEvent	TokenNameIdentifier	 Build Event
event	TokenNameIdentifier	 event
)	TokenNameRPAREN	
{	TokenNameLBRACE	
long	TokenNamelong	
totalTime	TokenNameIdentifier	 total Time
=	TokenNameEQUAL	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
currentTimeMillis	TokenNameIdentifier	 current Time Millis
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
buildElement	TokenNameIdentifier	 build Element
.	TokenNameDOT	
startTime	TokenNameIdentifier	 start Time
;	TokenNameSEMICOLON	
buildElement	TokenNameIdentifier	 build Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
setAttribute	TokenNameIdentifier	 set Attribute
(	TokenNameLPAREN	
TIME_ATTR	TokenNameIdentifier	 TIME  ATTR
,	TokenNameCOMMA	
DefaultLogger	TokenNameIdentifier	 Default Logger
.	TokenNameDOT	
formatTime	TokenNameIdentifier	 format Time
(	TokenNameLPAREN	
totalTime	TokenNameIdentifier	 total Time
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
event	TokenNameIdentifier	 event
.	TokenNameDOT	
getException	TokenNameIdentifier	 get Exception
(	TokenNameLPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
buildElement	TokenNameIdentifier	 build Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
setAttribute	TokenNameIdentifier	 set Attribute
(	TokenNameLPAREN	
ERROR_ATTR	TokenNameIdentifier	 ERROR  ATTR
,	TokenNameCOMMA	
event	TokenNameIdentifier	 event
.	TokenNameDOT	
getException	TokenNameIdentifier	 get Exception
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// print the stacktrace in the build file it is always useful... 	TokenNameCOMMENT_LINE	print the stacktrace in the build file it is always useful... 
// better have too much info than not enough. 	TokenNameCOMMENT_LINE	better have too much info than not enough. 
Throwable	TokenNameIdentifier	 Throwable
t	TokenNameIdentifier	 t
=	TokenNameEQUAL	
event	TokenNameIdentifier	 event
.	TokenNameDOT	
getException	TokenNameIdentifier	 get Exception
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Text	TokenNameIdentifier	 Text
errText	TokenNameIdentifier	 err Text
=	TokenNameEQUAL	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
createCDATASection	TokenNameIdentifier	 create CDATA Section
(	TokenNameLPAREN	
StringUtils	TokenNameIdentifier	 String Utils
.	TokenNameDOT	
getStackTrace	TokenNameIdentifier	 get Stack Trace
(	TokenNameLPAREN	
t	TokenNameIdentifier	 t
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Element	TokenNameIdentifier	 Element
stacktrace	TokenNameIdentifier	 stacktrace
=	TokenNameEQUAL	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
createElement	TokenNameIdentifier	 create Element
(	TokenNameLPAREN	
STACKTRACE_TAG	TokenNameIdentifier	 STACKTRACE  TAG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
stacktrace	TokenNameIdentifier	 stacktrace
.	TokenNameDOT	
appendChild	TokenNameIdentifier	 append Child
(	TokenNameLPAREN	
errText	TokenNameIdentifier	 err Text
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
synchronizedAppend	TokenNameIdentifier	 synchronized Append
(	TokenNameLPAREN	
buildElement	TokenNameIdentifier	 build Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
,	TokenNameCOMMA	
stacktrace	TokenNameIdentifier	 stacktrace
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
outFilename	TokenNameIdentifier	 out Filename
=	TokenNameEQUAL	
event	TokenNameIdentifier	 event
.	TokenNameDOT	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
"XmlLogger.file"	TokenNameStringLiteral	XmlLogger.file
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
outFilename	TokenNameIdentifier	 out Filename
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
outFilename	TokenNameIdentifier	 out Filename
=	TokenNameEQUAL	
"log.xml"	TokenNameStringLiteral	log.xml
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
xslUri	TokenNameIdentifier	 xsl Uri
=	TokenNameEQUAL	
event	TokenNameIdentifier	 event
.	TokenNameDOT	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
"ant.XmlLogger.stylesheet.uri"	TokenNameStringLiteral	ant.XmlLogger.stylesheet.uri
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
xslUri	TokenNameIdentifier	 xsl Uri
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
xslUri	TokenNameIdentifier	 xsl Uri
=	TokenNameEQUAL	
"log.xsl"	TokenNameStringLiteral	log.xsl
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Writer	TokenNameIdentifier	 Writer
out	TokenNameIdentifier	 out
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
// specify output in UTF8 otherwise accented characters will blow 	TokenNameCOMMENT_LINE	specify output in UTF8 otherwise accented characters will blow 
// up everything 	TokenNameCOMMENT_LINE	up everything 
OutputStream	TokenNameIdentifier	 Output Stream
stream	TokenNameIdentifier	 stream
=	TokenNameEQUAL	
outStream	TokenNameIdentifier	 out Stream
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
stream	TokenNameIdentifier	 stream
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
stream	TokenNameIdentifier	 stream
=	TokenNameEQUAL	
new	TokenNamenew	
FileOutputStream	TokenNameIdentifier	 File Output Stream
(	TokenNameLPAREN	
outFilename	TokenNameIdentifier	 out Filename
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
out	TokenNameIdentifier	 out
=	TokenNameEQUAL	
new	TokenNamenew	
OutputStreamWriter	TokenNameIdentifier	 Output Stream Writer
(	TokenNameLPAREN	
stream	TokenNameIdentifier	 stream
,	TokenNameCOMMA	
"UTF8"	TokenNameStringLiteral	UTF8
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
"<?xml version="1.0" encoding="UTF-8"?> "	TokenNameStringLiteral	<?xml version="1.0" encoding="UTF-8"?> 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
xslUri	TokenNameIdentifier	 xsl Uri
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
"<?xml-stylesheet type="text/xsl" href=""	TokenNameStringLiteral	<?xml-stylesheet type="text/xsl" href="
+	TokenNamePLUS	
xslUri	TokenNameIdentifier	 xsl Uri
+	TokenNamePLUS	
""?> "	TokenNameStringLiteral	"?> 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
new	TokenNamenew	
DOMElementWriter	TokenNameIdentifier	 DOM Element Writer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
buildElement	TokenNameIdentifier	 build Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
,	TokenNameCOMMA	
out	TokenNameIdentifier	 out
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
" "	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
flush	TokenNameIdentifier	 flush
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
exc	TokenNameIdentifier	 exc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"Unable to write log file"	TokenNameStringLiteral	Unable to write log file
,	TokenNameCOMMA	
exc	TokenNameIdentifier	 exc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
buildElement	TokenNameIdentifier	 build Element
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns the stack of timed elements for the current thread. * @return the stack of timed elements for the current thread */	TokenNameCOMMENT_JAVADOC	 Returns the stack of timed elements for the current thread. @return the stack of timed elements for the current thread 
private	TokenNameprivate	
Stack	TokenNameIdentifier	 Stack
getStack	TokenNameIdentifier	 get Stack
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Stack	TokenNameIdentifier	 Stack
threadStack	TokenNameIdentifier	 thread Stack
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Stack	TokenNameIdentifier	 Stack
)	TokenNameRPAREN	
threadStacks	TokenNameIdentifier	 thread Stacks
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
Thread	TokenNameIdentifier	 Thread
.	TokenNameDOT	
currentThread	TokenNameIdentifier	 current Thread
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
threadStack	TokenNameIdentifier	 thread Stack
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
threadStack	TokenNameIdentifier	 thread Stack
=	TokenNameEQUAL	
new	TokenNamenew	
Stack	TokenNameIdentifier	 Stack
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
threadStacks	TokenNameIdentifier	 thread Stacks
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
Thread	TokenNameIdentifier	 Thread
.	TokenNameDOT	
currentThread	TokenNameIdentifier	 current Thread
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
threadStack	TokenNameIdentifier	 thread Stack
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* For debugging purposes uncomment: org.w3c.dom.Comment s = doc.createComment("stack=" + threadStack); buildElement.element.appendChild(s); */	TokenNameCOMMENT_BLOCK	 For debugging purposes uncomment: org.w3c.dom.Comment s = doc.createComment("stack=" + threadStack); buildElement.element.appendChild(s); 
return	TokenNamereturn	
threadStack	TokenNameIdentifier	 thread Stack
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Fired when a target starts building, this pushes a timed element * for the target onto the stack of elements for the current thread, * remembering the current time and the name of the target. * * @param event An event with any relevant extra information. * Will not be <code>null</code>. */	TokenNameCOMMENT_JAVADOC	 Fired when a target starts building, this pushes a timed element for the target onto the stack of elements for the current thread, remembering the current time and the name of the target. * @param event An event with any relevant extra information. Will not be <code>null</code>. 
public	TokenNamepublic	
void	TokenNamevoid	
targetStarted	TokenNameIdentifier	 target Started
(	TokenNameLPAREN	
BuildEvent	TokenNameIdentifier	 Build Event
event	TokenNameIdentifier	 event
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Target	TokenNameIdentifier	 Target
target	TokenNameIdentifier	 target
=	TokenNameEQUAL	
event	TokenNameIdentifier	 event
.	TokenNameDOT	
getTarget	TokenNameIdentifier	 get Target
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TimedElement	TokenNameIdentifier	 Timed Element
targetElement	TokenNameIdentifier	 target Element
=	TokenNameEQUAL	
new	TokenNamenew	
TimedElement	TokenNameIdentifier	 Timed Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
targetElement	TokenNameIdentifier	 target Element
.	TokenNameDOT	
startTime	TokenNameIdentifier	 start Time
=	TokenNameEQUAL	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
currentTimeMillis	TokenNameIdentifier	 current Time Millis
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
targetElement	TokenNameIdentifier	 target Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
=	TokenNameEQUAL	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
createElement	TokenNameIdentifier	 create Element
(	TokenNameLPAREN	
TARGET_TAG	TokenNameIdentifier	 TARGET  TAG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
targetElement	TokenNameIdentifier	 target Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
setAttribute	TokenNameIdentifier	 set Attribute
(	TokenNameLPAREN	
NAME_ATTR	TokenNameIdentifier	 NAME  ATTR
,	TokenNameCOMMA	
target	TokenNameIdentifier	 target
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
targets	TokenNameIdentifier	 targets
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
target	TokenNameIdentifier	 target
,	TokenNameCOMMA	
targetElement	TokenNameIdentifier	 target Element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
getStack	TokenNameIdentifier	 get Stack
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
push	TokenNameIdentifier	 push
(	TokenNameLPAREN	
targetElement	TokenNameIdentifier	 target Element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Fired when a target finishes building, this adds the time taken * and any error stacktrace to the appropriate target element in the log. * * @param event An event with any relevant extra information. * Will not be <code>null</code>. */	TokenNameCOMMENT_JAVADOC	 Fired when a target finishes building, this adds the time taken and any error stacktrace to the appropriate target element in the log. * @param event An event with any relevant extra information. Will not be <code>null</code>. 
public	TokenNamepublic	
void	TokenNamevoid	
targetFinished	TokenNameIdentifier	 target Finished
(	TokenNameLPAREN	
BuildEvent	TokenNameIdentifier	 Build Event
event	TokenNameIdentifier	 event
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Target	TokenNameIdentifier	 Target
target	TokenNameIdentifier	 target
=	TokenNameEQUAL	
event	TokenNameIdentifier	 event
.	TokenNameDOT	
getTarget	TokenNameIdentifier	 get Target
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TimedElement	TokenNameIdentifier	 Timed Element
targetElement	TokenNameIdentifier	 target Element
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TimedElement	TokenNameIdentifier	 Timed Element
)	TokenNameRPAREN	
targets	TokenNameIdentifier	 targets
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
target	TokenNameIdentifier	 target
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
targetElement	TokenNameIdentifier	 target Element
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
long	TokenNamelong	
totalTime	TokenNameIdentifier	 total Time
=	TokenNameEQUAL	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
currentTimeMillis	TokenNameIdentifier	 current Time Millis
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
targetElement	TokenNameIdentifier	 target Element
.	TokenNameDOT	
startTime	TokenNameIdentifier	 start Time
;	TokenNameSEMICOLON	
targetElement	TokenNameIdentifier	 target Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
setAttribute	TokenNameIdentifier	 set Attribute
(	TokenNameLPAREN	
TIME_ATTR	TokenNameIdentifier	 TIME  ATTR
,	TokenNameCOMMA	
DefaultLogger	TokenNameIdentifier	 Default Logger
.	TokenNameDOT	
formatTime	TokenNameIdentifier	 format Time
(	TokenNameLPAREN	
totalTime	TokenNameIdentifier	 total Time
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TimedElement	TokenNameIdentifier	 Timed Element
parentElement	TokenNameIdentifier	 parent Element
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Stack	TokenNameIdentifier	 Stack
threadStack	TokenNameIdentifier	 thread Stack
=	TokenNameEQUAL	
getStack	TokenNameIdentifier	 get Stack
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
threadStack	TokenNameIdentifier	 thread Stack
.	TokenNameDOT	
empty	TokenNameIdentifier	 empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TimedElement	TokenNameIdentifier	 Timed Element
poppedStack	TokenNameIdentifier	 popped Stack
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TimedElement	TokenNameIdentifier	 Timed Element
)	TokenNameRPAREN	
threadStack	TokenNameIdentifier	 thread Stack
.	TokenNameDOT	
pop	TokenNameIdentifier	 pop
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
poppedStack	TokenNameIdentifier	 popped Stack
!=	TokenNameNOT_EQUAL	
targetElement	TokenNameIdentifier	 target Element
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
"Mismatch - popped element = "	TokenNameStringLiteral	Mismatch - popped element = 
+	TokenNamePLUS	
poppedStack	TokenNameIdentifier	 popped Stack
+	TokenNamePLUS	
" finished target element = "	TokenNameStringLiteral	 finished target element = 
+	TokenNamePLUS	
targetElement	TokenNameIdentifier	 target Element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
threadStack	TokenNameIdentifier	 thread Stack
.	TokenNameDOT	
empty	TokenNameIdentifier	 empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
parentElement	TokenNameIdentifier	 parent Element
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TimedElement	TokenNameIdentifier	 Timed Element
)	TokenNameRPAREN	
threadStack	TokenNameIdentifier	 thread Stack
.	TokenNameDOT	
peek	TokenNameIdentifier	 peek
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
parentElement	TokenNameIdentifier	 parent Element
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
synchronizedAppend	TokenNameIdentifier	 synchronized Append
(	TokenNameLPAREN	
buildElement	TokenNameIdentifier	 build Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
,	TokenNameCOMMA	
targetElement	TokenNameIdentifier	 target Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
synchronizedAppend	TokenNameIdentifier	 synchronized Append
(	TokenNameLPAREN	
parentElement	TokenNameIdentifier	 parent Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
,	TokenNameCOMMA	
targetElement	TokenNameIdentifier	 target Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
targets	TokenNameIdentifier	 targets
.	TokenNameDOT	
remove	TokenNameIdentifier	 remove
(	TokenNameLPAREN	
target	TokenNameIdentifier	 target
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Fired when a task starts building, this pushes a timed element * for the task onto the stack of elements for the current thread, * remembering the current time and the name of the task. * * @param event An event with any relevant extra information. * Will not be <code>null</code>. */	TokenNameCOMMENT_JAVADOC	 Fired when a task starts building, this pushes a timed element for the task onto the stack of elements for the current thread, remembering the current time and the name of the task. * @param event An event with any relevant extra information. Will not be <code>null</code>. 
public	TokenNamepublic	
void	TokenNamevoid	
taskStarted	TokenNameIdentifier	 task Started
(	TokenNameLPAREN	
BuildEvent	TokenNameIdentifier	 Build Event
event	TokenNameIdentifier	 event
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TimedElement	TokenNameIdentifier	 Timed Element
taskElement	TokenNameIdentifier	 task Element
=	TokenNameEQUAL	
new	TokenNamenew	
TimedElement	TokenNameIdentifier	 Timed Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
taskElement	TokenNameIdentifier	 task Element
.	TokenNameDOT	
startTime	TokenNameIdentifier	 start Time
=	TokenNameEQUAL	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
currentTimeMillis	TokenNameIdentifier	 current Time Millis
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
taskElement	TokenNameIdentifier	 task Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
=	TokenNameEQUAL	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
createElement	TokenNameIdentifier	 create Element
(	TokenNameLPAREN	
TASK_TAG	TokenNameIdentifier	 TASK  TAG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Task	TokenNameIdentifier	 Task
task	TokenNameIdentifier	 task
=	TokenNameEQUAL	
event	TokenNameIdentifier	 event
.	TokenNameDOT	
getTask	TokenNameIdentifier	 get Task
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
event	TokenNameIdentifier	 event
.	TokenNameDOT	
getTask	TokenNameIdentifier	 get Task
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getTaskName	TokenNameIdentifier	 get Task Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
taskElement	TokenNameIdentifier	 task Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
setAttribute	TokenNameIdentifier	 set Attribute
(	TokenNameLPAREN	
NAME_ATTR	TokenNameIdentifier	 NAME  ATTR
,	TokenNameCOMMA	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
taskElement	TokenNameIdentifier	 task Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
setAttribute	TokenNameIdentifier	 set Attribute
(	TokenNameLPAREN	
LOCATION_ATTR	TokenNameIdentifier	 LOCATION  ATTR
,	TokenNameCOMMA	
event	TokenNameIdentifier	 event
.	TokenNameDOT	
getTask	TokenNameIdentifier	 get Task
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
tasks	TokenNameIdentifier	 tasks
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
task	TokenNameIdentifier	 task
,	TokenNameCOMMA	
taskElement	TokenNameIdentifier	 task Element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
getStack	TokenNameIdentifier	 get Stack
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
push	TokenNameIdentifier	 push
(	TokenNameLPAREN	
taskElement	TokenNameIdentifier	 task Element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Fired when a task finishes building, this adds the time taken * and any error stacktrace to the appropriate task element in the log. * * @param event An event with any relevant extra information. * Will not be <code>null</code>. */	TokenNameCOMMENT_JAVADOC	 Fired when a task finishes building, this adds the time taken and any error stacktrace to the appropriate task element in the log. * @param event An event with any relevant extra information. Will not be <code>null</code>. 
public	TokenNamepublic	
void	TokenNamevoid	
taskFinished	TokenNameIdentifier	 task Finished
(	TokenNameLPAREN	
BuildEvent	TokenNameIdentifier	 Build Event
event	TokenNameIdentifier	 event
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Task	TokenNameIdentifier	 Task
task	TokenNameIdentifier	 task
=	TokenNameEQUAL	
event	TokenNameIdentifier	 event
.	TokenNameDOT	
getTask	TokenNameIdentifier	 get Task
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TimedElement	TokenNameIdentifier	 Timed Element
taskElement	TokenNameIdentifier	 task Element
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TimedElement	TokenNameIdentifier	 Timed Element
)	TokenNameRPAREN	
tasks	TokenNameIdentifier	 tasks
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
task	TokenNameIdentifier	 task
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
taskElement	TokenNameIdentifier	 task Element
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
"Unknown task "	TokenNameStringLiteral	Unknown task 
+	TokenNamePLUS	
task	TokenNameIdentifier	 task
+	TokenNamePLUS	
" not in "	TokenNameStringLiteral	 not in 
+	TokenNamePLUS	
tasks	TokenNameIdentifier	 tasks
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
long	TokenNamelong	
totalTime	TokenNameIdentifier	 total Time
=	TokenNameEQUAL	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
currentTimeMillis	TokenNameIdentifier	 current Time Millis
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
taskElement	TokenNameIdentifier	 task Element
.	TokenNameDOT	
startTime	TokenNameIdentifier	 start Time
;	TokenNameSEMICOLON	
taskElement	TokenNameIdentifier	 task Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
setAttribute	TokenNameIdentifier	 set Attribute
(	TokenNameLPAREN	
TIME_ATTR	TokenNameIdentifier	 TIME  ATTR
,	TokenNameCOMMA	
DefaultLogger	TokenNameIdentifier	 Default Logger
.	TokenNameDOT	
formatTime	TokenNameIdentifier	 format Time
(	TokenNameLPAREN	
totalTime	TokenNameIdentifier	 total Time
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Target	TokenNameIdentifier	 Target
target	TokenNameIdentifier	 target
=	TokenNameEQUAL	
task	TokenNameIdentifier	 task
.	TokenNameDOT	
getOwningTarget	TokenNameIdentifier	 get Owning Target
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TimedElement	TokenNameIdentifier	 Timed Element
targetElement	TokenNameIdentifier	 target Element
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
target	TokenNameIdentifier	 target
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
targetElement	TokenNameIdentifier	 target Element
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TimedElement	TokenNameIdentifier	 Timed Element
)	TokenNameRPAREN	
targets	TokenNameIdentifier	 targets
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
target	TokenNameIdentifier	 target
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
targetElement	TokenNameIdentifier	 target Element
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
synchronizedAppend	TokenNameIdentifier	 synchronized Append
(	TokenNameLPAREN	
buildElement	TokenNameIdentifier	 build Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
,	TokenNameCOMMA	
taskElement	TokenNameIdentifier	 task Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
synchronizedAppend	TokenNameIdentifier	 synchronized Append
(	TokenNameLPAREN	
targetElement	TokenNameIdentifier	 target Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
,	TokenNameCOMMA	
taskElement	TokenNameIdentifier	 task Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Stack	TokenNameIdentifier	 Stack
threadStack	TokenNameIdentifier	 thread Stack
=	TokenNameEQUAL	
getStack	TokenNameIdentifier	 get Stack
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
threadStack	TokenNameIdentifier	 thread Stack
.	TokenNameDOT	
empty	TokenNameIdentifier	 empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TimedElement	TokenNameIdentifier	 Timed Element
poppedStack	TokenNameIdentifier	 popped Stack
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TimedElement	TokenNameIdentifier	 Timed Element
)	TokenNameRPAREN	
threadStack	TokenNameIdentifier	 thread Stack
.	TokenNameDOT	
pop	TokenNameIdentifier	 pop
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
poppedStack	TokenNameIdentifier	 popped Stack
!=	TokenNameNOT_EQUAL	
taskElement	TokenNameIdentifier	 task Element
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
"Mismatch - popped element = "	TokenNameStringLiteral	Mismatch - popped element = 
+	TokenNamePLUS	
poppedStack	TokenNameIdentifier	 popped Stack
+	TokenNamePLUS	
" finished task element = "	TokenNameStringLiteral	 finished task element = 
+	TokenNamePLUS	
taskElement	TokenNameIdentifier	 task Element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
tasks	TokenNameIdentifier	 tasks
.	TokenNameDOT	
remove	TokenNameIdentifier	 remove
(	TokenNameLPAREN	
task	TokenNameIdentifier	 task
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the TimedElement associated with a task. * * Where the task is not found directly, search for unknown elements which * may be hiding the real task */	TokenNameCOMMENT_JAVADOC	 Get the TimedElement associated with a task. * Where the task is not found directly, search for unknown elements which may be hiding the real task 
private	TokenNameprivate	
TimedElement	TokenNameIdentifier	 Timed Element
getTaskElement	TokenNameIdentifier	 get Task Element
(	TokenNameLPAREN	
Task	TokenNameIdentifier	 Task
task	TokenNameIdentifier	 task
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TimedElement	TokenNameIdentifier	 Timed Element
element	TokenNameIdentifier	 element
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TimedElement	TokenNameIdentifier	 Timed Element
)	TokenNameRPAREN	
tasks	TokenNameIdentifier	 tasks
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
task	TokenNameIdentifier	 task
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
element	TokenNameIdentifier	 element
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
element	TokenNameIdentifier	 element
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
Enumeration	TokenNameIdentifier	 Enumeration
e	TokenNameIdentifier	 e
=	TokenNameEQUAL	
tasks	TokenNameIdentifier	 tasks
.	TokenNameDOT	
keys	TokenNameIdentifier	 keys
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Task	TokenNameIdentifier	 Task
key	TokenNameIdentifier	 key
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Task	TokenNameIdentifier	 Task
)	TokenNameRPAREN	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
nextElement	TokenNameIdentifier	 next Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
instanceof	TokenNameinstanceof	
UnknownElement	TokenNameIdentifier	 Unknown Element
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
UnknownElement	TokenNameIdentifier	 Unknown Element
)	TokenNameRPAREN	
key	TokenNameIdentifier	 key
)	TokenNameRPAREN	
.	TokenNameDOT	
getTask	TokenNameIdentifier	 get Task
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
task	TokenNameIdentifier	 task
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
TimedElement	TokenNameIdentifier	 Timed Element
)	TokenNameRPAREN	
tasks	TokenNameIdentifier	 tasks
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Fired when a message is logged, this adds a message element to the * most appropriate parent element (task, target or build) and records * the priority and text of the message. * * @param event An event with any relevant extra information. * Will not be <code>null</code>. */	TokenNameCOMMENT_JAVADOC	 Fired when a message is logged, this adds a message element to the most appropriate parent element (task, target or build) and records the priority and text of the message. * @param event An event with any relevant extra information. Will not be <code>null</code>. 
public	TokenNamepublic	
void	TokenNamevoid	
messageLogged	TokenNameIdentifier	 message Logged
(	TokenNameLPAREN	
BuildEvent	TokenNameIdentifier	 Build Event
event	TokenNameIdentifier	 event
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
priority	TokenNameIdentifier	 priority
=	TokenNameEQUAL	
event	TokenNameIdentifier	 event
.	TokenNameDOT	
getPriority	TokenNameIdentifier	 get Priority
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
priority	TokenNameIdentifier	 priority
>	TokenNameGREATER	
msgOutputLevel	TokenNameIdentifier	 msg Output Level
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Element	TokenNameIdentifier	 Element
messageElement	TokenNameIdentifier	 message Element
=	TokenNameEQUAL	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
createElement	TokenNameIdentifier	 create Element
(	TokenNameLPAREN	
MESSAGE_TAG	TokenNameIdentifier	 MESSAGE  TAG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
"debug"	TokenNameStringLiteral	debug
;	TokenNameSEMICOLON	
switch	TokenNameswitch	
(	TokenNameLPAREN	
priority	TokenNameIdentifier	 priority
)	TokenNameRPAREN	
{	TokenNameLBRACE	
case	TokenNamecase	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_ERR	TokenNameIdentifier	 MSG  ERR
:	TokenNameCOLON	
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
"error"	TokenNameStringLiteral	error
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_WARN	TokenNameIdentifier	 MSG  WARN
:	TokenNameCOLON	
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
"warn"	TokenNameStringLiteral	warn
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_INFO	TokenNameIdentifier	 MSG  INFO
:	TokenNameCOLON	
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
"info"	TokenNameStringLiteral	info
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
default	TokenNamedefault	
:	TokenNameCOLON	
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
"debug"	TokenNameStringLiteral	debug
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
messageElement	TokenNameIdentifier	 message Element
.	TokenNameDOT	
setAttribute	TokenNameIdentifier	 set Attribute
(	TokenNameLPAREN	
PRIORITY_ATTR	TokenNameIdentifier	 PRIORITY  ATTR
,	TokenNameCOMMA	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Throwable	TokenNameIdentifier	 Throwable
ex	TokenNameIdentifier	 ex
=	TokenNameEQUAL	
event	TokenNameIdentifier	 event
.	TokenNameDOT	
getException	TokenNameIdentifier	 get Exception
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_DEBUG	TokenNameIdentifier	 MSG  DEBUG
<=	TokenNameLESS_EQUAL	
msgOutputLevel	TokenNameIdentifier	 msg Output Level
&&	TokenNameAND_AND	
ex	TokenNameIdentifier	 ex
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Text	TokenNameIdentifier	 Text
errText	TokenNameIdentifier	 err Text
=	TokenNameEQUAL	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
createCDATASection	TokenNameIdentifier	 create CDATA Section
(	TokenNameLPAREN	
StringUtils	TokenNameIdentifier	 String Utils
.	TokenNameDOT	
getStackTrace	TokenNameIdentifier	 get Stack Trace
(	TokenNameLPAREN	
ex	TokenNameIdentifier	 ex
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Element	TokenNameIdentifier	 Element
stacktrace	TokenNameIdentifier	 stacktrace
=	TokenNameEQUAL	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
createElement	TokenNameIdentifier	 create Element
(	TokenNameLPAREN	
STACKTRACE_TAG	TokenNameIdentifier	 STACKTRACE  TAG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
stacktrace	TokenNameIdentifier	 stacktrace
.	TokenNameDOT	
appendChild	TokenNameIdentifier	 append Child
(	TokenNameLPAREN	
errText	TokenNameIdentifier	 err Text
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
synchronizedAppend	TokenNameIdentifier	 synchronized Append
(	TokenNameLPAREN	
buildElement	TokenNameIdentifier	 build Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
,	TokenNameCOMMA	
stacktrace	TokenNameIdentifier	 stacktrace
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Text	TokenNameIdentifier	 Text
messageText	TokenNameIdentifier	 message Text
=	TokenNameEQUAL	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
createCDATASection	TokenNameIdentifier	 create CDATA Section
(	TokenNameLPAREN	
event	TokenNameIdentifier	 event
.	TokenNameDOT	
getMessage	TokenNameIdentifier	 get Message
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
messageElement	TokenNameIdentifier	 message Element
.	TokenNameDOT	
appendChild	TokenNameIdentifier	 append Child
(	TokenNameLPAREN	
messageText	TokenNameIdentifier	 message Text
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TimedElement	TokenNameIdentifier	 Timed Element
parentElement	TokenNameIdentifier	 parent Element
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Task	TokenNameIdentifier	 Task
task	TokenNameIdentifier	 task
=	TokenNameEQUAL	
event	TokenNameIdentifier	 event
.	TokenNameDOT	
getTask	TokenNameIdentifier	 get Task
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Target	TokenNameIdentifier	 Target
target	TokenNameIdentifier	 target
=	TokenNameEQUAL	
event	TokenNameIdentifier	 event
.	TokenNameDOT	
getTarget	TokenNameIdentifier	 get Target
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
task	TokenNameIdentifier	 task
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
parentElement	TokenNameIdentifier	 parent Element
=	TokenNameEQUAL	
getTaskElement	TokenNameIdentifier	 get Task Element
(	TokenNameLPAREN	
task	TokenNameIdentifier	 task
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
parentElement	TokenNameIdentifier	 parent Element
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
target	TokenNameIdentifier	 target
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
parentElement	TokenNameIdentifier	 parent Element
=	TokenNameEQUAL	
(	TokenNameLPAREN	
TimedElement	TokenNameIdentifier	 Timed Element
)	TokenNameRPAREN	
targets	TokenNameIdentifier	 targets
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
target	TokenNameIdentifier	 target
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
parentElement	TokenNameIdentifier	 parent Element
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
synchronizedAppend	TokenNameIdentifier	 synchronized Append
(	TokenNameLPAREN	
parentElement	TokenNameIdentifier	 parent Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
,	TokenNameCOMMA	
messageElement	TokenNameIdentifier	 message Element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
synchronizedAppend	TokenNameIdentifier	 synchronized Append
(	TokenNameLPAREN	
buildElement	TokenNameIdentifier	 build Element
.	TokenNameDOT	
element	TokenNameIdentifier	 element
,	TokenNameCOMMA	
messageElement	TokenNameIdentifier	 message Element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// -------------------------------------------------- BuildLogger interface 	TokenNameCOMMENT_LINE	-------------------------------------------------- BuildLogger interface 
/** * Set the logging level when using this as a Logger * * @param level the logging level - * see {@link org.apache.tools.ant.Project#MSG_ERR Project} * class for level definitions */	TokenNameCOMMENT_JAVADOC	 Set the logging level when using this as a Logger * @param level the logging level - see {@link org.apache.tools.ant.Project#MSG_ERR Project} class for level definitions 
public	TokenNamepublic	
void	TokenNamevoid	
setMessageOutputLevel	TokenNameIdentifier	 set Message Output Level
(	TokenNameLPAREN	
int	TokenNameint	
level	TokenNameIdentifier	 level
)	TokenNameRPAREN	
{	TokenNameLBRACE	
msgOutputLevel	TokenNameIdentifier	 msg Output Level
=	TokenNameEQUAL	
level	TokenNameIdentifier	 level
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the output stream to which logging output is sent when operating * as a logger. * * @param output the output PrintStream. */	TokenNameCOMMENT_JAVADOC	 Set the output stream to which logging output is sent when operating as a logger. * @param output the output PrintStream. 
public	TokenNamepublic	
void	TokenNamevoid	
setOutputPrintStream	TokenNameIdentifier	 set Output Print Stream
(	TokenNameLPAREN	
PrintStream	TokenNameIdentifier	 Print Stream
output	TokenNameIdentifier	 output
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
outStream	TokenNameIdentifier	 out Stream
=	TokenNameEQUAL	
new	TokenNamenew	
PrintStream	TokenNameIdentifier	 Print Stream
(	TokenNameLPAREN	
output	TokenNameIdentifier	 output
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Ignore emacs mode, as it has no meaning in XML format * * @param emacsMode true if logger should produce emacs compatible * output */	TokenNameCOMMENT_JAVADOC	 Ignore emacs mode, as it has no meaning in XML format * @param emacsMode true if logger should produce emacs compatible output 
public	TokenNamepublic	
void	TokenNamevoid	
setEmacsMode	TokenNameIdentifier	 set Emacs Mode
(	TokenNameLPAREN	
boolean	TokenNameboolean	
emacsMode	TokenNameIdentifier	 emacs Mode
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
/** * Ignore error print stream. All output will be written to * either the XML log file or the PrintStream provided to * setOutputPrintStream * * @param err the stream we are going to ignore. */	TokenNameCOMMENT_JAVADOC	 Ignore error print stream. All output will be written to either the XML log file or the PrintStream provided to setOutputPrintStream * @param err the stream we are going to ignore. 
public	TokenNamepublic	
void	TokenNamevoid	
setErrorPrintStream	TokenNameIdentifier	 set Error Print Stream
(	TokenNameLPAREN	
PrintStream	TokenNameIdentifier	 Print Stream
err	TokenNameIdentifier	 err
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
synchronizedAppend	TokenNameIdentifier	 synchronized Append
(	TokenNameLPAREN	
Node	TokenNameIdentifier	 Node
parent	TokenNameIdentifier	 parent
,	TokenNameCOMMA	
Node	TokenNameIdentifier	 Node
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
{	TokenNameLBRACE	
synchronized	TokenNamesynchronized	
(	TokenNameLPAREN	
parent	TokenNameIdentifier	 parent
)	TokenNameRPAREN	
{	TokenNameLBRACE	
parent	TokenNameIdentifier	 parent
.	TokenNameDOT	
appendChild	TokenNameIdentifier	 append Child
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
