/* Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
spi	TokenNameIdentifier	 spi
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
Graphics2D	TokenNameIdentifier	 Graphics2 D
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
Image	TokenNameIdentifier	 Image
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
Toolkit	TokenNameIdentifier	 Toolkit
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
geom	TokenNameIdentifier	 geom
.	TokenNameDOT	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
BufferedImage	TokenNameIdentifier	 Buffered Image
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
ImageObserver	TokenNameIdentifier	 Image Observer
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
RenderedImage	TokenNameIdentifier	 Rendered Image
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
MalformedURLException	TokenNameIdentifier	 Malformed URL Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
URL	TokenNameIdentifier	 URL
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
HashMap	TokenNameIdentifier	 Hash Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
GraphicsUtil	TokenNameIdentifier	 Graphics Util
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
renderable	TokenNameIdentifier	 renderable
.	TokenNameDOT	
DeferRable	TokenNameIdentifier	 Defer Rable
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
renderable	TokenNameIdentifier	 renderable
.	TokenNameDOT	
Filter	TokenNameIdentifier	 Filter
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
renderable	TokenNameIdentifier	 renderable
.	TokenNameDOT	
RedRable	TokenNameIdentifier	 Red Rable
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ParsedURL	TokenNameIdentifier	 Parsed URL
;	TokenNameSEMICOLON	
/** * This Image tag registy entry is setup to wrap the core JDK * Image stream tools. * * @version $Id: JDKRegistryEntry.java 501094 2007-01-29 16:35:37Z deweese $ */	TokenNameCOMMENT_JAVADOC	 This Image tag registy entry is setup to wrap the core JDK Image stream tools. * @version $Id: JDKRegistryEntry.java 501094 2007-01-29 16:35:37Z deweese $ 
public	TokenNamepublic	
class	TokenNameclass	
JDKRegistryEntry	TokenNameIdentifier	 JDK Registry Entry
extends	TokenNameextends	
AbstractRegistryEntry	TokenNameIdentifier	 Abstract Registry Entry
implements	TokenNameimplements	
URLRegistryEntry	TokenNameIdentifier	 URL Registry Entry
{	TokenNameLBRACE	
/** * The priority of this entry. * This entry should in most cases be the last entry. * but if one wishes one could set a priority higher and be called * afterwords */	TokenNameCOMMENT_JAVADOC	 The priority of this entry. This entry should in most cases be the last entry. but if one wishes one could set a priority higher and be called afterwords 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
float	TokenNamefloat	
PRIORITY	TokenNameIdentifier	 PRIORITY
=	TokenNameEQUAL	
1000	TokenNameIntegerLiteral	
*	TokenNameMULTIPLY	
MagicNumberRegistryEntry	TokenNameIdentifier	 Magic Number Registry Entry
.	TokenNameDOT	
PRIORITY	TokenNameIdentifier	 PRIORITY
;	TokenNameSEMICOLON	
public	TokenNamepublic	
JDKRegistryEntry	TokenNameIdentifier	 JDK Registry Entry
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
"JDK"	TokenNameStringLiteral	JDK
,	TokenNameCOMMA	
PRIORITY	TokenNameIdentifier	 PRIORITY
,	TokenNameCOMMA	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"image/gif"	TokenNameStringLiteral	image/gif
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Check if the Stream references an image that can be handled by * this format handler. The input stream passed in should be * assumed to support mark and reset. * * If this method throws a StreamCorruptedException then the * InputStream will be closed and a new one opened (if possible). * * This method should only throw a StreamCorruptedException if it * is unable to restore the state of the InputStream * (i.e. mark/reset fails basically). */	TokenNameCOMMENT_JAVADOC	 Check if the Stream references an image that can be handled by this format handler. The input stream passed in should be assumed to support mark and reset. * If this method throws a StreamCorruptedException then the InputStream will be closed and a new one opened (if possible). * This method should only throw a StreamCorruptedException if it is unable to restore the state of the InputStream (i.e. mark/reset fails basically). 
public	TokenNamepublic	
boolean	TokenNameboolean	
isCompatibleURL	TokenNameIdentifier	 is Compatible URL
(	TokenNameLPAREN	
ParsedURL	TokenNameIdentifier	 Parsed URL
purl	TokenNameIdentifier	 purl
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
new	TokenNamenew	
URL	TokenNameIdentifier	 URL
(	TokenNameLPAREN	
purl	TokenNameIdentifier	 purl
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
MalformedURLException	TokenNameIdentifier	 Malformed URL Exception
mue	TokenNameIdentifier	 mue
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// No sense in trying it if we can't build a URL out of it. 	TokenNameCOMMENT_LINE	No sense in trying it if we can't build a URL out of it. 
return	TokenNamereturn	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Decode the URL into a RenderableImage * * @param purl URL of the image. * @param needRawData If true the image returned should not have * any default color correction the file may * specify applied. */	TokenNameCOMMENT_JAVADOC	 Decode the URL into a RenderableImage * @param purl URL of the image. @param needRawData If true the image returned should not have any default color correction the file may specify applied. 
public	TokenNamepublic	
Filter	TokenNameIdentifier	 Filter
handleURL	TokenNameIdentifier	 handle URL
(	TokenNameLPAREN	
ParsedURL	TokenNameIdentifier	 Parsed URL
purl	TokenNameIdentifier	 purl
,	TokenNameCOMMA	
boolean	TokenNameboolean	
needRawData	TokenNameIdentifier	 need Raw Data
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
URL	TokenNameIdentifier	 URL
url	TokenNameIdentifier	 url
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
url	TokenNameIdentifier	 url
=	TokenNameEQUAL	
new	TokenNamenew	
URL	TokenNameIdentifier	 URL
(	TokenNameLPAREN	
purl	TokenNameIdentifier	 purl
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
MalformedURLException	TokenNameIdentifier	 Malformed URL Exception
mue	TokenNameIdentifier	 mue
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
final	TokenNamefinal	
DeferRable	TokenNameIdentifier	 Defer Rable
dr	TokenNameIdentifier	 dr
=	TokenNameEQUAL	
new	TokenNamenew	
DeferRable	TokenNameIdentifier	 Defer Rable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
errCode	TokenNameIdentifier	 err Code
;	TokenNameSEMICOLON	
final	TokenNamefinal	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
errParam	TokenNameIdentifier	 err Param
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
purl	TokenNameIdentifier	 purl
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
errCode	TokenNameIdentifier	 err Code
=	TokenNameEQUAL	
ERR_URL_FORMAT_UNREADABLE	TokenNameIdentifier	 ERR  URL  FORMAT  UNREADABLE
;	TokenNameSEMICOLON	
errParam	TokenNameIdentifier	 err Param
=	TokenNameEQUAL	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"JDK"	TokenNameStringLiteral	JDK
,	TokenNameCOMMA	
url	TokenNameIdentifier	 url
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
errCode	TokenNameIdentifier	 err Code
=	TokenNameEQUAL	
ERR_STREAM_FORMAT_UNREADABLE	TokenNameIdentifier	 ERR  STREAM  FORMAT  UNREADABLE
;	TokenNameSEMICOLON	
errParam	TokenNameIdentifier	 err Param
=	TokenNameEQUAL	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"JDK"	TokenNameStringLiteral	JDK
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Thread	TokenNameIdentifier	 Thread
t	TokenNameIdentifier	 t
=	TokenNameEQUAL	
new	TokenNamenew	
Thread	TokenNameIdentifier	 Thread
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Filter	TokenNameIdentifier	 Filter
filt	TokenNameIdentifier	 filt
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
Toolkit	TokenNameIdentifier	 Toolkit
tk	TokenNameIdentifier	 tk
=	TokenNameEQUAL	
Toolkit	TokenNameIdentifier	 Toolkit
.	TokenNameDOT	
getDefaultToolkit	TokenNameIdentifier	 get Default Toolkit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Image	TokenNameIdentifier	 Image
img	TokenNameIdentifier	 img
=	TokenNameEQUAL	
tk	TokenNameIdentifier	 tk
.	TokenNameDOT	
createImage	TokenNameIdentifier	 create Image
(	TokenNameLPAREN	
url	TokenNameIdentifier	 url
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
img	TokenNameIdentifier	 img
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
RenderedImage	TokenNameIdentifier	 Rendered Image
ri	TokenNameIdentifier	 ri
=	TokenNameEQUAL	
loadImage	TokenNameIdentifier	 load Image
(	TokenNameLPAREN	
img	TokenNameIdentifier	 img
,	TokenNameCOMMA	
dr	TokenNameIdentifier	 dr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
ri	TokenNameIdentifier	 ri
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
filt	TokenNameIdentifier	 filt
=	TokenNameEQUAL	
new	TokenNamenew	
RedRable	TokenNameIdentifier	 Red Rable
(	TokenNameLPAREN	
GraphicsUtil	TokenNameIdentifier	 Graphics Util
.	TokenNameDOT	
wrap	TokenNameIdentifier	 wrap
(	TokenNameLPAREN	
ri	TokenNameIdentifier	 ri
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
ThreadDeath	TokenNameIdentifier	 Thread Death
td	TokenNameIdentifier	 td
)	TokenNameRPAREN	
{	TokenNameLBRACE	
filt	TokenNameIdentifier	 filt
=	TokenNameEQUAL	
ImageTagRegistry	TokenNameIdentifier	 Image Tag Registry
.	TokenNameDOT	
getBrokenLinkImage	TokenNameIdentifier	 get Broken Link Image
(	TokenNameLPAREN	
JDKRegistryEntry	TokenNameIdentifier	 JDK Registry Entry
.	TokenNameDOT	
this	TokenNamethis	
,	TokenNameCOMMA	
errCode	TokenNameIdentifier	 err Code
,	TokenNameCOMMA	
errParam	TokenNameIdentifier	 err Param
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
dr	TokenNameIdentifier	 dr
.	TokenNameDOT	
setSource	TokenNameIdentifier	 set Source
(	TokenNameLPAREN	
filt	TokenNameIdentifier	 filt
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
throw	TokenNamethrow	
td	TokenNameIdentifier	 td
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Throwable	TokenNameIdentifier	 Throwable
t	TokenNameIdentifier	 t
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
filt	TokenNameIdentifier	 filt
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
filt	TokenNameIdentifier	 filt
=	TokenNameEQUAL	
ImageTagRegistry	TokenNameIdentifier	 Image Tag Registry
.	TokenNameDOT	
getBrokenLinkImage	TokenNameIdentifier	 get Broken Link Image
(	TokenNameLPAREN	
JDKRegistryEntry	TokenNameIdentifier	 JDK Registry Entry
.	TokenNameDOT	
this	TokenNamethis	
,	TokenNameCOMMA	
errCode	TokenNameIdentifier	 err Code
,	TokenNameCOMMA	
errParam	TokenNameIdentifier	 err Param
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
dr	TokenNameIdentifier	 dr
.	TokenNameDOT	
setSource	TokenNameIdentifier	 set Source
(	TokenNameLPAREN	
filt	TokenNameIdentifier	 filt
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
dr	TokenNameIdentifier	 dr
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Stuff for Image Loading. 	TokenNameCOMMENT_LINE	Stuff for Image Loading. 
public	TokenNamepublic	
RenderedImage	TokenNameIdentifier	 Rendered Image
loadImage	TokenNameIdentifier	 load Image
(	TokenNameLPAREN	
Image	TokenNameIdentifier	 Image
img	TokenNameIdentifier	 img
,	TokenNameCOMMA	
final	TokenNamefinal	
DeferRable	TokenNameIdentifier	 Defer Rable
dr	TokenNameIdentifier	 dr
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// In some cases the image will be a 	TokenNameCOMMENT_LINE	In some cases the image will be a 
// BufferedImage (subclass of RenderedImage). 	TokenNameCOMMENT_LINE	BufferedImage (subclass of RenderedImage). 
if	TokenNameif	
(	TokenNameLPAREN	
img	TokenNameIdentifier	 img
instanceof	TokenNameinstanceof	
RenderedImage	TokenNameIdentifier	 Rendered Image
)	TokenNameRPAREN	
return	TokenNamereturn	
(	TokenNameLPAREN	
RenderedImage	TokenNameIdentifier	 Rendered Image
)	TokenNameRPAREN	
img	TokenNameIdentifier	 img
;	TokenNameSEMICOLON	
MyImgObs	TokenNameIdentifier	 My Img Obs
observer	TokenNameIdentifier	 observer
=	TokenNameEQUAL	
new	TokenNamenew	
MyImgObs	TokenNameIdentifier	 My Img Obs
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Toolkit	TokenNameIdentifier	 Toolkit
.	TokenNameDOT	
getDefaultToolkit	TokenNameIdentifier	 get Default Toolkit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
prepareImage	TokenNameIdentifier	 prepare Image
(	TokenNameLPAREN	
img	TokenNameIdentifier	 img
,	TokenNameCOMMA	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
observer	TokenNameIdentifier	 observer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
observer	TokenNameIdentifier	 observer
.	TokenNameDOT	
waitTilWidthHeightDone	TokenNameIdentifier	 wait Til Width Height Done
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
observer	TokenNameIdentifier	 observer
.	TokenNameDOT	
imageError	TokenNameIdentifier	 image Error
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
int	TokenNameint	
width	TokenNameIdentifier	 width
=	TokenNameEQUAL	
observer	TokenNameIdentifier	 observer
.	TokenNameDOT	
width	TokenNameIdentifier	 width
;	TokenNameSEMICOLON	
int	TokenNameint	
height	TokenNameIdentifier	 height
=	TokenNameEQUAL	
observer	TokenNameIdentifier	 observer
.	TokenNameDOT	
height	TokenNameIdentifier	 height
;	TokenNameSEMICOLON	
dr	TokenNameIdentifier	 dr
.	TokenNameDOT	
setBounds	TokenNameIdentifier	 set Bounds
(	TokenNameLPAREN	
new	TokenNamenew	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
width	TokenNameIdentifier	 width
,	TokenNameCOMMA	
height	TokenNameIdentifier	 height
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Build the image to draw into. 	TokenNameCOMMENT_LINE	Build the image to draw into. 
BufferedImage	TokenNameIdentifier	 Buffered Image
bi	TokenNameIdentifier	 bi
=	TokenNameEQUAL	
new	TokenNamenew	
BufferedImage	TokenNameIdentifier	 Buffered Image
(	TokenNameLPAREN	
width	TokenNameIdentifier	 width
,	TokenNameCOMMA	
height	TokenNameIdentifier	 height
,	TokenNameCOMMA	
BufferedImage	TokenNameIdentifier	 Buffered Image
.	TokenNameDOT	
TYPE_INT_ARGB	TokenNameIdentifier	 TYPE  INT  ARGB
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Graphics2D	TokenNameIdentifier	 Graphics2 D
g2d	TokenNameIdentifier	 g2d
=	TokenNameEQUAL	
bi	TokenNameIdentifier	 bi
.	TokenNameDOT	
createGraphics	TokenNameIdentifier	 create Graphics
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Wait till the image is fully loaded. 	TokenNameCOMMENT_LINE	Wait till the image is fully loaded. 
observer	TokenNameIdentifier	 observer
.	TokenNameDOT	
waitTilImageDone	TokenNameIdentifier	 wait Til Image Done
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
observer	TokenNameIdentifier	 observer
.	TokenNameDOT	
imageError	TokenNameIdentifier	 image Error
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
dr	TokenNameIdentifier	 dr
.	TokenNameDOT	
setProperties	TokenNameIdentifier	 set Properties
(	TokenNameLPAREN	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
drawImage	TokenNameIdentifier	 draw Image
(	TokenNameLPAREN	
img	TokenNameIdentifier	 img
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
g2d	TokenNameIdentifier	 g2d
.	TokenNameDOT	
dispose	TokenNameIdentifier	 dispose
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
bi	TokenNameIdentifier	 bi
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
static	TokenNamestatic	
class	TokenNameclass	
MyImgObs	TokenNameIdentifier	 My Img Obs
implements	TokenNameimplements	
ImageObserver	TokenNameIdentifier	 Image Observer
{	TokenNameLBRACE	
boolean	TokenNameboolean	
widthDone	TokenNameIdentifier	 width Done
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
heightDone	TokenNameIdentifier	 height Done
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
imageDone	TokenNameIdentifier	 image Done
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
int	TokenNameint	
width	TokenNameIdentifier	 width
=	TokenNameEQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
int	TokenNameint	
height	TokenNameIdentifier	 height
=	TokenNameEQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
imageError	TokenNameIdentifier	 image Error
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
int	TokenNameint	
IMG_BITS	TokenNameIdentifier	 IMG  BITS
=	TokenNameEQUAL	
ALLBITS	TokenNameIdentifier	 ALLBITS
|	TokenNameOR	
ERROR	TokenNameIdentifier	 ERROR
|	TokenNameOR	
ABORT	TokenNameIdentifier	 ABORT
;	TokenNameSEMICOLON	
public	TokenNamepublic	
void	TokenNamevoid	
clear	TokenNameIdentifier	 clear
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
width	TokenNameIdentifier	 width
=	TokenNameEQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
height	TokenNameIdentifier	 height
=	TokenNameEQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
widthDone	TokenNameIdentifier	 width Done
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
heightDone	TokenNameIdentifier	 height Done
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
imageDone	TokenNameIdentifier	 image Done
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
boolean	TokenNameboolean	
imageUpdate	TokenNameIdentifier	 image Update
(	TokenNameLPAREN	
Image	TokenNameIdentifier	 Image
img	TokenNameIdentifier	 img
,	TokenNameCOMMA	
int	TokenNameint	
infoflags	TokenNameIdentifier	 infoflags
,	TokenNameCOMMA	
int	TokenNameint	
x	TokenNameIdentifier	 x
,	TokenNameCOMMA	
int	TokenNameint	
y	TokenNameIdentifier	 y
,	TokenNameCOMMA	
int	TokenNameint	
width	TokenNameIdentifier	 width
,	TokenNameCOMMA	
int	TokenNameint	
height	TokenNameIdentifier	 height
)	TokenNameRPAREN	
{	TokenNameLBRACE	
synchronized	TokenNamesynchronized	
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
notify	TokenNameIdentifier	 notify
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
infoflags	TokenNameIdentifier	 infoflags
&	TokenNameAND	
WIDTH	TokenNameIdentifier	 WIDTH
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
this	TokenNamethis	
.	TokenNameDOT	
width	TokenNameIdentifier	 width
=	TokenNameEQUAL	
width	TokenNameIdentifier	 width
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
infoflags	TokenNameIdentifier	 infoflags
&	TokenNameAND	
HEIGHT	TokenNameIdentifier	 HEIGHT
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
this	TokenNamethis	
.	TokenNameDOT	
height	TokenNameIdentifier	 height
=	TokenNameEQUAL	
height	TokenNameIdentifier	 height
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
infoflags	TokenNameIdentifier	 infoflags
&	TokenNameAND	
ALLBITS	TokenNameIdentifier	 ALLBITS
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
width	TokenNameIdentifier	 width
=	TokenNameEQUAL	
width	TokenNameIdentifier	 width
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
height	TokenNameIdentifier	 height
=	TokenNameEQUAL	
height	TokenNameIdentifier	 height
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
infoflags	TokenNameIdentifier	 infoflags
&	TokenNameAND	
IMG_BITS	TokenNameIdentifier	 IMG  BITS
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
!	TokenNameNOT	
widthDone	TokenNameIdentifier	 width Done
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
!	TokenNameNOT	
heightDone	TokenNameIdentifier	 height Done
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
!	TokenNameNOT	
imageDone	TokenNameIdentifier	 image Done
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
widthDone	TokenNameIdentifier	 width Done
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
heightDone	TokenNameIdentifier	 height Done
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
imageDone	TokenNameIdentifier	 image Done
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
notify	TokenNameIdentifier	 notify
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
infoflags	TokenNameIdentifier	 infoflags
&	TokenNameAND	
ERROR	TokenNameIdentifier	 ERROR
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
imageError	TokenNameIdentifier	 image Error
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
!	TokenNameNOT	
widthDone	TokenNameIdentifier	 width Done
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
width	TokenNameIdentifier	 width
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
notify	TokenNameIdentifier	 notify
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
widthDone	TokenNameIdentifier	 width Done
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
!	TokenNameNOT	
heightDone	TokenNameIdentifier	 height Done
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
height	TokenNameIdentifier	 height
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
notify	TokenNameIdentifier	 notify
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
heightDone	TokenNameIdentifier	 height Done
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
notify	TokenNameIdentifier	 notify
)	TokenNameRPAREN	
notifyAll	TokenNameIdentifier	 notify All
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
synchronized	TokenNamesynchronized	
void	TokenNamevoid	
waitTilWidthHeightDone	TokenNameIdentifier	 wait Til Width Height Done
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
!	TokenNameNOT	
widthDone	TokenNameIdentifier	 width Done
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
!	TokenNameNOT	
heightDone	TokenNameIdentifier	 height Done
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
// Wait for someone to set xxxDone 	TokenNameCOMMENT_LINE	Wait for someone to set xxxDone 
wait	TokenNameIdentifier	 wait
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
InterruptedException	TokenNameIdentifier	 Interrupted Exception
ie	TokenNameIdentifier	 ie
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Loop around again see if src is set now... 	TokenNameCOMMENT_LINE	Loop around again see if src is set now... 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
synchronized	TokenNamesynchronized	
void	TokenNamevoid	
waitTilWidthDone	TokenNameIdentifier	 wait Til Width Done
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
!	TokenNameNOT	
widthDone	TokenNameIdentifier	 width Done
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
// Wait for someone to set xxxDone 	TokenNameCOMMENT_LINE	Wait for someone to set xxxDone 
wait	TokenNameIdentifier	 wait
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
InterruptedException	TokenNameIdentifier	 Interrupted Exception
ie	TokenNameIdentifier	 ie
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Loop around again see if src is set now... 	TokenNameCOMMENT_LINE	Loop around again see if src is set now... 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
synchronized	TokenNamesynchronized	
void	TokenNamevoid	
waitTilHeightDone	TokenNameIdentifier	 wait Til Height Done
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
!	TokenNameNOT	
heightDone	TokenNameIdentifier	 height Done
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
// Wait for someone to set xxxDone 	TokenNameCOMMENT_LINE	Wait for someone to set xxxDone 
wait	TokenNameIdentifier	 wait
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
InterruptedException	TokenNameIdentifier	 Interrupted Exception
ie	TokenNameIdentifier	 ie
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Loop around again see if src is set now... 	TokenNameCOMMENT_LINE	Loop around again see if src is set now... 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
synchronized	TokenNamesynchronized	
void	TokenNamevoid	
waitTilImageDone	TokenNameIdentifier	 wait Til Image Done
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
!	TokenNameNOT	
imageDone	TokenNameIdentifier	 image Done
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
// Wait for someone to set xxxDone 	TokenNameCOMMENT_LINE	Wait for someone to set xxxDone 
wait	TokenNameIdentifier	 wait
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
InterruptedException	TokenNameIdentifier	 Interrupted Exception
ie	TokenNameIdentifier	 ie
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Loop around again see if src is set now... 	TokenNameCOMMENT_LINE	Loop around again see if src is set now... 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
