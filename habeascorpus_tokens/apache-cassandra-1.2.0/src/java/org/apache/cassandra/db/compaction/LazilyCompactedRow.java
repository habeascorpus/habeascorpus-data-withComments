/* * Licensed to the Apache Software Foundation (ASF) under one * or more contributor license agreements. See the NOTICE file * distributed with this work for additional information * regarding copyright ownership. The ASF licenses this file * to you under the Apache License, Version 2.0 (the * "License"); you may not use this file except in compliance * with the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to you under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
compaction	TokenNameIdentifier	 compaction
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
DataOutput	TokenNameIdentifier	 Data Output
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
security	TokenNameIdentifier	 security
.	TokenNameDOT	
MessageDigest	TokenNameIdentifier	 Message Digest
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Iterator	TokenNameIdentifier	 Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
List	TokenNameIdentifier	 List
;	TokenNameSEMICOLON	
import	TokenNameimport	
com	TokenNameIdentifier	 com
.	TokenNameDOT	
google	TokenNameIdentifier	 google
.	TokenNameDOT	
common	TokenNameIdentifier	 common
.	TokenNameDOT	
base	TokenNameIdentifier	 base
.	TokenNameDOT	
Predicates	TokenNameIdentifier	 Predicates
;	TokenNameSEMICOLON	
import	TokenNameimport	
com	TokenNameIdentifier	 com
.	TokenNameDOT	
google	TokenNameIdentifier	 google
.	TokenNameDOT	
common	TokenNameIdentifier	 common
.	TokenNameDOT	
collect	TokenNameIdentifier	 collect
.	TokenNameDOT	
Iterators	TokenNameIdentifier	 Iterators
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
slf4j	TokenNameIdentifier	 slf4j
.	TokenNameDOT	
Logger	TokenNameIdentifier	 Logger
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
slf4j	TokenNameIdentifier	 slf4j
.	TokenNameDOT	
LoggerFactory	TokenNameIdentifier	 Logger Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
*	TokenNameMULTIPLY	
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
columniterator	TokenNameIdentifier	 columniterator
.	TokenNameDOT	
ICountableColumnIterator	TokenNameIdentifier	 I Countable Column Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
columniterator	TokenNameIdentifier	 columniterator
.	TokenNameDOT	
OnDiskAtomIterator	TokenNameIdentifier	 On Disk Atom Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
SecondaryIndexManager	TokenNameIdentifier	 Secondary Index Manager
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
marshal	TokenNameIdentifier	 marshal
.	TokenNameDOT	
AbstractType	TokenNameIdentifier	 Abstract Type
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
sstable	TokenNameIdentifier	 sstable
.	TokenNameDOT	
ColumnStats	TokenNameIdentifier	 Column Stats
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
sstable	TokenNameIdentifier	 sstable
.	TokenNameDOT	
SSTable	TokenNameIdentifier	 SS Table
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
DataOutputBuffer	TokenNameIdentifier	 Data Output Buffer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
MergeIterator	TokenNameIdentifier	 Merge Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
cassandra	TokenNameIdentifier	 cassandra
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
StreamingHistogram	TokenNameIdentifier	 Streaming Histogram
;	TokenNameSEMICOLON	
/** * LazilyCompactedRow only computes the row bloom filter and column index in memory * (at construction time); it does this by reading one column at a time from each * of the rows being compacted, and merging them as it does so. So the most we have * in memory at a time is the bloom filter, the index, and one column from each * pre-compaction row. * * When write() or update() is called, a second pass is made over the pre-compaction * rows to write the merged columns or update the hash, again with at most one column * from each row deserialized at a time. */	TokenNameCOMMENT_JAVADOC	 LazilyCompactedRow only computes the row bloom filter and column index in memory (at construction time); it does this by reading one column at a time from each of the rows being compacted, and merging them as it does so. So the most we have in memory at a time is the bloom filter, the index, and one column from each pre-compaction row. * When write() or update() is called, a second pass is made over the pre-compaction rows to write the merged columns or update the hash, again with at most one column from each row deserialized at a time. 
public	TokenNamepublic	
class	TokenNameclass	
LazilyCompactedRow	TokenNameIdentifier	 Lazily Compacted Row
extends	TokenNameextends	
AbstractCompactedRow	TokenNameIdentifier	 Abstract Compacted Row
implements	TokenNameimplements	
Iterable	TokenNameIdentifier	 Iterable
<	TokenNameLESS	
OnDiskAtom	TokenNameIdentifier	 On Disk Atom
>	TokenNameGREATER	
{	TokenNameLBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
Logger	TokenNameIdentifier	 Logger
logger	TokenNameIdentifier	 logger
=	TokenNameEQUAL	
LoggerFactory	TokenNameIdentifier	 Logger Factory
.	TokenNameDOT	
getLogger	TokenNameIdentifier	 get Logger
(	TokenNameLPAREN	
LazilyCompactedRow	TokenNameIdentifier	 Lazily Compacted Row
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
?	TokenNameQUESTION	
extends	TokenNameextends	
ICountableColumnIterator	TokenNameIdentifier	 I Countable Column Iterator
>	TokenNameGREATER	
rows	TokenNameIdentifier	 rows
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
CompactionController	TokenNameIdentifier	 Compaction Controller
controller	TokenNameIdentifier	 controller
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
boolean	TokenNameboolean	
shouldPurge	TokenNameIdentifier	 should Purge
;	TokenNameSEMICOLON	
private	TokenNameprivate	
ColumnFamily	TokenNameIdentifier	 Column Family
emptyColumnFamily	TokenNameIdentifier	 empty Column Family
;	TokenNameSEMICOLON	
private	TokenNameprivate	
Reducer	TokenNameIdentifier	 Reducer
reducer	TokenNameIdentifier	 reducer
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
ColumnStats	TokenNameIdentifier	 Column Stats
columnStats	TokenNameIdentifier	 column Stats
;	TokenNameSEMICOLON	
private	TokenNameprivate	
long	TokenNamelong	
columnSerializedSize	TokenNameIdentifier	 column Serialized Size
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
closed	TokenNameIdentifier	 closed
;	TokenNameSEMICOLON	
private	TokenNameprivate	
ColumnIndex	TokenNameIdentifier	 Column Index
.	TokenNameDOT	
Builder	TokenNameIdentifier	 Builder
indexBuilder	TokenNameIdentifier	 index Builder
;	TokenNameSEMICOLON	
private	TokenNameprivate	
ColumnIndex	TokenNameIdentifier	 Column Index
columnsIndex	TokenNameIdentifier	 columns Index
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
SecondaryIndexManager	TokenNameIdentifier	 Secondary Index Manager
.	TokenNameDOT	
Updater	TokenNameIdentifier	 Updater
indexer	TokenNameIdentifier	 indexer
;	TokenNameSEMICOLON	
public	TokenNamepublic	
LazilyCompactedRow	TokenNameIdentifier	 Lazily Compacted Row
(	TokenNameLPAREN	
CompactionController	TokenNameIdentifier	 Compaction Controller
controller	TokenNameIdentifier	 controller
,	TokenNameCOMMA	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
?	TokenNameQUESTION	
extends	TokenNameextends	
ICountableColumnIterator	TokenNameIdentifier	 I Countable Column Iterator
>	TokenNameGREATER	
rows	TokenNameIdentifier	 rows
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
rows	TokenNameIdentifier	 rows
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
.	TokenNameDOT	
getKey	TokenNameIdentifier	 get Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
rows	TokenNameIdentifier	 rows
=	TokenNameEQUAL	
rows	TokenNameIdentifier	 rows
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
controller	TokenNameIdentifier	 controller
=	TokenNameEQUAL	
controller	TokenNameIdentifier	 controller
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
shouldPurge	TokenNameIdentifier	 should Purge
=	TokenNameEQUAL	
controller	TokenNameIdentifier	 controller
.	TokenNameDOT	
shouldPurge	TokenNameIdentifier	 should Purge
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
indexer	TokenNameIdentifier	 indexer
=	TokenNameEQUAL	
controller	TokenNameIdentifier	 controller
.	TokenNameDOT	
cfs	TokenNameIdentifier	 cfs
.	TokenNameDOT	
indexManager	TokenNameIdentifier	 index Manager
.	TokenNameDOT	
updaterFor	TokenNameIdentifier	 updater For
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
OnDiskAtomIterator	TokenNameIdentifier	 On Disk Atom Iterator
row	TokenNameIdentifier	 row
:	TokenNameCOLON	
rows	TokenNameIdentifier	 rows
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ColumnFamily	TokenNameIdentifier	 Column Family
cf	TokenNameIdentifier	 cf
=	TokenNameEQUAL	
row	TokenNameIdentifier	 row
.	TokenNameDOT	
getColumnFamily	TokenNameIdentifier	 get Column Family
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
emptyColumnFamily	TokenNameIdentifier	 empty Column Family
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
emptyColumnFamily	TokenNameIdentifier	 empty Column Family
=	TokenNameEQUAL	
cf	TokenNameIdentifier	 cf
;	TokenNameSEMICOLON	
else	TokenNameelse	
emptyColumnFamily	TokenNameIdentifier	 empty Column Family
.	TokenNameDOT	
delete	TokenNameIdentifier	 delete
(	TokenNameLPAREN	
cf	TokenNameIdentifier	 cf
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
indexAndWrite	TokenNameIdentifier	 index And Write
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// reach into the reducer used during iteration to get column count, size, max column timestamp 	TokenNameCOMMENT_LINE	reach into the reducer used during iteration to get column count, size, max column timestamp 
// (however, if there are zero columns, iterator() will not be called by ColumnIndexer and reducer will be null) 	TokenNameCOMMENT_LINE	(however, if there are zero columns, iterator() will not be called by ColumnIndexer and reducer will be null) 
columnStats	TokenNameIdentifier	 column Stats
=	TokenNameEQUAL	
new	TokenNamenew	
ColumnStats	TokenNameIdentifier	 Column Stats
(	TokenNameLPAREN	
reducer	TokenNameIdentifier	 reducer
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
0	TokenNameIntegerLiteral	
:	TokenNameCOLON	
reducer	TokenNameIdentifier	 reducer
.	TokenNameDOT	
columns	TokenNameIdentifier	 columns
,	TokenNameCOMMA	
reducer	TokenNameIdentifier	 reducer
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
Long	TokenNameIdentifier	 Long
.	TokenNameDOT	
MIN_VALUE	TokenNameIdentifier	 MIN  VALUE
:	TokenNameCOLON	
reducer	TokenNameIdentifier	 reducer
.	TokenNameDOT	
maxTimestampSeen	TokenNameIdentifier	 max Timestamp Seen
,	TokenNameCOMMA	
reducer	TokenNameIdentifier	 reducer
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
new	TokenNamenew	
StreamingHistogram	TokenNameIdentifier	 Streaming Histogram
(	TokenNameLPAREN	
SSTable	TokenNameIdentifier	 SS Table
.	TokenNameDOT	
TOMBSTONE_HISTOGRAM_BIN_SIZE	TokenNameIdentifier	 TOMBSTONE  HISTOGRAM  BIN  SIZE
)	TokenNameRPAREN	
:	TokenNameCOLON	
reducer	TokenNameIdentifier	 reducer
.	TokenNameDOT	
tombstones	TokenNameIdentifier	 tombstones
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
columnSerializedSize	TokenNameIdentifier	 column Serialized Size
=	TokenNameEQUAL	
reducer	TokenNameIdentifier	 reducer
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
0	TokenNameIntegerLiteral	
:	TokenNameCOLON	
reducer	TokenNameIdentifier	 reducer
.	TokenNameDOT	
serializedSize	TokenNameIdentifier	 serialized Size
;	TokenNameSEMICOLON	
reducer	TokenNameIdentifier	 reducer
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
indexAndWrite	TokenNameIdentifier	 index And Write
(	TokenNameLPAREN	
DataOutput	TokenNameIdentifier	 Data Output
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
indexBuilder	TokenNameIdentifier	 index Builder
=	TokenNameEQUAL	
new	TokenNamenew	
ColumnIndex	TokenNameIdentifier	 Column Index
.	TokenNameDOT	
Builder	TokenNameIdentifier	 Builder
(	TokenNameLPAREN	
emptyColumnFamily	TokenNameIdentifier	 empty Column Family
,	TokenNameCOMMA	
key	TokenNameIdentifier	 key
.	TokenNameDOT	
key	TokenNameIdentifier	 key
,	TokenNameCOMMA	
getEstimatedColumnCount	TokenNameIdentifier	 get Estimated Column Count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
columnsIndex	TokenNameIdentifier	 columns Index
=	TokenNameEQUAL	
indexBuilder	TokenNameIdentifier	 index Builder
.	TokenNameDOT	
build	TokenNameIdentifier	 build
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
long	TokenNamelong	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
DataOutput	TokenNameIdentifier	 Data Output
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
assert	TokenNameassert	
!	TokenNameNOT	
closed	TokenNameIdentifier	 closed
;	TokenNameSEMICOLON	
DataOutputBuffer	TokenNameIdentifier	 Data Output Buffer
clockOut	TokenNameIdentifier	 clock Out
=	TokenNameEQUAL	
new	TokenNamenew	
DataOutputBuffer	TokenNameIdentifier	 Data Output Buffer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DeletionInfo	TokenNameIdentifier	 Deletion Info
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
serializeForSSTable	TokenNameIdentifier	 serialize For SS Table
(	TokenNameLPAREN	
emptyColumnFamily	TokenNameIdentifier	 empty Column Family
.	TokenNameDOT	
deletionInfo	TokenNameIdentifier	 deletion Info
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
clockOut	TokenNameIdentifier	 clock Out
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
long	TokenNamelong	
dataSize	TokenNameIdentifier	 data Size
=	TokenNameEQUAL	
clockOut	TokenNameIdentifier	 clock Out
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
columnSerializedSize	TokenNameIdentifier	 column Serialized Size
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
isDebugEnabled	TokenNameIdentifier	 is Debug Enabled
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
logger	TokenNameIdentifier	 logger
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
.	TokenNameDOT	
format	TokenNameIdentifier	 format
(	TokenNameLPAREN	
"clock / column sizes are %s / %s"	TokenNameStringLiteral	clock / column sizes are %s / %s
,	TokenNameCOMMA	
clockOut	TokenNameIdentifier	 clock Out
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
columnSerializedSize	TokenNameIdentifier	 column Serialized Size
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assert	TokenNameassert	
dataSize	TokenNameIdentifier	 data Size
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
writeLong	TokenNameIdentifier	 write Long
(	TokenNameLPAREN	
dataSize	TokenNameIdentifier	 data Size
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
clockOut	TokenNameIdentifier	 clock Out
.	TokenNameDOT	
getData	TokenNameIdentifier	 get Data
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
clockOut	TokenNameIdentifier	 clock Out
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
writeInt	TokenNameIdentifier	 write Int
(	TokenNameLPAREN	
indexBuilder	TokenNameIdentifier	 index Builder
.	TokenNameDOT	
writtenAtomCount	TokenNameIdentifier	 written Atom Count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// We rebuild the column index uselessly, but we need to do that because range tombstone markers depend 	TokenNameCOMMENT_LINE	We rebuild the column index uselessly, but we need to do that because range tombstone markers depend 
// on indexing. If we're able to remove the two-phase compaction, we'll avoid that. 	TokenNameCOMMENT_LINE	on indexing. If we're able to remove the two-phase compaction, we'll avoid that. 
indexAndWrite	TokenNameIdentifier	 index And Write
(	TokenNameLPAREN	
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
long	TokenNamelong	
secondPassColumnSize	TokenNameIdentifier	 second Pass Column Size
=	TokenNameEQUAL	
reducer	TokenNameIdentifier	 reducer
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
0	TokenNameIntegerLiteral	
:	TokenNameCOLON	
reducer	TokenNameIdentifier	 reducer
.	TokenNameDOT	
serializedSize	TokenNameIdentifier	 serialized Size
;	TokenNameSEMICOLON	
assert	TokenNameassert	
secondPassColumnSize	TokenNameIdentifier	 second Pass Column Size
==	TokenNameEQUAL_EQUAL	
columnSerializedSize	TokenNameIdentifier	 column Serialized Size
:	TokenNameCOLON	
"originally calculated column size of "	TokenNameStringLiteral	originally calculated column size of 
+	TokenNamePLUS	
columnSerializedSize	TokenNameIdentifier	 column Serialized Size
+	TokenNamePLUS	
" but now it is "	TokenNameStringLiteral	 but now it is 
+	TokenNamePLUS	
secondPassColumnSize	TokenNameIdentifier	 second Pass Column Size
;	TokenNameSEMICOLON	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
dataSize	TokenNameIdentifier	 data Size
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
update	TokenNameIdentifier	 update
(	TokenNameLPAREN	
MessageDigest	TokenNameIdentifier	 Message Digest
digest	TokenNameIdentifier	 digest
)	TokenNameRPAREN	
{	TokenNameLBRACE	
assert	TokenNameassert	
!	TokenNameNOT	
closed	TokenNameIdentifier	 closed
;	TokenNameSEMICOLON	
// no special-case for rows.size == 1, we're actually skipping some bytes here so just 	TokenNameCOMMENT_LINE	no special-case for rows.size == 1, we're actually skipping some bytes here so just 
// blindly updating everything wouldn't be correct 	TokenNameCOMMENT_LINE	blindly updating everything wouldn't be correct 
DataOutputBuffer	TokenNameIdentifier	 Data Output Buffer
out	TokenNameIdentifier	 out
=	TokenNameEQUAL	
new	TokenNamenew	
DataOutputBuffer	TokenNameIdentifier	 Data Output Buffer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
DeletionInfo	TokenNameIdentifier	 Deletion Info
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
serializeForSSTable	TokenNameIdentifier	 serialize For SS Table
(	TokenNameLPAREN	
emptyColumnFamily	TokenNameIdentifier	 empty Column Family
.	TokenNameDOT	
deletionInfo	TokenNameIdentifier	 deletion Info
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
writeInt	TokenNameIdentifier	 write Int
(	TokenNameLPAREN	
columnStats	TokenNameIdentifier	 column Stats
.	TokenNameDOT	
columnCount	TokenNameIdentifier	 column Count
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
digest	TokenNameIdentifier	 digest
.	TokenNameDOT	
update	TokenNameIdentifier	 update
(	TokenNameLPAREN	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
getData	TokenNameIdentifier	 get Data
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
AssertionError	TokenNameIdentifier	 Assertion Error
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
OnDiskAtom	TokenNameIdentifier	 On Disk Atom
>	TokenNameGREATER	
iter	TokenNameIdentifier	 iter
=	TokenNameEQUAL	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
updateDigest	TokenNameIdentifier	 update Digest
(	TokenNameLPAREN	
digest	TokenNameIdentifier	 digest
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
boolean	TokenNameboolean	
isEmpty	TokenNameIdentifier	 is Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
cfIrrelevant	TokenNameIdentifier	 cf Irrelevant
=	TokenNameEQUAL	
shouldPurge	TokenNameIdentifier	 should Purge
?	TokenNameQUESTION	
ColumnFamilyStore	TokenNameIdentifier	 Column Family Store
.	TokenNameDOT	
removeDeletedCF	TokenNameIdentifier	 remove Deleted CF
(	TokenNameLPAREN	
emptyColumnFamily	TokenNameIdentifier	 empty Column Family
,	TokenNameCOMMA	
controller	TokenNameIdentifier	 controller
.	TokenNameDOT	
gcBefore	TokenNameIdentifier	 gc Before
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
:	TokenNameCOLON	
!	TokenNameNOT	
emptyColumnFamily	TokenNameIdentifier	 empty Column Family
.	TokenNameDOT	
isMarkedForDelete	TokenNameIdentifier	 is Marked For Delete
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// tombstones are relevant 	TokenNameCOMMENT_LINE	tombstones are relevant 
return	TokenNamereturn	
cfIrrelevant	TokenNameIdentifier	 cf Irrelevant
&&	TokenNameAND_AND	
columnStats	TokenNameIdentifier	 column Stats
.	TokenNameDOT	
columnCount	TokenNameIdentifier	 column Count
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
int	TokenNameint	
getEstimatedColumnCount	TokenNameIdentifier	 get Estimated Column Count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
ICountableColumnIterator	TokenNameIdentifier	 I Countable Column Iterator
row	TokenNameIdentifier	 row
:	TokenNameCOLON	
rows	TokenNameIdentifier	 rows
)	TokenNameRPAREN	
n	TokenNameIdentifier	 n
+=	TokenNamePLUS_EQUAL	
row	TokenNameIdentifier	 row
.	TokenNameDOT	
getColumnCount	TokenNameIdentifier	 get Column Count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
n	TokenNameIdentifier	 n
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
AbstractType	TokenNameIdentifier	 Abstract Type
<	TokenNameLESS	
?	TokenNameQUESTION	
>	TokenNameGREATER	
getComparator	TokenNameIdentifier	 get Comparator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
emptyColumnFamily	TokenNameIdentifier	 empty Column Family
.	TokenNameDOT	
getComparator	TokenNameIdentifier	 get Comparator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
OnDiskAtom	TokenNameIdentifier	 On Disk Atom
>	TokenNameGREATER	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
ICountableColumnIterator	TokenNameIdentifier	 I Countable Column Iterator
row	TokenNameIdentifier	 row
:	TokenNameCOLON	
rows	TokenNameIdentifier	 rows
)	TokenNameRPAREN	
row	TokenNameIdentifier	 row
.	TokenNameDOT	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reducer	TokenNameIdentifier	 reducer
=	TokenNameEQUAL	
new	TokenNamenew	
Reducer	TokenNameIdentifier	 Reducer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
OnDiskAtom	TokenNameIdentifier	 On Disk Atom
>	TokenNameGREATER	
iter	TokenNameIdentifier	 iter
=	TokenNameEQUAL	
MergeIterator	TokenNameIdentifier	 Merge Iterator
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
rows	TokenNameIdentifier	 rows
,	TokenNameCOMMA	
getComparator	TokenNameIdentifier	 get Comparator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
onDiskAtomComparator	TokenNameIdentifier	 on Disk Atom Comparator
,	TokenNameCOMMA	
reducer	TokenNameIdentifier	 reducer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
Iterators	TokenNameIdentifier	 Iterators
.	TokenNameDOT	
filter	TokenNameIdentifier	 filter
(	TokenNameLPAREN	
iter	TokenNameIdentifier	 iter
,	TokenNameCOMMA	
Predicates	TokenNameIdentifier	 Predicates
.	TokenNameDOT	
notNull	TokenNameIdentifier	 not Null
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
ColumnStats	TokenNameIdentifier	 Column Stats
columnStats	TokenNameIdentifier	 column Stats
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
columnStats	TokenNameIdentifier	 column Stats
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
OnDiskAtomIterator	TokenNameIdentifier	 On Disk Atom Iterator
row	TokenNameIdentifier	 row
:	TokenNameCOLON	
rows	TokenNameIdentifier	 rows
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
row	TokenNameIdentifier	 row
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
closed	TokenNameIdentifier	 closed
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
DeletionInfo	TokenNameIdentifier	 Deletion Info
deletionInfo	TokenNameIdentifier	 deletion Info
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
emptyColumnFamily	TokenNameIdentifier	 empty Column Family
.	TokenNameDOT	
deletionInfo	TokenNameIdentifier	 deletion Info
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @return the column index for this row. */	TokenNameCOMMENT_JAVADOC	 @return the column index for this row. 
public	TokenNamepublic	
ColumnIndex	TokenNameIdentifier	 Column Index
index	TokenNameIdentifier	 index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
columnsIndex	TokenNameIdentifier	 columns Index
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
class	TokenNameclass	
Reducer	TokenNameIdentifier	 Reducer
extends	TokenNameextends	
MergeIterator	TokenNameIdentifier	 Merge Iterator
.	TokenNameDOT	
Reducer	TokenNameIdentifier	 Reducer
<	TokenNameLESS	
OnDiskAtom	TokenNameIdentifier	 On Disk Atom
,	TokenNameCOMMA	
OnDiskAtom	TokenNameIdentifier	 On Disk Atom
>	TokenNameGREATER	
{	TokenNameLBRACE	
// all columns reduced together will have the same name, so there will only be one column 	TokenNameCOMMENT_LINE	all columns reduced together will have the same name, so there will only be one column 
// in the container; we just want to leverage the conflict resolution code from CF 	TokenNameCOMMENT_LINE	in the container; we just want to leverage the conflict resolution code from CF 
ColumnFamily	TokenNameIdentifier	 Column Family
container	TokenNameIdentifier	 container
=	TokenNameEQUAL	
emptyColumnFamily	TokenNameIdentifier	 empty Column Family
.	TokenNameDOT	
cloneMeShallow	TokenNameIdentifier	 clone Me Shallow
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// tombstone reference; will be reconciled w/ column during getReduced 	TokenNameCOMMENT_LINE	tombstone reference; will be reconciled w/ column during getReduced 
RangeTombstone	TokenNameIdentifier	 Range Tombstone
tombstone	TokenNameIdentifier	 tombstone
;	TokenNameSEMICOLON	
long	TokenNamelong	
serializedSize	TokenNameIdentifier	 serialized Size
=	TokenNameEQUAL	
4	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// int for column count 	TokenNameCOMMENT_LINE	int for column count 
int	TokenNameint	
columns	TokenNameIdentifier	 columns
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
long	TokenNamelong	
maxTimestampSeen	TokenNameIdentifier	 max Timestamp Seen
=	TokenNameEQUAL	
Long	TokenNameIdentifier	 Long
.	TokenNameDOT	
MIN_VALUE	TokenNameIdentifier	 MIN  VALUE
;	TokenNameSEMICOLON	
StreamingHistogram	TokenNameIdentifier	 Streaming Histogram
tombstones	TokenNameIdentifier	 tombstones
=	TokenNameEQUAL	
new	TokenNamenew	
StreamingHistogram	TokenNameIdentifier	 Streaming Histogram
(	TokenNameLPAREN	
SSTable	TokenNameIdentifier	 SS Table
.	TokenNameDOT	
TOMBSTONE_HISTOGRAM_BIN_SIZE	TokenNameIdentifier	 TOMBSTONE  HISTOGRAM  BIN  SIZE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
void	TokenNamevoid	
reduce	TokenNameIdentifier	 reduce
(	TokenNameLPAREN	
OnDiskAtom	TokenNameIdentifier	 On Disk Atom
current	TokenNameIdentifier	 current
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
current	TokenNameIdentifier	 current
instanceof	TokenNameinstanceof	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
)	TokenNameRPAREN	
{	TokenNameLBRACE	
tombstone	TokenNameIdentifier	 tombstone
=	TokenNameEQUAL	
(	TokenNameLPAREN	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
)	TokenNameRPAREN	
current	TokenNameIdentifier	 current
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
IColumn	TokenNameIdentifier	 I Column
column	TokenNameIdentifier	 column
=	TokenNameEQUAL	
(	TokenNameLPAREN	
IColumn	TokenNameIdentifier	 I Column
)	TokenNameRPAREN	
current	TokenNameIdentifier	 current
;	TokenNameSEMICOLON	
container	TokenNameIdentifier	 container
.	TokenNameDOT	
addColumn	TokenNameIdentifier	 add Column
(	TokenNameLPAREN	
column	TokenNameIdentifier	 column
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
container	TokenNameIdentifier	 container
.	TokenNameDOT	
getColumn	TokenNameIdentifier	 get Column
(	TokenNameLPAREN	
column	TokenNameIdentifier	 column
.	TokenNameDOT	
name	TokenNameIdentifier	 name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
column	TokenNameIdentifier	 column
)	TokenNameRPAREN	
indexer	TokenNameIdentifier	 indexer
.	TokenNameDOT	
remove	TokenNameIdentifier	 remove
(	TokenNameLPAREN	
column	TokenNameIdentifier	 column
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
protected	TokenNameprotected	
OnDiskAtom	TokenNameIdentifier	 On Disk Atom
getReduced	TokenNameIdentifier	 get Reduced
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
tombstone	TokenNameIdentifier	 tombstone
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
RangeTombstone	TokenNameIdentifier	 Range Tombstone
t	TokenNameIdentifier	 t
=	TokenNameEQUAL	
tombstone	TokenNameIdentifier	 tombstone
;	TokenNameSEMICOLON	
tombstone	TokenNameIdentifier	 tombstone
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
t	TokenNameIdentifier	 t
.	TokenNameDOT	
data	TokenNameIdentifier	 data
.	TokenNameDOT	
isGcAble	TokenNameIdentifier	 is Gc Able
(	TokenNameLPAREN	
controller	TokenNameIdentifier	 controller
.	TokenNameDOT	
gcBefore	TokenNameIdentifier	 gc Before
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
serializedSize	TokenNameIdentifier	 serialized Size
+=	TokenNamePLUS_EQUAL	
t	TokenNameIdentifier	 t
.	TokenNameDOT	
serializedSizeForSSTable	TokenNameIdentifier	 serialized Size For SS Table
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
t	TokenNameIdentifier	 t
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
ColumnFamily	TokenNameIdentifier	 Column Family
purged	TokenNameIdentifier	 purged
=	TokenNameEQUAL	
PrecompactedRow	TokenNameIdentifier	 Precompacted Row
.	TokenNameDOT	
removeDeletedAndOldShards	TokenNameIdentifier	 remove Deleted And Old Shards
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
,	TokenNameCOMMA	
shouldPurge	TokenNameIdentifier	 should Purge
,	TokenNameCOMMA	
controller	TokenNameIdentifier	 controller
,	TokenNameCOMMA	
container	TokenNameIdentifier	 container
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
purged	TokenNameIdentifier	 purged
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
!	TokenNameNOT	
purged	TokenNameIdentifier	 purged
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
container	TokenNameIdentifier	 container
.	TokenNameDOT	
clear	TokenNameIdentifier	 clear
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
IColumn	TokenNameIdentifier	 I Column
reduced	TokenNameIdentifier	 reduced
=	TokenNameEQUAL	
purged	TokenNameIdentifier	 purged
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
container	TokenNameIdentifier	 container
.	TokenNameDOT	
clear	TokenNameIdentifier	 clear
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// PrecompactedRow.removeDeletedAndOldShards have only checked the top-level CF deletion times, 	TokenNameCOMMENT_LINE	PrecompactedRow.removeDeletedAndOldShards have only checked the top-level CF deletion times, 
// not the range tombstone. For that we use the columnIndexer tombstone tracker. 	TokenNameCOMMENT_LINE	not the range tombstone. For that we use the columnIndexer tombstone tracker. 
// Note that this doesn't work for super columns. 	TokenNameCOMMENT_LINE	Note that this doesn't work for super columns. 
if	TokenNameif	
(	TokenNameLPAREN	
indexBuilder	TokenNameIdentifier	 index Builder
.	TokenNameDOT	
tombstoneTracker	TokenNameIdentifier	 tombstone Tracker
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
isDeleted	TokenNameIdentifier	 is Deleted
(	TokenNameLPAREN	
reduced	TokenNameIdentifier	 reduced
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
serializedSize	TokenNameIdentifier	 serialized Size
+=	TokenNamePLUS_EQUAL	
reduced	TokenNameIdentifier	 reduced
.	TokenNameDOT	
serializedSizeForSSTable	TokenNameIdentifier	 serialized Size For SS Table
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
columns	TokenNameIdentifier	 columns
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
maxTimestampSeen	TokenNameIdentifier	 max Timestamp Seen
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
max	TokenNameIdentifier	 max
(	TokenNameLPAREN	
maxTimestampSeen	TokenNameIdentifier	 max Timestamp Seen
,	TokenNameCOMMA	
reduced	TokenNameIdentifier	 reduced
.	TokenNameDOT	
maxTimestamp	TokenNameIdentifier	 max Timestamp
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
deletionTime	TokenNameIdentifier	 deletion Time
=	TokenNameEQUAL	
reduced	TokenNameIdentifier	 reduced
.	TokenNameDOT	
getLocalDeletionTime	TokenNameIdentifier	 get Local Deletion Time
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
deletionTime	TokenNameIdentifier	 deletion Time
<	TokenNameLESS	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MAX_VALUE	TokenNameIdentifier	 MAX  VALUE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
tombstones	TokenNameIdentifier	 tombstones
.	TokenNameDOT	
update	TokenNameIdentifier	 update
(	TokenNameLPAREN	
deletionTime	TokenNameIdentifier	 deletion Time
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
reduced	TokenNameIdentifier	 reduced
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
