package	TokenNamepackage	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
mixup	TokenNameIdentifier	 mixup
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Collections	TokenNameIdentifier	 Collections
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
HashMap	TokenNameIdentifier	 Hash Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Iterator	TokenNameIdentifier	 Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
List	TokenNameIdentifier	 List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Map	TokenNameIdentifier	 Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Set	TokenNameIdentifier	 Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
SortedSet	TokenNameIdentifier	 Sorted Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Stack	TokenNameIdentifier	 Stack
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
TreeSet	TokenNameIdentifier	 Tree Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
regex	TokenNameIdentifier	 regex
.	TokenNameDOT	
Matcher	TokenNameIdentifier	 Matcher
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
regex	TokenNameIdentifier	 regex
.	TokenNameDOT	
Pattern	TokenNameIdentifier	 Pattern
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
log4j	TokenNameIdentifier	 log4j
.	TokenNameDOT	
Logger	TokenNameIdentifier	 Logger
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
BasicTextLabels	TokenNameIdentifier	 Basic Text Labels
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
MonotonicTextLabels	TokenNameIdentifier	 Monotonic Text Labels
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
RegexTokenizer	TokenNameIdentifier	 Regex Tokenizer
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
Span	TokenNameIdentifier	 Span
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
SpanTypeTokenizer	TokenNameIdentifier	 Span Type Tokenizer
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
SplitTokenizer	TokenNameIdentifier	 Split Tokenizer
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
TextBase	TokenNameIdentifier	 Text Base
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
TextBaseManager	TokenNameIdentifier	 Text Base Manager
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
TextLabels	TokenNameIdentifier	 Text Labels
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
TextToken	TokenNameIdentifier	 Text Token
;	TokenNameSEMICOLON	
import	TokenNameimport	
edu	TokenNameIdentifier	 edu
.	TokenNameDOT	
cmu	TokenNameIdentifier	 cmu
.	TokenNameDOT	
minorthird	TokenNameIdentifier	 minorthird
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
Tokenizer	TokenNameIdentifier	 Tokenizer
;	TokenNameSEMICOLON	
public	TokenNamepublic	
class	TokenNameclass	
MixupInterpreter	TokenNameIdentifier	 Mixup Interpreter
{	TokenNameLBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
Logger	TokenNameIdentifier	 Logger
log	TokenNameIdentifier	 log
=	TokenNameEQUAL	
Logger	TokenNameIdentifier	 Logger
.	TokenNameDOT	
getLogger	TokenNameIdentifier	 get Logger
(	TokenNameLPAREN	
MixupInterpreter	TokenNameIdentifier	 Mixup Interpreter
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
MixupProgram	TokenNameIdentifier	 Mixup Program
program	TokenNameIdentifier	 program
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
MonotonicTextLabels	TokenNameIdentifier	 Monotonic Text Labels
>	TokenNameGREATER	
levelsToLabelsMap	TokenNameIdentifier	 levels To Labels Map
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
MonotonicTextLabels	TokenNameIdentifier	 Monotonic Text Labels
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
Stack	TokenNameIdentifier	 Stack
<	TokenNameLESS	
String	TokenNameIdentifier	 String
>	TokenNameGREATER	
levelStack	TokenNameIdentifier	 level Stack
=	TokenNameEQUAL	
new	TokenNamenew	
Stack	TokenNameIdentifier	 Stack
<	TokenNameLESS	
String	TokenNameIdentifier	 String
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
TextBaseManager	TokenNameIdentifier	 Text Base Manager
tbManager	TokenNameIdentifier	 tb Manager
;	TokenNameSEMICOLON	
// Constructors 	TokenNameCOMMENT_LINE	Constructors 
public	TokenNamepublic	
MixupInterpreter	TokenNameIdentifier	 Mixup Interpreter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
MixupInterpreter	TokenNameIdentifier	 Mixup Interpreter
(	TokenNameLPAREN	
MixupProgram	TokenNameIdentifier	 Mixup Program
p	TokenNameIdentifier	 p
)	TokenNameRPAREN	
{	TokenNameLBRACE	
program	TokenNameIdentifier	 program
=	TokenNameEQUAL	
p	TokenNameIdentifier	 p
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
MixupInterpreter	TokenNameIdentifier	 Mixup Interpreter
(	TokenNameLPAREN	
MixupProgram	TokenNameIdentifier	 Mixup Program
p	TokenNameIdentifier	 p
,	TokenNameCOMMA	
MonotonicTextLabels	TokenNameIdentifier	 Monotonic Text Labels
rootLabels	TokenNameIdentifier	 root Labels
)	TokenNameRPAREN	
{	TokenNameLBRACE	
program	TokenNameIdentifier	 program
=	TokenNameEQUAL	
p	TokenNameIdentifier	 p
;	TokenNameSEMICOLON	
tbManager	TokenNameIdentifier	 tb Manager
=	TokenNameEQUAL	
new	TokenNamenew	
TextBaseManager	TokenNameIdentifier	 Text Base Manager
(	TokenNameLPAREN	
"root"	TokenNameStringLiteral	root
,	TokenNameCOMMA	
rootLabels	TokenNameIdentifier	 root Labels
.	TokenNameDOT	
getTextBase	TokenNameIdentifier	 get Text Base
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
levelsToLabelsMap	TokenNameIdentifier	 levels To Labels Map
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"root"	TokenNameStringLiteral	root
,	TokenNameCOMMA	
rootLabels	TokenNameIdentifier	 root Labels
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
levelStack	TokenNameIdentifier	 level Stack
.	TokenNameDOT	
push	TokenNameIdentifier	 push
(	TokenNameLPAREN	
"root"	TokenNameStringLiteral	root
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** Effectively clears the current state and executes the current program on the * specified TextLabels. The specified labels will become the root level of the * new labels hierarchy. */	TokenNameCOMMENT_JAVADOC	 Effectively clears the current state and executes the current program on the specified TextLabels. The specified labels will become the root level of the new labels hierarchy. 
public	TokenNamepublic	
void	TokenNamevoid	
eval	TokenNameIdentifier	 eval
(	TokenNameLPAREN	
MonotonicTextLabels	TokenNameIdentifier	 Monotonic Text Labels
labels	TokenNameIdentifier	 labels
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Check to make sure that there is an actual program to evaluate 	TokenNameCOMMENT_LINE	Check to make sure that there is an actual program to evaluate 
if	TokenNameif	
(	TokenNameLPAREN	
program	TokenNameIdentifier	 program
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalStateException	TokenNameIdentifier	 Illegal State Exception
(	TokenNameLPAREN	
"You must set the MixupProgram prior to calling eval."	TokenNameStringLiteral	You must set the MixupProgram prior to calling eval.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Clear out the state and start fresh with the specified labels 	TokenNameCOMMENT_LINE	Clear out the state and start fresh with the specified labels 
tbManager	TokenNameIdentifier	 tb Manager
=	TokenNameEQUAL	
new	TokenNamenew	
TextBaseManager	TokenNameIdentifier	 Text Base Manager
(	TokenNameLPAREN	
"root"	TokenNameStringLiteral	root
,	TokenNameCOMMA	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
getTextBase	TokenNameIdentifier	 get Text Base
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
levelsToLabelsMap	TokenNameIdentifier	 levels To Labels Map
.	TokenNameDOT	
clear	TokenNameIdentifier	 clear
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
levelsToLabelsMap	TokenNameIdentifier	 levels To Labels Map
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"root"	TokenNameStringLiteral	root
,	TokenNameCOMMA	
labels	TokenNameIdentifier	 labels
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
levelStack	TokenNameIdentifier	 level Stack
=	TokenNameEQUAL	
new	TokenNamenew	
Stack	TokenNameIdentifier	 Stack
<	TokenNameLESS	
String	TokenNameIdentifier	 String
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
levelStack	TokenNameIdentifier	 level Stack
.	TokenNameDOT	
push	TokenNameIdentifier	 push
(	TokenNameLPAREN	
"root"	TokenNameStringLiteral	root
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Evaluate the program on this new state. 	TokenNameCOMMENT_LINE	Evaluate the program on this new state. 
this	TokenNamethis	
.	TokenNameDOT	
eval	TokenNameIdentifier	 eval
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** Runs the current program on the current state of labels (current level). This * method is useful if you have already executed a program, called setProgram() and * want to run the new progam against the current state of the labels. */	TokenNameCOMMENT_JAVADOC	 Runs the current program on the current state of labels (current level). This method is useful if you have already executed a program, called setProgram() and want to run the new progam against the current state of the labels. 
public	TokenNamepublic	
void	TokenNamevoid	
eval	TokenNameIdentifier	 eval
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Check to make sure that there is an actual program to evaluate 	TokenNameCOMMENT_LINE	Check to make sure that there is an actual program to evaluate 
if	TokenNameif	
(	TokenNameLPAREN	
program	TokenNameIdentifier	 program
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalStateException	TokenNameIdentifier	 Illegal State Exception
(	TokenNameLPAREN	
"You must set the MixupProgram prior to calling eval."	TokenNameStringLiteral	You must set the MixupProgram prior to calling eval.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Make sure that at least a root level of labels has been specified 	TokenNameCOMMENT_LINE	Make sure that at least a root level of labels has been specified 
if	TokenNameif	
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
getCurrentLevel	TokenNameIdentifier	 get Current Level
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalStateException	TokenNameIdentifier	 Illegal State Exception
(	TokenNameLPAREN	
"There is no TextLabels heirarchy. You must call eval(TextLabels) instead."	TokenNameStringLiteral	There is no TextLabels heirarchy. You must call eval(TextLabels) instead.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// If everything is in place, go ahead and evaluate the program statements on the current state. 	TokenNameCOMMENT_LINE	If everything is in place, go ahead and evaluate the program statements on the current state. 
Statement	TokenNameIdentifier	 Statement
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
statementList	TokenNameIdentifier	 statement List
=	TokenNameEQUAL	
program	TokenNameIdentifier	 program
.	TokenNameDOT	
getStatements	TokenNameIdentifier	 get Statements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
statementList	TokenNameIdentifier	 statement List
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
evaluate	TokenNameIdentifier	 evaluate
(	TokenNameLPAREN	
statementList	TokenNameIdentifier	 statement List
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** Sets the MixupProgram that this interpreter will execute when the eval method is called. */	TokenNameCOMMENT_JAVADOC	 Sets the MixupProgram that this interpreter will execute when the eval method is called. 
public	TokenNamepublic	
void	TokenNamevoid	
setProgram	TokenNameIdentifier	 set Program
(	TokenNameLPAREN	
MixupProgram	TokenNameIdentifier	 Mixup Program
p	TokenNameIdentifier	 p
)	TokenNameRPAREN	
{	TokenNameLBRACE	
program	TokenNameIdentifier	 program
=	TokenNameEQUAL	
p	TokenNameIdentifier	 p
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** Returns the MixupProgram that this interpreter will execute if the eval method is called. */	TokenNameCOMMENT_JAVADOC	 Returns the MixupProgram that this interpreter will execute if the eval method is called. 
public	TokenNamepublic	
MixupProgram	TokenNameIdentifier	 Mixup Program
getProgram	TokenNameIdentifier	 get Program
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
program	TokenNameIdentifier	 program
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** Returns the TextLabels associated with the given level name or null if the level doesn't exist */	TokenNameCOMMENT_JAVADOC	 Returns the TextLabels associated with the given level name or null if the level doesn't exist 
public	TokenNamepublic	
MonotonicTextLabels	TokenNameIdentifier	 Monotonic Text Labels
getLabelsForLevel	TokenNameIdentifier	 get Labels For Level
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
level	TokenNameIdentifier	 level
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
levelsToLabelsMap	TokenNameIdentifier	 levels To Labels Map
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
level	TokenNameIdentifier	 level
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** Returns the name of the current level or null if no TextLabels have been added or created because * the program has not yet been evaluated. */	TokenNameCOMMENT_JAVADOC	 Returns the name of the current level or null if no TextLabels have been added or created because the program has not yet been evaluated. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getCurrentLevel	TokenNameIdentifier	 get Current Level
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
levelStack	TokenNameIdentifier	 level Stack
.	TokenNameDOT	
empty	TokenNameIdentifier	 empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
levelStack	TokenNameIdentifier	 level Stack
.	TokenNameDOT	
peek	TokenNameIdentifier	 peek
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** Returns the TextLabels associated with the current level */	TokenNameCOMMENT_JAVADOC	 Returns the TextLabels associated with the current level 
public	TokenNamepublic	
MonotonicTextLabels	TokenNameIdentifier	 Monotonic Text Labels
getCurrentLabels	TokenNameIdentifier	 get Current Labels
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
getLabelsForLevel	TokenNameIdentifier	 get Labels For Level
(	TokenNameLPAREN	
getCurrentLevel	TokenNameIdentifier	 get Current Level
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** Makes the current level be the given level name. Throws an exception if the given level name doesn't exist. */	TokenNameCOMMENT_JAVADOC	 Makes the current level be the given level name. Throws an exception if the given level name doesn't exist. 
public	TokenNamepublic	
void	TokenNamevoid	
onLevel	TokenNameIdentifier	 on Level
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
levelName	TokenNameIdentifier	 level Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
levelsToLabelsMap	TokenNameIdentifier	 levels To Labels Map
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
levelName	TokenNameIdentifier	 level Name
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalArgumentException	TokenNameIdentifier	 Illegal Argument Exception
(	TokenNameLPAREN	
"There is no level named '"	TokenNameStringLiteral	There is no level named '
+	TokenNamePLUS	
levelName	TokenNameIdentifier	 level Name
+	TokenNamePLUS	
"'"	TokenNameStringLiteral	'
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
levelStack	TokenNameIdentifier	 level Stack
.	TokenNameDOT	
push	TokenNameIdentifier	 push
(	TokenNameLPAREN	
levelName	TokenNameIdentifier	 level Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** Moves up one level in the stack of labels */	TokenNameCOMMENT_JAVADOC	 Moves up one level in the stack of labels 
public	TokenNamepublic	
void	TokenNamevoid	
offLevel	TokenNameIdentifier	 off Level
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
levelName	TokenNameIdentifier	 level Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
levelStack	TokenNameIdentifier	 level Stack
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalArgumentException	TokenNameIdentifier	 Illegal Argument Exception
(	TokenNameLPAREN	
"Already at the top level."	TokenNameStringLiteral	Already at the top level.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
(	TokenNameLPAREN	
levelStack	TokenNameIdentifier	 level Stack
.	TokenNameDOT	
peek	TokenNameIdentifier	 peek
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
levelName	TokenNameIdentifier	 level Name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalArgumentException	TokenNameIdentifier	 Illegal Argument Exception
(	TokenNameLPAREN	
"Not on level named '"	TokenNameStringLiteral	Not on level named '
+	TokenNamePLUS	
levelName	TokenNameIdentifier	 level Name
+	TokenNamePLUS	
"'"	TokenNameStringLiteral	'
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
{	TokenNameLBRACE	
levelStack	TokenNameIdentifier	 level Stack
.	TokenNameDOT	
pop	TokenNameIdentifier	 pop
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Creates a new level. This specified level type indicates what kind of level to be created. Allowed types are: * pseudotoken, filter, re, and split. <br> * <br> * pseudotoken - This type of level creates a new text base with a different tokenization scheme. The new scheme is * the same as the original scheme except that tokens in the span type specified in pattern are all merged into a single * token. <br> * <br> * filter - This type of level creates a new text base that only contains the text inside instances of the span type * specified in pattern. Each instance is placed in a separate document in the new text base. <br> * <br> * re - This type of level creates a new text base with a new tokenization scheme. In this case the tokenization * scheme is defined by the regular expression specified in pattern. Only matches to this regex are considered * tokens in the new text base. <br> * <br> * split - This type of level is similar to re except that matches to the regex are used to separate the tokens. That * is everything in between matches is considered a single token. */	TokenNameCOMMENT_JAVADOC	 Creates a new level. This specified level type indicates what kind of level to be created. Allowed types are: pseudotoken, filter, re, and split. <br> <br> pseudotoken - This type of level creates a new text base with a different tokenization scheme. The new scheme is the same as the original scheme except that tokens in the span type specified in pattern are all merged into a single token. <br> <br> filter - This type of level creates a new text base that only contains the text inside instances of the span type specified in pattern. Each instance is placed in a separate document in the new text base. <br> <br> re - This type of level creates a new text base with a new tokenization scheme. In this case the tokenization scheme is defined by the regular expression specified in pattern. Only matches to this regex are considered tokens in the new text base. <br> <br> split - This type of level is similar to re except that matches to the regex are used to separate the tokens. That is everything in between matches is considered a single token. 
public	TokenNamepublic	
void	TokenNamevoid	
createLevel	TokenNameIdentifier	 create Level
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
newLevelName	TokenNameIdentifier	 new Level Name
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
levelType	TokenNameIdentifier	 level Type
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
pattern	TokenNameIdentifier	 pattern
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TextBase	TokenNameIdentifier	 Text Base
newTextBase	TokenNameIdentifier	 new Text Base
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
BasicTextLabels	TokenNameIdentifier	 Basic Text Labels
newLabels	TokenNameIdentifier	 new Labels
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
currentLevel	TokenNameIdentifier	 current Level
=	TokenNameEQUAL	
this	TokenNamethis	
.	TokenNameDOT	
getCurrentLevel	TokenNameIdentifier	 get Current Level
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
MonotonicTextLabels	TokenNameIdentifier	 Monotonic Text Labels
parentLabels	TokenNameIdentifier	 parent Labels
=	TokenNameEQUAL	
levelsToLabelsMap	TokenNameIdentifier	 levels To Labels Map
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
currentLevel	TokenNameIdentifier	 current Level
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Create a textBase where spans of a certain type are combined into a sigle token 	TokenNameCOMMENT_LINE	Create a textBase where spans of a certain type are combined into a sigle token 
if	TokenNameif	
(	TokenNameLPAREN	
"pseudotoken"	TokenNameStringLiteral	pseudotoken
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
levelType	TokenNameIdentifier	 level Type
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// First create the tokenizer 	TokenNameCOMMENT_LINE	First create the tokenizer 
SpanTypeTokenizer	TokenNameIdentifier	 Span Type Tokenizer
tokenizer	TokenNameIdentifier	 tokenizer
=	TokenNameEQUAL	
new	TokenNamenew	
SpanTypeTokenizer	TokenNameIdentifier	 Span Type Tokenizer
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
,	TokenNameCOMMA	
parentLabels	TokenNameIdentifier	 parent Labels
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Next create the retokenized text base 	TokenNameCOMMENT_LINE	Next create the retokenized text base 
newTextBase	TokenNameIdentifier	 new Text Base
=	TokenNameEQUAL	
tbManager	TokenNameIdentifier	 tb Manager
.	TokenNameDOT	
retokenize	TokenNameIdentifier	 retokenize
(	TokenNameLPAREN	
tokenizer	TokenNameIdentifier	 tokenizer
,	TokenNameCOMMA	
currentLevel	TokenNameIdentifier	 current Level
,	TokenNameCOMMA	
newLevelName	TokenNameIdentifier	 new Level Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Finally create the labels and add in the pseudotoken token properties. 	TokenNameCOMMENT_LINE	Finally create the labels and add in the pseudotoken token properties. 
newLabels	TokenNameIdentifier	 new Labels
=	TokenNameEQUAL	
new	TokenNamenew	
BasicTextLabels	TokenNameIdentifier	 Basic Text Labels
(	TokenNameLPAREN	
newTextBase	TokenNameIdentifier	 new Text Base
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
typeInstances	TokenNameIdentifier	 type Instances
=	TokenNameEQUAL	
parentLabels	TokenNameIdentifier	 parent Labels
.	TokenNameDOT	
instanceIterator	TokenNameIdentifier	 instance Iterator
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
typeInstances	TokenNameIdentifier	 type Instances
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Span	TokenNameIdentifier	 Span
currInstance	TokenNameIdentifier	 curr Instance
=	TokenNameEQUAL	
typeInstances	TokenNameIdentifier	 type Instances
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Span	TokenNameIdentifier	 Span
matchingChildSpan	TokenNameIdentifier	 matching Child Span
=	TokenNameEQUAL	
tbManager	TokenNameIdentifier	 tb Manager
.	TokenNameDOT	
getMatchingSpan	TokenNameIdentifier	 get Matching Span
(	TokenNameLPAREN	
currInstance	TokenNameIdentifier	 curr Instance
,	TokenNameCOMMA	
currentLevel	TokenNameIdentifier	 current Level
,	TokenNameCOMMA	
newLevelName	TokenNameIdentifier	 new Level Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
matchingChildSpan	TokenNameIdentifier	 matching Child Span
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
newLabels	TokenNameIdentifier	 new Labels
.	TokenNameDOT	
setProperty	TokenNameIdentifier	 set Property
(	TokenNameLPAREN	
matchingChildSpan	TokenNameIdentifier	 matching Child Span
.	TokenNameDOT	
getTextToken	TokenNameIdentifier	 get Text Token
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
,	TokenNameCOMMA	
"Pseudotoken"	TokenNameStringLiteral	Pseudotoken
,	TokenNameCOMMA	
"1"	TokenNameStringLiteral	1
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// creates a textBase which filters out all spans not of a certain spanType 	TokenNameCOMMENT_LINE	creates a textBase which filters out all spans not of a certain spanType 
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"filter"	TokenNameStringLiteral	filter
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
levelType	TokenNameIdentifier	 level Type
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
newTextBase	TokenNameIdentifier	 new Text Base
=	TokenNameEQUAL	
tbManager	TokenNameIdentifier	 tb Manager
.	TokenNameDOT	
filter	TokenNameIdentifier	 filter
(	TokenNameLPAREN	
currentLevel	TokenNameIdentifier	 current Level
,	TokenNameCOMMA	
parentLabels	TokenNameIdentifier	 parent Labels
,	TokenNameCOMMA	
newLevelName	TokenNameIdentifier	 new Level Name
,	TokenNameCOMMA	
pattern	TokenNameIdentifier	 pattern
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
newLabels	TokenNameIdentifier	 new Labels
=	TokenNameEQUAL	
new	TokenNamenew	
BasicTextLabels	TokenNameIdentifier	 Basic Text Labels
(	TokenNameLPAREN	
newTextBase	TokenNameIdentifier	 new Text Base
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Creates a new text base retokenized by the given pattern 	TokenNameCOMMENT_LINE	Creates a new text base retokenized by the given pattern 
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"re"	TokenNameStringLiteral	re
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
levelType	TokenNameIdentifier	 level Type
)	TokenNameRPAREN	
||	TokenNameOR_OR	
"split"	TokenNameStringLiteral	split
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
levelType	TokenNameIdentifier	 level Type
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Tokenizer	TokenNameIdentifier	 Tokenizer
tokenizer	TokenNameIdentifier	 tokenizer
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
levelType	TokenNameIdentifier	 level Type
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"split"	TokenNameStringLiteral	split
)	TokenNameRPAREN	
)	TokenNameRPAREN	
// creates a tokenizer that splits the textBase at a certain token (e.g. split at ".") 	TokenNameCOMMENT_LINE	creates a tokenizer that splits the textBase at a certain token (e.g. split at ".") 
tokenizer	TokenNameIdentifier	 tokenizer
=	TokenNameEQUAL	
new	TokenNamenew	
SplitTokenizer	TokenNameIdentifier	 Split Tokenizer
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
tokenizer	TokenNameIdentifier	 tokenizer
=	TokenNameEQUAL	
new	TokenNamenew	
RegexTokenizer	TokenNameIdentifier	 Regex Tokenizer
(	TokenNameLPAREN	
pattern	TokenNameIdentifier	 pattern
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//only things matching pattern will be tokens. 	TokenNameCOMMENT_LINE	only things matching pattern will be tokens. 
newTextBase	TokenNameIdentifier	 new Text Base
=	TokenNameEQUAL	
tbManager	TokenNameIdentifier	 tb Manager
.	TokenNameDOT	
retokenize	TokenNameIdentifier	 retokenize
(	TokenNameLPAREN	
tokenizer	TokenNameIdentifier	 tokenizer
,	TokenNameCOMMA	
currentLevel	TokenNameIdentifier	 current Level
,	TokenNameCOMMA	
newLevelName	TokenNameIdentifier	 new Level Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
newLabels	TokenNameIdentifier	 new Labels
=	TokenNameEQUAL	
new	TokenNamenew	
BasicTextLabels	TokenNameIdentifier	 Basic Text Labels
(	TokenNameLPAREN	
newTextBase	TokenNameIdentifier	 new Text Base
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalArgumentException	TokenNameIdentifier	 Illegal Argument Exception
(	TokenNameLPAREN	
"No level type: "	TokenNameStringLiteral	No level type: 
+	TokenNamePLUS	
levelType	TokenNameIdentifier	 level Type
+	TokenNamePLUS	
" new level created with old textBase and Labels"	TokenNameStringLiteral	 new level created with old textBase and Labels
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Add the new TextLabels to the list of labels for each level 	TokenNameCOMMENT_LINE	Add the new TextLabels to the list of labels for each level 
levelsToLabelsMap	TokenNameIdentifier	 levels To Labels Map
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
newLevelName	TokenNameIdentifier	 new Level Name
,	TokenNameCOMMA	
newLabels	TokenNameIdentifier	 new Labels
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** imports labels from specified level to the current level */	TokenNameCOMMENT_JAVADOC	 imports labels from specified level to the current level 
public	TokenNamepublic	
void	TokenNamevoid	
importLabelsFromLevel	TokenNameIdentifier	 import Labels From Level
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
importLevel	TokenNameIdentifier	 import Level
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
oldType	TokenNameIdentifier	 old Type
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
newType	TokenNameIdentifier	 new Type
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
tbManager	TokenNameIdentifier	 tb Manager
.	TokenNameDOT	
containsLevel	TokenNameIdentifier	 contains Level
(	TokenNameLPAREN	
importLevel	TokenNameIdentifier	 import Level
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalArgumentException	TokenNameIdentifier	 Illegal Argument Exception
(	TokenNameLPAREN	
"Level: "	TokenNameStringLiteral	Level: 
+	TokenNamePLUS	
importLevel	TokenNameIdentifier	 import Level
+	TokenNamePLUS	
" not defined for importFromLevel"	TokenNameStringLiteral	 not defined for importFromLevel
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
MonotonicTextLabels	TokenNameIdentifier	 Monotonic Text Labels
oldLabels	TokenNameIdentifier	 old Labels
=	TokenNameEQUAL	
levelsToLabelsMap	TokenNameIdentifier	 levels To Labels Map
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
importLevel	TokenNameIdentifier	 import Level
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
MonotonicTextLabels	TokenNameIdentifier	 Monotonic Text Labels
currLabels	TokenNameIdentifier	 curr Labels
=	TokenNameEQUAL	
this	TokenNamethis	
.	TokenNameDOT	
getCurrentLabels	TokenNameIdentifier	 get Current Labels
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
instances	TokenNameIdentifier	 instances
=	TokenNameEQUAL	
oldLabels	TokenNameIdentifier	 old Labels
.	TokenNameDOT	
instanceIterator	TokenNameIdentifier	 instance Iterator
(	TokenNameLPAREN	
oldType	TokenNameIdentifier	 old Type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
instances	TokenNameIdentifier	 instances
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Span	TokenNameIdentifier	 Span
currInstance	TokenNameIdentifier	 curr Instance
=	TokenNameEQUAL	
instances	TokenNameIdentifier	 instances
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Span	TokenNameIdentifier	 Span
newSpan	TokenNameIdentifier	 new Span
=	TokenNameEQUAL	
tbManager	TokenNameIdentifier	 tb Manager
.	TokenNameDOT	
getMatchingSpan	TokenNameIdentifier	 get Matching Span
(	TokenNameLPAREN	
currInstance	TokenNameIdentifier	 curr Instance
,	TokenNameCOMMA	
importLevel	TokenNameIdentifier	 import Level
,	TokenNameCOMMA	
this	TokenNamethis	
.	TokenNameDOT	
getCurrentLevel	TokenNameIdentifier	 get Current Level
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
currLabels	TokenNameIdentifier	 curr Labels
.	TokenNameDOT	
addToType	TokenNameIdentifier	 add To Type
(	TokenNameLPAREN	
newSpan	TokenNameIdentifier	 new Span
,	TokenNameCOMMA	
newType	TokenNameIdentifier	 new Type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// 	TokenNameCOMMENT_LINE	 
// Evaluates a Statement instance against the current level's label set. 	TokenNameCOMMENT_LINE	Evaluates a Statement instance against the current level's label set. 
// 	TokenNameCOMMENT_LINE	 
private	TokenNameprivate	
void	TokenNamevoid	
evaluate	TokenNameIdentifier	 evaluate
(	TokenNameLPAREN	
Statement	TokenNameIdentifier	 Statement
statement	TokenNameIdentifier	 statement
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
.	TokenNameDOT	
info	TokenNameIdentifier	 info
(	TokenNameLPAREN	
"Evaluating: "	TokenNameStringLiteral	Evaluating: 
+	TokenNamePLUS	
statement	TokenNameIdentifier	 statement
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
long	TokenNamelong	
start	TokenNameIdentifier	 start
=	TokenNameEQUAL	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
currentTimeMillis	TokenNameIdentifier	 current Time Millis
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
MonotonicTextLabels	TokenNameIdentifier	 Monotonic Text Labels
labels	TokenNameIdentifier	 labels
=	TokenNameEQUAL	
this	TokenNamethis	
.	TokenNameDOT	
getCurrentLabels	TokenNameIdentifier	 get Current Labels
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// The properties of this statement 	TokenNameCOMMENT_LINE	The properties of this statement 
int	TokenNameint	
statementType	TokenNameIdentifier	 statement Type
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getStatementType	TokenNameIdentifier	 get Statement Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
keyword	TokenNameIdentifier	 keyword
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getKeyword	TokenNameIdentifier	 get Keyword
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
String	TokenNameIdentifier	 String
>	TokenNameGREATER	
filesToLoad	TokenNameIdentifier	 files To Load
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getFilesToLoad	TokenNameIdentifier	 get Files To Load
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
fileToLoad	TokenNameIdentifier	 file To Load
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getFileToLoad	TokenNameIdentifier	 get File To Load
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
type	TokenNameIdentifier	 type
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getType	TokenNameIdentifier	 get Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
ignoreCase	TokenNameIdentifier	 ignore Case
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getIgnoreCase	TokenNameIdentifier	 get Ignore Case
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
String	TokenNameIdentifier	 String
>	TokenNameGREATER	
wordSet	TokenNameIdentifier	 word Set
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getWordSet	TokenNameIdentifier	 get Word Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
split	TokenNameIdentifier	 split
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getSplit	TokenNameIdentifier	 get Split
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
patt	TokenNameIdentifier	 patt
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getPatt	TokenNameIdentifier	 get Patt
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
level	TokenNameIdentifier	 level
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getLevel	TokenNameIdentifier	 get Level
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
oldType	TokenNameIdentifier	 old Type
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getOldType	TokenNameIdentifier	 get Old Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
importType	TokenNameIdentifier	 import Type
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getImportType	TokenNameIdentifier	 get Import Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
importLevel	TokenNameIdentifier	 import Level
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getImportLevel	TokenNameIdentifier	 get Import Level
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
annotationType	TokenNameIdentifier	 annotation Type
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getAnnotationType	TokenNameIdentifier	 get Annotation Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
startType	TokenNameIdentifier	 start Type
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getStartType	TokenNameIdentifier	 get Start Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Mixup	TokenNameIdentifier	 Mixup
mixupExpr	TokenNameIdentifier	 mixup Expr
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getMixupExpr	TokenNameIdentifier	 get Mixup Expr
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
String	TokenNameIdentifier	 String
>	TokenNameGREATER	
phraseList	TokenNameIdentifier	 phrase List
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getPhraseList	TokenNameIdentifier	 get Phrase List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
regex	TokenNameIdentifier	 regex
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getRegex	TokenNameIdentifier	 get Regex
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
regexGroup	TokenNameIdentifier	 regex Group
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getRegexGroup	TokenNameIdentifier	 get Regex Group
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
"defDict"	TokenNameStringLiteral	defDict
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
keyword	TokenNameIdentifier	 keyword
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
filesToLoad	TokenNameIdentifier	 files To Load
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
defineDictionary	TokenNameIdentifier	 define Dictionary
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
,	TokenNameCOMMA	
filesToLoad	TokenNameIdentifier	 files To Load
,	TokenNameCOMMA	
ignoreCase	TokenNameIdentifier	 ignore Case
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
filesToLoad	TokenNameIdentifier	 files To Load
.	TokenNameDOT	
clear	TokenNameIdentifier	 clear
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
.	TokenNameDOT	
debug	TokenNameIdentifier	 debug
(	TokenNameLPAREN	
"defining dictionary of: "	TokenNameStringLiteral	defining dictionary of: 
+	TokenNamePLUS	
wordSet	TokenNameIdentifier	 word Set
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
defineDictionary	TokenNameIdentifier	 define Dictionary
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
,	TokenNameCOMMA	
wordSet	TokenNameIdentifier	 word Set
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"defLevel"	TokenNameStringLiteral	defLevel
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
keyword	TokenNameIdentifier	 keyword
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
createLevel	TokenNameIdentifier	 create Level
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
,	TokenNameCOMMA	
split	TokenNameIdentifier	 split
,	TokenNameCOMMA	
patt	TokenNameIdentifier	 patt
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"onLevel"	TokenNameStringLiteral	onLevel
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
keyword	TokenNameIdentifier	 keyword
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
onLevel	TokenNameIdentifier	 on Level
(	TokenNameLPAREN	
level	TokenNameIdentifier	 level
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"offLevel"	TokenNameStringLiteral	offLevel
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
keyword	TokenNameIdentifier	 keyword
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
offLevel	TokenNameIdentifier	 off Level
(	TokenNameLPAREN	
level	TokenNameIdentifier	 level
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"importFromLevel"	TokenNameStringLiteral	importFromLevel
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
keyword	TokenNameIdentifier	 keyword
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
importLabelsFromLevel	TokenNameIdentifier	 import Labels From Level
(	TokenNameLPAREN	
importLevel	TokenNameIdentifier	 import Level
,	TokenNameCOMMA	
oldType	TokenNameIdentifier	 old Type
,	TokenNameCOMMA	
importType	TokenNameIdentifier	 import Type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"declareSpanType"	TokenNameStringLiteral	declareSpanType
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
keyword	TokenNameIdentifier	 keyword
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
declareType	TokenNameIdentifier	 declare Type
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
statementType	TokenNameIdentifier	 statement Type
==	TokenNameEQUAL_EQUAL	
Statement	TokenNameIdentifier	 Statement
.	TokenNameDOT	
PROVIDE	TokenNameIdentifier	 PROVIDE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
setAnnotatedBy	TokenNameIdentifier	 set Annotated By
(	TokenNameLPAREN	
annotationType	TokenNameIdentifier	 annotation Type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
statementType	TokenNameIdentifier	 statement Type
==	TokenNameEQUAL_EQUAL	
Statement	TokenNameIdentifier	 Statement
.	TokenNameDOT	
REQUIRE	TokenNameIdentifier	 REQUIRE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
require	TokenNameIdentifier	 require
(	TokenNameLPAREN	
annotationType	TokenNameIdentifier	 annotation Type
,	TokenNameCOMMA	
fileToLoad	TokenNameIdentifier	 file To Load
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
statementType	TokenNameIdentifier	 statement Type
==	TokenNameEQUAL_EQUAL	
Statement	TokenNameIdentifier	 Statement
.	TokenNameDOT	
ANNOTATE_WITH	TokenNameIdentifier	 ANNOTATE  WITH
)	TokenNameRPAREN	
{	TokenNameLBRACE	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
annotateWith	TokenNameIdentifier	 annotate With
(	TokenNameLPAREN	
fileToLoad	TokenNameIdentifier	 file To Load
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
fileToLoad	TokenNameIdentifier	 file To Load
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
4	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fileToLoad	TokenNameIdentifier	 file To Load
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
input	TokenNameIdentifier	 input
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
"top"	TokenNameStringLiteral	top
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
startType	TokenNameIdentifier	 start Type
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
input	TokenNameIdentifier	 input
=	TokenNameEQUAL	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
getTextBase	TokenNameIdentifier	 get Text Base
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
documentSpanIterator	TokenNameIdentifier	 document Span Iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
isType	TokenNameIdentifier	 is Type
(	TokenNameLPAREN	
startType	TokenNameIdentifier	 start Type
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
input	TokenNameIdentifier	 input
=	TokenNameEQUAL	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
instanceIterator	TokenNameIdentifier	 instance Iterator
(	TokenNameLPAREN	
startType	TokenNameIdentifier	 start Type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalStateException	TokenNameIdentifier	 Illegal State Exception
(	TokenNameLPAREN	
"no type '"	TokenNameStringLiteral	no type '
+	TokenNamePLUS	
startType	TokenNameIdentifier	 start Type
+	TokenNamePLUS	
"' defined"	TokenNameStringLiteral	' defined
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
statementType	TokenNameIdentifier	 statement Type
==	TokenNameEQUAL_EQUAL	
Statement	TokenNameIdentifier	 Statement
.	TokenNameDOT	
MIXUP	TokenNameIdentifier	 MIXUP
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
mixupExpr	TokenNameIdentifier	 mixup Expr
.	TokenNameDOT	
extract	TokenNameIdentifier	 extract
(	TokenNameLPAREN	
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
input	TokenNameIdentifier	 input
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Span	TokenNameIdentifier	 Span
span	TokenNameIdentifier	 span
=	TokenNameEQUAL	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
extendLabels	TokenNameIdentifier	 extend Labels
(	TokenNameLPAREN	
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
span	TokenNameIdentifier	 span
,	TokenNameCOMMA	
statement	TokenNameIdentifier	 statement
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// make sure type is declared, even if nothing happened to be defined here 	TokenNameCOMMENT_LINE	make sure type is declared, even if nothing happened to be defined here 
if	TokenNameif	
(	TokenNameLPAREN	
"defSpanType"	TokenNameStringLiteral	defSpanType
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
keyword	TokenNameIdentifier	 keyword
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
declareType	TokenNameIdentifier	 declare Type
(	TokenNameLPAREN	
type	TokenNameIdentifier	 type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
statementType	TokenNameIdentifier	 statement Type
==	TokenNameEQUAL_EQUAL	
Statement	TokenNameIdentifier	 Statement
.	TokenNameDOT	
FILTER	TokenNameIdentifier	 FILTER
)	TokenNameRPAREN	
{	TokenNameLBRACE	
SortedSet	TokenNameIdentifier	 Sorted Set
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
accum	TokenNameIdentifier	 accum
=	TokenNameEQUAL	
new	TokenNamenew	
TreeSet	TokenNameIdentifier	 Tree Set
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
input	TokenNameIdentifier	 input
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Span	TokenNameIdentifier	 Span
span	TokenNameIdentifier	 span
=	TokenNameEQUAL	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
hasExtraction	TokenNameIdentifier	 has Extraction
(	TokenNameLPAREN	
mixupExpr	TokenNameIdentifier	 mixup Expr
,	TokenNameCOMMA	
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
accum	TokenNameIdentifier	 accum
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
accum	TokenNameIdentifier	 accum
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
extendLabels	TokenNameIdentifier	 extend Labels
(	TokenNameLPAREN	
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
statement	TokenNameIdentifier	 statement
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
statementType	TokenNameIdentifier	 statement Type
==	TokenNameEQUAL_EQUAL	
Statement	TokenNameIdentifier	 Statement
.	TokenNameDOT	
TRIE	TokenNameIdentifier	 TRIE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
defineTrie	TokenNameIdentifier	 define Trie
(	TokenNameLPAREN	
phraseList	TokenNameIdentifier	 phrase List
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
input	TokenNameIdentifier	 input
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Span	TokenNameIdentifier	 Span
span	TokenNameIdentifier	 span
=	TokenNameEQUAL	
input	TokenNameIdentifier	 input
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
output	TokenNameIdentifier	 output
=	TokenNameEQUAL	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
getTrie	TokenNameIdentifier	 get Trie
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
lookup	TokenNameIdentifier	 lookup
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
output	TokenNameIdentifier	 output
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
extendLabels	TokenNameIdentifier	 extend Labels
(	TokenNameLPAREN	
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
output	TokenNameIdentifier	 output
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
statement	TokenNameIdentifier	 statement
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
statementType	TokenNameIdentifier	 statement Type
==	TokenNameEQUAL_EQUAL	
Statement	TokenNameIdentifier	 Statement
.	TokenNameDOT	
REGEX	TokenNameIdentifier	 REGEX
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Pattern	TokenNameIdentifier	 Pattern
pattern	TokenNameIdentifier	 pattern
=	TokenNameEQUAL	
Pattern	TokenNameIdentifier	 Pattern
.	TokenNameDOT	
compile	TokenNameIdentifier	 compile
(	TokenNameLPAREN	
regex	TokenNameIdentifier	 regex
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
input	TokenNameIdentifier	 input
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Span	TokenNameIdentifier	 Span
span	TokenNameIdentifier	 span
=	TokenNameEQUAL	
input	TokenNameIdentifier	 input
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Don't use this method as it drops leading and trailing spaces from the document text. 	TokenNameCOMMENT_LINE	Don't use this method as it drops leading and trailing spaces from the document text. 
//Matcher matcher = pattern.matcher( span.asString() ); 	TokenNameCOMMENT_LINE	Matcher matcher = pattern.matcher( span.asString() ); 
Matcher	TokenNameIdentifier	 Matcher
matcher	TokenNameIdentifier	 matcher
=	TokenNameEQUAL	
pattern	TokenNameIdentifier	 pattern
.	TokenNameDOT	
matcher	TokenNameIdentifier	 matcher
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
.	TokenNameDOT	
getDocumentContents	TokenNameIdentifier	 get Document Contents
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
matcher	TokenNameIdentifier	 matcher
.	TokenNameDOT	
find	TokenNameIdentifier	 find
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
Span	TokenNameIdentifier	 Span
subspan	TokenNameIdentifier	 subspan
=	TokenNameEQUAL	
span	TokenNameIdentifier	 span
.	TokenNameDOT	
charIndexProperSubSpan	TokenNameIdentifier	 char Index Proper Sub Span
(	TokenNameLPAREN	
matcher	TokenNameIdentifier	 matcher
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
regexGroup	TokenNameIdentifier	 regex Group
)	TokenNameRPAREN	
,	TokenNameCOMMA	
matcher	TokenNameIdentifier	 matcher
.	TokenNameDOT	
end	TokenNameIdentifier	 end
(	TokenNameLPAREN	
regexGroup	TokenNameIdentifier	 regex Group
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
extendLabels	TokenNameIdentifier	 extend Labels
(	TokenNameLPAREN	
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
subspan	TokenNameIdentifier	 subspan
,	TokenNameCOMMA	
statement	TokenNameIdentifier	 statement
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IllegalArgumentException	TokenNameIdentifier	 Illegal Argument Exception
ex	TokenNameIdentifier	 ex
)	TokenNameRPAREN	
{	TokenNameLBRACE	
/* there is no subspan that is properly contained by the regex match, so don't add anything */	TokenNameCOMMENT_BLOCK	 there is no subspan that is properly contained by the regex match, so don't add anything 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalStateException	TokenNameIdentifier	 Illegal State Exception
(	TokenNameLPAREN	
"illegal statement type "	TokenNameStringLiteral	illegal statement type 
+	TokenNamePLUS	
statementType	TokenNameIdentifier	 statement Type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
long	TokenNamelong	
end	TokenNameIdentifier	 end
=	TokenNameEQUAL	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
currentTimeMillis	TokenNameIdentifier	 current Time Millis
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
log	TokenNameIdentifier	 log
.	TokenNameDOT	
info	TokenNameIdentifier	 info
(	TokenNameLPAREN	
"time: "	TokenNameStringLiteral	time: 
+	TokenNamePLUS	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
end	TokenNameIdentifier	 end
-	TokenNameMINUS	
start	TokenNameIdentifier	 start
)	TokenNameRPAREN	
/	TokenNameDIVIDE	
1000.0	TokenNameDoubleLiteral	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" sec"	TokenNameStringLiteral	 sec
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// subroutine of eval - check if a mixup expression matches 	TokenNameCOMMENT_LINE	subroutine of eval - check if a mixup expression matches 
private	TokenNameprivate	
boolean	TokenNameboolean	
hasExtraction	TokenNameIdentifier	 has Extraction
(	TokenNameLPAREN	
final	TokenNamefinal	
Mixup	TokenNameIdentifier	 Mixup
mixupExpr	TokenNameIdentifier	 mixup Expr
,	TokenNameCOMMA	
final	TokenNamefinal	
TextLabels	TokenNameIdentifier	 Text Labels
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
final	TokenNamefinal	
Span	TokenNameIdentifier	 Span
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
input	TokenNameIdentifier	 input
=	TokenNameEQUAL	
Collections	TokenNameIdentifier	 Collections
.	TokenNameDOT	
singleton	TokenNameIdentifier	 singleton
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
)	TokenNameRPAREN	
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Span	TokenNameIdentifier	 Span
>	TokenNameGREATER	
output	TokenNameIdentifier	 output
=	TokenNameEQUAL	
mixupExpr	TokenNameIdentifier	 mixup Expr
.	TokenNameDOT	
extract	TokenNameIdentifier	 extract
(	TokenNameLPAREN	
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
input	TokenNameIdentifier	 input
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
output	TokenNameIdentifier	 output
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// subroutine of eval - label the span 	TokenNameCOMMENT_LINE	subroutine of eval - label the span 
private	TokenNameprivate	
void	TokenNamevoid	
extendLabels	TokenNameIdentifier	 extend Labels
(	TokenNameLPAREN	
MonotonicTextLabels	TokenNameIdentifier	 Monotonic Text Labels
labels	TokenNameIdentifier	 labels
,	TokenNameCOMMA	
Span	TokenNameIdentifier	 Span
span	TokenNameIdentifier	 span
,	TokenNameCOMMA	
Statement	TokenNameIdentifier	 Statement
statement	TokenNameIdentifier	 statement
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
keyword	TokenNameIdentifier	 keyword
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getKeyword	TokenNameIdentifier	 get Keyword
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
type	TokenNameIdentifier	 type
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getType	TokenNameIdentifier	 get Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
property	TokenNameIdentifier	 property
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
value	TokenNameIdentifier	 value
=	TokenNameEQUAL	
statement	TokenNameIdentifier	 statement
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
"defSpanType"	TokenNameStringLiteral	defSpanType
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
keyword	TokenNameIdentifier	 keyword
)	TokenNameRPAREN	
)	TokenNameRPAREN	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
addToType	TokenNameIdentifier	 add To Type
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
,	TokenNameCOMMA	
type	TokenNameIdentifier	 type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"defSpanProp"	TokenNameStringLiteral	defSpanProp
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
keyword	TokenNameIdentifier	 keyword
)	TokenNameRPAREN	
)	TokenNameRPAREN	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
setProperty	TokenNameIdentifier	 set Property
(	TokenNameLPAREN	
span	TokenNameIdentifier	 span
,	TokenNameCOMMA	
property	TokenNameIdentifier	 property
,	TokenNameCOMMA	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"defTokenProp"	TokenNameStringLiteral	defTokenProp
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
keyword	TokenNameIdentifier	 keyword
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
span	TokenNameIdentifier	 span
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
TextToken	TokenNameIdentifier	 Text Token
token	TokenNameIdentifier	 token
=	TokenNameEQUAL	
span	TokenNameIdentifier	 span
.	TokenNameDOT	
getTextToken	TokenNameIdentifier	 get Text Token
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
property	TokenNameIdentifier	 property
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalStateException	TokenNameIdentifier	 Illegal State Exception
(	TokenNameLPAREN	
"null property"	TokenNameStringLiteral	null property
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
labels	TokenNameIdentifier	 labels
.	TokenNameDOT	
setProperty	TokenNameIdentifier	 set Property
(	TokenNameLPAREN	
token	TokenNameIdentifier	 token
,	TokenNameCOMMA	
property	TokenNameIdentifier	 property
,	TokenNameCOMMA	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
