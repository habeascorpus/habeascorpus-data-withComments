package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
highlight	TokenNameIdentifier	 highlight
;	TokenNameSEMICOLON	
/** * Licensed to the Apache Software Foundation (ASF) under one or more * contributor license agreements. See the NOTICE file distributed with * this work for additional information regarding copyright ownership. * The ASF licenses this file to You under the Apache License, Version 2.0 * (the "License"); you may not use this file except in compliance with * the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_JAVADOC	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
ByteArrayInputStream	TokenNameIdentifier	 Byte Array Input Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
Reader	TokenNameIdentifier	 Reader
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
StringReader	TokenNameIdentifier	 String Reader
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ArrayList	TokenNameIdentifier	 Array List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
HashMap	TokenNameIdentifier	 Hash Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
HashSet	TokenNameIdentifier	 Hash Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Iterator	TokenNameIdentifier	 Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
List	TokenNameIdentifier	 List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Map	TokenNameIdentifier	 Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Set	TokenNameIdentifier	 Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
parsers	TokenNameIdentifier	 parsers
.	TokenNameDOT	
DocumentBuilder	TokenNameIdentifier	 Document Builder
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
parsers	TokenNameIdentifier	 parsers
.	TokenNameDOT	
DocumentBuilderFactory	TokenNameIdentifier	 Document Builder Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
analysis	TokenNameIdentifier	 analysis
.	TokenNameDOT	
Analyzer	TokenNameIdentifier	 Analyzer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
analysis	TokenNameIdentifier	 analysis
.	TokenNameDOT	
BaseTokenStreamTestCase	TokenNameIdentifier	 Base Token Stream Test Case
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
analysis	TokenNameIdentifier	 analysis
.	TokenNameDOT	
CharArraySet	TokenNameIdentifier	 Char Array Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
analysis	TokenNameIdentifier	 analysis
.	TokenNameDOT	
LowerCaseTokenizer	TokenNameIdentifier	 Lower Case Tokenizer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
analysis	TokenNameIdentifier	 analysis
.	TokenNameDOT	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
analysis	TokenNameIdentifier	 analysis
.	TokenNameDOT	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
analysis	TokenNameIdentifier	 analysis
.	TokenNameDOT	
StopAnalyzer	TokenNameIdentifier	 Stop Analyzer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
analysis	TokenNameIdentifier	 analysis
.	TokenNameDOT	
Token	TokenNameIdentifier	 Token
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
analysis	TokenNameIdentifier	 analysis
.	TokenNameDOT	
TokenStream	TokenNameIdentifier	 Token Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
analysis	TokenNameIdentifier	 analysis
.	TokenNameDOT	
standard	TokenNameIdentifier	 standard
.	TokenNameDOT	
StandardAnalyzer	TokenNameIdentifier	 Standard Analyzer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
analysis	TokenNameIdentifier	 analysis
.	TokenNameDOT	
tokenattributes	TokenNameIdentifier	 tokenattributes
.	TokenNameDOT	
OffsetAttribute	TokenNameIdentifier	 Offset Attribute
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
analysis	TokenNameIdentifier	 analysis
.	TokenNameDOT	
tokenattributes	TokenNameIdentifier	 tokenattributes
.	TokenNameDOT	
PositionIncrementAttribute	TokenNameIdentifier	 Position Increment Attribute
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
analysis	TokenNameIdentifier	 analysis
.	TokenNameDOT	
tokenattributes	TokenNameIdentifier	 tokenattributes
.	TokenNameDOT	
CharTermAttribute	TokenNameIdentifier	 Char Term Attribute
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
document	TokenNameIdentifier	 document
.	TokenNameDOT	
Document	TokenNameIdentifier	 Document
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
document	TokenNameIdentifier	 document
.	TokenNameDOT	
Field	TokenNameIdentifier	 Field
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
document	TokenNameIdentifier	 document
.	TokenNameDOT	
NumericField	TokenNameIdentifier	 Numeric Field
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
document	TokenNameIdentifier	 document
.	TokenNameDOT	
Field	TokenNameIdentifier	 Field
.	TokenNameDOT	
Index	TokenNameIdentifier	 Index
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
document	TokenNameIdentifier	 document
.	TokenNameDOT	
Field	TokenNameIdentifier	 Field
.	TokenNameDOT	
Store	TokenNameIdentifier	 Store
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
IndexReader	TokenNameIdentifier	 Index Reader
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
IndexWriter	TokenNameIdentifier	 Index Writer
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
IndexWriterConfig	TokenNameIdentifier	 Index Writer Config
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
Term	TokenNameIdentifier	 Term
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
index	TokenNameIdentifier	 index
.	TokenNameDOT	
IndexWriterConfig	TokenNameIdentifier	 Index Writer Config
.	TokenNameDOT	
OpenMode	TokenNameIdentifier	 Open Mode
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
queryParser	TokenNameIdentifier	 query Parser
.	TokenNameDOT	
ParseException	TokenNameIdentifier	 Parse Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
queryParser	TokenNameIdentifier	 query Parser
.	TokenNameDOT	
QueryParser	TokenNameIdentifier	 Query Parser
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
BooleanQuery	TokenNameIdentifier	 Boolean Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
FilteredQuery	TokenNameIdentifier	 Filtered Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
IndexSearcher	TokenNameIdentifier	 Index Searcher
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
MultiPhraseQuery	TokenNameIdentifier	 Multi Phrase Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
MultiSearcher	TokenNameIdentifier	 Multi Searcher
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
MultiTermQuery	TokenNameIdentifier	 Multi Term Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
NumericRangeQuery	TokenNameIdentifier	 Numeric Range Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
PhraseQuery	TokenNameIdentifier	 Phrase Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
Query	TokenNameIdentifier	 Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
TermQuery	TokenNameIdentifier	 Term Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
TermRangeFilter	TokenNameIdentifier	 Term Range Filter
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
TopDocs	TokenNameIdentifier	 Top Docs
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
WildcardQuery	TokenNameIdentifier	 Wildcard Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
BooleanClause	TokenNameIdentifier	 Boolean Clause
.	TokenNameDOT	
Occur	TokenNameIdentifier	 Occur
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
highlight	TokenNameIdentifier	 highlight
.	TokenNameDOT	
SynonymTokenizer	TokenNameIdentifier	 Synonym Tokenizer
.	TokenNameDOT	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
regex	TokenNameIdentifier	 regex
.	TokenNameDOT	
RegexQuery	TokenNameIdentifier	 Regex Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
regex	TokenNameIdentifier	 regex
.	TokenNameDOT	
SpanRegexQuery	TokenNameIdentifier	 Span Regex Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
spans	TokenNameIdentifier	 spans
.	TokenNameDOT	
SpanNearQuery	TokenNameIdentifier	 Span Near Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
spans	TokenNameIdentifier	 spans
.	TokenNameDOT	
SpanNotQuery	TokenNameIdentifier	 Span Not Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
spans	TokenNameIdentifier	 spans
.	TokenNameDOT	
SpanOrQuery	TokenNameIdentifier	 Span Or Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
spans	TokenNameIdentifier	 spans
.	TokenNameDOT	
SpanQuery	TokenNameIdentifier	 Span Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
spans	TokenNameIdentifier	 spans
.	TokenNameDOT	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
store	TokenNameIdentifier	 store
.	TokenNameDOT	
Directory	TokenNameIdentifier	 Directory
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
LuceneTestCase	TokenNameIdentifier	 Lucene Test Case
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Element	TokenNameIdentifier	 Element
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
NodeList	TokenNameIdentifier	 Node List
;	TokenNameSEMICOLON	
/** * JUnit Test for Highlighter class. * */	TokenNameCOMMENT_JAVADOC	 JUnit Test for Highlighter class. 
public	TokenNamepublic	
class	TokenNameclass	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
extends	TokenNameextends	
BaseTokenStreamTestCase	TokenNameIdentifier	 Base Token Stream Test Case
implements	TokenNameimplements	
Formatter	TokenNameIdentifier	 Formatter
{	TokenNameLBRACE	
private	TokenNameprivate	
IndexReader	TokenNameIdentifier	 Index Reader
reader	TokenNameIdentifier	 reader
;	TokenNameSEMICOLON	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
=	TokenNameEQUAL	
"contents"	TokenNameStringLiteral	contents
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
NUMERIC_FIELD_NAME	TokenNameIdentifier	 NUMERIC  FIELD  NAME
=	TokenNameEQUAL	
"nfield"	TokenNameStringLiteral	nfield
;	TokenNameSEMICOLON	
private	TokenNameprivate	
Query	TokenNameIdentifier	 Query
query	TokenNameIdentifier	 query
;	TokenNameSEMICOLON	
Directory	TokenNameIdentifier	 Directory
ramDir	TokenNameIdentifier	 ram Dir
;	TokenNameSEMICOLON	
public	TokenNamepublic	
IndexSearcher	TokenNameIdentifier	 Index Searcher
searcher	TokenNameIdentifier	 searcher
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
int	TokenNameint	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
Analyzer	TokenNameIdentifier	 Analyzer
analyzer	TokenNameIdentifier	 analyzer
=	TokenNameEQUAL	
new	TokenNamenew	
StandardAnalyzer	TokenNameIdentifier	 Standard Analyzer
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TopDocs	TokenNameIdentifier	 Top Docs
hits	TokenNameIdentifier	 hits
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
texts	TokenNameIdentifier	 texts
=	TokenNameEQUAL	
{	TokenNameLBRACE	
"Hello this is a piece of text that is very long and contains too much preamble and the meat is really here which says kennedy has been shot"	TokenNameStringLiteral	Hello this is a piece of text that is very long and contains too much preamble and the meat is really here which says kennedy has been shot
,	TokenNameCOMMA	
"This piece of text refers to Kennedy at the beginning then has a longer piece of text that is very long in the middle and finally ends with another reference to Kennedy"	TokenNameStringLiteral	This piece of text refers to Kennedy at the beginning then has a longer piece of text that is very long in the middle and finally ends with another reference to Kennedy
,	TokenNameCOMMA	
"JFK has been shot"	TokenNameStringLiteral	JFK has been shot
,	TokenNameCOMMA	
"John Kennedy has been shot"	TokenNameStringLiteral	John Kennedy has been shot
,	TokenNameCOMMA	
"This text has a typo in referring to Keneddy"	TokenNameStringLiteral	This text has a typo in referring to Keneddy
,	TokenNameCOMMA	
"wordx wordy wordz wordx wordy wordx worda wordb wordy wordc"	TokenNameStringLiteral	wordx wordy wordz wordx wordy wordx worda wordb wordy wordc
,	TokenNameCOMMA	
"y z x y z a b"	TokenNameStringLiteral	y z x y z a b
,	TokenNameCOMMA	
"lets is a the lets is a the lets is a the lets"	TokenNameStringLiteral	lets is a the lets is a the lets is a the lets
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
void	TokenNamevoid	
testQueryScorerHits	TokenNameIdentifier	 test Query Scorer Hits
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
Analyzer	TokenNameIdentifier	 Analyzer
analyzer	TokenNameIdentifier	 analyzer
=	TokenNameEQUAL	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
SIMPLE	TokenNameIdentifier	 SIMPLE
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
QueryParser	TokenNameIdentifier	 Query Parser
qp	TokenNameIdentifier	 qp
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
analyzer	TokenNameIdentifier	 analyzer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
qp	TokenNameIdentifier	 qp
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
""very long""	TokenNameStringLiteral	"very long"
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
searcher	TokenNameIdentifier	 searcher
=	TokenNameEQUAL	
new	TokenNamenew	
IndexSearcher	TokenNameIdentifier	 Index Searcher
(	TokenNameLPAREN	
reader	TokenNameIdentifier	 reader
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TopDocs	TokenNameIdentifier	 Top Docs
hits	TokenNameIdentifier	 hits
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
search	TokenNameIdentifier	 search
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
10	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
QueryScorer	TokenNameIdentifier	 Query Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Document	TokenNameIdentifier	 Document
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
storedField	TokenNameIdentifier	 stored Field
=	TokenNameEQUAL	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
stream	TokenNameIdentifier	 stream
=	TokenNameEQUAL	
TokenSources	TokenNameIdentifier	 Token Sources
.	TokenNameDOT	
getAnyTokenStream	TokenNameIdentifier	 get Any Token Stream
(	TokenNameLPAREN	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
getIndexReader	TokenNameIdentifier	 get Index Reader
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
doc	TokenNameIdentifier	 doc
,	TokenNameCOMMA	
analyzer	TokenNameIdentifier	 analyzer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Fragmenter	TokenNameIdentifier	 Fragmenter
fragmenter	TokenNameIdentifier	 fragmenter
=	TokenNameEQUAL	
new	TokenNamenew	
SimpleSpanFragmenter	TokenNameIdentifier	 Simple Span Fragmenter
(	TokenNameLPAREN	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
fragmenter	TokenNameIdentifier	 fragmenter
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
fragment	TokenNameIdentifier	 fragment
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
stream	TokenNameIdentifier	 stream
,	TokenNameCOMMA	
storedField	TokenNameIdentifier	 stored Field
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
fragment	TokenNameIdentifier	 fragment
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testHighlightingWithDefaultField	TokenNameIdentifier	 test Highlighting With Default Field
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
s1	TokenNameIdentifier	 s1
=	TokenNameEQUAL	
"I call our world Flatland, not because we call it so,"	TokenNameStringLiteral	I call our world Flatland, not because we call it so,
;	TokenNameSEMICOLON	
QueryParser	TokenNameIdentifier	 Query Parser
parser	TokenNameIdentifier	 parser
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StandardAnalyzer	TokenNameIdentifier	 Standard Analyzer
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Verify that a query against the default field results in text being 	TokenNameCOMMENT_LINE	Verify that a query against the default field results in text being 
// highlighted 	TokenNameCOMMENT_LINE	highlighted 
// regardless of the field name. 	TokenNameCOMMENT_LINE	regardless of the field name. 
Query	TokenNameIdentifier	 Query
q	TokenNameIdentifier	 q
=	TokenNameEQUAL	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
""world Flatland"~3"	TokenNameStringLiteral	"world Flatland"~3
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
expected	TokenNameIdentifier	 expected
=	TokenNameEQUAL	
"I call our <B>world</B> <B>Flatland</B>, not because we call it so,"	TokenNameStringLiteral	I call our <B>world</B> <B>Flatland</B>, not because we call it so,
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
observed	TokenNameIdentifier	 observed
=	TokenNameEQUAL	
highlightField	TokenNameIdentifier	 highlight Field
(	TokenNameLPAREN	
q	TokenNameIdentifier	 q
,	TokenNameCOMMA	
"SOME_FIELD_NAME"	TokenNameStringLiteral	SOME_FIELD_NAME
,	TokenNameCOMMA	
s1	TokenNameIdentifier	 s1
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Expected: ""	TokenNameStringLiteral	Expected: "
+	TokenNamePLUS	
expected	TokenNameIdentifier	 expected
+	TokenNamePLUS	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
"Observed: ""	TokenNameStringLiteral	Observed: "
+	TokenNamePLUS	
observed	TokenNameIdentifier	 observed
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"Query in the default field results in text for *ANY* field being highlighted"	TokenNameStringLiteral	Query in the default field results in text for *ANY* field being highlighted
,	TokenNameCOMMA	
expected	TokenNameIdentifier	 expected
,	TokenNameCOMMA	
observed	TokenNameIdentifier	 observed
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Verify that a query against a named field does not result in any 	TokenNameCOMMENT_LINE	Verify that a query against a named field does not result in any 
// highlighting 	TokenNameCOMMENT_LINE	highlighting 
// when the query field name differs from the name of the field being 	TokenNameCOMMENT_LINE	when the query field name differs from the name of the field being 
// highlighted, 	TokenNameCOMMENT_LINE	highlighted, 
// which in this example happens to be the default field name. 	TokenNameCOMMENT_LINE	which in this example happens to be the default field name. 
q	TokenNameIdentifier	 q
=	TokenNameEQUAL	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
"text:"world Flatland"~3"	TokenNameStringLiteral	text:"world Flatland"~3
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
expected	TokenNameIdentifier	 expected
=	TokenNameEQUAL	
s1	TokenNameIdentifier	 s1
;	TokenNameSEMICOLON	
observed	TokenNameIdentifier	 observed
=	TokenNameEQUAL	
highlightField	TokenNameIdentifier	 highlight Field
(	TokenNameLPAREN	
q	TokenNameIdentifier	 q
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
s1	TokenNameIdentifier	 s1
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Expected: ""	TokenNameStringLiteral	Expected: "
+	TokenNamePLUS	
expected	TokenNameIdentifier	 expected
+	TokenNamePLUS	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
"Observed: ""	TokenNameStringLiteral	Observed: "
+	TokenNamePLUS	
observed	TokenNameIdentifier	 observed
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"Query in a named field does not result in highlighting when that field isn't in the query"	TokenNameStringLiteral	Query in a named field does not result in highlighting when that field isn't in the query
,	TokenNameCOMMA	
s1	TokenNameIdentifier	 s1
,	TokenNameCOMMA	
highlightField	TokenNameIdentifier	 highlight Field
(	TokenNameLPAREN	
q	TokenNameIdentifier	 q
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
s1	TokenNameIdentifier	 s1
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * This method intended for use with <tt>testHighlightingWithDefaultField()</tt> * @throws InvalidTokenOffsetsException */	TokenNameCOMMENT_JAVADOC	 This method intended for use with <tt>testHighlightingWithDefaultField()</tt> @throws InvalidTokenOffsetsException 
private	TokenNameprivate	
static	TokenNamestatic	
String	TokenNameIdentifier	 String
highlightField	TokenNameIdentifier	 highlight Field
(	TokenNameLPAREN	
Query	TokenNameIdentifier	 Query
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
fieldName	TokenNameIdentifier	 field Name
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
InvalidTokenOffsetsException	TokenNameIdentifier	 Invalid Token Offsets Exception
{	TokenNameLBRACE	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
new	TokenNamenew	
StandardAnalyzer	TokenNameIdentifier	 Standard Analyzer
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
)	TokenNameRPAREN	
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
fieldName	TokenNameIdentifier	 field Name
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Assuming "<B>", "</B>" used to highlight 	TokenNameCOMMENT_LINE	Assuming "<B>", "</B>" used to highlight 
SimpleHTMLFormatter	TokenNameIdentifier	 Simple HTML Formatter
formatter	TokenNameIdentifier	 formatter
=	TokenNameEQUAL	
new	TokenNamenew	
SimpleHTMLFormatter	TokenNameIdentifier	 Simple HTML Formatter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
QueryScorer	TokenNameIdentifier	 Query Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
fieldName	TokenNameIdentifier	 field Name
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
formatter	TokenNameIdentifier	 formatter
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MAX_VALUE	TokenNameIdentifier	 MAX  VALUE
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
rv	TokenNameIdentifier	 rv
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
"(FIELD TEXT TRUNCATED)"	TokenNameStringLiteral	(FIELD TEXT TRUNCATED)
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
rv	TokenNameIdentifier	 rv
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
?	TokenNameQUESTION	
text	TokenNameIdentifier	 text
:	TokenNameCOLON	
rv	TokenNameIdentifier	 rv
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testSimpleSpanHighlighter	TokenNameIdentifier	 test Simple Span Highlighter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
"Kennedy"	TokenNameStringLiteral	Kennedy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
QueryScorer	TokenNameIdentifier	 Query Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
40	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Not sure we can assert anything here - just running to check we dont 	TokenNameCOMMENT_LINE	Not sure we can assert anything here - just running to check we dont 
// throw any exceptions 	TokenNameCOMMENT_LINE	throw any exceptions 
}	TokenNameRBRACE	
// LUCENE-1752 	TokenNameCOMMENT_LINE	LUCENE-1752 
public	TokenNamepublic	
void	TokenNamevoid	
testRepeatingTermsInMultBooleans	TokenNameIdentifier	 test Repeating Terms In Mult Booleans
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
content	TokenNameIdentifier	 content
=	TokenNameEQUAL	
"x y z a b c d e f g b c g"	TokenNameStringLiteral	x y z a b c d e f g b c g
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
ph1	TokenNameIdentifier	 ph1
=	TokenNameEQUAL	
""a b c d""	TokenNameStringLiteral	"a b c d"
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
ph2	TokenNameIdentifier	 ph2
=	TokenNameEQUAL	
""b c g""	TokenNameStringLiteral	"b c g"
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
f1	TokenNameIdentifier	 f1
=	TokenNameEQUAL	
"f1"	TokenNameStringLiteral	f1
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
f2	TokenNameIdentifier	 f2
=	TokenNameEQUAL	
"f2"	TokenNameStringLiteral	f2
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
f1c	TokenNameIdentifier	 f1c
=	TokenNameEQUAL	
f1	TokenNameIdentifier	 f1
+	TokenNamePLUS	
":"	TokenNameStringLiteral	:
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
f2c	TokenNameIdentifier	 f2c
=	TokenNameEQUAL	
f2	TokenNameIdentifier	 f2
+	TokenNamePLUS	
":"	TokenNameStringLiteral	:
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
q	TokenNameIdentifier	 q
=	TokenNameEQUAL	
"("	TokenNameStringLiteral	(
+	TokenNamePLUS	
f1c	TokenNameIdentifier	 f1c
+	TokenNamePLUS	
ph1	TokenNameIdentifier	 ph1
+	TokenNamePLUS	
" OR "	TokenNameStringLiteral	 OR 
+	TokenNamePLUS	
f2c	TokenNameIdentifier	 f2c
+	TokenNamePLUS	
ph1	TokenNameIdentifier	 ph1
+	TokenNamePLUS	
") AND ("	TokenNameStringLiteral	) AND (
+	TokenNamePLUS	
f1c	TokenNameIdentifier	 f1c
+	TokenNamePLUS	
ph2	TokenNameIdentifier	 ph2
+	TokenNamePLUS	
" OR "	TokenNameStringLiteral	 OR 
+	TokenNamePLUS	
f2c	TokenNameIdentifier	 f2c
+	TokenNamePLUS	
ph2	TokenNameIdentifier	 ph2
+	TokenNamePLUS	
")"	TokenNameStringLiteral	)
;	TokenNameSEMICOLON	
Analyzer	TokenNameIdentifier	 Analyzer
analyzer	TokenNameIdentifier	 analyzer
=	TokenNameEQUAL	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
WHITESPACE	TokenNameIdentifier	 WHITESPACE
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
QueryParser	TokenNameIdentifier	 Query Parser
qp	TokenNameIdentifier	 qp
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
f1	TokenNameIdentifier	 f1
,	TokenNameCOMMA	
analyzer	TokenNameIdentifier	 analyzer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Query	TokenNameIdentifier	 Query
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
qp	TokenNameIdentifier	 qp
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
q	TokenNameIdentifier	 q
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
QueryScorer	TokenNameIdentifier	 Query Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
f1	TokenNameIdentifier	 f1
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
scorer	TokenNameIdentifier	 scorer
.	TokenNameDOT	
setExpandMultiTermQuery	TokenNameIdentifier	 set Expand Multi Term Query
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
h	TokenNameIdentifier	 h
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
h	TokenNameIdentifier	 h
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
f1	TokenNameIdentifier	 f1
,	TokenNameCOMMA	
content	TokenNameIdentifier	 content
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
7	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testSimpleQueryScorerPhraseHighlighting	TokenNameIdentifier	 test Simple Query Scorer Phrase Highlighting
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
""very long and contains""	TokenNameStringLiteral	"very long and contains"
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
QueryScorer	TokenNameIdentifier	 Query Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
40	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
3	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
""This piece of text refers to Kennedy""	TokenNameStringLiteral	"This piece of text refers to Kennedy"
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
40	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
4	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
""lets is a the lets is a the lets is a the lets""	TokenNameStringLiteral	"lets is a the lets is a the lets is a the lets"
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
40	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
4	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testSpanRegexQuery	TokenNameIdentifier	 test Span Regex Query
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
SpanOrQuery	TokenNameIdentifier	 Span Or Query
(	TokenNameLPAREN	
new	TokenNamenew	
SpanRegexQuery	TokenNameIdentifier	 Span Regex Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"ken.*"	TokenNameStringLiteral	ken.*
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
searcher	TokenNameIdentifier	 searcher
=	TokenNameEQUAL	
new	TokenNamenew	
IndexSearcher	TokenNameIdentifier	 Index Searcher
(	TokenNameLPAREN	
reader	TokenNameIdentifier	 reader
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
hits	TokenNameIdentifier	 hits
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
search	TokenNameIdentifier	 search
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
100	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
QueryScorer	TokenNameIdentifier	 Query Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
40	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
5	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testRegexQuery	TokenNameIdentifier	 test Regex Query
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
RegexQuery	TokenNameIdentifier	 Regex Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"ken.*"	TokenNameStringLiteral	ken.*
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
searcher	TokenNameIdentifier	 searcher
=	TokenNameEQUAL	
new	TokenNamenew	
IndexSearcher	TokenNameIdentifier	 Index Searcher
(	TokenNameLPAREN	
reader	TokenNameIdentifier	 reader
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
hits	TokenNameIdentifier	 hits
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
search	TokenNameIdentifier	 search
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
100	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
QueryScorer	TokenNameIdentifier	 Query Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
40	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
5	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testNumericRangeQuery	TokenNameIdentifier	 test Numeric Range Query
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
// doesn't currently highlight, but make sure it doesn't cause exception either 	TokenNameCOMMENT_LINE	doesn't currently highlight, but make sure it doesn't cause exception either 
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
NumericRangeQuery	TokenNameIdentifier	 Numeric Range Query
.	TokenNameDOT	
newIntRange	TokenNameIdentifier	 new Int Range
(	TokenNameLPAREN	
NUMERIC_FIELD_NAME	TokenNameIdentifier	 NUMERIC  FIELD  NAME
,	TokenNameCOMMA	
2	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
6	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
true	TokenNametrue	
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
searcher	TokenNameIdentifier	 searcher
=	TokenNameEQUAL	
new	TokenNamenew	
IndexSearcher	TokenNameIdentifier	 Index Searcher
(	TokenNameLPAREN	
reader	TokenNameIdentifier	 reader
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
hits	TokenNameIdentifier	 hits
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
search	TokenNameIdentifier	 search
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
100	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
QueryScorer	TokenNameIdentifier	 Query Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
NUMERIC_FIELD_NAME	TokenNameIdentifier	 NUMERIC  FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
40	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// String result = 	TokenNameCOMMENT_LINE	String result = 
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//if (VERBOSE) System.out.println("\t" + result); 	TokenNameCOMMENT_LINE	if (VERBOSE) System.out.println("\t" + result); 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testSimpleQueryScorerPhraseHighlighting2	TokenNameIdentifier	 test Simple Query Scorer Phrase Highlighting2
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
""text piece long"~5"	TokenNameStringLiteral	"text piece long"~5
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
QueryScorer	TokenNameIdentifier	 Query Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
40	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
6	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testSimpleQueryScorerPhraseHighlighting3	TokenNameIdentifier	 test Simple Query Scorer Phrase Highlighting3
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
""x y z""	TokenNameStringLiteral	"x y z"
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
QueryScorer	TokenNameIdentifier	 Query Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
40	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
3	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testSimpleSpanFragmenter	TokenNameIdentifier	 test Simple Span Fragmenter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
""piece of text that is very long""	TokenNameStringLiteral	"piece of text that is very long"
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
QueryScorer	TokenNameIdentifier	 Query Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleSpanFragmenter	TokenNameIdentifier	 Simple Span Fragmenter
(	TokenNameLPAREN	
scorer	TokenNameIdentifier	 scorer
,	TokenNameCOMMA	
5	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
""been shot""	TokenNameStringLiteral	"been shot"
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleSpanFragmenter	TokenNameIdentifier	 Simple Span Fragmenter
(	TokenNameLPAREN	
scorer	TokenNameIdentifier	 scorer
,	TokenNameCOMMA	
20	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// position sensitive query added after position insensitive query 	TokenNameCOMMENT_LINE	position sensitive query added after position insensitive query 
public	TokenNamepublic	
void	TokenNamevoid	
testPosTermStdTerm	TokenNameIdentifier	 test Pos Term Std Term
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
"y "x y z""	TokenNameStringLiteral	y "x y z"
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
QueryScorer	TokenNameIdentifier	 Query Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
40	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
4	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testQueryScorerMultiPhraseQueryHighlighting	TokenNameIdentifier	 test Query Scorer Multi Phrase Query Highlighting
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
MultiPhraseQuery	TokenNameIdentifier	 Multi Phrase Query
mpq	TokenNameIdentifier	 mpq
=	TokenNameEQUAL	
new	TokenNamenew	
MultiPhraseQuery	TokenNameIdentifier	 Multi Phrase Query
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
mpq	TokenNameIdentifier	 mpq
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"wordx"	TokenNameStringLiteral	wordx
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"wordb"	TokenNameStringLiteral	wordb
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
mpq	TokenNameIdentifier	 mpq
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"wordy"	TokenNameStringLiteral	wordy
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
mpq	TokenNameIdentifier	 mpq
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
assertExpectedHighlightCount	TokenNameIdentifier	 assert Expected Highlight Count
(	TokenNameLPAREN	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
6	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testQueryScorerMultiPhraseQueryHighlightingWithGap	TokenNameIdentifier	 test Query Scorer Multi Phrase Query Highlighting With Gap
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
MultiPhraseQuery	TokenNameIdentifier	 Multi Phrase Query
mpq	TokenNameIdentifier	 mpq
=	TokenNameEQUAL	
new	TokenNamenew	
MultiPhraseQuery	TokenNameIdentifier	 Multi Phrase Query
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/* * The toString of MultiPhraseQuery doesn't work so well with these * out-of-order additions, but the Query itself seems to match accurately. */	TokenNameCOMMENT_BLOCK	 The toString of MultiPhraseQuery doesn't work so well with these out-of-order additions, but the Query itself seems to match accurately. 
mpq	TokenNameIdentifier	 mpq
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"wordz"	TokenNameStringLiteral	wordz
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
mpq	TokenNameIdentifier	 mpq
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"wordx"	TokenNameStringLiteral	wordx
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
mpq	TokenNameIdentifier	 mpq
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
expectedHighlights	TokenNameIdentifier	 expected Highlights
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
assertExpectedHighlightCount	TokenNameIdentifier	 assert Expected Highlight Count
(	TokenNameLPAREN	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
expectedHighlights	TokenNameIdentifier	 expected Highlights
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testNearSpanSimpleQuery	TokenNameIdentifier	 test Near Span Simple Query
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
new	TokenNamenew	
SpanNearQuery	TokenNameIdentifier	 Span Near Query
(	TokenNameLPAREN	
new	TokenNamenew	
SpanQuery	TokenNameIdentifier	 Span Query
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
new	TokenNamenew	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"beginning"	TokenNameStringLiteral	beginning
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"kennedy"	TokenNameStringLiteral	kennedy
)	TokenNameRPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
mode	TokenNameIdentifier	 mode
=	TokenNameEQUAL	
QUERY	TokenNameIdentifier	 QUERY
;	TokenNameSEMICOLON	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testSimpleQueryTermScorerHighlighter	TokenNameIdentifier	 test Simple Query Term Scorer Highlighter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
"Kennedy"	TokenNameStringLiteral	Kennedy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
new	TokenNamenew	
QueryTermScorer	TokenNameIdentifier	 Query Term Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
40	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Not sure we can assert anything here - just running to check we dont 	TokenNameCOMMENT_LINE	Not sure we can assert anything here - just running to check we dont 
// throw any exceptions 	TokenNameCOMMENT_LINE	throw any exceptions 
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testSpanHighlighting	TokenNameIdentifier	 test Span Highlighting
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
Query	TokenNameIdentifier	 Query
query1	TokenNameIdentifier	 query1
=	TokenNameEQUAL	
new	TokenNamenew	
SpanNearQuery	TokenNameIdentifier	 Span Near Query
(	TokenNameLPAREN	
new	TokenNamenew	
SpanQuery	TokenNameIdentifier	 Span Query
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
new	TokenNamenew	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"wordx"	TokenNameStringLiteral	wordx
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"wordy"	TokenNameStringLiteral	wordy
)	TokenNameRPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Query	TokenNameIdentifier	 Query
query2	TokenNameIdentifier	 query2
=	TokenNameEQUAL	
new	TokenNamenew	
SpanNearQuery	TokenNameIdentifier	 Span Near Query
(	TokenNameLPAREN	
new	TokenNamenew	
SpanQuery	TokenNameIdentifier	 Span Query
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
new	TokenNamenew	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"wordy"	TokenNameStringLiteral	wordy
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"wordc"	TokenNameStringLiteral	wordc
)	TokenNameRPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BooleanQuery	TokenNameIdentifier	 Boolean Query
bquery	TokenNameIdentifier	 bquery
=	TokenNameEQUAL	
new	TokenNamenew	
BooleanQuery	TokenNameIdentifier	 Boolean Query
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
bquery	TokenNameIdentifier	 bquery
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
query1	TokenNameIdentifier	 query1
,	TokenNameCOMMA	
Occur	TokenNameIdentifier	 Occur
.	TokenNameDOT	
SHOULD	TokenNameIdentifier	 SHOULD
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
bquery	TokenNameIdentifier	 bquery
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
query2	TokenNameIdentifier	 query2
,	TokenNameCOMMA	
Occur	TokenNameIdentifier	 Occur
.	TokenNameDOT	
SHOULD	TokenNameIdentifier	 SHOULD
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
bquery	TokenNameIdentifier	 bquery
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
mode	TokenNameIdentifier	 mode
=	TokenNameEQUAL	
QUERY	TokenNameIdentifier	 QUERY
;	TokenNameSEMICOLON	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
7	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testNotSpanSimpleQuery	TokenNameIdentifier	 test Not Span Simple Query
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
new	TokenNamenew	
SpanNotQuery	TokenNameIdentifier	 Span Not Query
(	TokenNameLPAREN	
new	TokenNamenew	
SpanNearQuery	TokenNameIdentifier	 Span Near Query
(	TokenNameLPAREN	
new	TokenNamenew	
SpanQuery	TokenNameIdentifier	 Span Query
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
new	TokenNamenew	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"shot"	TokenNameStringLiteral	shot
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"kennedy"	TokenNameStringLiteral	kennedy
)	TokenNameRPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"john"	TokenNameStringLiteral	john
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
mode	TokenNameIdentifier	 mode
=	TokenNameEQUAL	
QUERY	TokenNameIdentifier	 QUERY
;	TokenNameSEMICOLON	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
4	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testGetBestFragmentsSimpleQuery	TokenNameIdentifier	 test Get Best Fragments Simple Query
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
"Kennedy"	TokenNameStringLiteral	Kennedy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
4	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testGetFuzzyFragments	TokenNameIdentifier	 test Get Fuzzy Fragments
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
"Kinnedy~"	TokenNameStringLiteral	Kinnedy~
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
5	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testGetWildCardFragments	TokenNameIdentifier	 test Get Wild Card Fragments
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
"K?nnedy"	TokenNameStringLiteral	K?nnedy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
4	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testGetMidWildCardFragments	TokenNameIdentifier	 test Get Mid Wild Card Fragments
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
"K*dy"	TokenNameStringLiteral	K*dy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
5	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testGetRangeFragments	TokenNameIdentifier	 test Get Range Fragments
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
queryString	TokenNameIdentifier	 query String
=	TokenNameEQUAL	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
+	TokenNamePLUS	
":[kannedy TO kznnedy]"	TokenNameStringLiteral	:[kannedy TO kznnedy]
;	TokenNameSEMICOLON	
// Need to explicitly set the QueryParser property to use TermRangeQuery 	TokenNameCOMMENT_LINE	Need to explicitly set the QueryParser property to use TermRangeQuery 
// rather 	TokenNameCOMMENT_LINE	rather 
// than RangeFilters 	TokenNameCOMMENT_LINE	than RangeFilters 
QueryParser	TokenNameIdentifier	 Query Parser
parser	TokenNameIdentifier	 parser
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
analyzer	TokenNameIdentifier	 analyzer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
setMultiTermRewriteMethod	TokenNameIdentifier	 set Multi Term Rewrite Method
(	TokenNameLPAREN	
MultiTermQuery	TokenNameIdentifier	 Multi Term Query
.	TokenNameDOT	
SCORING_BOOLEAN_QUERY_REWRITE	TokenNameIdentifier	 SCORING  BOOLEAN  QUERY  REWRITE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
queryString	TokenNameIdentifier	 query String
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
5	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testConstantScoreMultiTermQuery	TokenNameIdentifier	 test Constant Score Multi Term Query
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
WildcardQuery	TokenNameIdentifier	 Wildcard Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"ken*"	TokenNameStringLiteral	ken*
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
WildcardQuery	TokenNameIdentifier	 Wildcard Query
)	TokenNameRPAREN	
query	TokenNameIdentifier	 query
)	TokenNameRPAREN	
.	TokenNameDOT	
setRewriteMethod	TokenNameIdentifier	 set Rewrite Method
(	TokenNameLPAREN	
MultiTermQuery	TokenNameIdentifier	 Multi Term Query
.	TokenNameDOT	
CONSTANT_SCORE_FILTER_REWRITE	TokenNameIdentifier	 CONSTANT  SCORE  FILTER  REWRITE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
searcher	TokenNameIdentifier	 searcher
=	TokenNameEQUAL	
new	TokenNamenew	
IndexSearcher	TokenNameIdentifier	 Index Searcher
(	TokenNameLPAREN	
reader	TokenNameIdentifier	 reader
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// can't rewrite ConstantScore if you want to highlight it - 	TokenNameCOMMENT_LINE	can't rewrite ConstantScore if you want to highlight it - 
// it rewrites to ConstantScoreQuery which cannot be highlighted 	TokenNameCOMMENT_LINE	it rewrites to ConstantScoreQuery which cannot be highlighted 
// query = unReWrittenQuery.rewrite(reader); 	TokenNameCOMMENT_LINE	query = unReWrittenQuery.rewrite(reader); 
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Searching for: "	TokenNameStringLiteral	Searching for: 
+	TokenNamePLUS	
query	TokenNameIdentifier	 query
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
hits	TokenNameIdentifier	 hits
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
search	TokenNameIdentifier	 search
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
1000	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
fragmentSeparator	TokenNameIdentifier	 fragment Separator
=	TokenNameEQUAL	
"..."	TokenNameStringLiteral	...
;	TokenNameSEMICOLON	
QueryScorer	TokenNameIdentifier	 Query Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
20	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
fragmentSeparator	TokenNameIdentifier	 fragment Separator
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
5	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// try null field 	TokenNameCOMMENT_LINE	try null field 
hits	TokenNameIdentifier	 hits
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
search	TokenNameIdentifier	 search
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
1000	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
fragmentSeparator	TokenNameIdentifier	 fragment Separator
=	TokenNameEQUAL	
"..."	TokenNameStringLiteral	...
;	TokenNameSEMICOLON	
QueryScorer	TokenNameIdentifier	 Query Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
20	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
fragmentSeparator	TokenNameIdentifier	 fragment Separator
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
5	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// try default field 	TokenNameCOMMENT_LINE	try default field 
hits	TokenNameIdentifier	 hits
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
search	TokenNameIdentifier	 search
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
1000	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
fragmentSeparator	TokenNameIdentifier	 fragment Separator
=	TokenNameEQUAL	
"..."	TokenNameStringLiteral	...
;	TokenNameSEMICOLON	
QueryScorer	TokenNameIdentifier	 Query Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"random_field"	TokenNameStringLiteral	random_field
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
20	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
fragmentSeparator	TokenNameIdentifier	 fragment Separator
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
5	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testGetBestFragmentsPhrase	TokenNameIdentifier	 test Get Best Fragments Phrase
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
""John Kennedy""	TokenNameStringLiteral	"John Kennedy"
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Currently highlights "John" and "Kennedy" separately 	TokenNameCOMMENT_LINE	Currently highlights "John" and "Kennedy" separately 
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testGetBestFragmentsQueryScorer	TokenNameIdentifier	 test Get Best Fragments Query Scorer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
SpanQuery	TokenNameIdentifier	 Span Query
clauses	TokenNameIdentifier	 clauses
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
{	TokenNameLBRACE	
new	TokenNamenew	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
"contents"	TokenNameStringLiteral	contents
,	TokenNameCOMMA	
"john"	TokenNameStringLiteral	john
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
"contents"	TokenNameStringLiteral	contents
,	TokenNameCOMMA	
"kennedy"	TokenNameStringLiteral	kennedy
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
SpanNearQuery	TokenNameIdentifier	 Span Near Query
snq	TokenNameIdentifier	 snq
=	TokenNameEQUAL	
new	TokenNamenew	
SpanNearQuery	TokenNameIdentifier	 Span Near Query
(	TokenNameLPAREN	
clauses	TokenNameIdentifier	 clauses
,	TokenNameCOMMA	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
snq	TokenNameIdentifier	 snq
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Currently highlights "John" and "Kennedy" separately 	TokenNameCOMMENT_LINE	Currently highlights "John" and "Kennedy" separately 
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testOffByOne	TokenNameIdentifier	 test Off By One
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TermQuery	TokenNameIdentifier	 Term Query
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
TermQuery	TokenNameIdentifier	 Term Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
"data"	TokenNameStringLiteral	data
,	TokenNameCOMMA	
"help"	TokenNameStringLiteral	help
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
hg	TokenNameIdentifier	 hg
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleHTMLFormatter	TokenNameIdentifier	 Simple HTML Formatter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
QueryTermScorer	TokenNameIdentifier	 Query Term Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
hg	TokenNameIdentifier	 hg
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
NullFragmenter	TokenNameIdentifier	 Null Fragmenter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
match	TokenNameIdentifier	 match
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
match	TokenNameIdentifier	 match
=	TokenNameEQUAL	
hg	TokenNameIdentifier	 hg
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
"data"	TokenNameStringLiteral	data
,	TokenNameCOMMA	
"help me [54-65]"	TokenNameStringLiteral	help me [54-65]
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"<B>help</B> me [54-65]"	TokenNameStringLiteral	<B>help</B> me [54-65]
,	TokenNameCOMMA	
match	TokenNameIdentifier	 match
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testGetBestFragmentsFilteredQuery	TokenNameIdentifier	 test Get Best Fragments Filtered Query
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
TermRangeFilter	TokenNameIdentifier	 Term Range Filter
rf	TokenNameIdentifier	 rf
=	TokenNameEQUAL	
new	TokenNamenew	
TermRangeFilter	TokenNameIdentifier	 Term Range Filter
(	TokenNameLPAREN	
"contents"	TokenNameStringLiteral	contents
,	TokenNameCOMMA	
"john"	TokenNameStringLiteral	john
,	TokenNameCOMMA	
"john"	TokenNameStringLiteral	john
,	TokenNameCOMMA	
true	TokenNametrue	
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
SpanQuery	TokenNameIdentifier	 Span Query
clauses	TokenNameIdentifier	 clauses
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
{	TokenNameLBRACE	
new	TokenNamenew	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
"contents"	TokenNameStringLiteral	contents
,	TokenNameCOMMA	
"john"	TokenNameStringLiteral	john
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
"contents"	TokenNameStringLiteral	contents
,	TokenNameCOMMA	
"kennedy"	TokenNameStringLiteral	kennedy
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
SpanNearQuery	TokenNameIdentifier	 Span Near Query
snq	TokenNameIdentifier	 snq
=	TokenNameEQUAL	
new	TokenNamenew	
SpanNearQuery	TokenNameIdentifier	 Span Near Query
(	TokenNameLPAREN	
clauses	TokenNameIdentifier	 clauses
,	TokenNameCOMMA	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
FilteredQuery	TokenNameIdentifier	 Filtered Query
fq	TokenNameIdentifier	 fq
=	TokenNameEQUAL	
new	TokenNamenew	
FilteredQuery	TokenNameIdentifier	 Filtered Query
(	TokenNameLPAREN	
snq	TokenNameIdentifier	 snq
,	TokenNameCOMMA	
rf	TokenNameIdentifier	 rf
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
fq	TokenNameIdentifier	 fq
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Currently highlights "John" and "Kennedy" separately 	TokenNameCOMMENT_LINE	Currently highlights "John" and "Kennedy" separately 
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testGetBestFragmentsFilteredPhraseQuery	TokenNameIdentifier	 test Get Best Fragments Filtered Phrase Query
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
TermRangeFilter	TokenNameIdentifier	 Term Range Filter
rf	TokenNameIdentifier	 rf
=	TokenNameEQUAL	
new	TokenNamenew	
TermRangeFilter	TokenNameIdentifier	 Term Range Filter
(	TokenNameLPAREN	
"contents"	TokenNameStringLiteral	contents
,	TokenNameCOMMA	
"john"	TokenNameStringLiteral	john
,	TokenNameCOMMA	
"john"	TokenNameStringLiteral	john
,	TokenNameCOMMA	
true	TokenNametrue	
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
PhraseQuery	TokenNameIdentifier	 Phrase Query
pq	TokenNameIdentifier	 pq
=	TokenNameEQUAL	
new	TokenNamenew	
PhraseQuery	TokenNameIdentifier	 Phrase Query
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
pq	TokenNameIdentifier	 pq
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
"contents"	TokenNameStringLiteral	contents
,	TokenNameCOMMA	
"john"	TokenNameStringLiteral	john
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
pq	TokenNameIdentifier	 pq
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
"contents"	TokenNameStringLiteral	contents
,	TokenNameCOMMA	
"kennedy"	TokenNameStringLiteral	kennedy
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
FilteredQuery	TokenNameIdentifier	 Filtered Query
fq	TokenNameIdentifier	 fq
=	TokenNameEQUAL	
new	TokenNamenew	
FilteredQuery	TokenNameIdentifier	 Filtered Query
(	TokenNameLPAREN	
pq	TokenNameIdentifier	 pq
,	TokenNameCOMMA	
rf	TokenNameIdentifier	 rf
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
fq	TokenNameIdentifier	 fq
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Currently highlights "John" and "Kennedy" separately 	TokenNameCOMMENT_LINE	Currently highlights "John" and "Kennedy" separately 
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testGetBestFragmentsMultiTerm	TokenNameIdentifier	 test Get Best Fragments Multi Term
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
"John Kenn*"	TokenNameStringLiteral	John Kenn*
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
5	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testGetBestFragmentsWithOr	TokenNameIdentifier	 test Get Best Fragments With Or
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
"JFK OR Kennedy"	TokenNameStringLiteral	JFK OR Kennedy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
5	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testGetBestSingleFragment	TokenNameIdentifier	 test Get Best Single Fragment
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
"Kennedy"	TokenNameStringLiteral	Kennedy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
40	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
4	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
4	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
10	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
4	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testGetBestSingleFragmentWithWeights	TokenNameIdentifier	 test Get Best Single Fragment With Weights
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
WeightedSpanTerm	TokenNameIdentifier	 Weighted Span Term
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
wTerms	TokenNameIdentifier	 w Terms
=	TokenNameEQUAL	
new	TokenNamenew	
WeightedSpanTerm	TokenNameIdentifier	 Weighted Span Term
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
wTerms	TokenNameIdentifier	 w Terms
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
WeightedSpanTerm	TokenNameIdentifier	 Weighted Span Term
(	TokenNameLPAREN	
10f	TokenNameFloatingPointLiteral	
,	TokenNameCOMMA	
"hello"	TokenNameStringLiteral	hello
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
PositionSpan	TokenNameIdentifier	 Position Span
>	TokenNameGREATER	
positionSpans	TokenNameIdentifier	 position Spans
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
PositionSpan	TokenNameIdentifier	 Position Span
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
positionSpans	TokenNameIdentifier	 position Spans
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
PositionSpan	TokenNameIdentifier	 Position Span
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
wTerms	TokenNameIdentifier	 w Terms
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
addPositionSpans	TokenNameIdentifier	 add Position Spans
(	TokenNameLPAREN	
positionSpans	TokenNameIdentifier	 position Spans
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
wTerms	TokenNameIdentifier	 w Terms
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
WeightedSpanTerm	TokenNameIdentifier	 Weighted Span Term
(	TokenNameLPAREN	
1f	TokenNameFloatingPointLiteral	
,	TokenNameCOMMA	
"kennedy"	TokenNameStringLiteral	kennedy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
positionSpans	TokenNameIdentifier	 position Spans
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
PositionSpan	TokenNameIdentifier	 Position Span
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
positionSpans	TokenNameIdentifier	 position Spans
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
PositionSpan	TokenNameIdentifier	 Position Span
(	TokenNameLPAREN	
14	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
14	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
wTerms	TokenNameIdentifier	 w Terms
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
addPositionSpans	TokenNameIdentifier	 add Position Spans
(	TokenNameLPAREN	
positionSpans	TokenNameIdentifier	 position Spans
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
wTerms	TokenNameIdentifier	 w Terms
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// new 	TokenNameCOMMENT_LINE	new 
// Highlighter(new 	TokenNameCOMMENT_LINE	Highlighter(new 
// QueryTermScorer(wTerms)); 	TokenNameCOMMENT_LINE	QueryTermScorer(wTerms)); 
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
texts	TokenNameIdentifier	 texts
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
texts	TokenNameIdentifier	 texts
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
.	TokenNameDOT	
trim	TokenNameIdentifier	 trim
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find best section using weighted terms. Found: ["	TokenNameStringLiteral	Failed to find best section using weighted terms. Found: [
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
+	TokenNamePLUS	
"]"	TokenNameStringLiteral	]
,	TokenNameCOMMA	
"<B>Hello</B>"	TokenNameStringLiteral	<B>Hello</B>
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// readjust weights 	TokenNameCOMMENT_LINE	readjust weights 
wTerms	TokenNameIdentifier	 w Terms
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
setWeight	TokenNameIdentifier	 set Weight
(	TokenNameLPAREN	
50f	TokenNameFloatingPointLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
texts	TokenNameIdentifier	 texts
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
wTerms	TokenNameIdentifier	 w Terms
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
texts	TokenNameIdentifier	 texts
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
.	TokenNameDOT	
trim	TokenNameIdentifier	 trim
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find best section using weighted terms. Found: "	TokenNameStringLiteral	Failed to find best section using weighted terms. Found: 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
,	TokenNameCOMMA	
"<B>kennedy</B>"	TokenNameStringLiteral	<B>kennedy</B>
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// tests a "complex" analyzer that produces multiple 	TokenNameCOMMENT_LINE	tests a "complex" analyzer that produces multiple 
// overlapping tokens 	TokenNameCOMMENT_LINE	overlapping tokens 
public	TokenNamepublic	
void	TokenNamevoid	
testOverlapAnalyzer	TokenNameIdentifier	 test Overlap Analyzer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
HashMap	TokenNameIdentifier	 Hash Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
>	TokenNameGREATER	
synonyms	TokenNameIdentifier	 synonyms
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
synonyms	TokenNameIdentifier	 synonyms
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"football"	TokenNameStringLiteral	football
,	TokenNameCOMMA	
"soccer,footie"	TokenNameStringLiteral	soccer,footie
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Analyzer	TokenNameIdentifier	 Analyzer
analyzer	TokenNameIdentifier	 analyzer
=	TokenNameEQUAL	
new	TokenNamenew	
SynonymAnalyzer	TokenNameIdentifier	 Synonym Analyzer
(	TokenNameLPAREN	
synonyms	TokenNameIdentifier	 synonyms
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
srchkey	TokenNameIdentifier	 srchkey
=	TokenNameEQUAL	
"football"	TokenNameStringLiteral	football
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
"football-soccer in the euro 2004 footie competition"	TokenNameStringLiteral	football-soccer in the euro 2004 footie competition
;	TokenNameSEMICOLON	
QueryParser	TokenNameIdentifier	 Query Parser
parser	TokenNameIdentifier	 parser
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
"bookid"	TokenNameStringLiteral	bookid
,	TokenNameCOMMA	
analyzer	TokenNameIdentifier	 analyzer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Query	TokenNameIdentifier	 Query
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
srchkey	TokenNameIdentifier	 srchkey
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
null	TokenNamenull	
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
s	TokenNameIdentifier	 s
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Get 3 best fragments and seperate with a "..." 	TokenNameCOMMENT_LINE	Get 3 best fragments and seperate with a "..." 
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
null	TokenNamenull	
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
s	TokenNameIdentifier	 s
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
expectedResult	TokenNameIdentifier	 expected Result
=	TokenNameEQUAL	
"<B>football</B>-<B>soccer</B> in the euro 2004 <B>footie</B> competition"	TokenNameStringLiteral	<B>football</B>-<B>soccer</B> in the euro 2004 <B>footie</B> competition
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"overlapping analyzer should handle highlights OK, expected:"	TokenNameStringLiteral	overlapping analyzer should handle highlights OK, expected:
+	TokenNamePLUS	
expectedResult	TokenNameIdentifier	 expected Result
+	TokenNamePLUS	
" actual:"	TokenNameStringLiteral	 actual:
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
,	TokenNameCOMMA	
expectedResult	TokenNameIdentifier	 expected Result
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testGetSimpleHighlight	TokenNameIdentifier	 test Get Simple Highlight
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
"Kennedy"	TokenNameStringLiteral	Kennedy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// new Highlighter(HighlighterTest.this, new QueryTermScorer(query)); 	TokenNameCOMMENT_LINE	new Highlighter(HighlighterTest.this, new QueryTermScorer(query)); 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
4	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testGetTextFragments	TokenNameIdentifier	 test Get Text Fragments
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
"Kennedy"	TokenNameStringLiteral	Kennedy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// new Highlighter(this, new 	TokenNameCOMMENT_LINE	new Highlighter(this, new 
// QueryTermScorer(query)); 	TokenNameCOMMENT_LINE	QueryTermScorer(query)); 
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
20	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
stringResults	TokenNameIdentifier	 string Results
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
10	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TextFragment	TokenNameIdentifier	 Text Fragment
fragmentResults	TokenNameIdentifier	 fragment Results
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestTextFragments	TokenNameIdentifier	 get Best Text Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
true	TokenNametrue	
,	TokenNameCOMMA	
10	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of text Fragments: "	TokenNameStringLiteral	Failed to find correct number of text Fragments: 
+	TokenNamePLUS	
fragmentResults	TokenNameIdentifier	 fragment Results
.	TokenNameDOT	
length	TokenNameIdentifier	 length
+	TokenNamePLUS	
" vs "	TokenNameStringLiteral	 vs 
+	TokenNamePLUS	
stringResults	TokenNameIdentifier	 string Results
.	TokenNameDOT	
length	TokenNameIdentifier	 length
,	TokenNameCOMMA	
fragmentResults	TokenNameIdentifier	 fragment Results
.	TokenNameDOT	
length	TokenNameIdentifier	 length
==	TokenNameEQUAL_EQUAL	
stringResults	TokenNameIdentifier	 string Results
.	TokenNameDOT	
length	TokenNameIdentifier	 length
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
stringResults	TokenNameIdentifier	 string Results
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
fragmentResults	TokenNameIdentifier	 fragment Results
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find same text Fragments: "	TokenNameStringLiteral	Failed to find same text Fragments: 
+	TokenNamePLUS	
fragmentResults	TokenNameIdentifier	 fragment Results
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
fragmentResults	TokenNameIdentifier	 fragment Results
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
stringResults	TokenNameIdentifier	 string Results
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testMaxSizeHighlight	TokenNameIdentifier	 test Max Size Highlight
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
final	TokenNamefinal	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
analyzer	TokenNameIdentifier	 analyzer
=	TokenNameEQUAL	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
SIMPLE	TokenNameIdentifier	 SIMPLE
,	TokenNameCOMMA	
true	TokenNametrue	
,	TokenNameCOMMA	
(	TokenNameLPAREN	
CharArraySet	TokenNameIdentifier	 Char Array Set
)	TokenNameRPAREN	
StopAnalyzer	TokenNameIdentifier	 Stop Analyzer
.	TokenNameDOT	
ENGLISH_STOP_WORDS_SET	TokenNameIdentifier	 ENGLISH  STOP  WORDS  SET
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// we disable MockTokenizer checks because we will forcefully limit the 	TokenNameCOMMENT_LINE	we disable MockTokenizer checks because we will forcefully limit the 
// tokenstream and call end() before incrementToken() returns false. 	TokenNameCOMMENT_LINE	tokenstream and call end() before incrementToken() returns false. 
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
setEnableChecks	TokenNameIdentifier	 set Enable Checks
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
"meat"	TokenNameStringLiteral	meat
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
texts	TokenNameIdentifier	 texts
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// new Highlighter(this, new 	TokenNameCOMMENT_LINE	new Highlighter(this, new 
// QueryTermScorer(query)); 	TokenNameCOMMENT_LINE	QueryTermScorer(query)); 
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setMaxDocCharsToAnalyze	TokenNameIdentifier	 set Max Doc Chars To Analyze
(	TokenNameLPAREN	
30	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
texts	TokenNameIdentifier	 texts
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Setting MaxDocBytesToAnalyze should have prevented "	TokenNameStringLiteral	Setting MaxDocBytesToAnalyze should have prevented 
+	TokenNamePLUS	
"us from finding matches for this record: "	TokenNameStringLiteral	us from finding matches for this record: 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testMaxSizeHighlightTruncates	TokenNameIdentifier	 test Max Size Highlight Truncates
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
goodWord	TokenNameIdentifier	 good Word
=	TokenNameEQUAL	
"goodtoken"	TokenNameStringLiteral	goodtoken
;	TokenNameSEMICOLON	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
String	TokenNameIdentifier	 String
>	TokenNameGREATER	
stopWords	TokenNameIdentifier	 stop Words
=	TokenNameEQUAL	
new	TokenNamenew	
HashSet	TokenNameIdentifier	 Hash Set
<	TokenNameLESS	
String	TokenNameIdentifier	 String
>	TokenNameGREATER	
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
stopWords	TokenNameIdentifier	 stop Words
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
"stoppedtoken"	TokenNameStringLiteral	stoppedtoken
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TermQuery	TokenNameIdentifier	 Term Query
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
TermQuery	TokenNameIdentifier	 Term Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
"data"	TokenNameStringLiteral	data
,	TokenNameCOMMA	
goodWord	TokenNameIdentifier	 good Word
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
match	TokenNameIdentifier	 match
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
StringBuilder	TokenNameIdentifier	 String Builder
sb	TokenNameIdentifier	 sb
=	TokenNameEQUAL	
new	TokenNamenew	
StringBuilder	TokenNameIdentifier	 String Builder
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
sb	TokenNameIdentifier	 sb
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
goodWord	TokenNameIdentifier	 good Word
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
10000	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
sb	TokenNameIdentifier	 sb
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// only one stopword 	TokenNameCOMMENT_LINE	only one stopword 
sb	TokenNameIdentifier	 sb
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
stopWords	TokenNameIdentifier	 stop Words
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
SimpleHTMLFormatter	TokenNameIdentifier	 Simple HTML Formatter
fm	TokenNameIdentifier	 fm
=	TokenNameEQUAL	
new	TokenNamenew	
SimpleHTMLFormatter	TokenNameIdentifier	 Simple HTML Formatter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
hg	TokenNameIdentifier	 hg
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"data"	TokenNameStringLiteral	data
,	TokenNameCOMMA	
new	TokenNamenew	
StandardAnalyzer	TokenNameIdentifier	 Standard Analyzer
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
stopWords	TokenNameIdentifier	 stop Words
)	TokenNameRPAREN	
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
"data"	TokenNameStringLiteral	data
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
sb	TokenNameIdentifier	 sb
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fm	TokenNameIdentifier	 fm
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// new Highlighter(fm, 	TokenNameCOMMENT_LINE	new Highlighter(fm, 
// new 	TokenNameCOMMENT_LINE	new 
// QueryTermScorer(query)); 	TokenNameCOMMENT_LINE	QueryTermScorer(query)); 
hg	TokenNameIdentifier	 hg
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
NullFragmenter	TokenNameIdentifier	 Null Fragmenter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
hg	TokenNameIdentifier	 hg
.	TokenNameDOT	
setMaxDocCharsToAnalyze	TokenNameIdentifier	 set Max Doc Chars To Analyze
(	TokenNameLPAREN	
100	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
match	TokenNameIdentifier	 match
=	TokenNameEQUAL	
hg	TokenNameIdentifier	 hg
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
new	TokenNamenew	
StandardAnalyzer	TokenNameIdentifier	 Standard Analyzer
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
stopWords	TokenNameIdentifier	 stop Words
)	TokenNameRPAREN	
,	TokenNameCOMMA	
"data"	TokenNameStringLiteral	data
,	TokenNameCOMMA	
sb	TokenNameIdentifier	 sb
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Matched text should be no more than 100 chars in length "	TokenNameStringLiteral	Matched text should be no more than 100 chars in length 
,	TokenNameCOMMA	
match	TokenNameIdentifier	 match
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
<	TokenNameLESS	
hg	TokenNameIdentifier	 hg
.	TokenNameDOT	
getMaxDocCharsToAnalyze	TokenNameIdentifier	 get Max Doc Chars To Analyze
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// add another tokenized word to the overrall length - but set way 	TokenNameCOMMENT_LINE	add another tokenized word to the overrall length - but set way 
// beyond 	TokenNameCOMMENT_LINE	beyond 
// the length of text under consideration (after a large slug of stop 	TokenNameCOMMENT_LINE	the length of text under consideration (after a large slug of stop 
// words 	TokenNameCOMMENT_LINE	words 
// + whitespace) 	TokenNameCOMMENT_LINE	+ whitespace) 
sb	TokenNameIdentifier	 sb
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
sb	TokenNameIdentifier	 sb
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
goodWord	TokenNameIdentifier	 good Word
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
match	TokenNameIdentifier	 match
=	TokenNameEQUAL	
hg	TokenNameIdentifier	 hg
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
new	TokenNamenew	
StandardAnalyzer	TokenNameIdentifier	 Standard Analyzer
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
stopWords	TokenNameIdentifier	 stop Words
)	TokenNameRPAREN	
,	TokenNameCOMMA	
"data"	TokenNameStringLiteral	data
,	TokenNameCOMMA	
sb	TokenNameIdentifier	 sb
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Matched text should be no more than 100 chars in length "	TokenNameStringLiteral	Matched text should be no more than 100 chars in length 
,	TokenNameCOMMA	
match	TokenNameIdentifier	 match
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
<	TokenNameLESS	
hg	TokenNameIdentifier	 hg
.	TokenNameDOT	
getMaxDocCharsToAnalyze	TokenNameIdentifier	 get Max Doc Chars To Analyze
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testMaxSizeEndHighlight	TokenNameIdentifier	 test Max Size End Highlight
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
Set	TokenNameIdentifier	 Set
<	TokenNameLESS	
String	TokenNameIdentifier	 String
>	TokenNameGREATER	
stopWords	TokenNameIdentifier	 stop Words
=	TokenNameEQUAL	
new	TokenNamenew	
HashSet	TokenNameIdentifier	 Hash Set
<	TokenNameLESS	
String	TokenNameIdentifier	 String
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
stopWords	TokenNameIdentifier	 stop Words
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
"in"	TokenNameStringLiteral	in
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
stopWords	TokenNameIdentifier	 stop Words
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
"it"	TokenNameStringLiteral	it
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TermQuery	TokenNameIdentifier	 Term Query
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
TermQuery	TokenNameIdentifier	 Term Query
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
"searchterm"	TokenNameStringLiteral	searchterm
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
"this is a text with searchterm in it"	TokenNameStringLiteral	this is a text with searchterm in it
;	TokenNameSEMICOLON	
SimpleHTMLFormatter	TokenNameIdentifier	 Simple HTML Formatter
fm	TokenNameIdentifier	 fm
=	TokenNameEQUAL	
new	TokenNamenew	
SimpleHTMLFormatter	TokenNameIdentifier	 Simple HTML Formatter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
hg	TokenNameIdentifier	 hg
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
new	TokenNamenew	
StandardAnalyzer	TokenNameIdentifier	 Standard Analyzer
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
stopWords	TokenNameIdentifier	 stop Words
)	TokenNameRPAREN	
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fm	TokenNameIdentifier	 fm
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
hg	TokenNameIdentifier	 hg
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
NullFragmenter	TokenNameIdentifier	 Null Fragmenter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
hg	TokenNameIdentifier	 hg
.	TokenNameDOT	
setMaxDocCharsToAnalyze	TokenNameIdentifier	 set Max Doc Chars To Analyze
(	TokenNameLPAREN	
36	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
match	TokenNameIdentifier	 match
=	TokenNameEQUAL	
hg	TokenNameIdentifier	 hg
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
new	TokenNamenew	
StandardAnalyzer	TokenNameIdentifier	 Standard Analyzer
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
stopWords	TokenNameIdentifier	 stop Words
)	TokenNameRPAREN	
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Matched text should contain remainder of text after highlighted query "	TokenNameStringLiteral	Matched text should contain remainder of text after highlighted query 
,	TokenNameCOMMA	
match	TokenNameIdentifier	 match
.	TokenNameDOT	
endsWith	TokenNameIdentifier	 ends With
(	TokenNameLPAREN	
"in it"	TokenNameStringLiteral	in it
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testUnRewrittenQuery	TokenNameIdentifier	 test Un Rewritten Query
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
final	TokenNamefinal	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// test to show how rewritten query can still be used 	TokenNameCOMMENT_LINE	test to show how rewritten query can still be used 
if	TokenNameif	
(	TokenNameLPAREN	
searcher	TokenNameIdentifier	 searcher
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
searcher	TokenNameIdentifier	 searcher
=	TokenNameEQUAL	
new	TokenNamenew	
IndexSearcher	TokenNameIdentifier	 Index Searcher
(	TokenNameLPAREN	
reader	TokenNameIdentifier	 reader
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Analyzer	TokenNameIdentifier	 Analyzer
analyzer	TokenNameIdentifier	 analyzer
=	TokenNameEQUAL	
new	TokenNamenew	
StandardAnalyzer	TokenNameIdentifier	 Standard Analyzer
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
QueryParser	TokenNameIdentifier	 Query Parser
parser	TokenNameIdentifier	 parser
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
analyzer	TokenNameIdentifier	 analyzer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Query	TokenNameIdentifier	 Query
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
"JF? or Kenned*"	TokenNameStringLiteral	JF? or Kenned*
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Searching with primitive query"	TokenNameStringLiteral	Searching with primitive query
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// forget to set this and... 	TokenNameCOMMENT_LINE	forget to set this and... 
// query=query.rewrite(reader); 	TokenNameCOMMENT_LINE	query=query.rewrite(reader); 
TopDocs	TokenNameIdentifier	 Top Docs
hits	TokenNameIdentifier	 hits
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
search	TokenNameIdentifier	 search
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
1000	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// create an instance of the highlighter with the tags used to surround 	TokenNameCOMMENT_LINE	create an instance of the highlighter with the tags used to surround 
// highlighted text 	TokenNameCOMMENT_LINE	highlighted text 
// QueryHighlightExtractor highlighter = new 	TokenNameCOMMENT_LINE	QueryHighlightExtractor highlighter = new 
// QueryHighlightExtractor(this, 	TokenNameCOMMENT_LINE	QueryHighlightExtractor(this, 
// query, new StandardAnalyzer(TEST_VERSION)); 	TokenNameCOMMENT_LINE	query, new StandardAnalyzer(TEST_VERSION)); 
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
3	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
40	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
highlightedText	TokenNameIdentifier	 highlighted Text
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
highlightedText	TokenNameIdentifier	 highlighted Text
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// We expect to have zero highlights if the query is multi-terms and is 	TokenNameCOMMENT_LINE	We expect to have zero highlights if the query is multi-terms and is 
// not 	TokenNameCOMMENT_LINE	not 
// rewritten! 	TokenNameCOMMENT_LINE	rewritten! 
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testNoFragments	TokenNameIdentifier	 test No Fragments
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
"AnInvalidQueryWhichShouldYieldNoResults"	TokenNameStringLiteral	AnInvalidQueryWhichShouldYieldNoResults
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
texts	TokenNameIdentifier	 texts
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
texts	TokenNameIdentifier	 texts
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertNull	TokenNameIdentifier	 assert Null
(	TokenNameLPAREN	
"The highlight result should be null for text with no query terms"	TokenNameStringLiteral	The highlight result should be null for text with no query terms
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Demonstrates creation of an XHTML compliant doc using new encoding facilities. * * @throws Exception */	TokenNameCOMMENT_JAVADOC	 Demonstrates creation of an XHTML compliant doc using new encoding facilities. * @throws Exception 
public	TokenNamepublic	
void	TokenNamevoid	
testEncoding	TokenNameIdentifier	 test Encoding
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
rawDocContent	TokenNameIdentifier	 raw Doc Content
=	TokenNameEQUAL	
""Smith & sons' prices < 3 and >4" claims article"	TokenNameStringLiteral	"Smith & sons' prices < 3 and >4" claims article
;	TokenNameSEMICOLON	
// run the highlighter on the raw content (scorer does not score any tokens 	TokenNameCOMMENT_LINE	run the highlighter on the raw content (scorer does not score any tokens 
// for 	TokenNameCOMMENT_LINE	for 
// highlighting but scores a single fragment for selection 	TokenNameCOMMENT_LINE	highlighting but scores a single fragment for selection 
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
new	TokenNamenew	
SimpleHTMLEncoder	TokenNameIdentifier	 Simple HTML Encoder
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
new	TokenNamenew	
Scorer	TokenNameIdentifier	 Scorer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
startFragment	TokenNameIdentifier	 start Fragment
(	TokenNameLPAREN	
TextFragment	TokenNameIdentifier	 Text Fragment
newFragment	TokenNameIdentifier	 new Fragment
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
float	TokenNamefloat	
getTokenScore	TokenNameIdentifier	 get Token Score
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
float	TokenNamefloat	
getFragmentScore	TokenNameIdentifier	 get Fragment Score
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
TokenStream	TokenNameIdentifier	 Token Stream
init	TokenNameIdentifier	 init
(	TokenNameLPAREN	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
2000	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
rawDocContent	TokenNameIdentifier	 raw Doc Content
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
encodedSnippet	TokenNameIdentifier	 encoded Snippet
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
rawDocContent	TokenNameIdentifier	 raw Doc Content
,	TokenNameCOMMA	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// An ugly bit of XML creation: 	TokenNameCOMMENT_LINE	An ugly bit of XML creation: 
String	TokenNameIdentifier	 String
xhtml	TokenNameIdentifier	 xhtml
=	TokenNameEQUAL	
"<?xml version="1.0" encoding="UTF-8"?> "	TokenNameStringLiteral	<?xml version="1.0" encoding="UTF-8"?> 
+	TokenNamePLUS	
"<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> "	TokenNameStringLiteral	<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
+	TokenNamePLUS	
"<head> "	TokenNameStringLiteral	<head> 
+	TokenNamePLUS	
"<title>My Test HTML Document</title> "	TokenNameStringLiteral	<title>My Test HTML Document</title> 
+	TokenNamePLUS	
"</head> "	TokenNameStringLiteral	</head> 
+	TokenNamePLUS	
"<body> "	TokenNameStringLiteral	<body> 
+	TokenNamePLUS	
"<h2>"	TokenNameStringLiteral	<h2>
+	TokenNamePLUS	
encodedSnippet	TokenNameIdentifier	 encoded Snippet
+	TokenNamePLUS	
"</h2> "	TokenNameStringLiteral	</h2> 
+	TokenNamePLUS	
"</body> "	TokenNameStringLiteral	</body> 
+	TokenNamePLUS	
"</html>"	TokenNameStringLiteral	</html>
;	TokenNameSEMICOLON	
// now an ugly built of XML parsing to test the snippet is encoded OK 	TokenNameCOMMENT_LINE	now an ugly built of XML parsing to test the snippet is encoded OK 
DocumentBuilderFactory	TokenNameIdentifier	 Document Builder Factory
dbf	TokenNameIdentifier	 dbf
=	TokenNameEQUAL	
DocumentBuilderFactory	TokenNameIdentifier	 Document Builder Factory
.	TokenNameDOT	
newInstance	TokenNameIdentifier	 new Instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DocumentBuilder	TokenNameIdentifier	 Document Builder
db	TokenNameIdentifier	 db
=	TokenNameEQUAL	
dbf	TokenNameIdentifier	 dbf
.	TokenNameDOT	
newDocumentBuilder	TokenNameIdentifier	 new Document Builder
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Document	TokenNameIdentifier	 Document
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
new	TokenNamenew	
ByteArrayInputStream	TokenNameIdentifier	 Byte Array Input Stream
(	TokenNameLPAREN	
xhtml	TokenNameIdentifier	 xhtml
.	TokenNameDOT	
getBytes	TokenNameIdentifier	 get Bytes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Element	TokenNameIdentifier	 Element
root	TokenNameIdentifier	 root
=	TokenNameEQUAL	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
getDocumentElement	TokenNameIdentifier	 get Document Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
NodeList	TokenNameIdentifier	 Node List
nodes	TokenNameIdentifier	 nodes
=	TokenNameEQUAL	
root	TokenNameIdentifier	 root
.	TokenNameDOT	
getElementsByTagName	TokenNameIdentifier	 get Elements By Tag Name
(	TokenNameLPAREN	
"body"	TokenNameStringLiteral	body
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Element	TokenNameIdentifier	 Element
body	TokenNameIdentifier	 body
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Element	TokenNameIdentifier	 Element
)	TokenNameRPAREN	
nodes	TokenNameIdentifier	 nodes
.	TokenNameDOT	
item	TokenNameIdentifier	 item
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
nodes	TokenNameIdentifier	 nodes
=	TokenNameEQUAL	
body	TokenNameIdentifier	 body
.	TokenNameDOT	
getElementsByTagName	TokenNameIdentifier	 get Elements By Tag Name
(	TokenNameLPAREN	
"h2"	TokenNameStringLiteral	h2
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Element	TokenNameIdentifier	 Element
h2	TokenNameIdentifier	 h2
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Element	TokenNameIdentifier	 Element
)	TokenNameRPAREN	
nodes	TokenNameIdentifier	 nodes
.	TokenNameDOT	
item	TokenNameIdentifier	 item
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
decodedSnippet	TokenNameIdentifier	 decoded Snippet
=	TokenNameEQUAL	
h2	TokenNameIdentifier	 h2
.	TokenNameDOT	
getFirstChild	TokenNameIdentifier	 get First Child
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getNodeValue	TokenNameIdentifier	 get Node Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"XHTML Encoding should have worked:"	TokenNameStringLiteral	XHTML Encoding should have worked:
,	TokenNameCOMMA	
rawDocContent	TokenNameIdentifier	 raw Doc Content
,	TokenNameCOMMA	
decodedSnippet	TokenNameIdentifier	 decoded Snippet
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testMultiSearcher	TokenNameIdentifier	 test Multi Searcher
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
// setup index 1 	TokenNameCOMMENT_LINE	setup index 1 
Directory	TokenNameIdentifier	 Directory
ramDir1	TokenNameIdentifier	 ram Dir1
=	TokenNameEQUAL	
newDirectory	TokenNameIdentifier	 new Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
IndexWriter	TokenNameIdentifier	 Index Writer
writer1	TokenNameIdentifier	 writer1
=	TokenNameEQUAL	
new	TokenNamenew	
IndexWriter	TokenNameIdentifier	 Index Writer
(	TokenNameLPAREN	
ramDir1	TokenNameIdentifier	 ram Dir1
,	TokenNameCOMMA	
newIndexWriterConfig	TokenNameIdentifier	 new Index Writer Config
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
new	TokenNamenew	
StandardAnalyzer	TokenNameIdentifier	 Standard Analyzer
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Document	TokenNameIdentifier	 Document
d	TokenNameIdentifier	 d
=	TokenNameEQUAL	
new	TokenNamenew	
Document	TokenNameIdentifier	 Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Field	TokenNameIdentifier	 Field
f	TokenNameIdentifier	 f
=	TokenNameEQUAL	
new	TokenNamenew	
Field	TokenNameIdentifier	 Field
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"multiOne"	TokenNameStringLiteral	multiOne
,	TokenNameCOMMA	
Field	TokenNameIdentifier	 Field
.	TokenNameDOT	
Store	TokenNameIdentifier	 Store
.	TokenNameDOT	
YES	TokenNameIdentifier	 YES
,	TokenNameCOMMA	
Field	TokenNameIdentifier	 Field
.	TokenNameDOT	
Index	TokenNameIdentifier	 Index
.	TokenNameDOT	
ANALYZED	TokenNameIdentifier	 ANALYZED
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
d	TokenNameIdentifier	 d
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
f	TokenNameIdentifier	 f
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer1	TokenNameIdentifier	 writer1
.	TokenNameDOT	
addDocument	TokenNameIdentifier	 add Document
(	TokenNameLPAREN	
d	TokenNameIdentifier	 d
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer1	TokenNameIdentifier	 writer1
.	TokenNameDOT	
optimize	TokenNameIdentifier	 optimize
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer1	TokenNameIdentifier	 writer1
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
IndexReader	TokenNameIdentifier	 Index Reader
reader1	TokenNameIdentifier	 reader1
=	TokenNameEQUAL	
IndexReader	TokenNameIdentifier	 Index Reader
.	TokenNameDOT	
open	TokenNameIdentifier	 open
(	TokenNameLPAREN	
ramDir1	TokenNameIdentifier	 ram Dir1
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// setup index 2 	TokenNameCOMMENT_LINE	setup index 2 
Directory	TokenNameIdentifier	 Directory
ramDir2	TokenNameIdentifier	 ram Dir2
=	TokenNameEQUAL	
newDirectory	TokenNameIdentifier	 new Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
IndexWriter	TokenNameIdentifier	 Index Writer
writer2	TokenNameIdentifier	 writer2
=	TokenNameEQUAL	
new	TokenNamenew	
IndexWriter	TokenNameIdentifier	 Index Writer
(	TokenNameLPAREN	
ramDir2	TokenNameIdentifier	 ram Dir2
,	TokenNameCOMMA	
newIndexWriterConfig	TokenNameIdentifier	 new Index Writer Config
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
new	TokenNamenew	
StandardAnalyzer	TokenNameIdentifier	 Standard Analyzer
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
d	TokenNameIdentifier	 d
=	TokenNameEQUAL	
new	TokenNamenew	
Document	TokenNameIdentifier	 Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
f	TokenNameIdentifier	 f
=	TokenNameEQUAL	
new	TokenNamenew	
Field	TokenNameIdentifier	 Field
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
"multiTwo"	TokenNameStringLiteral	multiTwo
,	TokenNameCOMMA	
Field	TokenNameIdentifier	 Field
.	TokenNameDOT	
Store	TokenNameIdentifier	 Store
.	TokenNameDOT	
YES	TokenNameIdentifier	 YES
,	TokenNameCOMMA	
Field	TokenNameIdentifier	 Field
.	TokenNameDOT	
Index	TokenNameIdentifier	 Index
.	TokenNameDOT	
ANALYZED	TokenNameIdentifier	 ANALYZED
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
d	TokenNameIdentifier	 d
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
f	TokenNameIdentifier	 f
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer2	TokenNameIdentifier	 writer2
.	TokenNameDOT	
addDocument	TokenNameIdentifier	 add Document
(	TokenNameLPAREN	
d	TokenNameIdentifier	 d
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer2	TokenNameIdentifier	 writer2
.	TokenNameDOT	
optimize	TokenNameIdentifier	 optimize
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer2	TokenNameIdentifier	 writer2
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
IndexReader	TokenNameIdentifier	 Index Reader
reader2	TokenNameIdentifier	 reader2
=	TokenNameEQUAL	
IndexReader	TokenNameIdentifier	 Index Reader
.	TokenNameDOT	
open	TokenNameIdentifier	 open
(	TokenNameLPAREN	
ramDir2	TokenNameIdentifier	 ram Dir2
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
IndexSearcher	TokenNameIdentifier	 Index Searcher
searchers	TokenNameIdentifier	 searchers
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
IndexSearcher	TokenNameIdentifier	 Index Searcher
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
searchers	TokenNameIdentifier	 searchers
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
IndexSearcher	TokenNameIdentifier	 Index Searcher
(	TokenNameLPAREN	
ramDir1	TokenNameIdentifier	 ram Dir1
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
searchers	TokenNameIdentifier	 searchers
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
IndexSearcher	TokenNameIdentifier	 Index Searcher
(	TokenNameLPAREN	
ramDir2	TokenNameIdentifier	 ram Dir2
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
MultiSearcher	TokenNameIdentifier	 Multi Searcher
multiSearcher	TokenNameIdentifier	 multi Searcher
=	TokenNameEQUAL	
new	TokenNamenew	
MultiSearcher	TokenNameIdentifier	 Multi Searcher
(	TokenNameLPAREN	
searchers	TokenNameIdentifier	 searchers
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
QueryParser	TokenNameIdentifier	 Query Parser
parser	TokenNameIdentifier	 parser
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StandardAnalyzer	TokenNameIdentifier	 Standard Analyzer
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
setMultiTermRewriteMethod	TokenNameIdentifier	 set Multi Term Rewrite Method
(	TokenNameLPAREN	
MultiTermQuery	TokenNameIdentifier	 Multi Term Query
.	TokenNameDOT	
SCORING_BOOLEAN_QUERY_REWRITE	TokenNameIdentifier	 SCORING  BOOLEAN  QUERY  REWRITE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
"multi*"	TokenNameStringLiteral	multi*
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Searching for: "	TokenNameStringLiteral	Searching for: 
+	TokenNamePLUS	
query	TokenNameIdentifier	 query
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// at this point the multisearcher calls combine(query[]) 	TokenNameCOMMENT_LINE	at this point the multisearcher calls combine(query[]) 
hits	TokenNameIdentifier	 hits
=	TokenNameEQUAL	
multiSearcher	TokenNameIdentifier	 multi Searcher
.	TokenNameDOT	
search	TokenNameIdentifier	 search
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
1000	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// query = QueryParser.parse("multi*", FIELD_NAME, new StandardAnalyzer(TEST_VERSION)); 	TokenNameCOMMENT_LINE	query = QueryParser.parse("multi*", FIELD_NAME, new StandardAnalyzer(TEST_VERSION)); 
Query	TokenNameIdentifier	 Query
expandedQueries	TokenNameIdentifier	 expanded Queries
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
Query	TokenNameIdentifier	 Query
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
expandedQueries	TokenNameIdentifier	 expanded Queries
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
query	TokenNameIdentifier	 query
.	TokenNameDOT	
rewrite	TokenNameIdentifier	 rewrite
(	TokenNameLPAREN	
reader1	TokenNameIdentifier	 reader1
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
expandedQueries	TokenNameIdentifier	 expanded Queries
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
query	TokenNameIdentifier	 query
.	TokenNameDOT	
rewrite	TokenNameIdentifier	 rewrite
(	TokenNameLPAREN	
reader2	TokenNameIdentifier	 reader2
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
query	TokenNameIdentifier	 query
.	TokenNameDOT	
combine	TokenNameIdentifier	 combine
(	TokenNameLPAREN	
expandedQueries	TokenNameIdentifier	 expanded Queries
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// create an instance of the highlighter with the tags used to surround 	TokenNameCOMMENT_LINE	create an instance of the highlighter with the tags used to surround 
// highlighted text 	TokenNameCOMMENT_LINE	highlighted text 
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
new	TokenNamenew	
QueryTermScorer	TokenNameIdentifier	 Query Term Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
multiSearcher	TokenNameIdentifier	 multi Searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
highlightedText	TokenNameIdentifier	 highlighted Text
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
highlightedText	TokenNameIdentifier	 highlighted Text
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reader1	TokenNameIdentifier	 reader1
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reader2	TokenNameIdentifier	 reader2
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
searchers	TokenNameIdentifier	 searchers
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
searchers	TokenNameIdentifier	 searchers
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ramDir1	TokenNameIdentifier	 ram Dir1
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ramDir2	TokenNameIdentifier	 ram Dir2
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testFieldSpecificHighlighting	TokenNameIdentifier	 test Field Specific Highlighting
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
docMainText	TokenNameIdentifier	 doc Main Text
=	TokenNameEQUAL	
"fred is one of the people"	TokenNameStringLiteral	fred is one of the people
;	TokenNameSEMICOLON	
QueryParser	TokenNameIdentifier	 Query Parser
parser	TokenNameIdentifier	 parser
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
analyzer	TokenNameIdentifier	 analyzer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Query	TokenNameIdentifier	 Query
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
"fred category:people"	TokenNameStringLiteral	fred category:people
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// highlighting respects fieldnames used in query 	TokenNameCOMMENT_LINE	highlighting respects fieldnames used in query 
Scorer	TokenNameIdentifier	 Scorer
fieldSpecificScorer	TokenNameIdentifier	 field Specific Scorer
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
mode	TokenNameIdentifier	 mode
==	TokenNameEQUAL_EQUAL	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
.	TokenNameDOT	
QUERY	TokenNameIdentifier	 QUERY
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fieldSpecificScorer	TokenNameIdentifier	 field Specific Scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
mode	TokenNameIdentifier	 mode
==	TokenNameEQUAL_EQUAL	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
.	TokenNameDOT	
QUERY_TERM	TokenNameIdentifier	 QUERY  TERM
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fieldSpecificScorer	TokenNameIdentifier	 field Specific Scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryTermScorer	TokenNameIdentifier	 Query Term Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"contents"	TokenNameStringLiteral	contents
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Highlighter	TokenNameIdentifier	 Highlighter
fieldSpecificHighlighter	TokenNameIdentifier	 field Specific Highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleHTMLFormatter	TokenNameIdentifier	 Simple HTML Formatter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fieldSpecificScorer	TokenNameIdentifier	 field Specific Scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fieldSpecificHighlighter	TokenNameIdentifier	 field Specific Highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
NullFragmenter	TokenNameIdentifier	 Null Fragmenter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
fieldSpecificHighlighter	TokenNameIdentifier	 field Specific Highlighter
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
docMainText	TokenNameIdentifier	 doc Main Text
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"Should match"	TokenNameStringLiteral	Should match
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
,	TokenNameCOMMA	
"<B>fred</B> is one of the people"	TokenNameStringLiteral	<B>fred</B> is one of the people
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// highlighting does not respect fieldnames used in query 	TokenNameCOMMENT_LINE	highlighting does not respect fieldnames used in query 
Scorer	TokenNameIdentifier	 Scorer
fieldInSpecificScorer	TokenNameIdentifier	 field In Specific Scorer
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
mode	TokenNameIdentifier	 mode
==	TokenNameEQUAL_EQUAL	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
.	TokenNameDOT	
QUERY	TokenNameIdentifier	 QUERY
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fieldInSpecificScorer	TokenNameIdentifier	 field In Specific Scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
mode	TokenNameIdentifier	 mode
==	TokenNameEQUAL_EQUAL	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
.	TokenNameDOT	
QUERY_TERM	TokenNameIdentifier	 QUERY  TERM
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fieldInSpecificScorer	TokenNameIdentifier	 field In Specific Scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryTermScorer	TokenNameIdentifier	 Query Term Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Highlighter	TokenNameIdentifier	 Highlighter
fieldInSpecificHighlighter	TokenNameIdentifier	 field In Specific Highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleHTMLFormatter	TokenNameIdentifier	 Simple HTML Formatter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fieldInSpecificScorer	TokenNameIdentifier	 field In Specific Scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fieldInSpecificHighlighter	TokenNameIdentifier	 field In Specific Highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
NullFragmenter	TokenNameIdentifier	 Null Fragmenter
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
fieldInSpecificHighlighter	TokenNameIdentifier	 field In Specific Highlighter
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
docMainText	TokenNameIdentifier	 doc Main Text
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"Should match"	TokenNameStringLiteral	Should match
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
,	TokenNameCOMMA	
"<B>fred</B> is one of the <B>people</B>"	TokenNameStringLiteral	<B>fred</B> is one of the <B>people</B>
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reader	TokenNameIdentifier	 reader
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
protected	TokenNameprotected	
TokenStream	TokenNameIdentifier	 Token Stream
getTS2	TokenNameIdentifier	 get T S2
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// String s = "Hi-Speed10 foo"; 	TokenNameCOMMENT_LINE	String s = "Hi-Speed10 foo"; 
return	TokenNamereturn	
new	TokenNamenew	
TokenStream	TokenNameIdentifier	 Token Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>	TokenNameGREATER	
iter	TokenNameIdentifier	 iter
;	TokenNameSEMICOLON	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>	TokenNameGREATER	
lst	TokenNameIdentifier	 lst
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
CharTermAttribute	TokenNameIdentifier	 Char Term Attribute
termAtt	TokenNameIdentifier	 term Att
=	TokenNameEQUAL	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
CharTermAttribute	TokenNameIdentifier	 Char Term Attribute
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
PositionIncrementAttribute	TokenNameIdentifier	 Position Increment Attribute
posIncrAtt	TokenNameIdentifier	 pos Incr Att
=	TokenNameEQUAL	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
PositionIncrementAttribute	TokenNameIdentifier	 Position Increment Attribute
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
OffsetAttribute	TokenNameIdentifier	 Offset Attribute
offsetAtt	TokenNameIdentifier	 offset Att
=	TokenNameEQUAL	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
OffsetAttribute	TokenNameIdentifier	 Offset Attribute
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
{	TokenNameLBRACE	
lst	TokenNameIdentifier	 lst
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Token	TokenNameIdentifier	 Token
t	TokenNameIdentifier	 t
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
=	TokenNameEQUAL	
createToken	TokenNameIdentifier	 create Token
(	TokenNameLPAREN	
"hi"	TokenNameStringLiteral	hi
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
.	TokenNameDOT	
setPositionIncrement	TokenNameIdentifier	 set Position Increment
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lst	TokenNameIdentifier	 lst
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
t	TokenNameIdentifier	 t
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
=	TokenNameEQUAL	
createToken	TokenNameIdentifier	 create Token
(	TokenNameLPAREN	
"hispeed"	TokenNameStringLiteral	hispeed
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
8	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
.	TokenNameDOT	
setPositionIncrement	TokenNameIdentifier	 set Position Increment
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lst	TokenNameIdentifier	 lst
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
t	TokenNameIdentifier	 t
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
=	TokenNameEQUAL	
createToken	TokenNameIdentifier	 create Token
(	TokenNameLPAREN	
"speed"	TokenNameStringLiteral	speed
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
8	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
.	TokenNameDOT	
setPositionIncrement	TokenNameIdentifier	 set Position Increment
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lst	TokenNameIdentifier	 lst
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
t	TokenNameIdentifier	 t
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
=	TokenNameEQUAL	
createToken	TokenNameIdentifier	 create Token
(	TokenNameLPAREN	
"10"	TokenNameStringLiteral	10
,	TokenNameCOMMA	
8	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
10	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
.	TokenNameDOT	
setPositionIncrement	TokenNameIdentifier	 set Position Increment
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lst	TokenNameIdentifier	 lst
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
t	TokenNameIdentifier	 t
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
=	TokenNameEQUAL	
createToken	TokenNameIdentifier	 create Token
(	TokenNameLPAREN	
"foo"	TokenNameStringLiteral	foo
,	TokenNameCOMMA	
11	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
14	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
.	TokenNameDOT	
setPositionIncrement	TokenNameIdentifier	 set Position Increment
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lst	TokenNameIdentifier	 lst
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
t	TokenNameIdentifier	 t
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
iter	TokenNameIdentifier	 iter
=	TokenNameEQUAL	
lst	TokenNameIdentifier	 lst
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
boolean	TokenNameboolean	
incrementToken	TokenNameIdentifier	 increment Token
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Token	TokenNameIdentifier	 Token
token	TokenNameIdentifier	 token
=	TokenNameEQUAL	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
clearAttributes	TokenNameIdentifier	 clear Attributes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
termAtt	TokenNameIdentifier	 term Att
.	TokenNameDOT	
setEmpty	TokenNameIdentifier	 set Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
token	TokenNameIdentifier	 token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
posIncrAtt	TokenNameIdentifier	 pos Incr Att
.	TokenNameDOT	
setPositionIncrement	TokenNameIdentifier	 set Position Increment
(	TokenNameLPAREN	
token	TokenNameIdentifier	 token
.	TokenNameDOT	
getPositionIncrement	TokenNameIdentifier	 get Position Increment
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
offsetAtt	TokenNameIdentifier	 offset Att
.	TokenNameDOT	
setOffset	TokenNameIdentifier	 set Offset
(	TokenNameLPAREN	
token	TokenNameIdentifier	 token
.	TokenNameDOT	
startOffset	TokenNameIdentifier	 start Offset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
token	TokenNameIdentifier	 token
.	TokenNameDOT	
endOffset	TokenNameIdentifier	 end Offset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// same token-stream as above, but the bigger token comes first this time 	TokenNameCOMMENT_LINE	same token-stream as above, but the bigger token comes first this time 
protected	TokenNameprotected	
TokenStream	TokenNameIdentifier	 Token Stream
getTS2a	TokenNameIdentifier	 get T S2a
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// String s = "Hi-Speed10 foo"; 	TokenNameCOMMENT_LINE	String s = "Hi-Speed10 foo"; 
return	TokenNamereturn	
new	TokenNamenew	
TokenStream	TokenNameIdentifier	 Token Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Iterator	TokenNameIdentifier	 Iterator
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>	TokenNameGREATER	
iter	TokenNameIdentifier	 iter
;	TokenNameSEMICOLON	
List	TokenNameIdentifier	 List
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>	TokenNameGREATER	
lst	TokenNameIdentifier	 lst
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
CharTermAttribute	TokenNameIdentifier	 Char Term Attribute
termAtt	TokenNameIdentifier	 term Att
=	TokenNameEQUAL	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
CharTermAttribute	TokenNameIdentifier	 Char Term Attribute
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
PositionIncrementAttribute	TokenNameIdentifier	 Position Increment Attribute
posIncrAtt	TokenNameIdentifier	 pos Incr Att
=	TokenNameEQUAL	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
PositionIncrementAttribute	TokenNameIdentifier	 Position Increment Attribute
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
OffsetAttribute	TokenNameIdentifier	 Offset Attribute
offsetAtt	TokenNameIdentifier	 offset Att
=	TokenNameEQUAL	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
OffsetAttribute	TokenNameIdentifier	 Offset Attribute
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
{	TokenNameLBRACE	
lst	TokenNameIdentifier	 lst
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
<	TokenNameLESS	
Token	TokenNameIdentifier	 Token
>	TokenNameGREATER	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Token	TokenNameIdentifier	 Token
t	TokenNameIdentifier	 t
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
=	TokenNameEQUAL	
createToken	TokenNameIdentifier	 create Token
(	TokenNameLPAREN	
"hispeed"	TokenNameStringLiteral	hispeed
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
8	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
.	TokenNameDOT	
setPositionIncrement	TokenNameIdentifier	 set Position Increment
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lst	TokenNameIdentifier	 lst
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
t	TokenNameIdentifier	 t
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
=	TokenNameEQUAL	
createToken	TokenNameIdentifier	 create Token
(	TokenNameLPAREN	
"hi"	TokenNameStringLiteral	hi
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
.	TokenNameDOT	
setPositionIncrement	TokenNameIdentifier	 set Position Increment
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lst	TokenNameIdentifier	 lst
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
t	TokenNameIdentifier	 t
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
=	TokenNameEQUAL	
createToken	TokenNameIdentifier	 create Token
(	TokenNameLPAREN	
"speed"	TokenNameStringLiteral	speed
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
8	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
.	TokenNameDOT	
setPositionIncrement	TokenNameIdentifier	 set Position Increment
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lst	TokenNameIdentifier	 lst
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
t	TokenNameIdentifier	 t
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
=	TokenNameEQUAL	
createToken	TokenNameIdentifier	 create Token
(	TokenNameLPAREN	
"10"	TokenNameStringLiteral	10
,	TokenNameCOMMA	
8	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
10	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
.	TokenNameDOT	
setPositionIncrement	TokenNameIdentifier	 set Position Increment
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lst	TokenNameIdentifier	 lst
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
t	TokenNameIdentifier	 t
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
=	TokenNameEQUAL	
createToken	TokenNameIdentifier	 create Token
(	TokenNameLPAREN	
"foo"	TokenNameStringLiteral	foo
,	TokenNameCOMMA	
11	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
14	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
t	TokenNameIdentifier	 t
.	TokenNameDOT	
setPositionIncrement	TokenNameIdentifier	 set Position Increment
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lst	TokenNameIdentifier	 lst
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
t	TokenNameIdentifier	 t
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
iter	TokenNameIdentifier	 iter
=	TokenNameEQUAL	
lst	TokenNameIdentifier	 lst
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
boolean	TokenNameboolean	
incrementToken	TokenNameIdentifier	 increment Token
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Token	TokenNameIdentifier	 Token
token	TokenNameIdentifier	 token
=	TokenNameEQUAL	
iter	TokenNameIdentifier	 iter
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
clearAttributes	TokenNameIdentifier	 clear Attributes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
termAtt	TokenNameIdentifier	 term Att
.	TokenNameDOT	
setEmpty	TokenNameIdentifier	 set Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
token	TokenNameIdentifier	 token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
posIncrAtt	TokenNameIdentifier	 pos Incr Att
.	TokenNameDOT	
setPositionIncrement	TokenNameIdentifier	 set Position Increment
(	TokenNameLPAREN	
token	TokenNameIdentifier	 token
.	TokenNameDOT	
getPositionIncrement	TokenNameIdentifier	 get Position Increment
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
offsetAtt	TokenNameIdentifier	 offset Att
.	TokenNameDOT	
setOffset	TokenNameIdentifier	 set Offset
(	TokenNameLPAREN	
token	TokenNameIdentifier	 token
.	TokenNameDOT	
startOffset	TokenNameIdentifier	 start Offset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
token	TokenNameIdentifier	 token
.	TokenNameDOT	
endOffset	TokenNameIdentifier	 end Offset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testOverlapAnalyzer2	TokenNameIdentifier	 test Overlap Analyzer2
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
helper	TokenNameIdentifier	 helper
=	TokenNameEQUAL	
new	TokenNamenew	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
"Hi-Speed10 foo"	TokenNameStringLiteral	Hi-Speed10 foo
;	TokenNameSEMICOLON	
Query	TokenNameIdentifier	 Query
query	TokenNameIdentifier	 query
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
WHITESPACE	TokenNameIdentifier	 WHITESPACE
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
"foo"	TokenNameStringLiteral	foo
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
getTS2	TokenNameIdentifier	 get T S2
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
getTS2	TokenNameIdentifier	 get T S2
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"Hi-Speed10 <B>foo</B>"	TokenNameStringLiteral	Hi-Speed10 <B>foo</B>
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
WHITESPACE	TokenNameIdentifier	 WHITESPACE
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
"10"	TokenNameStringLiteral	10
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
getTS2	TokenNameIdentifier	 get T S2
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
getTS2	TokenNameIdentifier	 get T S2
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"Hi-Speed<B>10</B> foo"	TokenNameStringLiteral	Hi-Speed<B>10</B> foo
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
WHITESPACE	TokenNameIdentifier	 WHITESPACE
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
"hi"	TokenNameStringLiteral	hi
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
getTS2	TokenNameIdentifier	 get T S2
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
getTS2	TokenNameIdentifier	 get T S2
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"<B>Hi</B>-Speed10 foo"	TokenNameStringLiteral	<B>Hi</B>-Speed10 foo
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
WHITESPACE	TokenNameIdentifier	 WHITESPACE
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
"speed"	TokenNameStringLiteral	speed
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
getTS2	TokenNameIdentifier	 get T S2
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
getTS2	TokenNameIdentifier	 get T S2
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"Hi-<B>Speed</B>10 foo"	TokenNameStringLiteral	Hi-<B>Speed</B>10 foo
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
WHITESPACE	TokenNameIdentifier	 WHITESPACE
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
"hispeed"	TokenNameStringLiteral	hispeed
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
getTS2	TokenNameIdentifier	 get T S2
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
getTS2	TokenNameIdentifier	 get T S2
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"<B>Hi-Speed</B>10 foo"	TokenNameStringLiteral	<B>Hi-Speed</B>10 foo
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
WHITESPACE	TokenNameIdentifier	 WHITESPACE
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
"hi speed"	TokenNameStringLiteral	hi speed
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
getTS2	TokenNameIdentifier	 get T S2
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
getTS2	TokenNameIdentifier	 get T S2
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"<B>Hi-Speed</B>10 foo"	TokenNameStringLiteral	<B>Hi-Speed</B>10 foo
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// ///////////////// same tests, just put the bigger overlapping token 	TokenNameCOMMENT_LINE	///////////////// same tests, just put the bigger overlapping token 
// first 	TokenNameCOMMENT_LINE	first 
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
WHITESPACE	TokenNameIdentifier	 WHITESPACE
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
"foo"	TokenNameStringLiteral	foo
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
getTS2a	TokenNameIdentifier	 get T S2a
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
getTS2a	TokenNameIdentifier	 get T S2a
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"Hi-Speed10 <B>foo</B>"	TokenNameStringLiteral	Hi-Speed10 <B>foo</B>
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
WHITESPACE	TokenNameIdentifier	 WHITESPACE
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
"10"	TokenNameStringLiteral	10
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
getTS2a	TokenNameIdentifier	 get T S2a
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
getTS2a	TokenNameIdentifier	 get T S2a
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"Hi-Speed<B>10</B> foo"	TokenNameStringLiteral	Hi-Speed<B>10</B> foo
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
WHITESPACE	TokenNameIdentifier	 WHITESPACE
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
"hi"	TokenNameStringLiteral	hi
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
getTS2a	TokenNameIdentifier	 get T S2a
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
getTS2a	TokenNameIdentifier	 get T S2a
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"<B>Hi</B>-Speed10 foo"	TokenNameStringLiteral	<B>Hi</B>-Speed10 foo
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
WHITESPACE	TokenNameIdentifier	 WHITESPACE
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
"speed"	TokenNameStringLiteral	speed
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
getTS2a	TokenNameIdentifier	 get T S2a
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
getTS2a	TokenNameIdentifier	 get T S2a
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"Hi-<B>Speed</B>10 foo"	TokenNameStringLiteral	Hi-<B>Speed</B>10 foo
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
WHITESPACE	TokenNameIdentifier	 WHITESPACE
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
"hispeed"	TokenNameStringLiteral	hispeed
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
getTS2a	TokenNameIdentifier	 get T S2a
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
getTS2a	TokenNameIdentifier	 get T S2a
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"<B>Hi-Speed</B>10 foo"	TokenNameStringLiteral	<B>Hi-Speed</B>10 foo
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
WHITESPACE	TokenNameIdentifier	 WHITESPACE
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
"hi speed"	TokenNameStringLiteral	hi speed
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"text"	TokenNameStringLiteral	text
,	TokenNameCOMMA	
getTS2a	TokenNameIdentifier	 get T S2a
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
getTS2a	TokenNameIdentifier	 get T S2a
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"<B>Hi-Speed</B>10 foo"	TokenNameStringLiteral	<B>Hi-Speed</B>10 foo
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
helper	TokenNameIdentifier	 helper
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
Directory	TokenNameIdentifier	 Directory
dir	TokenNameIdentifier	 dir
;	TokenNameSEMICOLON	
private	TokenNameprivate	
Analyzer	TokenNameIdentifier	 Analyzer
a	TokenNameIdentifier	 a
=	TokenNameEQUAL	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
WHITESPACE	TokenNameIdentifier	 WHITESPACE
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
void	TokenNamevoid	
testWeightedTermsWithDeletes	TokenNameIdentifier	 test Weighted Terms With Deletes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
ParseException	TokenNameIdentifier	 Parse Exception
,	TokenNameCOMMA	
InvalidTokenOffsetsException	TokenNameIdentifier	 Invalid Token Offsets Exception
{	TokenNameLBRACE	
makeIndex	TokenNameIdentifier	 make Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
deleteDocument	TokenNameIdentifier	 delete Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
searchIndex	TokenNameIdentifier	 search Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
Document	TokenNameIdentifier	 Document
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
f	TokenNameIdentifier	 f
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
v	TokenNameIdentifier	 v
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Document	TokenNameIdentifier	 Document
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
new	TokenNamenew	
Document	TokenNameIdentifier	 Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
Field	TokenNameIdentifier	 Field
(	TokenNameLPAREN	
f	TokenNameIdentifier	 f
,	TokenNameCOMMA	
v	TokenNameIdentifier	 v
,	TokenNameCOMMA	
Store	TokenNameIdentifier	 Store
.	TokenNameDOT	
YES	TokenNameIdentifier	 YES
,	TokenNameCOMMA	
Index	TokenNameIdentifier	 Index
.	TokenNameDOT	
ANALYZED	TokenNameIdentifier	 ANALYZED
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
doc	TokenNameIdentifier	 doc
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
makeIndex	TokenNameIdentifier	 make Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
IndexWriter	TokenNameIdentifier	 Index Writer
writer	TokenNameIdentifier	 writer
=	TokenNameEQUAL	
new	TokenNamenew	
IndexWriter	TokenNameIdentifier	 Index Writer
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
,	TokenNameCOMMA	
new	TokenNamenew	
IndexWriterConfig	TokenNameIdentifier	 Index Writer Config
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
WHITESPACE	TokenNameIdentifier	 WHITESPACE
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
addDocument	TokenNameIdentifier	 add Document
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
"t_text1"	TokenNameStringLiteral	t_text1
,	TokenNameCOMMA	
"random words for highlighting tests del"	TokenNameStringLiteral	random words for highlighting tests del
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
addDocument	TokenNameIdentifier	 add Document
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
"t_text1"	TokenNameStringLiteral	t_text1
,	TokenNameCOMMA	
"more random words for second field del"	TokenNameStringLiteral	more random words for second field del
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
addDocument	TokenNameIdentifier	 add Document
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
"t_text1"	TokenNameStringLiteral	t_text1
,	TokenNameCOMMA	
"random words for highlighting tests del"	TokenNameStringLiteral	random words for highlighting tests del
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
addDocument	TokenNameIdentifier	 add Document
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
"t_text1"	TokenNameStringLiteral	t_text1
,	TokenNameCOMMA	
"more random words for second field"	TokenNameStringLiteral	more random words for second field
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
forceMerge	TokenNameIdentifier	 force Merge
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
deleteDocument	TokenNameIdentifier	 delete Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
IndexWriter	TokenNameIdentifier	 Index Writer
writer	TokenNameIdentifier	 writer
=	TokenNameEQUAL	
new	TokenNamenew	
IndexWriter	TokenNameIdentifier	 Index Writer
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
,	TokenNameCOMMA	
new	TokenNamenew	
IndexWriterConfig	TokenNameIdentifier	 Index Writer Config
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
new	TokenNamenew	
MockAnalyzer	TokenNameIdentifier	 Mock Analyzer
(	TokenNameLPAREN	
random	TokenNameIdentifier	 random
,	TokenNameCOMMA	
MockTokenizer	TokenNameIdentifier	 Mock Tokenizer
.	TokenNameDOT	
WHITESPACE	TokenNameIdentifier	 WHITESPACE
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setOpenMode	TokenNameIdentifier	 set Open Mode
(	TokenNameLPAREN	
OpenMode	TokenNameIdentifier	 Open Mode
.	TokenNameDOT	
APPEND	TokenNameIdentifier	 APPEND
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
deleteDocuments	TokenNameIdentifier	 delete Documents
(	TokenNameLPAREN	
new	TokenNamenew	
Term	TokenNameIdentifier	 Term
(	TokenNameLPAREN	
"t_text1"	TokenNameStringLiteral	t_text1
,	TokenNameCOMMA	
"del"	TokenNameStringLiteral	del
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// To see negative idf, keep comment the following line 	TokenNameCOMMENT_LINE	To see negative idf, keep comment the following line 
//writer.forceMerge(1); 	TokenNameCOMMENT_LINE	writer.forceMerge(1); 
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
searchIndex	TokenNameIdentifier	 search Index
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
ParseException	TokenNameIdentifier	 Parse Exception
,	TokenNameCOMMA	
InvalidTokenOffsetsException	TokenNameIdentifier	 Invalid Token Offsets Exception
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
q	TokenNameIdentifier	 q
=	TokenNameEQUAL	
"t_text1:random"	TokenNameStringLiteral	t_text1:random
;	TokenNameSEMICOLON	
QueryParser	TokenNameIdentifier	 Query Parser
parser	TokenNameIdentifier	 parser
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
"t_text1"	TokenNameStringLiteral	t_text1
,	TokenNameCOMMA	
a	TokenNameIdentifier	 a
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Query	TokenNameIdentifier	 Query
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
q	TokenNameIdentifier	 q
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
IndexReader	TokenNameIdentifier	 Index Reader
reader	TokenNameIdentifier	 reader
=	TokenNameEQUAL	
IndexReader	TokenNameIdentifier	 Index Reader
.	TokenNameDOT	
open	TokenNameIdentifier	 open
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
IndexSearcher	TokenNameIdentifier	 Index Searcher
searcher	TokenNameIdentifier	 searcher
=	TokenNameEQUAL	
new	TokenNamenew	
IndexSearcher	TokenNameIdentifier	 Index Searcher
(	TokenNameLPAREN	
reader	TokenNameIdentifier	 reader
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// This scorer can return negative idf -> null fragment 	TokenNameCOMMENT_LINE	This scorer can return negative idf -> null fragment 
Scorer	TokenNameIdentifier	 Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryTermScorer	TokenNameIdentifier	 Query Term Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
getIndexReader	TokenNameIdentifier	 get Index Reader
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
"t_text1"	TokenNameStringLiteral	t_text1
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// This scorer doesn't use idf (patch version) 	TokenNameCOMMENT_LINE	This scorer doesn't use idf (patch version) 
//Scorer scorer = new QueryTermScorer( query, "t_text1" ); 	TokenNameCOMMENT_LINE	Scorer scorer = new QueryTermScorer( query, "t_text1" ); 
Highlighter	TokenNameIdentifier	 Highlighter
h	TokenNameIdentifier	 h
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TopDocs	TokenNameIdentifier	 Top Docs
hits	TokenNameIdentifier	 hits
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
search	TokenNameIdentifier	 search
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
10	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Document	TokenNameIdentifier	 Document
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
h	TokenNameIdentifier	 h
.	TokenNameDOT	
getBestFragment	TokenNameIdentifier	 get Best Fragment
(	TokenNameLPAREN	
a	TokenNameIdentifier	 a
,	TokenNameCOMMA	
"t_text1"	TokenNameStringLiteral	t_text1
,	TokenNameCOMMA	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
"t_text1"	TokenNameStringLiteral	t_text1
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"result:"	TokenNameStringLiteral	result:
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
"more <B>random</B> words for second field"	TokenNameStringLiteral	more <B>random</B> words for second field
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reader	TokenNameIdentifier	 reader
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* * * public void testBigramAnalyzer() throws IOException, ParseException { * //test to ensure analyzers with none-consecutive start/end offsets //dont * double-highlight text //setup index 1 RAMDirectory ramDir = new * RAMDirectory(); Analyzer bigramAnalyzer=new CJKAnalyzer(); IndexWriter * writer = new IndexWriter(ramDir,bigramAnalyzer , true); Document d = new * Document(); Field f = new Field(FIELD_NAME, "java abc def", true, true, * true); d.add(f); writer.addDocument(d); writer.close(); IndexReader reader = * IndexReader.open(ramDir, true); * * IndexSearcher searcher=new IndexSearcher(reader); query = * QueryParser.parse("abc", FIELD_NAME, bigramAnalyzer); * System.out.println("Searching for: " + query.toString(FIELD_NAME)); hits = * searcher.search(query); * * Highlighter highlighter = new Highlighter(this,new * QueryFragmentScorer(query)); * * for (int i = 0; i < hits.totalHits; i++) { String text = * searcher.doc(hits.scoreDocs[i].doc).get(FIELD_NAME); TokenStream * tokenStream=bigramAnalyzer.tokenStream(FIELD_NAME,new StringReader(text)); * String highlightedText = highlighter.getBestFragment(tokenStream,text); * System.out.println(highlightedText); } } */	TokenNameCOMMENT_BLOCK	 * public void testBigramAnalyzer() throws IOException, ParseException { //test to ensure analyzers with none-consecutive start/end offsets //dont double-highlight text //setup index 1 RAMDirectory ramDir = new RAMDirectory(); Analyzer bigramAnalyzer=new CJKAnalyzer(); IndexWriter writer = new IndexWriter(ramDir,bigramAnalyzer , true); Document d = new Document(); Field f = new Field(FIELD_NAME, "java abc def", true, true, true); d.add(f); writer.addDocument(d); writer.close(); IndexReader reader = IndexReader.open(ramDir, true); * IndexSearcher searcher=new IndexSearcher(reader); query = QueryParser.parse("abc", FIELD_NAME, bigramAnalyzer); System.out.println("Searching for: " + query.toString(FIELD_NAME)); hits = searcher.search(query); * Highlighter highlighter = new Highlighter(this,new QueryFragmentScorer(query)); * for (int i = 0; i < hits.totalHits; i++) { String text = searcher.doc(hits.scoreDocs[i].doc).get(FIELD_NAME); TokenStream tokenStream=bigramAnalyzer.tokenStream(FIELD_NAME,new StringReader(text)); String highlightedText = highlighter.getBestFragment(tokenStream,text); System.out.println(highlightedText); } } 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
highlightTerm	TokenNameIdentifier	 highlight Term
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
originalText	TokenNameIdentifier	 original Text
,	TokenNameCOMMA	
TokenGroup	TokenNameIdentifier	 Token Group
group	TokenNameIdentifier	 group
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
group	TokenNameIdentifier	 group
.	TokenNameDOT	
getTotalScore	TokenNameIdentifier	 get Total Score
(	TokenNameLPAREN	
)	TokenNameRPAREN	
<=	TokenNameLESS_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
originalText	TokenNameIdentifier	 original Text
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
numHighlights	TokenNameIdentifier	 num Highlights
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
// update stats used in assertions 	TokenNameCOMMENT_LINE	update stats used in assertions 
return	TokenNamereturn	
"<B>"	TokenNameStringLiteral	<B>
+	TokenNamePLUS	
originalText	TokenNameIdentifier	 original Text
+	TokenNamePLUS	
"</B>"	TokenNameStringLiteral	</B>
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
queryString	TokenNameIdentifier	 query String
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
QueryParser	TokenNameIdentifier	 Query Parser
parser	TokenNameIdentifier	 parser
=	TokenNameEQUAL	
new	TokenNamenew	
QueryParser	TokenNameIdentifier	 Query Parser
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
analyzer	TokenNameIdentifier	 analyzer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
setEnablePositionIncrements	TokenNameIdentifier	 set Enable Position Increments
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
setMultiTermRewriteMethod	TokenNameIdentifier	 set Multi Term Rewrite Method
(	TokenNameLPAREN	
MultiTermQuery	TokenNameIdentifier	 Multi Term Query
.	TokenNameDOT	
SCORING_BOOLEAN_QUERY_REWRITE	TokenNameIdentifier	 SCORING  BOOLEAN  QUERY  REWRITE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
queryString	TokenNameIdentifier	 query String
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
doSearching	TokenNameIdentifier	 do Searching
(	TokenNameLPAREN	
Query	TokenNameIdentifier	 Query
unReWrittenQuery	TokenNameIdentifier	 un Re Written Query
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
searcher	TokenNameIdentifier	 searcher
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
searcher	TokenNameIdentifier	 searcher
=	TokenNameEQUAL	
new	TokenNamenew	
IndexSearcher	TokenNameIdentifier	 Index Searcher
(	TokenNameLPAREN	
reader	TokenNameIdentifier	 reader
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// for any multi-term queries to work (prefix, wildcard, range,fuzzy etc) 	TokenNameCOMMENT_LINE	for any multi-term queries to work (prefix, wildcard, range,fuzzy etc) 
// you must use a rewritten query! 	TokenNameCOMMENT_LINE	you must use a rewritten query! 
query	TokenNameIdentifier	 query
=	TokenNameEQUAL	
unReWrittenQuery	TokenNameIdentifier	 un Re Written Query
.	TokenNameDOT	
rewrite	TokenNameIdentifier	 rewrite
(	TokenNameLPAREN	
reader	TokenNameIdentifier	 reader
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Searching for: "	TokenNameStringLiteral	Searching for: 
+	TokenNamePLUS	
query	TokenNameIdentifier	 query
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
hits	TokenNameIdentifier	 hits
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
search	TokenNameIdentifier	 search
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
1000	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
assertExpectedHighlightCount	TokenNameIdentifier	 assert Expected Highlight Count
(	TokenNameLPAREN	
final	TokenNamefinal	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
final	TokenNamefinal	
int	TokenNameint	
expectedHighlights	TokenNameIdentifier	 expected Highlights
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
QueryScorer	TokenNameIdentifier	 Query Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
40	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
"..."	TokenNameStringLiteral	...
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
"Failed to find correct number of highlights "	TokenNameStringLiteral	Failed to find correct number of highlights 
+	TokenNamePLUS	
numHighlights	TokenNameIdentifier	 num Highlights
+	TokenNamePLUS	
" found"	TokenNameStringLiteral	 found
,	TokenNameCOMMA	
numHighlights	TokenNameIdentifier	 num Highlights
==	TokenNameEQUAL_EQUAL	
expectedHighlights	TokenNameIdentifier	 expected Highlights
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
setUp	TokenNameIdentifier	 set Up
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
super	TokenNamesuper	
.	TokenNameDOT	
setUp	TokenNameIdentifier	 set Up
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
dir	TokenNameIdentifier	 dir
=	TokenNameEQUAL	
newDirectory	TokenNameIdentifier	 new Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ramDir	TokenNameIdentifier	 ram Dir
=	TokenNameEQUAL	
newDirectory	TokenNameIdentifier	 new Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
IndexWriter	TokenNameIdentifier	 Index Writer
writer	TokenNameIdentifier	 writer
=	TokenNameEQUAL	
new	TokenNamenew	
IndexWriter	TokenNameIdentifier	 Index Writer
(	TokenNameLPAREN	
ramDir	TokenNameIdentifier	 ram Dir
,	TokenNameCOMMA	
newIndexWriterConfig	TokenNameIdentifier	 new Index Writer Config
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
new	TokenNamenew	
StandardAnalyzer	TokenNameIdentifier	 Standard Analyzer
(	TokenNameLPAREN	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
texts	TokenNameIdentifier	 texts
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
addDoc	TokenNameIdentifier	 add Doc
(	TokenNameLPAREN	
writer	TokenNameIdentifier	 writer
,	TokenNameCOMMA	
texts	TokenNameIdentifier	 texts
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Document	TokenNameIdentifier	 Document
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
new	TokenNamenew	
Document	TokenNameIdentifier	 Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
NumericField	TokenNameIdentifier	 Numeric Field
nfield	TokenNameIdentifier	 nfield
=	TokenNameEQUAL	
new	TokenNamenew	
NumericField	TokenNameIdentifier	 Numeric Field
(	TokenNameLPAREN	
NUMERIC_FIELD_NAME	TokenNameIdentifier	 NUMERIC  FIELD  NAME
,	TokenNameCOMMA	
Store	TokenNameIdentifier	 Store
.	TokenNameDOT	
YES	TokenNameIdentifier	 YES
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
nfield	TokenNameIdentifier	 nfield
.	TokenNameDOT	
setIntValue	TokenNameIdentifier	 set Int Value
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
nfield	TokenNameIdentifier	 nfield
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
addDocument	TokenNameIdentifier	 add Document
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
,	TokenNameCOMMA	
analyzer	TokenNameIdentifier	 analyzer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
nfield	TokenNameIdentifier	 nfield
=	TokenNameEQUAL	
new	TokenNamenew	
NumericField	TokenNameIdentifier	 Numeric Field
(	TokenNameLPAREN	
NUMERIC_FIELD_NAME	TokenNameIdentifier	 NUMERIC  FIELD  NAME
,	TokenNameCOMMA	
Store	TokenNameIdentifier	 Store
.	TokenNameDOT	
YES	TokenNameIdentifier	 YES
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
nfield	TokenNameIdentifier	 nfield
.	TokenNameDOT	
setIntValue	TokenNameIdentifier	 set Int Value
(	TokenNameLPAREN	
3	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
new	TokenNamenew	
Document	TokenNameIdentifier	 Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
nfield	TokenNameIdentifier	 nfield
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
addDocument	TokenNameIdentifier	 add Document
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
,	TokenNameCOMMA	
analyzer	TokenNameIdentifier	 analyzer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
nfield	TokenNameIdentifier	 nfield
=	TokenNameEQUAL	
new	TokenNamenew	
NumericField	TokenNameIdentifier	 Numeric Field
(	TokenNameLPAREN	
NUMERIC_FIELD_NAME	TokenNameIdentifier	 NUMERIC  FIELD  NAME
,	TokenNameCOMMA	
Store	TokenNameIdentifier	 Store
.	TokenNameDOT	
YES	TokenNameIdentifier	 YES
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
nfield	TokenNameIdentifier	 nfield
.	TokenNameDOT	
setIntValue	TokenNameIdentifier	 set Int Value
(	TokenNameLPAREN	
5	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
new	TokenNamenew	
Document	TokenNameIdentifier	 Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
nfield	TokenNameIdentifier	 nfield
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
addDocument	TokenNameIdentifier	 add Document
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
,	TokenNameCOMMA	
analyzer	TokenNameIdentifier	 analyzer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
nfield	TokenNameIdentifier	 nfield
=	TokenNameEQUAL	
new	TokenNamenew	
NumericField	TokenNameIdentifier	 Numeric Field
(	TokenNameLPAREN	
NUMERIC_FIELD_NAME	TokenNameIdentifier	 NUMERIC  FIELD  NAME
,	TokenNameCOMMA	
Store	TokenNameIdentifier	 Store
.	TokenNameDOT	
YES	TokenNameIdentifier	 YES
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
nfield	TokenNameIdentifier	 nfield
.	TokenNameDOT	
setIntValue	TokenNameIdentifier	 set Int Value
(	TokenNameLPAREN	
7	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
new	TokenNamenew	
Document	TokenNameIdentifier	 Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
nfield	TokenNameIdentifier	 nfield
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
addDocument	TokenNameIdentifier	 add Document
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
,	TokenNameCOMMA	
analyzer	TokenNameIdentifier	 analyzer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
forceMerge	TokenNameIdentifier	 force Merge
(	TokenNameLPAREN	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reader	TokenNameIdentifier	 reader
=	TokenNameEQUAL	
IndexReader	TokenNameIdentifier	 Index Reader
.	TokenNameDOT	
open	TokenNameIdentifier	 open
(	TokenNameLPAREN	
ramDir	TokenNameIdentifier	 ram Dir
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
numHighlights	TokenNameIdentifier	 num Highlights
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
tearDown	TokenNameIdentifier	 tear Down
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
searcher	TokenNameIdentifier	 searcher
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
reader	TokenNameIdentifier	 reader
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
dir	TokenNameIdentifier	 dir
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ramDir	TokenNameIdentifier	 ram Dir
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
super	TokenNamesuper	
.	TokenNameDOT	
tearDown	TokenNameIdentifier	 tear Down
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
addDoc	TokenNameIdentifier	 add Doc
(	TokenNameLPAREN	
IndexWriter	TokenNameIdentifier	 Index Writer
writer	TokenNameIdentifier	 writer
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
Document	TokenNameIdentifier	 Document
d	TokenNameIdentifier	 d
=	TokenNameEQUAL	
new	TokenNamenew	
Document	TokenNameIdentifier	 Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Field	TokenNameIdentifier	 Field
f	TokenNameIdentifier	 f
=	TokenNameEQUAL	
new	TokenNamenew	
Field	TokenNameIdentifier	 Field
(	TokenNameLPAREN	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
Field	TokenNameIdentifier	 Field
.	TokenNameDOT	
Store	TokenNameIdentifier	 Store
.	TokenNameDOT	
YES	TokenNameIdentifier	 YES
,	TokenNameCOMMA	
Field	TokenNameIdentifier	 Field
.	TokenNameDOT	
Index	TokenNameIdentifier	 Index
.	TokenNameDOT	
ANALYZED	TokenNameIdentifier	 ANALYZED
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
d	TokenNameIdentifier	 d
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
f	TokenNameIdentifier	 f
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
writer	TokenNameIdentifier	 writer
.	TokenNameDOT	
addDocument	TokenNameIdentifier	 add Document
(	TokenNameLPAREN	
d	TokenNameIdentifier	 d
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
Token	TokenNameIdentifier	 Token
createToken	TokenNameIdentifier	 create Token
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
term	TokenNameIdentifier	 term
,	TokenNameCOMMA	
int	TokenNameint	
start	TokenNameIdentifier	 start
,	TokenNameCOMMA	
int	TokenNameint	
offset	TokenNameIdentifier	 offset
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
new	TokenNamenew	
Token	TokenNameIdentifier	 Token
(	TokenNameLPAREN	
term	TokenNameIdentifier	 term
,	TokenNameCOMMA	
start	TokenNameIdentifier	 start
,	TokenNameCOMMA	
offset	TokenNameIdentifier	 offset
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// =================================================================== 	TokenNameCOMMENT_LINE	=================================================================== 
// ========== BEGIN TEST SUPPORTING CLASSES 	TokenNameCOMMENT_LINE	========== BEGIN TEST SUPPORTING CLASSES 
// ========== THESE LOOK LIKE, WITH SOME MORE EFFORT THESE COULD BE 	TokenNameCOMMENT_LINE	========== THESE LOOK LIKE, WITH SOME MORE EFFORT THESE COULD BE 
// ========== MADE MORE GENERALLY USEFUL. 	TokenNameCOMMENT_LINE	========== MADE MORE GENERALLY USEFUL. 
// TODO - make synonyms all interchangeable with each other and produce 	TokenNameCOMMENT_LINE	TODO - make synonyms all interchangeable with each other and produce 
// a version that does hyponyms - the "is a specialised type of ...." 	TokenNameCOMMENT_LINE	a version that does hyponyms - the "is a specialised type of ...." 
// so that car = audi, bmw and volkswagen but bmw != audi so different 	TokenNameCOMMENT_LINE	so that car = audi, bmw and volkswagen but bmw != audi so different 
// behaviour to synonyms 	TokenNameCOMMENT_LINE	behaviour to synonyms 
// =================================================================== 	TokenNameCOMMENT_LINE	=================================================================== 
final	TokenNamefinal	
class	TokenNameclass	
SynonymAnalyzer	TokenNameIdentifier	 Synonym Analyzer
extends	TokenNameextends	
Analyzer	TokenNameIdentifier	 Analyzer
{	TokenNameLBRACE	
private	TokenNameprivate	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
>	TokenNameGREATER	
synonyms	TokenNameIdentifier	 synonyms
;	TokenNameSEMICOLON	
public	TokenNamepublic	
SynonymAnalyzer	TokenNameIdentifier	 Synonym Analyzer
(	TokenNameLPAREN	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
>	TokenNameGREATER	
synonyms	TokenNameIdentifier	 synonyms
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
synonyms	TokenNameIdentifier	 synonyms
=	TokenNameEQUAL	
synonyms	TokenNameIdentifier	 synonyms
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* * (non-Javadoc) * * @see org.apache.lucene.analysis.Analyzer#tokenStream(java.lang.String, * java.io.Reader) */	TokenNameCOMMENT_BLOCK	 (non-Javadoc) * @see org.apache.lucene.analysis.Analyzer#tokenStream(java.lang.String, java.io.Reader) 
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
arg0	TokenNameIdentifier	 arg0
,	TokenNameCOMMA	
Reader	TokenNameIdentifier	 Reader
arg1	TokenNameIdentifier	 arg1
)	TokenNameRPAREN	
{	TokenNameLBRACE	
LowerCaseTokenizer	TokenNameIdentifier	 Lower Case Tokenizer
stream	TokenNameIdentifier	 stream
=	TokenNameEQUAL	
new	TokenNamenew	
LowerCaseTokenizer	TokenNameIdentifier	 Lower Case Tokenizer
(	TokenNameLPAREN	
LuceneTestCase	TokenNameIdentifier	 Lucene Test Case
.	TokenNameDOT	
TEST_VERSION_CURRENT	TokenNameIdentifier	 TEST  VERSION  CURRENT
,	TokenNameCOMMA	
arg1	TokenNameIdentifier	 arg1
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
stream	TokenNameIdentifier	 stream
.	TokenNameDOT	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
CharTermAttribute	TokenNameIdentifier	 Char Term Attribute
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
stream	TokenNameIdentifier	 stream
.	TokenNameDOT	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
PositionIncrementAttribute	TokenNameIdentifier	 Position Increment Attribute
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
stream	TokenNameIdentifier	 stream
.	TokenNameDOT	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
OffsetAttribute	TokenNameIdentifier	 Offset Attribute
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
stream	TokenNameIdentifier	 stream
.	TokenNameDOT	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
new	TokenNamenew	
SynonymTokenizer	TokenNameIdentifier	 Synonym Tokenizer
(	TokenNameLPAREN	
stream	TokenNameIdentifier	 stream
,	TokenNameCOMMA	
synonyms	TokenNameIdentifier	 synonyms
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Expands a token stream with synonyms (TODO - make the synonyms analyzed by choice of analyzer) * */	TokenNameCOMMENT_JAVADOC	 Expands a token stream with synonyms (TODO - make the synonyms analyzed by choice of analyzer) 
final	TokenNamefinal	
class	TokenNameclass	
SynonymTokenizer	TokenNameIdentifier	 Synonym Tokenizer
extends	TokenNameextends	
TokenStream	TokenNameIdentifier	 Token Stream
{	TokenNameLBRACE	
private	TokenNameprivate	
final	TokenNamefinal	
TokenStream	TokenNameIdentifier	 Token Stream
realStream	TokenNameIdentifier	 real Stream
;	TokenNameSEMICOLON	
private	TokenNameprivate	
Token	TokenNameIdentifier	 Token
currentRealToken	TokenNameIdentifier	 current Real Token
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
>	TokenNameGREATER	
synonyms	TokenNameIdentifier	 synonyms
;	TokenNameSEMICOLON	
private	TokenNameprivate	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
st	TokenNameIdentifier	 st
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
CharTermAttribute	TokenNameIdentifier	 Char Term Attribute
realTermAtt	TokenNameIdentifier	 real Term Att
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
PositionIncrementAttribute	TokenNameIdentifier	 Position Increment Attribute
realPosIncrAtt	TokenNameIdentifier	 real Pos Incr Att
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
OffsetAttribute	TokenNameIdentifier	 Offset Attribute
realOffsetAtt	TokenNameIdentifier	 real Offset Att
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
CharTermAttribute	TokenNameIdentifier	 Char Term Attribute
termAtt	TokenNameIdentifier	 term Att
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
PositionIncrementAttribute	TokenNameIdentifier	 Position Increment Attribute
posIncrAtt	TokenNameIdentifier	 pos Incr Att
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
OffsetAttribute	TokenNameIdentifier	 Offset Attribute
offsetAtt	TokenNameIdentifier	 offset Att
;	TokenNameSEMICOLON	
public	TokenNamepublic	
SynonymTokenizer	TokenNameIdentifier	 Synonym Tokenizer
(	TokenNameLPAREN	
TokenStream	TokenNameIdentifier	 Token Stream
realStream	TokenNameIdentifier	 real Stream
,	TokenNameCOMMA	
Map	TokenNameIdentifier	 Map
<	TokenNameLESS	
String	TokenNameIdentifier	 String
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
>	TokenNameGREATER	
synonyms	TokenNameIdentifier	 synonyms
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
realStream	TokenNameIdentifier	 real Stream
=	TokenNameEQUAL	
realStream	TokenNameIdentifier	 real Stream
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
synonyms	TokenNameIdentifier	 synonyms
=	TokenNameEQUAL	
synonyms	TokenNameIdentifier	 synonyms
;	TokenNameSEMICOLON	
realTermAtt	TokenNameIdentifier	 real Term Att
=	TokenNameEQUAL	
realStream	TokenNameIdentifier	 real Stream
.	TokenNameDOT	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
CharTermAttribute	TokenNameIdentifier	 Char Term Attribute
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
realPosIncrAtt	TokenNameIdentifier	 real Pos Incr Att
=	TokenNameEQUAL	
realStream	TokenNameIdentifier	 real Stream
.	TokenNameDOT	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
PositionIncrementAttribute	TokenNameIdentifier	 Position Increment Attribute
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
realOffsetAtt	TokenNameIdentifier	 real Offset Att
=	TokenNameEQUAL	
realStream	TokenNameIdentifier	 real Stream
.	TokenNameDOT	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
OffsetAttribute	TokenNameIdentifier	 Offset Attribute
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
termAtt	TokenNameIdentifier	 term Att
=	TokenNameEQUAL	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
CharTermAttribute	TokenNameIdentifier	 Char Term Attribute
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
posIncrAtt	TokenNameIdentifier	 pos Incr Att
=	TokenNameEQUAL	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
PositionIncrementAttribute	TokenNameIdentifier	 Position Increment Attribute
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
offsetAtt	TokenNameIdentifier	 offset Att
=	TokenNameEQUAL	
addAttribute	TokenNameIdentifier	 add Attribute
(	TokenNameLPAREN	
OffsetAttribute	TokenNameIdentifier	 Offset Attribute
.	TokenNameDOT	
class	TokenNameclass	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
boolean	TokenNameboolean	
incrementToken	TokenNameIdentifier	 increment Token
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
currentRealToken	TokenNameIdentifier	 current Real Token
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
next	TokenNameIdentifier	 next
=	TokenNameEQUAL	
realStream	TokenNameIdentifier	 real Stream
.	TokenNameDOT	
incrementToken	TokenNameIdentifier	 increment Token
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
next	TokenNameIdentifier	 next
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
//Token nextRealToken = new Token(, offsetAtt.startOffset(), offsetAtt.endOffset()); 	TokenNameCOMMENT_LINE	Token nextRealToken = new Token(, offsetAtt.startOffset(), offsetAtt.endOffset()); 
clearAttributes	TokenNameIdentifier	 clear Attributes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
termAtt	TokenNameIdentifier	 term Att
.	TokenNameDOT	
copyBuffer	TokenNameIdentifier	 copy Buffer
(	TokenNameLPAREN	
realTermAtt	TokenNameIdentifier	 real Term Att
.	TokenNameDOT	
buffer	TokenNameIdentifier	 buffer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
realTermAtt	TokenNameIdentifier	 real Term Att
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
offsetAtt	TokenNameIdentifier	 offset Att
.	TokenNameDOT	
setOffset	TokenNameIdentifier	 set Offset
(	TokenNameLPAREN	
realOffsetAtt	TokenNameIdentifier	 real Offset Att
.	TokenNameDOT	
startOffset	TokenNameIdentifier	 start Offset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
realOffsetAtt	TokenNameIdentifier	 real Offset Att
.	TokenNameDOT	
endOffset	TokenNameIdentifier	 end Offset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
posIncrAtt	TokenNameIdentifier	 pos Incr Att
.	TokenNameDOT	
setPositionIncrement	TokenNameIdentifier	 set Position Increment
(	TokenNameLPAREN	
realPosIncrAtt	TokenNameIdentifier	 real Pos Incr Att
.	TokenNameDOT	
getPositionIncrement	TokenNameIdentifier	 get Position Increment
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
expansions	TokenNameIdentifier	 expansions
=	TokenNameEQUAL	
synonyms	TokenNameIdentifier	 synonyms
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
realTermAtt	TokenNameIdentifier	 real Term Att
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
expansions	TokenNameIdentifier	 expansions
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
st	TokenNameIdentifier	 st
=	TokenNameEQUAL	
new	TokenNamenew	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
(	TokenNameLPAREN	
expansions	TokenNameIdentifier	 expansions
,	TokenNameCOMMA	
","	TokenNameStringLiteral	,
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
st	TokenNameIdentifier	 st
.	TokenNameDOT	
hasMoreTokens	TokenNameIdentifier	 has More Tokens
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentRealToken	TokenNameIdentifier	 current Real Token
=	TokenNameEQUAL	
new	TokenNamenew	
Token	TokenNameIdentifier	 Token
(	TokenNameLPAREN	
realOffsetAtt	TokenNameIdentifier	 real Offset Att
.	TokenNameDOT	
startOffset	TokenNameIdentifier	 start Offset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
realOffsetAtt	TokenNameIdentifier	 real Offset Att
.	TokenNameDOT	
endOffset	TokenNameIdentifier	 end Offset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
currentRealToken	TokenNameIdentifier	 current Real Token
.	TokenNameDOT	
copyBuffer	TokenNameIdentifier	 copy Buffer
(	TokenNameLPAREN	
realTermAtt	TokenNameIdentifier	 real Term Att
.	TokenNameDOT	
buffer	TokenNameIdentifier	 buffer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
realTermAtt	TokenNameIdentifier	 real Term Att
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
tok	TokenNameIdentifier	 tok
=	TokenNameEQUAL	
st	TokenNameIdentifier	 st
.	TokenNameDOT	
nextToken	TokenNameIdentifier	 next Token
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
clearAttributes	TokenNameIdentifier	 clear Attributes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
termAtt	TokenNameIdentifier	 term Att
.	TokenNameDOT	
setEmpty	TokenNameIdentifier	 set Empty
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
tok	TokenNameIdentifier	 tok
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
offsetAtt	TokenNameIdentifier	 offset Att
.	TokenNameDOT	
setOffset	TokenNameIdentifier	 set Offset
(	TokenNameLPAREN	
currentRealToken	TokenNameIdentifier	 current Real Token
.	TokenNameDOT	
startOffset	TokenNameIdentifier	 start Offset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
currentRealToken	TokenNameIdentifier	 current Real Token
.	TokenNameDOT	
endOffset	TokenNameIdentifier	 end Offset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
posIncrAtt	TokenNameIdentifier	 pos Incr Att
.	TokenNameDOT	
setPositionIncrement	TokenNameIdentifier	 set Position Increment
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
st	TokenNameIdentifier	 st
.	TokenNameDOT	
hasMoreTokens	TokenNameIdentifier	 has More Tokens
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentRealToken	TokenNameIdentifier	 current Real Token
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
st	TokenNameIdentifier	 st
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
super	TokenNamesuper	
.	TokenNameDOT	
reset	TokenNameIdentifier	 reset
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
currentRealToken	TokenNameIdentifier	 current Real Token
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
st	TokenNameIdentifier	 st
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
static	TokenNamestatic	
abstract	TokenNameabstract	
class	TokenNameclass	
TestHighlightRunner	TokenNameIdentifier	 Test Highlight Runner
{	TokenNameLBRACE	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
QUERY	TokenNameIdentifier	 QUERY
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
QUERY_TERM	TokenNameIdentifier	 QUERY  TERM
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
int	TokenNameint	
mode	TokenNameIdentifier	 mode
=	TokenNameEQUAL	
QUERY	TokenNameIdentifier	 QUERY
;	TokenNameSEMICOLON	
Fragmenter	TokenNameIdentifier	 Fragmenter
frag	TokenNameIdentifier	 frag
=	TokenNameEQUAL	
new	TokenNamenew	
SimpleFragmenter	TokenNameIdentifier	 Simple Fragmenter
(	TokenNameLPAREN	
20	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
Highlighter	TokenNameIdentifier	 Highlighter
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
Query	TokenNameIdentifier	 Query
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
fieldName	TokenNameIdentifier	 field Name
,	TokenNameCOMMA	
TokenStream	TokenNameIdentifier	 Token Stream
stream	TokenNameIdentifier	 stream
,	TokenNameCOMMA	
Formatter	TokenNameIdentifier	 Formatter
formatter	TokenNameIdentifier	 formatter
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
fieldName	TokenNameIdentifier	 field Name
,	TokenNameCOMMA	
stream	TokenNameIdentifier	 stream
,	TokenNameCOMMA	
formatter	TokenNameIdentifier	 formatter
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Highlighter	TokenNameIdentifier	 Highlighter
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
Query	TokenNameIdentifier	 Query
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
fieldName	TokenNameIdentifier	 field Name
,	TokenNameCOMMA	
TokenStream	TokenNameIdentifier	 Token Stream
stream	TokenNameIdentifier	 stream
,	TokenNameCOMMA	
Formatter	TokenNameIdentifier	 Formatter
formatter	TokenNameIdentifier	 formatter
,	TokenNameCOMMA	
boolean	TokenNameboolean	
expanMultiTerm	TokenNameIdentifier	 expan Multi Term
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Scorer	TokenNameIdentifier	 Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
mode	TokenNameIdentifier	 mode
==	TokenNameEQUAL_EQUAL	
QUERY	TokenNameIdentifier	 QUERY
)	TokenNameRPAREN	
{	TokenNameLBRACE	
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
fieldName	TokenNameIdentifier	 field Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
expanMultiTerm	TokenNameIdentifier	 expan Multi Term
)	TokenNameRPAREN	
{	TokenNameLBRACE	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
QueryScorer	TokenNameIdentifier	 Query Scorer
)	TokenNameRPAREN	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
.	TokenNameDOT	
setExpandMultiTermQuery	TokenNameIdentifier	 set Expand Multi Term Query
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
mode	TokenNameIdentifier	 mode
==	TokenNameEQUAL_EQUAL	
QUERY_TERM	TokenNameIdentifier	 QUERY  TERM
)	TokenNameRPAREN	
{	TokenNameLBRACE	
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryTermScorer	TokenNameIdentifier	 Query Term Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
"Unknown highlight mode"	TokenNameStringLiteral	Unknown highlight mode
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
formatter	TokenNameIdentifier	 formatter
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Highlighter	TokenNameIdentifier	 Highlighter
getHighlighter	TokenNameIdentifier	 get Highlighter
(	TokenNameLPAREN	
WeightedTerm	TokenNameIdentifier	 Weighted Term
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
weightedTerms	TokenNameIdentifier	 weighted Terms
,	TokenNameCOMMA	
Formatter	TokenNameIdentifier	 Formatter
formatter	TokenNameIdentifier	 formatter
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
mode	TokenNameIdentifier	 mode
==	TokenNameEQUAL_EQUAL	
QUERY	TokenNameIdentifier	 QUERY
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
formatter	TokenNameIdentifier	 formatter
,	TokenNameCOMMA	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
(	TokenNameLPAREN	
WeightedSpanTerm	TokenNameIdentifier	 Weighted Span Term
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
weightedTerms	TokenNameIdentifier	 weighted Terms
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
mode	TokenNameIdentifier	 mode
==	TokenNameEQUAL_EQUAL	
QUERY_TERM	TokenNameIdentifier	 QUERY  TERM
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
formatter	TokenNameIdentifier	 formatter
,	TokenNameCOMMA	
new	TokenNamenew	
QueryTermScorer	TokenNameIdentifier	 Query Term Scorer
(	TokenNameLPAREN	
weightedTerms	TokenNameIdentifier	 weighted Terms
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
RuntimeException	TokenNameIdentifier	 Runtime Exception
(	TokenNameLPAREN	
"Unknown highlight mode"	TokenNameStringLiteral	Unknown highlight mode
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
void	TokenNamevoid	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
Analyzer	TokenNameIdentifier	 Analyzer
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
IndexSearcher	TokenNameIdentifier	 Index Searcher
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
TopDocs	TokenNameIdentifier	 Top Docs
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
Query	TokenNameIdentifier	 Query
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
Formatter	TokenNameIdentifier	 Formatter
formatter	TokenNameIdentifier	 formatter
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
formatter	TokenNameIdentifier	 formatter
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
void	TokenNamevoid	
doStandardHighlights	TokenNameIdentifier	 do Standard Highlights
(	TokenNameLPAREN	
Analyzer	TokenNameIdentifier	 Analyzer
analyzer	TokenNameIdentifier	 analyzer
,	TokenNameCOMMA	
IndexSearcher	TokenNameIdentifier	 Index Searcher
searcher	TokenNameIdentifier	 searcher
,	TokenNameCOMMA	
TopDocs	TokenNameIdentifier	 Top Docs
hits	TokenNameIdentifier	 hits
,	TokenNameCOMMA	
Query	TokenNameIdentifier	 Query
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
Formatter	TokenNameIdentifier	 Formatter
formatter	TokenNameIdentifier	 formatter
,	TokenNameCOMMA	
boolean	TokenNameboolean	
expandMT	TokenNameIdentifier	 expand MT
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
totalHits	TokenNameIdentifier	 total Hits
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
text	TokenNameIdentifier	 text
=	TokenNameEQUAL	
searcher	TokenNameIdentifier	 searcher
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
(	TokenNameLPAREN	
hits	TokenNameIdentifier	 hits
.	TokenNameDOT	
scoreDocs	TokenNameIdentifier	 score Docs
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
fragmentSeparator	TokenNameIdentifier	 fragment Separator
=	TokenNameEQUAL	
"..."	TokenNameStringLiteral	...
;	TokenNameSEMICOLON	
Scorer	TokenNameIdentifier	 Scorer
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
TokenStream	TokenNameIdentifier	 Token Stream
tokenStream	TokenNameIdentifier	 token Stream
=	TokenNameEQUAL	
analyzer	TokenNameIdentifier	 analyzer
.	TokenNameDOT	
tokenStream	TokenNameIdentifier	 token Stream
(	TokenNameLPAREN	
HighlighterTest	TokenNameIdentifier	 Highlighter Test
.	TokenNameDOT	
FIELD_NAME	TokenNameIdentifier	 FIELD  NAME
,	TokenNameCOMMA	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
text	TokenNameIdentifier	 text
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
mode	TokenNameIdentifier	 mode
==	TokenNameEQUAL_EQUAL	
QUERY	TokenNameIdentifier	 QUERY
)	TokenNameRPAREN	
{	TokenNameLBRACE	
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryScorer	TokenNameIdentifier	 Query Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
mode	TokenNameIdentifier	 mode
==	TokenNameEQUAL_EQUAL	
QUERY_TERM	TokenNameIdentifier	 QUERY  TERM
)	TokenNameRPAREN	
{	TokenNameLBRACE	
scorer	TokenNameIdentifier	 scorer
=	TokenNameEQUAL	
new	TokenNamenew	
QueryTermScorer	TokenNameIdentifier	 Query Term Scorer
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Highlighter	TokenNameIdentifier	 Highlighter
highlighter	TokenNameIdentifier	 highlighter
=	TokenNameEQUAL	
new	TokenNamenew	
Highlighter	TokenNameIdentifier	 Highlighter
(	TokenNameLPAREN	
formatter	TokenNameIdentifier	 formatter
,	TokenNameCOMMA	
scorer	TokenNameIdentifier	 scorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
setTextFragmenter	TokenNameIdentifier	 set Text Fragmenter
(	TokenNameLPAREN	
frag	TokenNameIdentifier	 frag
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
highlighter	TokenNameIdentifier	 highlighter
.	TokenNameDOT	
getBestFragments	TokenNameIdentifier	 get Best Fragments
(	TokenNameLPAREN	
tokenStream	TokenNameIdentifier	 token Stream
,	TokenNameCOMMA	
text	TokenNameIdentifier	 text
,	TokenNameCOMMA	
maxNumFragmentsRequired	TokenNameIdentifier	 max Num Fragments Required
,	TokenNameCOMMA	
fragmentSeparator	TokenNameIdentifier	 fragment Separator
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
LuceneTestCase	TokenNameIdentifier	 Lucene Test Case
.	TokenNameDOT	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
abstract	TokenNameabstract	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
;	TokenNameSEMICOLON	
void	TokenNamevoid	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
LuceneTestCase	TokenNameIdentifier	 Lucene Test Case
.	TokenNameDOT	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Run QueryScorer"	TokenNameStringLiteral	Run QueryScorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
LuceneTestCase	TokenNameIdentifier	 Lucene Test Case
.	TokenNameDOT	
VERBOSE	TokenNameIdentifier	 VERBOSE
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
println	TokenNameIdentifier	 println
(	TokenNameLPAREN	
"Run QueryTermScorer"	TokenNameStringLiteral	Run QueryTermScorer
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
mode	TokenNameIdentifier	 mode
=	TokenNameEQUAL	
QUERY_TERM	TokenNameIdentifier	 QUERY  TERM
;	TokenNameSEMICOLON	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
