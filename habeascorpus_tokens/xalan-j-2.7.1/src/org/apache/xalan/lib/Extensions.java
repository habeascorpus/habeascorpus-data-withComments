/* * Licensed to the Apache Software Foundation (ASF) under one * or more contributor license agreements. See the NOTICE file * distributed with this work for additional information * regarding copyright ownership. The ASF licenses this file * to you under the Apache License, Version 2.0 (the "License"); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to you under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
/* * $Id: Extensions.java 468639 2006-10-28 06:52:33Z minchau $ */	TokenNameCOMMENT_BLOCK	 $Id: Extensions.java 468639 2006-10-28 06:52:33Z minchau $ 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
lib	TokenNameIdentifier	 lib
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Hashtable	TokenNameIdentifier	 Hashtable
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
parsers	TokenNameIdentifier	 parsers
.	TokenNameDOT	
DocumentBuilder	TokenNameIdentifier	 Document Builder
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
parsers	TokenNameIdentifier	 parsers
.	TokenNameDOT	
DocumentBuilderFactory	TokenNameIdentifier	 Document Builder Factory
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
parsers	TokenNameIdentifier	 parsers
.	TokenNameDOT	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
extensions	TokenNameIdentifier	 extensions
.	TokenNameDOT	
ExpressionContext	TokenNameIdentifier	 Expression Context
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
xslt	TokenNameIdentifier	 xslt
.	TokenNameDOT	
EnvironmentCheck	TokenNameIdentifier	 Environment Check
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xpath	TokenNameIdentifier	 xpath
.	TokenNameDOT	
NodeSet	TokenNameIdentifier	 Node Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xpath	TokenNameIdentifier	 xpath
.	TokenNameDOT	
objects	TokenNameIdentifier	 objects
.	TokenNameDOT	
XBoolean	TokenNameIdentifier	 X Boolean
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xpath	TokenNameIdentifier	 xpath
.	TokenNameDOT	
objects	TokenNameIdentifier	 objects
.	TokenNameDOT	
XNumber	TokenNameIdentifier	 X Number
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xpath	TokenNameIdentifier	 xpath
.	TokenNameDOT	
objects	TokenNameIdentifier	 objects
.	TokenNameDOT	
XObject	TokenNameIdentifier	 X Object
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Document	TokenNameIdentifier	 Document
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
DocumentFragment	TokenNameIdentifier	 Document Fragment
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Node	TokenNameIdentifier	 Node
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
NodeList	TokenNameIdentifier	 Node List
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
Text	TokenNameIdentifier	 Text
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
w3c	TokenNameIdentifier	 w3c
.	TokenNameDOT	
dom	TokenNameIdentifier	 dom
.	TokenNameDOT	
traversal	TokenNameIdentifier	 traversal
.	TokenNameDOT	
NodeIterator	TokenNameIdentifier	 Node Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
sax	TokenNameIdentifier	 sax
.	TokenNameDOT	
SAXNotSupportedException	TokenNameIdentifier	 SAX Not Supported Exception
;	TokenNameSEMICOLON	
/** * This class contains many of the Xalan-supplied extensions. * It is accessed by specifying a namespace URI as follows: * <pre> * xmlns:xalan="http://xml.apache.org/xalan" * </pre> * @xsl.usage general */	TokenNameCOMMENT_JAVADOC	 This class contains many of the Xalan-supplied extensions. It is accessed by specifying a namespace URI as follows: <pre> xmlns:xalan="http://xml.apache.org/xalan" </pre> @xsl.usage general 
public	TokenNamepublic	
class	TokenNameclass	
Extensions	TokenNameIdentifier	 Extensions
{	TokenNameLBRACE	
/** * Constructor Extensions * */	TokenNameCOMMENT_JAVADOC	 Constructor Extensions 
private	TokenNameprivate	
Extensions	TokenNameIdentifier	 Extensions
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
// Make sure class cannot be instantiated 	TokenNameCOMMENT_LINE	Make sure class cannot be instantiated 
/** * This method is an extension that implements as a Xalan extension * the node-set function also found in xt and saxon. * If the argument is a Result Tree Fragment, then <code>nodeset</code> * returns a node-set consisting of a single root node as described in * section 11.1 of the XSLT 1.0 Recommendation. If the argument is a * node-set, <code>nodeset</code> returns a node-set. If the argument * is a string, number, or boolean, then <code>nodeset</code> returns * a node-set consisting of a single root node with a single text node * child that is the result of calling the XPath string() function on the * passed parameter. If the argument is anything else, then a node-set * is returned consisting of a single root node with a single text node * child that is the result of calling the java <code>toString()</code> * method on the passed argument. * Most of the * actual work here is done in <code>MethodResolver</code> and * <code>XRTreeFrag</code>. * @param myProcessor Context passed by the extension processor * @param rtf Argument in the stylesheet to the nodeset extension function * * NEEDSDOC ($objectName$) @return */	TokenNameCOMMENT_JAVADOC	 This method is an extension that implements as a Xalan extension the node-set function also found in xt and saxon. If the argument is a Result Tree Fragment, then <code>nodeset</code> returns a node-set consisting of a single root node as described in section 11.1 of the XSLT 1.0 Recommendation. If the argument is a node-set, <code>nodeset</code> returns a node-set. If the argument is a string, number, or boolean, then <code>nodeset</code> returns a node-set consisting of a single root node with a single text node child that is the result of calling the XPath string() function on the passed parameter. If the argument is anything else, then a node-set is returned consisting of a single root node with a single text node child that is the result of calling the java <code>toString()</code> method on the passed argument. Most of the actual work here is done in <code>MethodResolver</code> and <code>XRTreeFrag</code>. @param myProcessor Context passed by the extension processor @param rtf Argument in the stylesheet to the nodeset extension function * NEEDSDOC ($objectName$) @return 
public	TokenNamepublic	
static	TokenNamestatic	
NodeSet	TokenNameIdentifier	 Node Set
nodeset	TokenNameIdentifier	 nodeset
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
myProcessor	TokenNameIdentifier	 my Processor
,	TokenNameCOMMA	
Object	TokenNameIdentifier	 Object
rtf	TokenNameIdentifier	 rtf
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
textNodeValue	TokenNameIdentifier	 text Node Value
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
rtf	TokenNameIdentifier	 rtf
instanceof	TokenNameinstanceof	
NodeIterator	TokenNameIdentifier	 Node Iterator
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
new	TokenNamenew	
NodeSet	TokenNameIdentifier	 Node Set
(	TokenNameLPAREN	
(	TokenNameLPAREN	
NodeIterator	TokenNameIdentifier	 Node Iterator
)	TokenNameRPAREN	
rtf	TokenNameIdentifier	 rtf
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
rtf	TokenNameIdentifier	 rtf
instanceof	TokenNameinstanceof	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
{	TokenNameLBRACE	
textNodeValue	TokenNameIdentifier	 text Node Value
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
rtf	TokenNameIdentifier	 rtf
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
rtf	TokenNameIdentifier	 rtf
instanceof	TokenNameinstanceof	
Boolean	TokenNameIdentifier	 Boolean
)	TokenNameRPAREN	
{	TokenNameLBRACE	
textNodeValue	TokenNameIdentifier	 text Node Value
=	TokenNameEQUAL	
new	TokenNamenew	
XBoolean	TokenNameIdentifier	 X Boolean
(	TokenNameLPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
Boolean	TokenNameIdentifier	 Boolean
)	TokenNameRPAREN	
rtf	TokenNameIdentifier	 rtf
)	TokenNameRPAREN	
.	TokenNameDOT	
booleanValue	TokenNameIdentifier	 boolean Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
str	TokenNameIdentifier	 str
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
rtf	TokenNameIdentifier	 rtf
instanceof	TokenNameinstanceof	
Double	TokenNameIdentifier	 Double
)	TokenNameRPAREN	
{	TokenNameLBRACE	
textNodeValue	TokenNameIdentifier	 text Node Value
=	TokenNameEQUAL	
new	TokenNamenew	
XNumber	TokenNameIdentifier	 X Number
(	TokenNameLPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
Double	TokenNameIdentifier	 Double
)	TokenNameRPAREN	
rtf	TokenNameIdentifier	 rtf
)	TokenNameRPAREN	
.	TokenNameDOT	
doubleValue	TokenNameIdentifier	 double Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
str	TokenNameIdentifier	 str
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
textNodeValue	TokenNameIdentifier	 text Node Value
=	TokenNameEQUAL	
rtf	TokenNameIdentifier	 rtf
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// This no longer will work right since the DTM. 	TokenNameCOMMENT_LINE	This no longer will work right since the DTM. 
// Document myDoc = myProcessor.getContextNode().getOwnerDocument(); 	TokenNameCOMMENT_LINE	Document myDoc = myProcessor.getContextNode().getOwnerDocument(); 
try	TokenNametry	
{	TokenNameLBRACE	
DocumentBuilderFactory	TokenNameIdentifier	 Document Builder Factory
dbf	TokenNameIdentifier	 dbf
=	TokenNameEQUAL	
DocumentBuilderFactory	TokenNameIdentifier	 Document Builder Factory
.	TokenNameDOT	
newInstance	TokenNameIdentifier	 new Instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DocumentBuilder	TokenNameIdentifier	 Document Builder
db	TokenNameIdentifier	 db
=	TokenNameEQUAL	
dbf	TokenNameIdentifier	 dbf
.	TokenNameDOT	
newDocumentBuilder	TokenNameIdentifier	 new Document Builder
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Document	TokenNameIdentifier	 Document
myDoc	TokenNameIdentifier	 my Doc
=	TokenNameEQUAL	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
newDocument	TokenNameIdentifier	 new Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Text	TokenNameIdentifier	 Text
textNode	TokenNameIdentifier	 text Node
=	TokenNameEQUAL	
myDoc	TokenNameIdentifier	 my Doc
.	TokenNameDOT	
createTextNode	TokenNameIdentifier	 create Text Node
(	TokenNameLPAREN	
textNodeValue	TokenNameIdentifier	 text Node Value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DocumentFragment	TokenNameIdentifier	 Document Fragment
docFrag	TokenNameIdentifier	 doc Frag
=	TokenNameEQUAL	
myDoc	TokenNameIdentifier	 my Doc
.	TokenNameDOT	
createDocumentFragment	TokenNameIdentifier	 create Document Fragment
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
docFrag	TokenNameIdentifier	 doc Frag
.	TokenNameDOT	
appendChild	TokenNameIdentifier	 append Child
(	TokenNameLPAREN	
textNode	TokenNameIdentifier	 text Node
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
new	TokenNamenew	
NodeSet	TokenNameIdentifier	 Node Set
(	TokenNameLPAREN	
docFrag	TokenNameIdentifier	 doc Frag
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
pce	TokenNameIdentifier	 pce
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
WrappedRuntimeException	TokenNameIdentifier	 Wrapped Runtime Exception
(	TokenNameLPAREN	
pce	TokenNameIdentifier	 pce
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Returns the intersection of two node-sets. * * @param nl1 NodeList for first node-set * @param nl2 NodeList for second node-set * @return a NodeList containing the nodes in nl1 that are also in nl2 * * Note: The usage of this extension function in the xalan namespace * is deprecated. Please use the same function in the EXSLT sets extension * (http://exslt.org/sets). */	TokenNameCOMMENT_JAVADOC	 Returns the intersection of two node-sets. * @param nl1 NodeList for first node-set @param nl2 NodeList for second node-set @return a NodeList containing the nodes in nl1 that are also in nl2 * Note: The usage of this extension function in the xalan namespace is deprecated. Please use the same function in the EXSLT sets extension (http://exslt.org/sets). 
public	TokenNamepublic	
static	TokenNamestatic	
NodeList	TokenNameIdentifier	 Node List
intersection	TokenNameIdentifier	 intersection
(	TokenNameLPAREN	
NodeList	TokenNameIdentifier	 Node List
nl1	TokenNameIdentifier	 nl1
,	TokenNameCOMMA	
NodeList	TokenNameIdentifier	 Node List
nl2	TokenNameIdentifier	 nl2
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
ExsltSets	TokenNameIdentifier	 Exslt Sets
.	TokenNameDOT	
intersection	TokenNameIdentifier	 intersection
(	TokenNameLPAREN	
nl1	TokenNameIdentifier	 nl1
,	TokenNameCOMMA	
nl2	TokenNameIdentifier	 nl2
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns the difference between two node-sets. * * @param nl1 NodeList for first node-set * @param nl2 NodeList for second node-set * @return a NodeList containing the nodes in nl1 that are not in nl2 * * Note: The usage of this extension function in the xalan namespace * is deprecated. Please use the same function in the EXSLT sets extension * (http://exslt.org/sets). */	TokenNameCOMMENT_JAVADOC	 Returns the difference between two node-sets. * @param nl1 NodeList for first node-set @param nl2 NodeList for second node-set @return a NodeList containing the nodes in nl1 that are not in nl2 * Note: The usage of this extension function in the xalan namespace is deprecated. Please use the same function in the EXSLT sets extension (http://exslt.org/sets). 
public	TokenNamepublic	
static	TokenNamestatic	
NodeList	TokenNameIdentifier	 Node List
difference	TokenNameIdentifier	 difference
(	TokenNameLPAREN	
NodeList	TokenNameIdentifier	 Node List
nl1	TokenNameIdentifier	 nl1
,	TokenNameCOMMA	
NodeList	TokenNameIdentifier	 Node List
nl2	TokenNameIdentifier	 nl2
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
ExsltSets	TokenNameIdentifier	 Exslt Sets
.	TokenNameDOT	
difference	TokenNameIdentifier	 difference
(	TokenNameLPAREN	
nl1	TokenNameIdentifier	 nl1
,	TokenNameCOMMA	
nl2	TokenNameIdentifier	 nl2
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns node-set containing distinct string values. * * @param nl NodeList for node-set * @return a NodeList with nodes from nl containing distinct string values. * In other words, if more than one node in nl contains the same string value, * only include the first such node found. * * Note: The usage of this extension function in the xalan namespace * is deprecated. Please use the same function in the EXSLT sets extension * (http://exslt.org/sets). */	TokenNameCOMMENT_JAVADOC	 Returns node-set containing distinct string values. * @param nl NodeList for node-set @return a NodeList with nodes from nl containing distinct string values. In other words, if more than one node in nl contains the same string value, only include the first such node found. * Note: The usage of this extension function in the xalan namespace is deprecated. Please use the same function in the EXSLT sets extension (http://exslt.org/sets). 
public	TokenNamepublic	
static	TokenNamestatic	
NodeList	TokenNameIdentifier	 Node List
distinct	TokenNameIdentifier	 distinct
(	TokenNameLPAREN	
NodeList	TokenNameIdentifier	 Node List
nl	TokenNameIdentifier	 nl
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
ExsltSets	TokenNameIdentifier	 Exslt Sets
.	TokenNameDOT	
distinct	TokenNameIdentifier	 distinct
(	TokenNameLPAREN	
nl	TokenNameIdentifier	 nl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns true if both node-sets contain the same set of nodes. * * @param nl1 NodeList for first node-set * @param nl2 NodeList for second node-set * @return true if nl1 and nl2 contain exactly the same set of nodes. */	TokenNameCOMMENT_JAVADOC	 Returns true if both node-sets contain the same set of nodes. * @param nl1 NodeList for first node-set @param nl2 NodeList for second node-set @return true if nl1 and nl2 contain exactly the same set of nodes. 
public	TokenNamepublic	
static	TokenNamestatic	
boolean	TokenNameboolean	
hasSameNodes	TokenNameIdentifier	 has Same Nodes
(	TokenNameLPAREN	
NodeList	TokenNameIdentifier	 Node List
nl1	TokenNameIdentifier	 nl1
,	TokenNameCOMMA	
NodeList	TokenNameIdentifier	 Node List
nl2	TokenNameIdentifier	 nl2
)	TokenNameRPAREN	
{	TokenNameLBRACE	
NodeSet	TokenNameIdentifier	 Node Set
ns1	TokenNameIdentifier	 ns1
=	TokenNameEQUAL	
new	TokenNamenew	
NodeSet	TokenNameIdentifier	 Node Set
(	TokenNameLPAREN	
nl1	TokenNameIdentifier	 nl1
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
NodeSet	TokenNameIdentifier	 Node Set
ns2	TokenNameIdentifier	 ns2
=	TokenNameEQUAL	
new	TokenNamenew	
NodeSet	TokenNameIdentifier	 Node Set
(	TokenNameLPAREN	
nl2	TokenNameIdentifier	 nl2
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
ns1	TokenNameIdentifier	 ns1
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
ns2	TokenNameIdentifier	 ns2
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
ns1	TokenNameIdentifier	 ns1
.	TokenNameDOT	
getLength	TokenNameIdentifier	 get Length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Node	TokenNameIdentifier	 Node
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
ns1	TokenNameIdentifier	 ns1
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
ns2	TokenNameIdentifier	 ns2
.	TokenNameDOT	
contains	TokenNameIdentifier	 contains
(	TokenNameLPAREN	
n	TokenNameIdentifier	 n
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns the result of evaluating the argument as a string containing * an XPath expression. Used where the XPath expression is not known until * run-time. The expression is evaluated as if the run-time value of the * argument appeared in place of the evaluate function call at compile time. * * @param myContext an <code>ExpressionContext</code> passed in by the * extension mechanism. This must be an XPathContext. * @param xpathExpr The XPath expression to be evaluated. * @return the XObject resulting from evaluating the XPath * * @throws SAXNotSupportedException * * Note: The usage of this extension function in the xalan namespace * is deprecated. Please use the same function in the EXSLT dynamic extension * (http://exslt.org/dynamic). */	TokenNameCOMMENT_JAVADOC	 Returns the result of evaluating the argument as a string containing an XPath expression. Used where the XPath expression is not known until run-time. The expression is evaluated as if the run-time value of the argument appeared in place of the evaluate function call at compile time. * @param myContext an <code>ExpressionContext</code> passed in by the extension mechanism. This must be an XPathContext. @param xpathExpr The XPath expression to be evaluated. @return the XObject resulting from evaluating the XPath * @throws SAXNotSupportedException * Note: The usage of this extension function in the xalan namespace is deprecated. Please use the same function in the EXSLT dynamic extension (http://exslt.org/dynamic). 
public	TokenNamepublic	
static	TokenNamestatic	
XObject	TokenNameIdentifier	 X Object
evaluate	TokenNameIdentifier	 evaluate
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
myContext	TokenNameIdentifier	 my Context
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
xpathExpr	TokenNameIdentifier	 xpath Expr
)	TokenNameRPAREN	
throws	TokenNamethrows	
SAXNotSupportedException	TokenNameIdentifier	 SAX Not Supported Exception
{	TokenNameLBRACE	
return	TokenNamereturn	
ExsltDynamic	TokenNameIdentifier	 Exslt Dynamic
.	TokenNameDOT	
evaluate	TokenNameIdentifier	 evaluate
(	TokenNameLPAREN	
myContext	TokenNameIdentifier	 my Context
,	TokenNameCOMMA	
xpathExpr	TokenNameIdentifier	 xpath Expr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns a NodeSet containing one text node for each token in the first argument. * Delimiters are specified in the second argument. * Tokens are determined by a call to <code>StringTokenizer</code>. * If the first argument is an empty string or contains only delimiters, the result * will be an empty NodeSet. * * Contributed to XalanJ1 by <a href="mailto:benoit.cerrina@writeme.com">Benoit Cerrina</a>. * * @param toTokenize The string to be split into text tokens. * @param delims The delimiters to use. * @return a NodeSet as described above. */	TokenNameCOMMENT_JAVADOC	 Returns a NodeSet containing one text node for each token in the first argument. Delimiters are specified in the second argument. Tokens are determined by a call to <code>StringTokenizer</code>. If the first argument is an empty string or contains only delimiters, the result will be an empty NodeSet. * Contributed to XalanJ1 by <a href="mailto:benoit.cerrina@writeme.com">Benoit Cerrina</a>. * @param toTokenize The string to be split into text tokens. @param delims The delimiters to use. @return a NodeSet as described above. 
public	TokenNamepublic	
static	TokenNamestatic	
NodeList	TokenNameIdentifier	 Node List
tokenize	TokenNameIdentifier	 tokenize
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
toTokenize	TokenNameIdentifier	 to Tokenize
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
delims	TokenNameIdentifier	 delims
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Document	TokenNameIdentifier	 Document
doc	TokenNameIdentifier	 doc
=	TokenNameEQUAL	
DocumentHolder	TokenNameIdentifier	 Document Holder
.	TokenNameDOT	
m_doc	TokenNameIdentifier	 m doc
;	TokenNameSEMICOLON	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
lTokenizer	TokenNameIdentifier	 l Tokenizer
=	TokenNameEQUAL	
new	TokenNamenew	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
(	TokenNameLPAREN	
toTokenize	TokenNameIdentifier	 to Tokenize
,	TokenNameCOMMA	
delims	TokenNameIdentifier	 delims
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
NodeSet	TokenNameIdentifier	 Node Set
resultSet	TokenNameIdentifier	 result Set
=	TokenNameEQUAL	
new	TokenNamenew	
NodeSet	TokenNameIdentifier	 Node Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
synchronized	TokenNamesynchronized	
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
lTokenizer	TokenNameIdentifier	 l Tokenizer
.	TokenNameDOT	
hasMoreTokens	TokenNameIdentifier	 has More Tokens
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
resultSet	TokenNameIdentifier	 result Set
.	TokenNameDOT	
addNode	TokenNameIdentifier	 add Node
(	TokenNameLPAREN	
doc	TokenNameIdentifier	 doc
.	TokenNameDOT	
createTextNode	TokenNameIdentifier	 create Text Node
(	TokenNameLPAREN	
lTokenizer	TokenNameIdentifier	 l Tokenizer
.	TokenNameDOT	
nextToken	TokenNameIdentifier	 next Token
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
resultSet	TokenNameIdentifier	 result Set
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns a NodeSet containing one text node for each token in the first argument. * Delimiters are whitespace. That is, the delimiters that are used are tab (&#x09), * linefeed (&#x0A), return (&#x0D), and space (&#x20). * Tokens are determined by a call to <code>StringTokenizer</code>. * If the first argument is an empty string or contains only delimiters, the result * will be an empty NodeSet. * * Contributed to XalanJ1 by <a href="mailto:benoit.cerrina@writeme.com">Benoit Cerrina</a>. * * @param toTokenize The string to be split into text tokens. * @return a NodeSet as described above. */	TokenNameCOMMENT_JAVADOC	 Returns a NodeSet containing one text node for each token in the first argument. Delimiters are whitespace. That is, the delimiters that are used are tab (&#x09), linefeed (&#x0A), return (&#x0D), and space (&#x20). Tokens are determined by a call to <code>StringTokenizer</code>. If the first argument is an empty string or contains only delimiters, the result will be an empty NodeSet. * Contributed to XalanJ1 by <a href="mailto:benoit.cerrina@writeme.com">Benoit Cerrina</a>. * @param toTokenize The string to be split into text tokens. @return a NodeSet as described above. 
public	TokenNamepublic	
static	TokenNamestatic	
NodeList	TokenNameIdentifier	 Node List
tokenize	TokenNameIdentifier	 tokenize
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
toTokenize	TokenNameIdentifier	 to Tokenize
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
tokenize	TokenNameIdentifier	 tokenize
(	TokenNameLPAREN	
toTokenize	TokenNameIdentifier	 to Tokenize
,	TokenNameCOMMA	
" "	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Return a Node of basic debugging information from the * EnvironmentCheck utility about the Java environment. * * <p>Simply calls the {@link org.apache.xalan.xslt.EnvironmentCheck} * utility to grab info about the Java environment and CLASSPATH, * etc., and then returns the resulting Node. Stylesheets can * then maniuplate this data or simply xsl:copy-of the Node. Note * that we first attempt to load the more advanced * org.apache.env.Which utility by reflection; only if that fails * to we still use the internal version. Which is available from * <a href="http://xml.apache.org/commons/">http://xml.apache.org/commons/</a>.</p> * * <p>We throw a WrappedRuntimeException in the unlikely case * that reading information from the environment throws us an * exception. (Is this really the best thing to do?)</p> * * @param myContext an <code>ExpressionContext</code> passed in by the * extension mechanism. This must be an XPathContext. * @return a Node as described above. */	TokenNameCOMMENT_JAVADOC	 Return a Node of basic debugging information from the EnvironmentCheck utility about the Java environment. * <p>Simply calls the {@link org.apache.xalan.xslt.EnvironmentCheck} utility to grab info about the Java environment and CLASSPATH, etc., and then returns the resulting Node. Stylesheets can then maniuplate this data or simply xsl:copy-of the Node. Note that we first attempt to load the more advanced org.apache.env.Which utility by reflection; only if that fails to we still use the internal version. Which is available from <a href="http://xml.apache.org/commons/">http://xml.apache.org/commons/</a>.</p> * <p>We throw a WrappedRuntimeException in the unlikely case that reading information from the environment throws us an exception. (Is this really the best thing to do?)</p> * @param myContext an <code>ExpressionContext</code> passed in by the extension mechanism. This must be an XPathContext. @return a Node as described above. 
public	TokenNamepublic	
static	TokenNamestatic	
Node	TokenNameIdentifier	 Node
checkEnvironment	TokenNameIdentifier	 check Environment
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
myContext	TokenNameIdentifier	 my Context
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Document	TokenNameIdentifier	 Document
factoryDocument	TokenNameIdentifier	 factory Document
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
DocumentBuilderFactory	TokenNameIdentifier	 Document Builder Factory
dbf	TokenNameIdentifier	 dbf
=	TokenNameEQUAL	
DocumentBuilderFactory	TokenNameIdentifier	 Document Builder Factory
.	TokenNameDOT	
newInstance	TokenNameIdentifier	 new Instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DocumentBuilder	TokenNameIdentifier	 Document Builder
db	TokenNameIdentifier	 db
=	TokenNameEQUAL	
dbf	TokenNameIdentifier	 dbf
.	TokenNameDOT	
newDocumentBuilder	TokenNameIdentifier	 new Document Builder
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
factoryDocument	TokenNameIdentifier	 factory Document
=	TokenNameEQUAL	
db	TokenNameIdentifier	 db
.	TokenNameDOT	
newDocument	TokenNameIdentifier	 new Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
pce	TokenNameIdentifier	 pce
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
WrappedRuntimeException	TokenNameIdentifier	 Wrapped Runtime Exception
(	TokenNameLPAREN	
pce	TokenNameIdentifier	 pce
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Node	TokenNameIdentifier	 Node
resultNode	TokenNameIdentifier	 result Node
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
// First use reflection to try to load Which, which is a 	TokenNameCOMMENT_LINE	First use reflection to try to load Which, which is a 
// better version of EnvironmentCheck 	TokenNameCOMMENT_LINE	better version of EnvironmentCheck 
resultNode	TokenNameIdentifier	 result Node
=	TokenNameEQUAL	
checkEnvironmentUsingWhich	TokenNameIdentifier	 check Environment Using Which
(	TokenNameLPAREN	
myContext	TokenNameIdentifier	 my Context
,	TokenNameCOMMA	
factoryDocument	TokenNameIdentifier	 factory Document
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
resultNode	TokenNameIdentifier	 result Node
)	TokenNameRPAREN	
return	TokenNamereturn	
resultNode	TokenNameIdentifier	 result Node
;	TokenNameSEMICOLON	
// If reflection failed, fallback to our internal EnvironmentCheck 	TokenNameCOMMENT_LINE	If reflection failed, fallback to our internal EnvironmentCheck 
EnvironmentCheck	TokenNameIdentifier	 Environment Check
envChecker	TokenNameIdentifier	 env Checker
=	TokenNameEQUAL	
new	TokenNamenew	
EnvironmentCheck	TokenNameIdentifier	 Environment Check
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Hashtable	TokenNameIdentifier	 Hashtable
h	TokenNameIdentifier	 h
=	TokenNameEQUAL	
envChecker	TokenNameIdentifier	 env Checker
.	TokenNameDOT	
getEnvironmentHash	TokenNameIdentifier	 get Environment Hash
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
resultNode	TokenNameIdentifier	 result Node
=	TokenNameEQUAL	
factoryDocument	TokenNameIdentifier	 factory Document
.	TokenNameDOT	
createElement	TokenNameIdentifier	 create Element
(	TokenNameLPAREN	
"checkEnvironmentExtension"	TokenNameStringLiteral	checkEnvironmentExtension
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
envChecker	TokenNameIdentifier	 env Checker
.	TokenNameDOT	
appendEnvironmentReport	TokenNameIdentifier	 append Environment Report
(	TokenNameLPAREN	
resultNode	TokenNameIdentifier	 result Node
,	TokenNameCOMMA	
factoryDocument	TokenNameIdentifier	 factory Document
,	TokenNameCOMMA	
h	TokenNameIdentifier	 h
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
envChecker	TokenNameIdentifier	 env Checker
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
WrappedRuntimeException	TokenNameIdentifier	 Wrapped Runtime Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
resultNode	TokenNameIdentifier	 result Node
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Private worker method to attempt to use org.apache.env.Which. * * @param myContext an <code>ExpressionContext</code> passed in by the * extension mechanism. This must be an XPathContext. * @param factoryDocument providing createElement services, etc. * @return a Node with environment info; null if any error */	TokenNameCOMMENT_JAVADOC	 Private worker method to attempt to use org.apache.env.Which. * @param myContext an <code>ExpressionContext</code> passed in by the extension mechanism. This must be an XPathContext. @param factoryDocument providing createElement services, etc. @return a Node with environment info; null if any error 
private	TokenNameprivate	
static	TokenNamestatic	
Node	TokenNameIdentifier	 Node
checkEnvironmentUsingWhich	TokenNameIdentifier	 check Environment Using Which
(	TokenNameLPAREN	
ExpressionContext	TokenNameIdentifier	 Expression Context
myContext	TokenNameIdentifier	 my Context
,	TokenNameCOMMA	
Document	TokenNameIdentifier	 Document
factoryDocument	TokenNameIdentifier	 factory Document
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
WHICH_CLASSNAME	TokenNameIdentifier	 WHICH  CLASSNAME
=	TokenNameEQUAL	
"org.apache.env.Which"	TokenNameStringLiteral	org.apache.env.Which
;	TokenNameSEMICOLON	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
WHICH_METHODNAME	TokenNameIdentifier	 WHICH  METHODNAME
=	TokenNameEQUAL	
"which"	TokenNameStringLiteral	which
;	TokenNameSEMICOLON	
final	TokenNamefinal	
Class	TokenNameIdentifier	 Class
WHICH_METHOD_ARGS	TokenNameIdentifier	 WHICH  METHOD  ARGS
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
{	TokenNameLBRACE	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Hashtable	TokenNameIdentifier	 Hashtable
.	TokenNameDOT	
class	TokenNameclass	
,	TokenNameCOMMA	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
lang	TokenNameIdentifier	 lang
.	TokenNameDOT	
String	TokenNameIdentifier	 String
.	TokenNameDOT	
class	TokenNameclass	
,	TokenNameCOMMA	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
lang	TokenNameIdentifier	 lang
.	TokenNameDOT	
String	TokenNameIdentifier	 String
.	TokenNameDOT	
class	TokenNameclass	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
// Use reflection to try to find xml-commons utility 'Which' 	TokenNameCOMMENT_LINE	Use reflection to try to find xml-commons utility 'Which' 
Class	TokenNameIdentifier	 Class
clazz	TokenNameIdentifier	 clazz
=	TokenNameEQUAL	
ObjectFactory	TokenNameIdentifier	 Object Factory
.	TokenNameDOT	
findProviderClass	TokenNameIdentifier	 find Provider Class
(	TokenNameLPAREN	
WHICH_CLASSNAME	TokenNameIdentifier	 WHICH  CLASSNAME
,	TokenNameCOMMA	
ObjectFactory	TokenNameIdentifier	 Object Factory
.	TokenNameDOT	
findClassLoader	TokenNameIdentifier	 find Class Loader
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
==	TokenNameEQUAL_EQUAL	
clazz	TokenNameIdentifier	 clazz
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// Fully qualify names since this is the only method they're used in 	TokenNameCOMMENT_LINE	Fully qualify names since this is the only method they're used in 
java	TokenNameIdentifier	 java
.	TokenNameDOT	
lang	TokenNameIdentifier	 lang
.	TokenNameDOT	
reflect	TokenNameIdentifier	 reflect
.	TokenNameDOT	
Method	TokenNameIdentifier	 Method
method	TokenNameIdentifier	 method
=	TokenNameEQUAL	
clazz	TokenNameIdentifier	 clazz
.	TokenNameDOT	
getMethod	TokenNameIdentifier	 get Method
(	TokenNameLPAREN	
WHICH_METHODNAME	TokenNameIdentifier	 WHICH  METHODNAME
,	TokenNameCOMMA	
WHICH_METHOD_ARGS	TokenNameIdentifier	 WHICH  METHOD  ARGS
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Hashtable	TokenNameIdentifier	 Hashtable
report	TokenNameIdentifier	 report
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Call the method with our Hashtable, common options, and ignore return value 	TokenNameCOMMENT_LINE	Call the method with our Hashtable, common options, and ignore return value 
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
methodArgs	TokenNameIdentifier	 method Args
=	TokenNameEQUAL	
{	TokenNameLBRACE	
report	TokenNameIdentifier	 report
,	TokenNameCOMMA	
"XmlCommons;Xalan;Xerces;Crimson;Ant"	TokenNameStringLiteral	XmlCommons;Xalan;Xerces;Crimson;Ant
,	TokenNameCOMMA	
""	TokenNameStringLiteral	 
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
Object	TokenNameIdentifier	 Object
returnValue	TokenNameIdentifier	 return Value
=	TokenNameEQUAL	
method	TokenNameIdentifier	 method
.	TokenNameDOT	
invoke	TokenNameIdentifier	 invoke
(	TokenNameLPAREN	
null	TokenNamenull	
,	TokenNameCOMMA	
methodArgs	TokenNameIdentifier	 method Args
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Create a parent to hold the report and append hash to it 	TokenNameCOMMENT_LINE	Create a parent to hold the report and append hash to it 
Node	TokenNameIdentifier	 Node
resultNode	TokenNameIdentifier	 result Node
=	TokenNameEQUAL	
factoryDocument	TokenNameIdentifier	 factory Document
.	TokenNameDOT	
createElement	TokenNameIdentifier	 create Element
(	TokenNameLPAREN	
"checkEnvironmentExtension"	TokenNameStringLiteral	checkEnvironmentExtension
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
Hashtree2Node	TokenNameIdentifier	 Hashtree2 Node
.	TokenNameDOT	
appendHashToNode	TokenNameIdentifier	 append Hash To Node
(	TokenNameLPAREN	
report	TokenNameIdentifier	 report
,	TokenNameCOMMA	
"whichReport"	TokenNameStringLiteral	whichReport
,	TokenNameCOMMA	
resultNode	TokenNameIdentifier	 result Node
,	TokenNameCOMMA	
factoryDocument	TokenNameIdentifier	 factory Document
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
resultNode	TokenNameIdentifier	 result Node
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Throwable	TokenNameIdentifier	 Throwable
t	TokenNameIdentifier	 t
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Simply return null; no need to report error 	TokenNameCOMMENT_LINE	Simply return null; no need to report error 
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * This class is not loaded until first referenced (see Java Language * Specification by Gosling/Joy/Steele, section 12.4.1) * * The static members are created when this class is first referenced, as a * lazy initialization not needing checking against null or any * synchronization. * */	TokenNameCOMMENT_JAVADOC	 This class is not loaded until first referenced (see Java Language Specification by Gosling/Joy/Steele, section 12.4.1) * The static members are created when this class is first referenced, as a lazy initialization not needing checking against null or any synchronization. 
private	TokenNameprivate	
static	TokenNamestatic	
class	TokenNameclass	
DocumentHolder	TokenNameIdentifier	 Document Holder
{	TokenNameLBRACE	
// Reuse the Document object to reduce memory usage. 	TokenNameCOMMENT_LINE	Reuse the Document object to reduce memory usage. 
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
Document	TokenNameIdentifier	 Document
m_doc	TokenNameIdentifier	 m doc
;	TokenNameSEMICOLON	
static	TokenNamestatic	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
m_doc	TokenNameIdentifier	 m doc
=	TokenNameEQUAL	
DocumentBuilderFactory	TokenNameIdentifier	 Document Builder Factory
.	TokenNameDOT	
newInstance	TokenNameIdentifier	 new Instance
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
newDocumentBuilder	TokenNameIdentifier	 new Document Builder
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
newDocument	TokenNameIdentifier	 new Document
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
ParserConfigurationException	TokenNameIdentifier	 Parser Configuration Exception
pce	TokenNameIdentifier	 pce
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
WrappedRuntimeException	TokenNameIdentifier	 Wrapped Runtime Exception
(	TokenNameLPAREN	
pce	TokenNameIdentifier	 pce
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
