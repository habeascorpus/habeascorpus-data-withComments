/* * Licensed to the Apache Software Foundation (ASF) under one or more * contributor license agreements. See the NOTICE file distributed with * this work for additional information regarding copyright ownership. * The ASF licenses this file to You under the Apache License, Version 2.0 * (the "License"); you may not use this file except in compliance with * the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. * */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
optional	TokenNameIdentifier	 optional
.	TokenNameDOT	
ejb	TokenNameIdentifier	 ejb
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
File	TokenNameIdentifier	 File
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
FileOutputStream	TokenNameIdentifier	 File Output Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
InputStream	TokenNameIdentifier	 Input Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Enumeration	TokenNameIdentifier	 Enumeration
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Hashtable	TokenNameIdentifier	 Hashtable
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Iterator	TokenNameIdentifier	 Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
jar	TokenNameIdentifier	 jar
.	TokenNameDOT	
JarEntry	TokenNameIdentifier	 Jar Entry
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
jar	TokenNameIdentifier	 jar
.	TokenNameDOT	
JarFile	TokenNameIdentifier	 Jar File
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
jar	TokenNameIdentifier	 jar
.	TokenNameDOT	
JarOutputStream	TokenNameIdentifier	 Jar Output Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
AntClassLoader	TokenNameIdentifier	 Ant Class Loader
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
BuildException	TokenNameIdentifier	 Build Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
Project	TokenNameIdentifier	 Project
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
Java	TokenNameIdentifier	 Java
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
Environment	TokenNameIdentifier	 Environment
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
Path	TokenNameIdentifier	 Path
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
FileUtils	TokenNameIdentifier	 File Utils
;	TokenNameSEMICOLON	
/** * Websphere deployment tool that augments the ejbjar task. * Searches for the websphere specific deployment descriptors and * adds them to the final ejb jar file. Websphere has two specific descriptors for session * beans: * <ul> * <li>ibm-ejb-jar-bnd.xmi</li> * <li>ibm-ejb-jar-ext.xmi</li> * </ul> * and another two for container managed entity beans: * <ul> * <li>Map.mapxmi</li> * <li>Schema.dbxmi</li> * </ul> * In terms of WebSphere, the generation of container code and stubs is * called <code>deployment</code>. This step can be performed by the websphere * element as part of the jar generation process. If the switch * <code>ejbdeploy</code> is on, the ejbdeploy tool from the websphere toolset * is called for every ejb-jar. Unfortunately, this step only works, if you * use the ibm jdk. Otherwise, the rmic (called by ejbdeploy) throws a * ClassFormatError. Be sure to switch ejbdeploy off, if run ant with * sun jdk. * */	TokenNameCOMMENT_JAVADOC	 Websphere deployment tool that augments the ejbjar task. Searches for the websphere specific deployment descriptors and adds them to the final ejb jar file. Websphere has two specific descriptors for session beans: <ul> <li>ibm-ejb-jar-bnd.xmi</li> <li>ibm-ejb-jar-ext.xmi</li> </ul> and another two for container managed entity beans: <ul> <li>Map.mapxmi</li> <li>Schema.dbxmi</li> </ul> In terms of WebSphere, the generation of container code and stubs is called <code>deployment</code>. This step can be performed by the websphere element as part of the jar generation process. If the switch <code>ejbdeploy</code> is on, the ejbdeploy tool from the websphere toolset is called for every ejb-jar. Unfortunately, this step only works, if you use the ibm jdk. Otherwise, the rmic (called by ejbdeploy) throws a ClassFormatError. Be sure to switch ejbdeploy off, if run ant with sun jdk. 
public	TokenNamepublic	
class	TokenNameclass	
WebsphereDeploymentTool	TokenNameIdentifier	 Websphere Deployment Tool
extends	TokenNameextends	
GenericDeploymentTool	TokenNameIdentifier	 Generic Deployment Tool
{	TokenNameLBRACE	
/** ID for ejb 1.1 */	TokenNameCOMMENT_JAVADOC	 ID for ejb 1.1 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
PUBLICID_EJB11	TokenNameIdentifier	 PUBLICID  EJ B11
=	TokenNameEQUAL	
"-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 1.1//EN"	TokenNameStringLiteral	-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 1.1//EN
;	TokenNameSEMICOLON	
/** ID for ejb 2.0 */	TokenNameCOMMENT_JAVADOC	 ID for ejb 2.0 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
PUBLICID_EJB20	TokenNameIdentifier	 PUBLICID  EJ B20
=	TokenNameEQUAL	
"-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN"	TokenNameStringLiteral	-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN
;	TokenNameSEMICOLON	
/** Schema directory */	TokenNameCOMMENT_JAVADOC	 Schema directory 
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
SCHEMA_DIR	TokenNameIdentifier	 SCHEMA  DIR
=	TokenNameEQUAL	
"Schema/"	TokenNameStringLiteral	Schema/
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
WAS_EXT	TokenNameIdentifier	 WAS  EXT
=	TokenNameEQUAL	
"ibm-ejb-jar-ext.xmi"	TokenNameStringLiteral	ibm-ejb-jar-ext.xmi
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
WAS_BND	TokenNameIdentifier	 WAS  BND
=	TokenNameEQUAL	
"ibm-ejb-jar-bnd.xmi"	TokenNameStringLiteral	ibm-ejb-jar-bnd.xmi
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
WAS_CMP_MAP	TokenNameIdentifier	 WAS  CMP  MAP
=	TokenNameEQUAL	
"Map.mapxmi"	TokenNameStringLiteral	Map.mapxmi
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
WAS_CMP_SCHEMA	TokenNameIdentifier	 WAS  CMP  SCHEMA
=	TokenNameEQUAL	
"Schema.dbxmi"	TokenNameStringLiteral	Schema.dbxmi
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
FileUtils	TokenNameIdentifier	 File Utils
FILE_UTILS	TokenNameIdentifier	 FILE  UTILS
=	TokenNameEQUAL	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
getFileUtils	TokenNameIdentifier	 get File Utils
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** Instance variable that stores the suffix for the websphere jarfile. */	TokenNameCOMMENT_JAVADOC	 Instance variable that stores the suffix for the websphere jarfile. 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
jarSuffix	TokenNameIdentifier	 jar Suffix
=	TokenNameEQUAL	
".jar"	TokenNameStringLiteral	.jar
;	TokenNameSEMICOLON	
/** Instance variable that stores the location of the ejb 1.1 DTD file. */	TokenNameCOMMENT_JAVADOC	 Instance variable that stores the location of the ejb 1.1 DTD file. 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
ejb11DTD	TokenNameIdentifier	 ejb11 DTD
;	TokenNameSEMICOLON	
/** Instance variable that determines whether generic ejb jars are kept. */	TokenNameCOMMENT_JAVADOC	 Instance variable that determines whether generic ejb jars are kept. 
private	TokenNameprivate	
boolean	TokenNameboolean	
keepGeneric	TokenNameIdentifier	 keep Generic
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
alwaysRebuild	TokenNameIdentifier	 always Rebuild
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
ejbdeploy	TokenNameIdentifier	 ejbdeploy
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
/** Indicates if the old CMP location convention is to be used. */	TokenNameCOMMENT_JAVADOC	 Indicates if the old CMP location convention is to be used. 
private	TokenNameprivate	
boolean	TokenNameboolean	
newCMP	TokenNameIdentifier	 new CMP
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** The classpath to the websphere classes. */	TokenNameCOMMENT_JAVADOC	 The classpath to the websphere classes. 
private	TokenNameprivate	
Path	TokenNameIdentifier	 Path
wasClasspath	TokenNameIdentifier	 was Classpath
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** The DB Vendor name, the EJB is persisted against */	TokenNameCOMMENT_JAVADOC	 The DB Vendor name, the EJB is persisted against 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
dbVendor	TokenNameIdentifier	 db Vendor
;	TokenNameSEMICOLON	
/** The name of the database to create. (For top-down mapping only) */	TokenNameCOMMENT_JAVADOC	 The name of the database to create. (For top-down mapping only) 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
dbName	TokenNameIdentifier	 db Name
;	TokenNameSEMICOLON	
/** The name of the schema to create. (For top-down mappings only) */	TokenNameCOMMENT_JAVADOC	 The name of the schema to create. (For top-down mappings only) 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
dbSchema	TokenNameIdentifier	 db Schema
;	TokenNameSEMICOLON	
/** true - Only generate the deployment code, do not run RMIC or Javac */	TokenNameCOMMENT_JAVADOC	 true - Only generate the deployment code, do not run RMIC or Javac 
private	TokenNameprivate	
boolean	TokenNameboolean	
codegen	TokenNameIdentifier	 codegen
;	TokenNameSEMICOLON	
/** true - Only output error messages, suppress informational messages */	TokenNameCOMMENT_JAVADOC	 true - Only output error messages, suppress informational messages 
private	TokenNameprivate	
boolean	TokenNameboolean	
quiet	TokenNameIdentifier	 quiet
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
/** true - Disable the validation steps */	TokenNameCOMMENT_JAVADOC	 true - Disable the validation steps 
private	TokenNameprivate	
boolean	TokenNameboolean	
novalidate	TokenNameIdentifier	 novalidate
;	TokenNameSEMICOLON	
/** true - Disable warning and informational messages */	TokenNameCOMMENT_JAVADOC	 true - Disable warning and informational messages 
private	TokenNameprivate	
boolean	TokenNameboolean	
nowarn	TokenNameIdentifier	 nowarn
;	TokenNameSEMICOLON	
/** true - Disable informational messages */	TokenNameCOMMENT_JAVADOC	 true - Disable informational messages 
private	TokenNameprivate	
boolean	TokenNameboolean	
noinform	TokenNameIdentifier	 noinform
;	TokenNameSEMICOLON	
/** true - Enable internal tracing */	TokenNameCOMMENT_JAVADOC	 true - Enable internal tracing 
private	TokenNameprivate	
boolean	TokenNameboolean	
trace	TokenNameIdentifier	 trace
;	TokenNameSEMICOLON	
/** Additional options for RMIC */	TokenNameCOMMENT_JAVADOC	 Additional options for RMIC 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
rmicOptions	TokenNameIdentifier	 rmic Options
;	TokenNameSEMICOLON	
/** true- Use the WebSphere 3.5 compatible mapping rules */	TokenNameCOMMENT_JAVADOC	 true- Use the WebSphere 3.5 compatible mapping rules 
private	TokenNameprivate	
boolean	TokenNameboolean	
use35MappingRules	TokenNameIdentifier	 use35 Mapping Rules
;	TokenNameSEMICOLON	
/** the scratchdir for the ejbdeploy operation */	TokenNameCOMMENT_JAVADOC	 the scratchdir for the ejbdeploy operation 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
tempdir	TokenNameIdentifier	 tempdir
=	TokenNameEQUAL	
"_ejbdeploy_temp"	TokenNameStringLiteral	_ejbdeploy_temp
;	TokenNameSEMICOLON	
/** the home directory for websphere */	TokenNameCOMMENT_JAVADOC	 the home directory for websphere 
private	TokenNameprivate	
File	TokenNameIdentifier	 File
websphereHome	TokenNameIdentifier	 websphere Home
;	TokenNameSEMICOLON	
/** * Get the classpath to the websphere classpaths. * @return the websphere classpath. */	TokenNameCOMMENT_JAVADOC	 Get the classpath to the websphere classpaths. @return the websphere classpath. 
public	TokenNamepublic	
Path	TokenNameIdentifier	 Path
createWASClasspath	TokenNameIdentifier	 create WAS Classpath
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
wasClasspath	TokenNameIdentifier	 was Classpath
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
wasClasspath	TokenNameIdentifier	 was Classpath
=	TokenNameEQUAL	
new	TokenNamenew	
Path	TokenNameIdentifier	 Path
(	TokenNameLPAREN	
getTask	TokenNameIdentifier	 get Task
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
wasClasspath	TokenNameIdentifier	 was Classpath
.	TokenNameDOT	
createPath	TokenNameIdentifier	 create Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the websphere classpath. * @param wasClasspath the websphere classpath. */	TokenNameCOMMENT_JAVADOC	 Set the websphere classpath. @param wasClasspath the websphere classpath. 
public	TokenNamepublic	
void	TokenNamevoid	
setWASClasspath	TokenNameIdentifier	 set WAS Classpath
(	TokenNameLPAREN	
Path	TokenNameIdentifier	 Path
wasClasspath	TokenNameIdentifier	 was Classpath
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
wasClasspath	TokenNameIdentifier	 was Classpath
=	TokenNameEQUAL	
wasClasspath	TokenNameIdentifier	 was Classpath
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** Sets the DB Vendor for the Entity Bean mapping ; optional. * <p> * Valid options can be obtained by running the following command: * <code> * &lt;WAS_HOME&gt;/bin/EJBDeploy.[sh/bat] -help * </code> * </p> * <p> * This is also used to determine the name of the Map.mapxmi and * Schema.dbxmi files, for example Account-DB2UDB_V81-Map.mapxmi * and Account-DB2UDB_V81-Schema.dbxmi. * </p> * * @param dbvendor database vendor type */	TokenNameCOMMENT_JAVADOC	 Sets the DB Vendor for the Entity Bean mapping ; optional. <p> Valid options can be obtained by running the following command: <code> &lt;WAS_HOME&gt;/bin/EJBDeploy.[sh/bat] -help </code> </p> <p> This is also used to determine the name of the Map.mapxmi and Schema.dbxmi files, for example Account-DB2UDB_V81-Map.mapxmi and Account-DB2UDB_V81-Schema.dbxmi. </p> * @param dbvendor database vendor type 
public	TokenNamepublic	
void	TokenNamevoid	
setDbvendor	TokenNameIdentifier	 set Dbvendor
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
dbvendor	TokenNameIdentifier	 dbvendor
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
dbVendor	TokenNameIdentifier	 db Vendor
=	TokenNameEQUAL	
dbvendor	TokenNameIdentifier	 dbvendor
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the name of the Database to create; optional. * * @param dbName name of the database */	TokenNameCOMMENT_JAVADOC	 Sets the name of the Database to create; optional. * @param dbName name of the database 
public	TokenNamepublic	
void	TokenNamevoid	
setDbname	TokenNameIdentifier	 set Dbname
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
dbName	TokenNameIdentifier	 db Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
dbName	TokenNameIdentifier	 db Name
=	TokenNameEQUAL	
dbName	TokenNameIdentifier	 db Name
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the name of the schema to create; optional. * * @param dbSchema name of the schema */	TokenNameCOMMENT_JAVADOC	 Sets the name of the schema to create; optional. * @param dbSchema name of the schema 
public	TokenNamepublic	
void	TokenNamevoid	
setDbschema	TokenNameIdentifier	 set Dbschema
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
dbSchema	TokenNameIdentifier	 db Schema
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
dbSchema	TokenNameIdentifier	 db Schema
=	TokenNameEQUAL	
dbSchema	TokenNameIdentifier	 db Schema
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Flag, default false, to only generate the deployment * code, do not run RMIC or Javac * * @param codegen option */	TokenNameCOMMENT_JAVADOC	 Flag, default false, to only generate the deployment code, do not run RMIC or Javac * @param codegen option 
public	TokenNamepublic	
void	TokenNamevoid	
setCodegen	TokenNameIdentifier	 set Codegen
(	TokenNameLPAREN	
boolean	TokenNameboolean	
codegen	TokenNameIdentifier	 codegen
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
codegen	TokenNameIdentifier	 codegen
=	TokenNameEQUAL	
codegen	TokenNameIdentifier	 codegen
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Flag, default true, to only output error messages. * * @param quiet option */	TokenNameCOMMENT_JAVADOC	 Flag, default true, to only output error messages. * @param quiet option 
public	TokenNamepublic	
void	TokenNamevoid	
setQuiet	TokenNameIdentifier	 set Quiet
(	TokenNameLPAREN	
boolean	TokenNameboolean	
quiet	TokenNameIdentifier	 quiet
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
quiet	TokenNameIdentifier	 quiet
=	TokenNameEQUAL	
quiet	TokenNameIdentifier	 quiet
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Flag to disable the validation steps; optional, default false. * * @param novalidate option */	TokenNameCOMMENT_JAVADOC	 Flag to disable the validation steps; optional, default false. * @param novalidate option 
public	TokenNamepublic	
void	TokenNamevoid	
setNovalidate	TokenNameIdentifier	 set Novalidate
(	TokenNameLPAREN	
boolean	TokenNameboolean	
novalidate	TokenNameIdentifier	 novalidate
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
novalidate	TokenNameIdentifier	 novalidate
=	TokenNameEQUAL	
novalidate	TokenNameIdentifier	 novalidate
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Flag to disable warning and informational messages; optional, default false. * * @param nowarn option */	TokenNameCOMMENT_JAVADOC	 Flag to disable warning and informational messages; optional, default false. * @param nowarn option 
public	TokenNamepublic	
void	TokenNamevoid	
setNowarn	TokenNameIdentifier	 set Nowarn
(	TokenNameLPAREN	
boolean	TokenNameboolean	
nowarn	TokenNameIdentifier	 nowarn
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
nowarn	TokenNameIdentifier	 nowarn
=	TokenNameEQUAL	
nowarn	TokenNameIdentifier	 nowarn
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Flag to disable informational messages; optional, default false. * * @param noinform if true disables informational messages */	TokenNameCOMMENT_JAVADOC	 Flag to disable informational messages; optional, default false. * @param noinform if true disables informational messages 
public	TokenNamepublic	
void	TokenNamevoid	
setNoinform	TokenNameIdentifier	 set Noinform
(	TokenNameLPAREN	
boolean	TokenNameboolean	
noinform	TokenNameIdentifier	 noinform
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
noinform	TokenNameIdentifier	 noinform
=	TokenNameEQUAL	
noinform	TokenNameIdentifier	 noinform
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Flag to enable internal tracing when set, optional, default false. * * @param trace a <code>boolean</code> vaule. */	TokenNameCOMMENT_JAVADOC	 Flag to enable internal tracing when set, optional, default false. * @param trace a <code>boolean</code> vaule. 
public	TokenNamepublic	
void	TokenNamevoid	
setTrace	TokenNameIdentifier	 set Trace
(	TokenNameLPAREN	
boolean	TokenNameboolean	
trace	TokenNameIdentifier	 trace
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
trace	TokenNameIdentifier	 trace
=	TokenNameEQUAL	
trace	TokenNameIdentifier	 trace
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the rmic options. * * @param options the options to use. */	TokenNameCOMMENT_JAVADOC	 Set the rmic options. * @param options the options to use. 
public	TokenNamepublic	
void	TokenNamevoid	
setRmicoptions	TokenNameIdentifier	 set Rmicoptions
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
options	TokenNameIdentifier	 options
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
rmicOptions	TokenNameIdentifier	 rmic Options
=	TokenNameEQUAL	
options	TokenNameIdentifier	 options
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Flag to use the WebSphere 3.5 compatible mapping rules ; optional, default false. * * @param attr a <code>boolean</code> value. */	TokenNameCOMMENT_JAVADOC	 Flag to use the WebSphere 3.5 compatible mapping rules ; optional, default false. * @param attr a <code>boolean</code> value. 
public	TokenNamepublic	
void	TokenNamevoid	
setUse35	TokenNameIdentifier	 set Use35
(	TokenNameLPAREN	
boolean	TokenNameboolean	
attr	TokenNameIdentifier	 attr
)	TokenNameRPAREN	
{	TokenNameLBRACE	
use35MappingRules	TokenNameIdentifier	 use35 Mapping Rules
=	TokenNameEQUAL	
attr	TokenNameIdentifier	 attr
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the rebuild flag to false to only update changes in the jar rather * than rerunning ejbdeploy; optional, default true. * @param rebuild a <code>boolean</code> value. */	TokenNameCOMMENT_JAVADOC	 Set the rebuild flag to false to only update changes in the jar rather than rerunning ejbdeploy; optional, default true. @param rebuild a <code>boolean</code> value. 
public	TokenNamepublic	
void	TokenNamevoid	
setRebuild	TokenNameIdentifier	 set Rebuild
(	TokenNameLPAREN	
boolean	TokenNameboolean	
rebuild	TokenNameIdentifier	 rebuild
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
alwaysRebuild	TokenNameIdentifier	 always Rebuild
=	TokenNameEQUAL	
rebuild	TokenNameIdentifier	 rebuild
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * String value appended to the basename of the deployment * descriptor to create the filename of the WebLogic EJB * jar file. Optional, default '.jar'. * @param inString the string to use as the suffix. */	TokenNameCOMMENT_JAVADOC	 String value appended to the basename of the deployment descriptor to create the filename of the WebLogic EJB jar file. Optional, default '.jar'. @param inString the string to use as the suffix. 
public	TokenNamepublic	
void	TokenNamevoid	
setSuffix	TokenNameIdentifier	 set Suffix
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
inString	TokenNameIdentifier	 in String
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
jarSuffix	TokenNameIdentifier	 jar Suffix
=	TokenNameEQUAL	
inString	TokenNameIdentifier	 in String
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * This controls whether the generic file used as input to * ejbdeploy is retained; optional, default false. * @param inValue either 'true' or 'false'. */	TokenNameCOMMENT_JAVADOC	 This controls whether the generic file used as input to ejbdeploy is retained; optional, default false. @param inValue either 'true' or 'false'. 
public	TokenNamepublic	
void	TokenNamevoid	
setKeepgeneric	TokenNameIdentifier	 set Keepgeneric
(	TokenNameLPAREN	
boolean	TokenNameboolean	
inValue	TokenNameIdentifier	 in Value
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
keepGeneric	TokenNameIdentifier	 keep Generic
=	TokenNameEQUAL	
inValue	TokenNameIdentifier	 in Value
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Decide, wether ejbdeploy should be called or not; * optional, default true. * * @param ejbdeploy a <code>boolean</code> value. */	TokenNameCOMMENT_JAVADOC	 Decide, wether ejbdeploy should be called or not; optional, default true. * @param ejbdeploy a <code>boolean</code> value. 
public	TokenNamepublic	
void	TokenNamevoid	
setEjbdeploy	TokenNameIdentifier	 set Ejbdeploy
(	TokenNameLPAREN	
boolean	TokenNameboolean	
ejbdeploy	TokenNameIdentifier	 ejbdeploy
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
ejbdeploy	TokenNameIdentifier	 ejbdeploy
=	TokenNameEQUAL	
ejbdeploy	TokenNameIdentifier	 ejbdeploy
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Setter used to store the location of the Sun's Generic EJB DTD. This * can be a file on the system or a resource on the classpath. * * @param inString the string to use as the DTD location. */	TokenNameCOMMENT_JAVADOC	 Setter used to store the location of the Sun's Generic EJB DTD. This can be a file on the system or a resource on the classpath. * @param inString the string to use as the DTD location. 
public	TokenNamepublic	
void	TokenNamevoid	
setEJBdtd	TokenNameIdentifier	 set EJ Bdtd
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
inString	TokenNameIdentifier	 in String
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
ejb11DTD	TokenNameIdentifier	 ejb11 DTD
=	TokenNameEQUAL	
inString	TokenNameIdentifier	 in String
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the value of the oldCMP scheme. This is an antonym for newCMP * @ant.attribute ignore="true" * @param oldCMP a <code>boolean</code> value. */	TokenNameCOMMENT_JAVADOC	 Set the value of the oldCMP scheme. This is an antonym for newCMP @ant.attribute ignore="true" @param oldCMP a <code>boolean</code> value. 
public	TokenNamepublic	
void	TokenNamevoid	
setOldCMP	TokenNameIdentifier	 set Old CMP
(	TokenNameLPAREN	
boolean	TokenNameboolean	
oldCMP	TokenNameIdentifier	 old CMP
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
newCMP	TokenNameIdentifier	 new CMP
=	TokenNameEQUAL	
!	TokenNameNOT	
oldCMP	TokenNameIdentifier	 old CMP
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the value of the newCMP scheme. The old CMP scheme locates the * websphere CMP descriptor based on the naming convention where the * websphere CMP file is expected to be named with the bean name as the * prefix. Under this scheme the name of the CMP descriptor does not match * the name actually used in the main websphere EJB descriptor. Also, * descriptors which contain multiple CMP references could not be used. * @param newCMP a <code>boolean</code> value. */	TokenNameCOMMENT_JAVADOC	 Set the value of the newCMP scheme. The old CMP scheme locates the websphere CMP descriptor based on the naming convention where the websphere CMP file is expected to be named with the bean name as the prefix. Under this scheme the name of the CMP descriptor does not match the name actually used in the main websphere EJB descriptor. Also, descriptors which contain multiple CMP references could not be used. @param newCMP a <code>boolean</code> value. 
public	TokenNamepublic	
void	TokenNamevoid	
setNewCMP	TokenNameIdentifier	 set New CMP
(	TokenNameLPAREN	
boolean	TokenNameboolean	
newCMP	TokenNameIdentifier	 new CMP
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
newCMP	TokenNameIdentifier	 new CMP
=	TokenNameEQUAL	
newCMP	TokenNameIdentifier	 new CMP
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * The directory, where ejbdeploy will write temporary files; * optional, defaults to '_ejbdeploy_temp'. * @param tempdir the directory name to use. */	TokenNameCOMMENT_JAVADOC	 The directory, where ejbdeploy will write temporary files; optional, defaults to '_ejbdeploy_temp'. @param tempdir the directory name to use. 
public	TokenNamepublic	
void	TokenNamevoid	
setTempdir	TokenNameIdentifier	 set Tempdir
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
tempdir	TokenNameIdentifier	 tempdir
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
tempdir	TokenNameIdentifier	 tempdir
=	TokenNameEQUAL	
tempdir	TokenNameIdentifier	 tempdir
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** {@inheritDoc}. */	TokenNameCOMMENT_JAVADOC	 {@inheritDoc}. 
protected	TokenNameprotected	
DescriptorHandler	TokenNameIdentifier	 Descriptor Handler
getDescriptorHandler	TokenNameIdentifier	 get Descriptor Handler
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
srcDir	TokenNameIdentifier	 src Dir
)	TokenNameRPAREN	
{	TokenNameLBRACE	
DescriptorHandler	TokenNameIdentifier	 Descriptor Handler
handler	TokenNameIdentifier	 handler
=	TokenNameEQUAL	
new	TokenNamenew	
DescriptorHandler	TokenNameIdentifier	 Descriptor Handler
(	TokenNameLPAREN	
getTask	TokenNameIdentifier	 get Task
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
srcDir	TokenNameIdentifier	 src Dir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// register all the DTDs, both the ones that are known and 	TokenNameCOMMENT_LINE	register all the DTDs, both the ones that are known and 
// any supplied by the user 	TokenNameCOMMENT_LINE	any supplied by the user 
handler	TokenNameIdentifier	 handler
.	TokenNameDOT	
registerDTD	TokenNameIdentifier	 register DTD
(	TokenNameLPAREN	
PUBLICID_EJB11	TokenNameIdentifier	 PUBLICID  EJ B11
,	TokenNameCOMMA	
ejb11DTD	TokenNameIdentifier	 ejb11 DTD
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
getConfig	TokenNameIdentifier	 get Config
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
dtdLocations	TokenNameIdentifier	 dtd Locations
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
EjbJar	TokenNameIdentifier	 Ejb Jar
.	TokenNameDOT	
DTDLocation	TokenNameIdentifier	 DTD Location
dtdLocation	TokenNameIdentifier	 dtd Location
=	TokenNameEQUAL	
(	TokenNameLPAREN	
EjbJar	TokenNameIdentifier	 Ejb Jar
.	TokenNameDOT	
DTDLocation	TokenNameIdentifier	 DTD Location
)	TokenNameRPAREN	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
handler	TokenNameIdentifier	 handler
.	TokenNameDOT	
registerDTD	TokenNameIdentifier	 register DTD
(	TokenNameLPAREN	
dtdLocation	TokenNameIdentifier	 dtd Location
.	TokenNameDOT	
getPublicId	TokenNameIdentifier	 get Public Id
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
dtdLocation	TokenNameIdentifier	 dtd Location
.	TokenNameDOT	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
handler	TokenNameIdentifier	 handler
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get a description handler. * @param srcDir the source directory. * @return the handler. */	TokenNameCOMMENT_JAVADOC	 Get a description handler. @param srcDir the source directory. @return the handler. 
protected	TokenNameprotected	
DescriptorHandler	TokenNameIdentifier	 Descriptor Handler
getWebsphereDescriptorHandler	TokenNameIdentifier	 get Websphere Descriptor Handler
(	TokenNameLPAREN	
final	TokenNamefinal	
File	TokenNameIdentifier	 File
srcDir	TokenNameIdentifier	 src Dir
)	TokenNameRPAREN	
{	TokenNameLBRACE	
DescriptorHandler	TokenNameIdentifier	 Descriptor Handler
handler	TokenNameIdentifier	 handler
=	TokenNameEQUAL	
new	TokenNamenew	
DescriptorHandler	TokenNameIdentifier	 Descriptor Handler
(	TokenNameLPAREN	
getTask	TokenNameIdentifier	 get Task
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
srcDir	TokenNameIdentifier	 src Dir
)	TokenNameRPAREN	
{	TokenNameLBRACE	
protected	TokenNameprotected	
void	TokenNamevoid	
processElement	TokenNameIdentifier	 process Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
getConfig	TokenNameIdentifier	 get Config
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
dtdLocations	TokenNameIdentifier	 dtd Locations
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
EjbJar	TokenNameIdentifier	 Ejb Jar
.	TokenNameDOT	
DTDLocation	TokenNameIdentifier	 DTD Location
dtdLocation	TokenNameIdentifier	 dtd Location
=	TokenNameEQUAL	
(	TokenNameLPAREN	
EjbJar	TokenNameIdentifier	 Ejb Jar
.	TokenNameDOT	
DTDLocation	TokenNameIdentifier	 DTD Location
)	TokenNameRPAREN	
i	TokenNameIdentifier	 i
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
handler	TokenNameIdentifier	 handler
.	TokenNameDOT	
registerDTD	TokenNameIdentifier	 register DTD
(	TokenNameLPAREN	
dtdLocation	TokenNameIdentifier	 dtd Location
.	TokenNameDOT	
getPublicId	TokenNameIdentifier	 get Public Id
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
dtdLocation	TokenNameIdentifier	 dtd Location
.	TokenNameDOT	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
handler	TokenNameIdentifier	 handler
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Add any vendor specific files which should be included in the EJB Jar. * @param ejbFiles a hashtable entryname -> file. * @param baseName a prefix to use. */	TokenNameCOMMENT_JAVADOC	 Add any vendor specific files which should be included in the EJB Jar. @param ejbFiles a hashtable entryname -> file. @param baseName a prefix to use. 
protected	TokenNameprotected	
void	TokenNamevoid	
addVendorFiles	TokenNameIdentifier	 add Vendor Files
(	TokenNameLPAREN	
Hashtable	TokenNameIdentifier	 Hashtable
ejbFiles	TokenNameIdentifier	 ejb Files
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
baseName	TokenNameIdentifier	 base Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
ddPrefix	TokenNameIdentifier	 dd Prefix
=	TokenNameEQUAL	
(	TokenNameLPAREN	
usingBaseJarName	TokenNameIdentifier	 using Base Jar Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
""	TokenNameStringLiteral	 
:	TokenNameCOLON	
baseName	TokenNameIdentifier	 base Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
dbPrefix	TokenNameIdentifier	 db Prefix
=	TokenNameEQUAL	
(	TokenNameLPAREN	
dbVendor	TokenNameIdentifier	 db Vendor
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
""	TokenNameStringLiteral	 
:	TokenNameCOLON	
dbVendor	TokenNameIdentifier	 db Vendor
+	TokenNamePLUS	
"-"	TokenNameStringLiteral	-
;	TokenNameSEMICOLON	
// Get the Extensions document 	TokenNameCOMMENT_LINE	Get the Extensions document 
File	TokenNameIdentifier	 File
websphereEXT	TokenNameIdentifier	 websphere EXT
=	TokenNameEQUAL	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
getConfig	TokenNameIdentifier	 get Config
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
descriptorDir	TokenNameIdentifier	 descriptor Dir
,	TokenNameCOMMA	
ddPrefix	TokenNameIdentifier	 dd Prefix
+	TokenNamePLUS	
WAS_EXT	TokenNameIdentifier	 WAS  EXT
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
websphereEXT	TokenNameIdentifier	 websphere EXT
.	TokenNameDOT	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ejbFiles	TokenNameIdentifier	 ejb Files
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
META_DIR	TokenNameIdentifier	 META  DIR
+	TokenNamePLUS	
WAS_EXT	TokenNameIdentifier	 WAS  EXT
,	TokenNameCOMMA	
websphereEXT	TokenNameIdentifier	 websphere EXT
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Unable to locate websphere extensions. "	TokenNameStringLiteral	Unable to locate websphere extensions. 
+	TokenNamePLUS	
"It was expected to be in "	TokenNameStringLiteral	It was expected to be in 
+	TokenNamePLUS	
websphereEXT	TokenNameIdentifier	 websphere EXT
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
File	TokenNameIdentifier	 File
websphereBND	TokenNameIdentifier	 websphere BND
=	TokenNameEQUAL	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
getConfig	TokenNameIdentifier	 get Config
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
descriptorDir	TokenNameIdentifier	 descriptor Dir
,	TokenNameCOMMA	
ddPrefix	TokenNameIdentifier	 dd Prefix
+	TokenNamePLUS	
WAS_BND	TokenNameIdentifier	 WAS  BND
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
websphereBND	TokenNameIdentifier	 websphere BND
.	TokenNameDOT	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ejbFiles	TokenNameIdentifier	 ejb Files
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
META_DIR	TokenNameIdentifier	 META  DIR
+	TokenNamePLUS	
WAS_BND	TokenNameIdentifier	 WAS  BND
,	TokenNameCOMMA	
websphereBND	TokenNameIdentifier	 websphere BND
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Unable to locate websphere bindings. "	TokenNameStringLiteral	Unable to locate websphere bindings. 
+	TokenNamePLUS	
"It was expected to be in "	TokenNameStringLiteral	It was expected to be in 
+	TokenNamePLUS	
websphereBND	TokenNameIdentifier	 websphere BND
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
newCMP	TokenNameIdentifier	 new CMP
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"The old method for locating CMP files has been DEPRECATED."	TokenNameStringLiteral	The old method for locating CMP files has been DEPRECATED.
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Please adjust your websphere descriptor and set "	TokenNameStringLiteral	Please adjust your websphere descriptor and set 
+	TokenNamePLUS	
"newCMP="true" to use the new CMP descriptor "	TokenNameStringLiteral	newCMP="true" to use the new CMP descriptor 
+	TokenNamePLUS	
"inclusion mechanism. "	TokenNameStringLiteral	inclusion mechanism. 
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// We attempt to put in the MAP and Schema files of CMP beans 	TokenNameCOMMENT_LINE	We attempt to put in the MAP and Schema files of CMP beans 
try	TokenNametry	
{	TokenNameLBRACE	
// Add the Map file 	TokenNameCOMMENT_LINE	Add the Map file 
File	TokenNameIdentifier	 File
websphereMAP	TokenNameIdentifier	 websphere MAP
=	TokenNameEQUAL	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
getConfig	TokenNameIdentifier	 get Config
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
descriptorDir	TokenNameIdentifier	 descriptor Dir
,	TokenNameCOMMA	
ddPrefix	TokenNameIdentifier	 dd Prefix
+	TokenNamePLUS	
dbPrefix	TokenNameIdentifier	 db Prefix
+	TokenNamePLUS	
WAS_CMP_MAP	TokenNameIdentifier	 WAS  CMP  MAP
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
websphereMAP	TokenNameIdentifier	 websphere MAP
.	TokenNameDOT	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ejbFiles	TokenNameIdentifier	 ejb Files
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
META_DIR	TokenNameIdentifier	 META  DIR
+	TokenNamePLUS	
WAS_CMP_MAP	TokenNameIdentifier	 WAS  CMP  MAP
,	TokenNameCOMMA	
websphereMAP	TokenNameIdentifier	 websphere MAP
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Unable to locate the websphere Map: "	TokenNameStringLiteral	Unable to locate the websphere Map: 
+	TokenNamePLUS	
websphereMAP	TokenNameIdentifier	 websphere MAP
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
File	TokenNameIdentifier	 File
websphereSchema	TokenNameIdentifier	 websphere Schema
=	TokenNameEQUAL	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
getConfig	TokenNameIdentifier	 get Config
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
descriptorDir	TokenNameIdentifier	 descriptor Dir
,	TokenNameCOMMA	
ddPrefix	TokenNameIdentifier	 dd Prefix
+	TokenNamePLUS	
dbPrefix	TokenNameIdentifier	 db Prefix
+	TokenNamePLUS	
WAS_CMP_SCHEMA	TokenNameIdentifier	 WAS  CMP  SCHEMA
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
websphereSchema	TokenNameIdentifier	 websphere Schema
.	TokenNameDOT	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ejbFiles	TokenNameIdentifier	 ejb Files
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
META_DIR	TokenNameIdentifier	 META  DIR
+	TokenNamePLUS	
SCHEMA_DIR	TokenNameIdentifier	 SCHEMA  DIR
+	TokenNamePLUS	
WAS_CMP_SCHEMA	TokenNameIdentifier	 WAS  CMP  SCHEMA
,	TokenNameCOMMA	
websphereSchema	TokenNameIdentifier	 websphere Schema
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Unable to locate the websphere Schema: "	TokenNameStringLiteral	Unable to locate the websphere Schema: 
+	TokenNamePLUS	
websphereSchema	TokenNameIdentifier	 websphere Schema
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Theres nothing else to see here...keep moving sonny 	TokenNameCOMMENT_LINE	Theres nothing else to see here...keep moving sonny 
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
"Exception while adding Vendor specific files: "	TokenNameStringLiteral	Exception while adding Vendor specific files: 
+	TokenNamePLUS	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Get the vendor specific name of the Jar that will be output. The * modification date of this jar will be checked against the dependent * bean classes. */	TokenNameCOMMENT_JAVADOC	 Get the vendor specific name of the Jar that will be output. The modification date of this jar will be checked against the dependent bean classes. 
File	TokenNameIdentifier	 File
getVendorOutputJarFile	TokenNameIdentifier	 get Vendor Output Jar File
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
baseName	TokenNameIdentifier	 base Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
getDestDir	TokenNameIdentifier	 get Dest Dir
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
baseName	TokenNameIdentifier	 base Name
+	TokenNamePLUS	
jarSuffix	TokenNameIdentifier	 jar Suffix
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Gets the options for the EJB Deploy operation * * @return String */	TokenNameCOMMENT_JAVADOC	 Gets the options for the EJB Deploy operation * @return String 
protected	TokenNameprotected	
String	TokenNameIdentifier	 String
getOptions	TokenNameIdentifier	 get Options
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Set the options 	TokenNameCOMMENT_LINE	Set the options 
StringBuffer	TokenNameIdentifier	 String Buffer
options	TokenNameIdentifier	 options
=	TokenNameEQUAL	
new	TokenNamenew	
StringBuffer	TokenNameIdentifier	 String Buffer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
dbVendor	TokenNameIdentifier	 db Vendor
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
options	TokenNameIdentifier	 options
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" -dbvendor "	TokenNameStringLiteral	 -dbvendor 
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
dbVendor	TokenNameIdentifier	 db Vendor
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
dbName	TokenNameIdentifier	 db Name
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
options	TokenNameIdentifier	 options
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" -dbname ""	TokenNameStringLiteral	 -dbname "
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
dbName	TokenNameIdentifier	 db Name
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"""	TokenNameStringLiteral	"
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
dbSchema	TokenNameIdentifier	 db Schema
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
options	TokenNameIdentifier	 options
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" -dbschema ""	TokenNameStringLiteral	 -dbschema "
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
dbSchema	TokenNameIdentifier	 db Schema
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"""	TokenNameStringLiteral	"
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
codegen	TokenNameIdentifier	 codegen
)	TokenNameRPAREN	
{	TokenNameLBRACE	
options	TokenNameIdentifier	 options
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" -codegen"	TokenNameStringLiteral	 -codegen
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
quiet	TokenNameIdentifier	 quiet
)	TokenNameRPAREN	
{	TokenNameLBRACE	
options	TokenNameIdentifier	 options
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" -quiet"	TokenNameStringLiteral	 -quiet
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
novalidate	TokenNameIdentifier	 novalidate
)	TokenNameRPAREN	
{	TokenNameLBRACE	
options	TokenNameIdentifier	 options
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" -novalidate"	TokenNameStringLiteral	 -novalidate
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
nowarn	TokenNameIdentifier	 nowarn
)	TokenNameRPAREN	
{	TokenNameLBRACE	
options	TokenNameIdentifier	 options
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" -nowarn"	TokenNameStringLiteral	 -nowarn
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
noinform	TokenNameIdentifier	 noinform
)	TokenNameRPAREN	
{	TokenNameLBRACE	
options	TokenNameIdentifier	 options
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" -noinform"	TokenNameStringLiteral	 -noinform
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
trace	TokenNameIdentifier	 trace
)	TokenNameRPAREN	
{	TokenNameLBRACE	
options	TokenNameIdentifier	 options
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" -trace"	TokenNameStringLiteral	 -trace
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
use35MappingRules	TokenNameIdentifier	 use35 Mapping Rules
)	TokenNameRPAREN	
{	TokenNameLBRACE	
options	TokenNameIdentifier	 options
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" -35"	TokenNameStringLiteral	 -35
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
rmicOptions	TokenNameIdentifier	 rmic Options
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
options	TokenNameIdentifier	 options
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" -rmic ""	TokenNameStringLiteral	 -rmic "
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
rmicOptions	TokenNameIdentifier	 rmic Options
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"""	TokenNameStringLiteral	"
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
options	TokenNameIdentifier	 options
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Helper method invoked by execute() for each websphere jar to be built. * Encapsulates the logic of constructing a java task for calling * websphere.ejbdeploy and executing it. * * @param sourceJar java.io.File representing the source (EJB1.1) jarfile. * @param destJar java.io.File representing the destination, websphere * jarfile. */	TokenNameCOMMENT_JAVADOC	 Helper method invoked by execute() for each websphere jar to be built. Encapsulates the logic of constructing a java task for calling websphere.ejbdeploy and executing it. * @param sourceJar java.io.File representing the source (EJB1.1) jarfile. @param destJar java.io.File representing the destination, websphere jarfile. 
private	TokenNameprivate	
void	TokenNamevoid	
buildWebsphereJar	TokenNameIdentifier	 build Websphere Jar
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
sourceJar	TokenNameIdentifier	 source Jar
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
destJar	TokenNameIdentifier	 dest Jar
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
ejbdeploy	TokenNameIdentifier	 ejbdeploy
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Java	TokenNameIdentifier	 Java
javaTask	TokenNameIdentifier	 java Task
=	TokenNameEQUAL	
new	TokenNamenew	
Java	TokenNameIdentifier	 Java
(	TokenNameLPAREN	
getTask	TokenNameIdentifier	 get Task
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Set the JvmArgs 	TokenNameCOMMENT_LINE	Set the JvmArgs 
javaTask	TokenNameIdentifier	 java Task
.	TokenNameDOT	
createJvmarg	TokenNameIdentifier	 create Jvmarg
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
"-Xms64m"	TokenNameStringLiteral	-Xms64m
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
javaTask	TokenNameIdentifier	 java Task
.	TokenNameDOT	
createJvmarg	TokenNameIdentifier	 create Jvmarg
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
"-Xmx128m"	TokenNameStringLiteral	-Xmx128m
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Set the Environment variable 	TokenNameCOMMENT_LINE	Set the Environment variable 
Environment	TokenNameIdentifier	 Environment
.	TokenNameDOT	
Variable	TokenNameIdentifier	 Variable
var	TokenNameIdentifier	 var
=	TokenNameEQUAL	
new	TokenNamenew	
Environment	TokenNameIdentifier	 Environment
.	TokenNameDOT	
Variable	TokenNameIdentifier	 Variable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
var	TokenNameIdentifier	 var
.	TokenNameDOT	
setKey	TokenNameIdentifier	 set Key
(	TokenNameLPAREN	
"websphere.lib.dir"	TokenNameStringLiteral	websphere.lib.dir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
File	TokenNameIdentifier	 File
libdir	TokenNameIdentifier	 libdir
=	TokenNameEQUAL	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
websphereHome	TokenNameIdentifier	 websphere Home
,	TokenNameCOMMA	
"lib"	TokenNameStringLiteral	lib
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
var	TokenNameIdentifier	 var
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
libdir	TokenNameIdentifier	 libdir
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
javaTask	TokenNameIdentifier	 java Task
.	TokenNameDOT	
addSysproperty	TokenNameIdentifier	 add Sysproperty
(	TokenNameLPAREN	
var	TokenNameIdentifier	 var
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Set the working directory 	TokenNameCOMMENT_LINE	Set the working directory 
javaTask	TokenNameIdentifier	 java Task
.	TokenNameDOT	
setDir	TokenNameIdentifier	 set Dir
(	TokenNameLPAREN	
websphereHome	TokenNameIdentifier	 websphere Home
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Set the Java class name 	TokenNameCOMMENT_LINE	Set the Java class name 
javaTask	TokenNameIdentifier	 java Task
.	TokenNameDOT	
setTaskName	TokenNameIdentifier	 set Task Name
(	TokenNameLPAREN	
"ejbdeploy"	TokenNameStringLiteral	ejbdeploy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
javaTask	TokenNameIdentifier	 java Task
.	TokenNameDOT	
setClassname	TokenNameIdentifier	 set Classname
(	TokenNameLPAREN	
"com.ibm.etools.ejbdeploy.EJBDeploy"	TokenNameStringLiteral	com.ibm.etools.ejbdeploy.EJBDeploy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
javaTask	TokenNameIdentifier	 java Task
.	TokenNameDOT	
createArg	TokenNameIdentifier	 create Arg
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
sourceJar	TokenNameIdentifier	 source Jar
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
javaTask	TokenNameIdentifier	 java Task
.	TokenNameDOT	
createArg	TokenNameIdentifier	 create Arg
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
tempdir	TokenNameIdentifier	 tempdir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
javaTask	TokenNameIdentifier	 java Task
.	TokenNameDOT	
createArg	TokenNameIdentifier	 create Arg
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
destJar	TokenNameIdentifier	 dest Jar
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
javaTask	TokenNameIdentifier	 java Task
.	TokenNameDOT	
createArg	TokenNameIdentifier	 create Arg
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setLine	TokenNameIdentifier	 set Line
(	TokenNameLPAREN	
getOptions	TokenNameIdentifier	 get Options
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
getCombinedClasspath	TokenNameIdentifier	 get Combined Classpath
(	TokenNameLPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
getCombinedClasspath	TokenNameIdentifier	 get Combined Classpath
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
javaTask	TokenNameIdentifier	 java Task
.	TokenNameDOT	
createArg	TokenNameIdentifier	 create Arg
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
"-cp"	TokenNameStringLiteral	-cp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
javaTask	TokenNameIdentifier	 java Task
.	TokenNameDOT	
createArg	TokenNameIdentifier	 create Arg
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
getCombinedClasspath	TokenNameIdentifier	 get Combined Classpath
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Path	TokenNameIdentifier	 Path
classpath	TokenNameIdentifier	 classpath
=	TokenNameEQUAL	
wasClasspath	TokenNameIdentifier	 was Classpath
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
classpath	TokenNameIdentifier	 classpath
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
classpath	TokenNameIdentifier	 classpath
=	TokenNameEQUAL	
getCombinedClasspath	TokenNameIdentifier	 get Combined Classpath
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
javaTask	TokenNameIdentifier	 java Task
.	TokenNameDOT	
setFork	TokenNameIdentifier	 set Fork
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
classpath	TokenNameIdentifier	 classpath
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
javaTask	TokenNameIdentifier	 java Task
.	TokenNameDOT	
setClasspath	TokenNameIdentifier	 set Classpath
(	TokenNameLPAREN	
classpath	TokenNameIdentifier	 classpath
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Calling websphere.ejbdeploy for "	TokenNameStringLiteral	Calling websphere.ejbdeploy for 
+	TokenNamePLUS	
sourceJar	TokenNameIdentifier	 source Jar
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
javaTask	TokenNameIdentifier	 java Task
.	TokenNameDOT	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Have to catch this because of the semantics of calling main() 	TokenNameCOMMENT_LINE	Have to catch this because of the semantics of calling main() 
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
"Exception while calling ejbdeploy. Details: "	TokenNameStringLiteral	Exception while calling ejbdeploy. Details: 
+	TokenNamePLUS	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** {@inheritDoc}. */	TokenNameCOMMENT_JAVADOC	 {@inheritDoc}. 
protected	TokenNameprotected	
void	TokenNamevoid	
writeJar	TokenNameIdentifier	 write Jar
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
baseName	TokenNameIdentifier	 base Name
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
jarFile	TokenNameIdentifier	 jar File
,	TokenNameCOMMA	
Hashtable	TokenNameIdentifier	 Hashtable
files	TokenNameIdentifier	 files
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
publicId	TokenNameIdentifier	 public Id
)	TokenNameRPAREN	
throws	TokenNamethrows	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
ejbdeploy	TokenNameIdentifier	 ejbdeploy
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// create the -generic.jar, if required 	TokenNameCOMMENT_LINE	create the -generic.jar, if required 
File	TokenNameIdentifier	 File
genericJarFile	TokenNameIdentifier	 generic Jar File
=	TokenNameEQUAL	
super	TokenNamesuper	
.	TokenNameDOT	
getVendorOutputJarFile	TokenNameIdentifier	 get Vendor Output Jar File
(	TokenNameLPAREN	
baseName	TokenNameIdentifier	 base Name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
super	TokenNamesuper	
.	TokenNameDOT	
writeJar	TokenNameIdentifier	 write Jar
(	TokenNameLPAREN	
baseName	TokenNameIdentifier	 base Name
,	TokenNameCOMMA	
genericJarFile	TokenNameIdentifier	 generic Jar File
,	TokenNameCOMMA	
files	TokenNameIdentifier	 files
,	TokenNameCOMMA	
publicId	TokenNameIdentifier	 public Id
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// create the output .jar, if required 	TokenNameCOMMENT_LINE	create the output .jar, if required 
if	TokenNameif	
(	TokenNameLPAREN	
alwaysRebuild	TokenNameIdentifier	 always Rebuild
||	TokenNameOR_OR	
isRebuildRequired	TokenNameIdentifier	 is Rebuild Required
(	TokenNameLPAREN	
genericJarFile	TokenNameIdentifier	 generic Jar File
,	TokenNameCOMMA	
jarFile	TokenNameIdentifier	 jar File
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
buildWebsphereJar	TokenNameIdentifier	 build Websphere Jar
(	TokenNameLPAREN	
genericJarFile	TokenNameIdentifier	 generic Jar File
,	TokenNameCOMMA	
jarFile	TokenNameIdentifier	 jar File
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
keepGeneric	TokenNameIdentifier	 keep Generic
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"deleting generic jar "	TokenNameStringLiteral	deleting generic jar 
+	TokenNamePLUS	
genericJarFile	TokenNameIdentifier	 generic Jar File
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
genericJarFile	TokenNameIdentifier	 generic Jar File
.	TokenNameDOT	
delete	TokenNameIdentifier	 delete
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// create the "undeployed" output .jar, if required 	TokenNameCOMMENT_LINE	create the "undeployed" output .jar, if required 
super	TokenNamesuper	
.	TokenNameDOT	
writeJar	TokenNameIdentifier	 write Jar
(	TokenNameLPAREN	
baseName	TokenNameIdentifier	 base Name
,	TokenNameCOMMA	
jarFile	TokenNameIdentifier	 jar File
,	TokenNameCOMMA	
files	TokenNameIdentifier	 files
,	TokenNameCOMMA	
publicId	TokenNameIdentifier	 public Id
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Called to validate that the tool parameters have been configured. * @throws BuildException if there is an error. */	TokenNameCOMMENT_JAVADOC	 Called to validate that the tool parameters have been configured. @throws BuildException if there is an error. 
public	TokenNamepublic	
void	TokenNamevoid	
validateConfigured	TokenNameIdentifier	 validate Configured
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
super	TokenNamesuper	
.	TokenNameDOT	
validateConfigured	TokenNameIdentifier	 validate Configured
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
ejbdeploy	TokenNameIdentifier	 ejbdeploy
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
home	TokenNameIdentifier	 home
=	TokenNameEQUAL	
getTask	TokenNameIdentifier	 get Task
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
"websphere.home"	TokenNameStringLiteral	websphere.home
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
home	TokenNameIdentifier	 home
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"The 'websphere.home' property must "	TokenNameStringLiteral	The 'websphere.home' property must 
+	TokenNamePLUS	
"be set when 'ejbdeploy=true'"	TokenNameStringLiteral	be set when 'ejbdeploy=true'
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
websphereHome	TokenNameIdentifier	 websphere Home
=	TokenNameEQUAL	
getTask	TokenNameIdentifier	 get Task
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
home	TokenNameIdentifier	 home
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Helper method to check to see if a websphere EBJ1.1 jar needs to be * rebuilt using ejbdeploy. Called from writeJar it sees if the "Bean" * classes are the only thing that needs to be updated and either updates * the Jar with the Bean classfile or returns true, saying that the whole * websphere jar needs to be regened with ejbdeploy. This allows faster * build times for working developers. <p> * * The way websphere ejbdeploy works is it creates wrappers for the * publicly defined methods as they are exposed in the remote interface. * If the actual bean changes without changing the the method signatures * then only the bean classfile needs to be updated and the rest of the * websphere jar file can remain the same. If the Interfaces, ie. the * method signatures change or if the xml deployment descriptors changed, * the whole jar needs to be rebuilt with ejbdeploy. This is not strictly * true for the xml files. If the JNDI name changes then the jar doesnt * have to be rebuild, but if the resources references change then it * does. At this point the websphere jar gets rebuilt if the xml files * change at all. * * @param genericJarFile java.io.File The generic jar file. * @param websphereJarFile java.io.File The websphere jar file to check to * see if it needs to be rebuilt. * @return true if a rebuild is required. */	TokenNameCOMMENT_JAVADOC	 Helper method to check to see if a websphere EBJ1.1 jar needs to be rebuilt using ejbdeploy. Called from writeJar it sees if the "Bean" classes are the only thing that needs to be updated and either updates the Jar with the Bean classfile or returns true, saying that the whole websphere jar needs to be regened with ejbdeploy. This allows faster build times for working developers. <p> * The way websphere ejbdeploy works is it creates wrappers for the publicly defined methods as they are exposed in the remote interface. If the actual bean changes without changing the the method signatures then only the bean classfile needs to be updated and the rest of the websphere jar file can remain the same. If the Interfaces, ie. the method signatures change or if the xml deployment descriptors changed, the whole jar needs to be rebuilt with ejbdeploy. This is not strictly true for the xml files. If the JNDI name changes then the jar doesnt have to be rebuild, but if the resources references change then it does. At this point the websphere jar gets rebuilt if the xml files change at all. * @param genericJarFile java.io.File The generic jar file. @param websphereJarFile java.io.File The websphere jar file to check to see if it needs to be rebuilt. @return true if a rebuild is required. 
// CheckStyle:MethodLength OFF - this will no be fixed 	TokenNameCOMMENT_LINE	CheckStyle:MethodLength OFF - this will no be fixed 
protected	TokenNameprotected	
boolean	TokenNameboolean	
isRebuildRequired	TokenNameIdentifier	 is Rebuild Required
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
genericJarFile	TokenNameIdentifier	 generic Jar File
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
websphereJarFile	TokenNameIdentifier	 websphere Jar File
)	TokenNameRPAREN	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
rebuild	TokenNameIdentifier	 rebuild
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
JarFile	TokenNameIdentifier	 Jar File
genericJar	TokenNameIdentifier	 generic Jar
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
JarFile	TokenNameIdentifier	 Jar File
wasJar	TokenNameIdentifier	 was Jar
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
File	TokenNameIdentifier	 File
newwasJarFile	TokenNameIdentifier	 newwas Jar File
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
JarOutputStream	TokenNameIdentifier	 Jar Output Stream
newJarStream	TokenNameIdentifier	 new Jar Stream
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
ClassLoader	TokenNameIdentifier	 Class Loader
genericLoader	TokenNameIdentifier	 generic Loader
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Checking if websphere Jar needs to be rebuilt for jar "	TokenNameStringLiteral	Checking if websphere Jar needs to be rebuilt for jar 
+	TokenNamePLUS	
websphereJarFile	TokenNameIdentifier	 websphere Jar File
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Only go forward if the generic and the websphere file both exist 	TokenNameCOMMENT_LINE	Only go forward if the generic and the websphere file both exist 
if	TokenNameif	
(	TokenNameLPAREN	
genericJarFile	TokenNameIdentifier	 generic Jar File
.	TokenNameDOT	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
genericJarFile	TokenNameIdentifier	 generic Jar File
.	TokenNameDOT	
isFile	TokenNameIdentifier	 is File
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
websphereJarFile	TokenNameIdentifier	 websphere Jar File
.	TokenNameDOT	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
websphereJarFile	TokenNameIdentifier	 websphere Jar File
.	TokenNameDOT	
isFile	TokenNameIdentifier	 is File
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//open jar files 	TokenNameCOMMENT_LINE	open jar files 
genericJar	TokenNameIdentifier	 generic Jar
=	TokenNameEQUAL	
new	TokenNamenew	
JarFile	TokenNameIdentifier	 Jar File
(	TokenNameLPAREN	
genericJarFile	TokenNameIdentifier	 generic Jar File
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
wasJar	TokenNameIdentifier	 was Jar
=	TokenNameEQUAL	
new	TokenNamenew	
JarFile	TokenNameIdentifier	 Jar File
(	TokenNameLPAREN	
websphereJarFile	TokenNameIdentifier	 websphere Jar File
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Hashtable	TokenNameIdentifier	 Hashtable
genericEntries	TokenNameIdentifier	 generic Entries
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Hashtable	TokenNameIdentifier	 Hashtable
wasEntries	TokenNameIdentifier	 was Entries
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Hashtable	TokenNameIdentifier	 Hashtable
replaceEntries	TokenNameIdentifier	 replace Entries
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//get the list of generic jar entries 	TokenNameCOMMENT_LINE	get the list of generic jar entries 
for	TokenNamefor	
(	TokenNameLPAREN	
Enumeration	TokenNameIdentifier	 Enumeration
e	TokenNameIdentifier	 e
=	TokenNameEQUAL	
genericJar	TokenNameIdentifier	 generic Jar
.	TokenNameDOT	
entries	TokenNameIdentifier	 entries
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
JarEntry	TokenNameIdentifier	 Jar Entry
je	TokenNameIdentifier	 je
=	TokenNameEQUAL	
(	TokenNameLPAREN	
JarEntry	TokenNameIdentifier	 Jar Entry
)	TokenNameRPAREN	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
nextElement	TokenNameIdentifier	 next Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
genericEntries	TokenNameIdentifier	 generic Entries
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
je	TokenNameIdentifier	 je
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
replace	TokenNameIdentifier	 replace
(	TokenNameLPAREN	
'\\'	TokenNameCharacterLiteral	
,	TokenNameCOMMA	
'/'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
je	TokenNameIdentifier	 je
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
//get the list of websphere jar entries 	TokenNameCOMMENT_LINE	get the list of websphere jar entries 
for	TokenNamefor	
(	TokenNameLPAREN	
Enumeration	TokenNameIdentifier	 Enumeration
e	TokenNameIdentifier	 e
=	TokenNameEQUAL	
wasJar	TokenNameIdentifier	 was Jar
.	TokenNameDOT	
entries	TokenNameIdentifier	 entries
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
JarEntry	TokenNameIdentifier	 Jar Entry
je	TokenNameIdentifier	 je
=	TokenNameEQUAL	
(	TokenNameLPAREN	
JarEntry	TokenNameIdentifier	 Jar Entry
)	TokenNameRPAREN	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
nextElement	TokenNameIdentifier	 next Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
wasEntries	TokenNameIdentifier	 was Entries
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
je	TokenNameIdentifier	 je
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
je	TokenNameIdentifier	 je
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
//Cycle Through generic and make sure its in websphere 	TokenNameCOMMENT_LINE	Cycle Through generic and make sure its in websphere 
genericLoader	TokenNameIdentifier	 generic Loader
=	TokenNameEQUAL	
getClassLoaderFromJar	TokenNameIdentifier	 get Class Loader From Jar
(	TokenNameLPAREN	
genericJarFile	TokenNameIdentifier	 generic Jar File
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Enumeration	TokenNameIdentifier	 Enumeration
e	TokenNameIdentifier	 e
=	TokenNameEQUAL	
genericEntries	TokenNameIdentifier	 generic Entries
.	TokenNameDOT	
keys	TokenNameIdentifier	 keys
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
filepath	TokenNameIdentifier	 filepath
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
nextElement	TokenNameIdentifier	 next Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
wasEntries	TokenNameIdentifier	 was Entries
.	TokenNameDOT	
containsKey	TokenNameIdentifier	 contains Key
(	TokenNameLPAREN	
filepath	TokenNameIdentifier	 filepath
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// File name/path match 	TokenNameCOMMENT_LINE	File name/path match 
// Check files see if same 	TokenNameCOMMENT_LINE	Check files see if same 
JarEntry	TokenNameIdentifier	 Jar Entry
genericEntry	TokenNameIdentifier	 generic Entry
=	TokenNameEQUAL	
(	TokenNameLPAREN	
JarEntry	TokenNameIdentifier	 Jar Entry
)	TokenNameRPAREN	
genericEntries	TokenNameIdentifier	 generic Entries
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
filepath	TokenNameIdentifier	 filepath
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
JarEntry	TokenNameIdentifier	 Jar Entry
wasEntry	TokenNameIdentifier	 was Entry
=	TokenNameEQUAL	
(	TokenNameLPAREN	
JarEntry	TokenNameIdentifier	 Jar Entry
)	TokenNameRPAREN	
wasEntries	TokenNameIdentifier	 was Entries
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
filepath	TokenNameIdentifier	 filepath
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
genericEntry	TokenNameIdentifier	 generic Entry
.	TokenNameDOT	
getCrc	TokenNameIdentifier	 get Crc
(	TokenNameLPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
wasEntry	TokenNameIdentifier	 was Entry
.	TokenNameDOT	
getCrc	TokenNameIdentifier	 get Crc
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
genericEntry	TokenNameIdentifier	 generic Entry
.	TokenNameDOT	
getSize	TokenNameIdentifier	 get Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
wasEntry	TokenNameIdentifier	 was Entry
.	TokenNameDOT	
getSize	TokenNameIdentifier	 get Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
genericEntry	TokenNameIdentifier	 generic Entry
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
endsWith	TokenNameIdentifier	 ends With
(	TokenNameLPAREN	
".class"	TokenNameStringLiteral	.class
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//File are different see if its an object or an interface 	TokenNameCOMMENT_LINE	File are different see if its an object or an interface 
String	TokenNameIdentifier	 String
classname	TokenNameIdentifier	 classname
=	TokenNameEQUAL	
genericEntry	TokenNameIdentifier	 generic Entry
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
replace	TokenNameIdentifier	 replace
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
separatorChar	TokenNameIdentifier	 separator Char
,	TokenNameCOMMA	
'.'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
classname	TokenNameIdentifier	 classname
=	TokenNameEQUAL	
classname	TokenNameIdentifier	 classname
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
classname	TokenNameIdentifier	 classname
.	TokenNameDOT	
lastIndexOf	TokenNameIdentifier	 last Index Of
(	TokenNameLPAREN	
".class"	TokenNameStringLiteral	.class
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Class	TokenNameIdentifier	 Class
genclass	TokenNameIdentifier	 genclass
=	TokenNameEQUAL	
genericLoader	TokenNameIdentifier	 generic Loader
.	TokenNameDOT	
loadClass	TokenNameIdentifier	 load Class
(	TokenNameLPAREN	
classname	TokenNameIdentifier	 classname
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
genclass	TokenNameIdentifier	 genclass
.	TokenNameDOT	
isInterface	TokenNameIdentifier	 is Interface
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//Interface changed rebuild jar. 	TokenNameCOMMENT_LINE	Interface changed rebuild jar. 
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Interface "	TokenNameStringLiteral	Interface 
+	TokenNamePLUS	
genclass	TokenNameIdentifier	 genclass
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" has changed"	TokenNameStringLiteral	 has changed
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
rebuild	TokenNameIdentifier	 rebuild
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
//Object class Changed update it. 	TokenNameCOMMENT_LINE	Object class Changed update it. 
replaceEntries	TokenNameIdentifier	 replace Entries
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
filepath	TokenNameIdentifier	 filepath
,	TokenNameCOMMA	
genericEntry	TokenNameIdentifier	 generic Entry
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// is it the manifest. If so ignore it 	TokenNameCOMMENT_LINE	is it the manifest. If so ignore it 
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
genericEntry	TokenNameIdentifier	 generic Entry
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"META-INF/MANIFEST.MF"	TokenNameStringLiteral	META-INF/MANIFEST.MF
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//File other then class changed rebuild 	TokenNameCOMMENT_LINE	File other then class changed rebuild 
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Non class file "	TokenNameStringLiteral	Non class file 
+	TokenNamePLUS	
genericEntry	TokenNameIdentifier	 generic Entry
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" has changed"	TokenNameStringLiteral	 has changed
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
rebuild	TokenNameIdentifier	 rebuild
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// a file doesn't exist rebuild 	TokenNameCOMMENT_LINE	a file doesn't exist rebuild 
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"File "	TokenNameStringLiteral	File 
+	TokenNamePLUS	
filepath	TokenNameIdentifier	 filepath
+	TokenNamePLUS	
" not present in websphere jar"	TokenNameStringLiteral	 not present in websphere jar
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
rebuild	TokenNameIdentifier	 rebuild
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
rebuild	TokenNameIdentifier	 rebuild
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"No rebuild needed - updating jar"	TokenNameStringLiteral	No rebuild needed - updating jar
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
newwasJarFile	TokenNameIdentifier	 newwas Jar File
=	TokenNameEQUAL	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
websphereJarFile	TokenNameIdentifier	 websphere Jar File
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
".temp"	TokenNameStringLiteral	.temp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
newwasJarFile	TokenNameIdentifier	 newwas Jar File
.	TokenNameDOT	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
newwasJarFile	TokenNameIdentifier	 newwas Jar File
.	TokenNameDOT	
delete	TokenNameIdentifier	 delete
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
newJarStream	TokenNameIdentifier	 new Jar Stream
=	TokenNameEQUAL	
new	TokenNamenew	
JarOutputStream	TokenNameIdentifier	 Jar Output Stream
(	TokenNameLPAREN	
new	TokenNamenew	
FileOutputStream	TokenNameIdentifier	 File Output Stream
(	TokenNameLPAREN	
newwasJarFile	TokenNameIdentifier	 newwas Jar File
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
newJarStream	TokenNameIdentifier	 new Jar Stream
.	TokenNameDOT	
setLevel	TokenNameIdentifier	 set Level
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//Copy files from old websphere jar 	TokenNameCOMMENT_LINE	Copy files from old websphere jar 
for	TokenNamefor	
(	TokenNameLPAREN	
Enumeration	TokenNameIdentifier	 Enumeration
e	TokenNameIdentifier	 e
=	TokenNameEQUAL	
wasEntries	TokenNameIdentifier	 was Entries
.	TokenNameDOT	
elements	TokenNameIdentifier	 elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
byte	TokenNamebyte	
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
buffer	TokenNameIdentifier	 buffer
=	TokenNameEQUAL	
new	TokenNamenew	
byte	TokenNamebyte	
[	TokenNameLBRACKET	
DEFAULT_BUFFER_SIZE	TokenNameIdentifier	 DEFAULT  BUFFER  SIZE
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
int	TokenNameint	
bytesRead	TokenNameIdentifier	 bytes Read
;	TokenNameSEMICOLON	
InputStream	TokenNameIdentifier	 Input Stream
is	TokenNameIdentifier	 is
;	TokenNameSEMICOLON	
JarEntry	TokenNameIdentifier	 Jar Entry
je	TokenNameIdentifier	 je
=	TokenNameEQUAL	
(	TokenNameLPAREN	
JarEntry	TokenNameIdentifier	 Jar Entry
)	TokenNameRPAREN	
e	TokenNameIdentifier	 e
.	TokenNameDOT	
nextElement	TokenNameIdentifier	 next Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
je	TokenNameIdentifier	 je
.	TokenNameDOT	
getCompressedSize	TokenNameIdentifier	 get Compressed Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
||	TokenNameOR_OR	
je	TokenNameIdentifier	 je
.	TokenNameDOT	
getCompressedSize	TokenNameIdentifier	 get Compressed Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
je	TokenNameIdentifier	 je
.	TokenNameDOT	
getSize	TokenNameIdentifier	 get Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
newJarStream	TokenNameIdentifier	 new Jar Stream
.	TokenNameDOT	
setLevel	TokenNameIdentifier	 set Level
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
newJarStream	TokenNameIdentifier	 new Jar Stream
.	TokenNameDOT	
setLevel	TokenNameIdentifier	 set Level
(	TokenNameLPAREN	
JAR_COMPRESS_LEVEL	TokenNameIdentifier	 JAR  COMPRESS  LEVEL
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Update with changed Bean class 	TokenNameCOMMENT_LINE	Update with changed Bean class 
if	TokenNameif	
(	TokenNameLPAREN	
replaceEntries	TokenNameIdentifier	 replace Entries
.	TokenNameDOT	
containsKey	TokenNameIdentifier	 contains Key
(	TokenNameLPAREN	
je	TokenNameIdentifier	 je
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Updating Bean class from generic Jar "	TokenNameStringLiteral	Updating Bean class from generic Jar 
+	TokenNamePLUS	
je	TokenNameIdentifier	 je
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Use the entry from the generic jar 	TokenNameCOMMENT_LINE	Use the entry from the generic jar 
je	TokenNameIdentifier	 je
=	TokenNameEQUAL	
(	TokenNameLPAREN	
JarEntry	TokenNameIdentifier	 Jar Entry
)	TokenNameRPAREN	
replaceEntries	TokenNameIdentifier	 replace Entries
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
je	TokenNameIdentifier	 je
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
is	TokenNameIdentifier	 is
=	TokenNameEQUAL	
genericJar	TokenNameIdentifier	 generic Jar
.	TokenNameDOT	
getInputStream	TokenNameIdentifier	 get Input Stream
(	TokenNameLPAREN	
je	TokenNameIdentifier	 je
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
//use fle from original websphere jar 	TokenNameCOMMENT_LINE	use fle from original websphere jar 
is	TokenNameIdentifier	 is
=	TokenNameEQUAL	
wasJar	TokenNameIdentifier	 was Jar
.	TokenNameDOT	
getInputStream	TokenNameIdentifier	 get Input Stream
(	TokenNameLPAREN	
je	TokenNameIdentifier	 je
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
newJarStream	TokenNameIdentifier	 new Jar Stream
.	TokenNameDOT	
putNextEntry	TokenNameIdentifier	 put Next Entry
(	TokenNameLPAREN	
new	TokenNamenew	
JarEntry	TokenNameIdentifier	 Jar Entry
(	TokenNameLPAREN	
je	TokenNameIdentifier	 je
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
bytesRead	TokenNameIdentifier	 bytes Read
=	TokenNameEQUAL	
is	TokenNameIdentifier	 is
.	TokenNameDOT	
read	TokenNameIdentifier	 read
(	TokenNameLPAREN	
buffer	TokenNameIdentifier	 buffer
)	TokenNameRPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
newJarStream	TokenNameIdentifier	 new Jar Stream
.	TokenNameDOT	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
buffer	TokenNameIdentifier	 buffer
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
bytesRead	TokenNameIdentifier	 bytes Read
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
is	TokenNameIdentifier	 is
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"websphere Jar rebuild needed due to changed "	TokenNameStringLiteral	websphere Jar rebuild needed due to changed 
+	TokenNamePLUS	
"interface or XML"	TokenNameStringLiteral	interface or XML
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
rebuild	TokenNameIdentifier	 rebuild
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
ClassNotFoundException	TokenNameIdentifier	 Class Not Found Exception
cnfe	TokenNameIdentifier	 cnfe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
cnfmsg	TokenNameIdentifier	 cnfmsg
=	TokenNameEQUAL	
"ClassNotFoundException while processing ejb-jar file"	TokenNameStringLiteral	ClassNotFoundException while processing ejb-jar file
+	TokenNamePLUS	
". Details: "	TokenNameStringLiteral	. Details: 
+	TokenNamePLUS	
cnfe	TokenNameIdentifier	 cnfe
.	TokenNameDOT	
getMessage	TokenNameIdentifier	 get Message
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
cnfmsg	TokenNameIdentifier	 cnfmsg
,	TokenNameCOMMA	
cnfe	TokenNameIdentifier	 cnfe
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
"IOException while processing ejb-jar file "	TokenNameStringLiteral	IOException while processing ejb-jar file 
+	TokenNamePLUS	
". Details: "	TokenNameStringLiteral	. Details: 
+	TokenNamePLUS	
ioe	TokenNameIdentifier	 ioe
.	TokenNameDOT	
getMessage	TokenNameIdentifier	 get Message
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
// need to close files and perhaps rename output 	TokenNameCOMMENT_LINE	need to close files and perhaps rename output 
if	TokenNameif	
(	TokenNameLPAREN	
genericJar	TokenNameIdentifier	 generic Jar
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
genericJar	TokenNameIdentifier	 generic Jar
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
closeException	TokenNameIdentifier	 close Exception
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Ignore 	TokenNameCOMMENT_LINE	Ignore 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
wasJar	TokenNameIdentifier	 was Jar
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
wasJar	TokenNameIdentifier	 was Jar
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
closeException	TokenNameIdentifier	 close Exception
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Ignore 	TokenNameCOMMENT_LINE	Ignore 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
newJarStream	TokenNameIdentifier	 new Jar Stream
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
newJarStream	TokenNameIdentifier	 new Jar Stream
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
closeException	TokenNameIdentifier	 close Exception
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Ignore 	TokenNameCOMMENT_LINE	Ignore 
}	TokenNameRBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
FILE_UTILS	TokenNameIdentifier	 FILE  UTILS
.	TokenNameDOT	
rename	TokenNameIdentifier	 rename
(	TokenNameLPAREN	
newwasJarFile	TokenNameIdentifier	 newwas Jar File
,	TokenNameCOMMA	
websphereJarFile	TokenNameIdentifier	 websphere Jar File
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
renameException	TokenNameIdentifier	 rename Exception
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
renameException	TokenNameIdentifier	 rename Exception
.	TokenNameDOT	
getMessage	TokenNameIdentifier	 get Message
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_WARN	TokenNameIdentifier	 MSG  WARN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
rebuild	TokenNameIdentifier	 rebuild
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
genericLoader	TokenNameIdentifier	 generic Loader
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
genericLoader	TokenNameIdentifier	 generic Loader
instanceof	TokenNameinstanceof	
AntClassLoader	TokenNameIdentifier	 Ant Class Loader
)	TokenNameRPAREN	
{	TokenNameLBRACE	
AntClassLoader	TokenNameIdentifier	 Ant Class Loader
loader	TokenNameIdentifier	 loader
=	TokenNameEQUAL	
(	TokenNameLPAREN	
AntClassLoader	TokenNameIdentifier	 Ant Class Loader
)	TokenNameRPAREN	
genericLoader	TokenNameIdentifier	 generic Loader
;	TokenNameSEMICOLON	
loader	TokenNameIdentifier	 loader
.	TokenNameDOT	
cleanup	TokenNameIdentifier	 cleanup
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
rebuild	TokenNameIdentifier	 rebuild
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Helper method invoked by isRebuildRequired to get a ClassLoader for a * Jar File passed to it. * * @param classjar java.io.File representing jar file to get classes from. * @return a classloader for the jar file. * @throws IOException if there is an error. */	TokenNameCOMMENT_JAVADOC	 Helper method invoked by isRebuildRequired to get a ClassLoader for a Jar File passed to it. * @param classjar java.io.File representing jar file to get classes from. @return a classloader for the jar file. @throws IOException if there is an error. 
protected	TokenNameprotected	
ClassLoader	TokenNameIdentifier	 Class Loader
getClassLoaderFromJar	TokenNameIdentifier	 get Class Loader From Jar
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
classjar	TokenNameIdentifier	 classjar
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
Path	TokenNameIdentifier	 Path
lookupPath	TokenNameIdentifier	 lookup Path
=	TokenNameEQUAL	
new	TokenNamenew	
Path	TokenNameIdentifier	 Path
(	TokenNameLPAREN	
getTask	TokenNameIdentifier	 get Task
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lookupPath	TokenNameIdentifier	 lookup Path
.	TokenNameDOT	
setLocation	TokenNameIdentifier	 set Location
(	TokenNameLPAREN	
classjar	TokenNameIdentifier	 classjar
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Path	TokenNameIdentifier	 Path
classpath	TokenNameIdentifier	 classpath
=	TokenNameEQUAL	
getCombinedClasspath	TokenNameIdentifier	 get Combined Classpath
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
classpath	TokenNameIdentifier	 classpath
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
lookupPath	TokenNameIdentifier	 lookup Path
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
classpath	TokenNameIdentifier	 classpath
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
getTask	TokenNameIdentifier	 get Task
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
createClassLoader	TokenNameIdentifier	 create Class Loader
(	TokenNameLPAREN	
lookupPath	TokenNameIdentifier	 lookup Path
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
