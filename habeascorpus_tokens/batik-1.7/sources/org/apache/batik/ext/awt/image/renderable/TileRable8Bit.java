/* Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
renderable	TokenNameIdentifier	 renderable
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
Graphics2D	TokenNameIdentifier	 Graphics2 D
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
Rectangle	TokenNameIdentifier	 Rectangle
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
RenderingHints	TokenNameIdentifier	 Rendering Hints
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
Shape	TokenNameIdentifier	 Shape
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
geom	TokenNameIdentifier	 geom
.	TokenNameDOT	
AffineTransform	TokenNameIdentifier	 Affine Transform
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
geom	TokenNameIdentifier	 geom
.	TokenNameDOT	
Point2D	TokenNameIdentifier	 Point2 D
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
geom	TokenNameIdentifier	 geom
.	TokenNameDOT	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
BufferedImage	TokenNameIdentifier	 Buffered Image
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
RenderedImage	TokenNameIdentifier	 Rendered Image
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
renderable	TokenNameIdentifier	 renderable
.	TokenNameDOT	
RenderContext	TokenNameIdentifier	 Render Context
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
RenderingHintsKeyExt	TokenNameIdentifier	 Rendering Hints Key Ext
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
GraphicsUtil	TokenNameIdentifier	 Graphics Util
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
rendered	TokenNameIdentifier	 rendered
.	TokenNameDOT	
AffineRed	TokenNameIdentifier	 Affine Red
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
rendered	TokenNameIdentifier	 rendered
.	TokenNameDOT	
BufferedImageCachableRed	TokenNameIdentifier	 Buffered Image Cachable Red
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
rendered	TokenNameIdentifier	 rendered
.	TokenNameDOT	
CachableRed	TokenNameIdentifier	 Cachable Red
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
batik	TokenNameIdentifier	 batik
.	TokenNameDOT	
ext	TokenNameIdentifier	 ext
.	TokenNameDOT	
awt	TokenNameIdentifier	 awt
.	TokenNameDOT	
image	TokenNameIdentifier	 image
.	TokenNameDOT	
rendered	TokenNameIdentifier	 rendered
.	TokenNameDOT	
TileRed	TokenNameIdentifier	 Tile Red
;	TokenNameSEMICOLON	
/** * 8 bit TileRable implementation * * @author <a href="mailto:vhardy@apache.org">Vincent Hardy</a> * @version $Id: TileRable8Bit.java 478276 2006-11-22 18:33:37Z dvholten $ */	TokenNameCOMMENT_JAVADOC	 8 bit TileRable implementation * @author <a href="mailto:vhardy@apache.org">Vincent Hardy</a> @version $Id: TileRable8Bit.java 478276 2006-11-22 18:33:37Z dvholten $ 
public	TokenNamepublic	
class	TokenNameclass	
TileRable8Bit	TokenNameIdentifier	 Tile Rable8 Bit
extends	TokenNameextends	
AbstractColorInterpolationRable	TokenNameIdentifier	 Abstract Color Interpolation Rable
implements	TokenNameimplements	
TileRable	TokenNameIdentifier	 Tile Rable
{	TokenNameLBRACE	
/** * Tile region */	TokenNameCOMMENT_JAVADOC	 Tile region 
private	TokenNameprivate	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
tileRegion	TokenNameIdentifier	 tile Region
;	TokenNameSEMICOLON	
/** * Tiled region */	TokenNameCOMMENT_JAVADOC	 Tiled region 
private	TokenNameprivate	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
tiledRegion	TokenNameIdentifier	 tiled Region
;	TokenNameSEMICOLON	
/** * Controls whether the tileRegion clips the source * or not */	TokenNameCOMMENT_JAVADOC	 Controls whether the tileRegion clips the source or not 
private	TokenNameprivate	
boolean	TokenNameboolean	
overflow	TokenNameIdentifier	 overflow
;	TokenNameSEMICOLON	
/** * Returns the tile region */	TokenNameCOMMENT_JAVADOC	 Returns the tile region 
public	TokenNamepublic	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
getTileRegion	TokenNameIdentifier	 get Tile Region
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
tileRegion	TokenNameIdentifier	 tile Region
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the tile region */	TokenNameCOMMENT_JAVADOC	 Sets the tile region 
public	TokenNamepublic	
void	TokenNamevoid	
setTileRegion	TokenNameIdentifier	 set Tile Region
(	TokenNameLPAREN	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
tileRegion	TokenNameIdentifier	 tile Region
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
tileRegion	TokenNameIdentifier	 tile Region
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalArgumentException	TokenNameIdentifier	 Illegal Argument Exception
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
touch	TokenNameIdentifier	 touch
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
tileRegion	TokenNameIdentifier	 tile Region
=	TokenNameEQUAL	
tileRegion	TokenNameIdentifier	 tile Region
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns the tiled region */	TokenNameCOMMENT_JAVADOC	 Returns the tiled region 
public	TokenNamepublic	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
getTiledRegion	TokenNameIdentifier	 get Tiled Region
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
tiledRegion	TokenNameIdentifier	 tiled Region
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the tiled region */	TokenNameCOMMENT_JAVADOC	 Sets the tiled region 
public	TokenNamepublic	
void	TokenNamevoid	
setTiledRegion	TokenNameIdentifier	 set Tiled Region
(	TokenNameLPAREN	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
tiledRegion	TokenNameIdentifier	 tiled Region
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
tiledRegion	TokenNameIdentifier	 tiled Region
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
IllegalArgumentException	TokenNameIdentifier	 Illegal Argument Exception
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
touch	TokenNameIdentifier	 touch
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
tiledRegion	TokenNameIdentifier	 tiled Region
=	TokenNameEQUAL	
tiledRegion	TokenNameIdentifier	 tiled Region
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns the overflow strategy */	TokenNameCOMMENT_JAVADOC	 Returns the overflow strategy 
public	TokenNamepublic	
boolean	TokenNameboolean	
isOverflow	TokenNameIdentifier	 is Overflow
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
overflow	TokenNameIdentifier	 overflow
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the overflow strategy */	TokenNameCOMMENT_JAVADOC	 Sets the overflow strategy 
public	TokenNamepublic	
void	TokenNamevoid	
setOverflow	TokenNameIdentifier	 set Overflow
(	TokenNameLPAREN	
boolean	TokenNameboolean	
overflow	TokenNameIdentifier	 overflow
)	TokenNameRPAREN	
{	TokenNameLBRACE	
touch	TokenNameIdentifier	 touch
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
overflow	TokenNameIdentifier	 overflow
=	TokenNameEQUAL	
overflow	TokenNameIdentifier	 overflow
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Default constructor */	TokenNameCOMMENT_JAVADOC	 Default constructor 
public	TokenNamepublic	
TileRable8Bit	TokenNameIdentifier	 Tile Rable8 Bit
(	TokenNameLPAREN	
Filter	TokenNameIdentifier	 Filter
source	TokenNameIdentifier	 source
,	TokenNameCOMMA	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
tiledRegion	TokenNameIdentifier	 tiled Region
,	TokenNameCOMMA	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
tileRegion	TokenNameIdentifier	 tile Region
,	TokenNameCOMMA	
boolean	TokenNameboolean	
overflow	TokenNameIdentifier	 overflow
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
source	TokenNameIdentifier	 source
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
setTileRegion	TokenNameIdentifier	 set Tile Region
(	TokenNameLPAREN	
tileRegion	TokenNameIdentifier	 tile Region
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
setTiledRegion	TokenNameIdentifier	 set Tiled Region
(	TokenNameLPAREN	
tiledRegion	TokenNameIdentifier	 tiled Region
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
setOverflow	TokenNameIdentifier	 set Overflow
(	TokenNameLPAREN	
overflow	TokenNameIdentifier	 overflow
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the filter source */	TokenNameCOMMENT_JAVADOC	 Sets the filter source 
public	TokenNamepublic	
void	TokenNamevoid	
setSource	TokenNameIdentifier	 set Source
(	TokenNameLPAREN	
Filter	TokenNameIdentifier	 Filter
src	TokenNameIdentifier	 src
)	TokenNameRPAREN	
{	TokenNameLBRACE	
init	TokenNameIdentifier	 init
(	TokenNameLPAREN	
src	TokenNameIdentifier	 src
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Return's the tile source */	TokenNameCOMMENT_JAVADOC	 Return's the tile source 
public	TokenNamepublic	
Filter	TokenNameIdentifier	 Filter
getSource	TokenNameIdentifier	 get Source
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
Filter	TokenNameIdentifier	 Filter
)	TokenNameRPAREN	
srcs	TokenNameIdentifier	 srcs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns this filter's bounds */	TokenNameCOMMENT_JAVADOC	 Returns this filter's bounds 
public	TokenNamepublic	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
)	TokenNameRPAREN	
tiledRegion	TokenNameIdentifier	 tiled Region
.	TokenNameDOT	
clone	TokenNameIdentifier	 clone
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
RenderedImage	TokenNameIdentifier	 Rendered Image
createRendering	TokenNameIdentifier	 create Rendering
(	TokenNameLPAREN	
RenderContext	TokenNameIdentifier	 Render Context
rc	TokenNameIdentifier	 rc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Just copy over the rendering hints. 	TokenNameCOMMENT_LINE	Just copy over the rendering hints. 
RenderingHints	TokenNameIdentifier	 Rendering Hints
rh	TokenNameIdentifier	 rh
=	TokenNameEQUAL	
rc	TokenNameIdentifier	 rc
.	TokenNameDOT	
getRenderingHints	TokenNameIdentifier	 get Rendering Hints
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
rh	TokenNameIdentifier	 rh
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
rh	TokenNameIdentifier	 rh
=	TokenNameEQUAL	
new	TokenNamenew	
RenderingHints	TokenNameIdentifier	 Rendering Hints
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// update the current affine transform 	TokenNameCOMMENT_LINE	update the current affine transform 
AffineTransform	TokenNameIdentifier	 Affine Transform
at	TokenNameIdentifier	 at
=	TokenNameEQUAL	
rc	TokenNameIdentifier	 rc
.	TokenNameDOT	
getTransform	TokenNameIdentifier	 get Transform
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
sx	TokenNameIdentifier	 sx
=	TokenNameEQUAL	
at	TokenNameIdentifier	 at
.	TokenNameDOT	
getScaleX	TokenNameIdentifier	 get Scale X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
sy	TokenNameIdentifier	 sy
=	TokenNameEQUAL	
at	TokenNameIdentifier	 at
.	TokenNameDOT	
getScaleY	TokenNameIdentifier	 get Scale Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
shx	TokenNameIdentifier	 shx
=	TokenNameEQUAL	
at	TokenNameIdentifier	 at
.	TokenNameDOT	
getShearX	TokenNameIdentifier	 get Shear X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
shy	TokenNameIdentifier	 shy
=	TokenNameEQUAL	
at	TokenNameIdentifier	 at
.	TokenNameDOT	
getShearY	TokenNameIdentifier	 get Shear Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tx	TokenNameIdentifier	 tx
=	TokenNameEQUAL	
at	TokenNameIdentifier	 at
.	TokenNameDOT	
getTranslateX	TokenNameIdentifier	 get Translate X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
ty	TokenNameIdentifier	 ty
=	TokenNameEQUAL	
at	TokenNameIdentifier	 at
.	TokenNameDOT	
getTranslateY	TokenNameIdentifier	 get Translate Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// The Scale is the "hypotonose" of the matrix vectors. 	TokenNameCOMMENT_LINE	The Scale is the "hypotonose" of the matrix vectors. 
double	TokenNamedouble	
scaleX	TokenNameIdentifier	 scale X
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
sqrt	TokenNameIdentifier	 sqrt
(	TokenNameLPAREN	
sx	TokenNameIdentifier	 sx
*	TokenNameMULTIPLY	
sx	TokenNameIdentifier	 sx
+	TokenNamePLUS	
shy	TokenNameIdentifier	 shy
*	TokenNameMULTIPLY	
shy	TokenNameIdentifier	 shy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
scaleY	TokenNameIdentifier	 scale Y
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
sqrt	TokenNameIdentifier	 sqrt
(	TokenNameLPAREN	
sy	TokenNameIdentifier	 sy
*	TokenNameMULTIPLY	
sy	TokenNameIdentifier	 sy
+	TokenNamePLUS	
shx	TokenNameIdentifier	 shx
*	TokenNameMULTIPLY	
shx	TokenNameIdentifier	 shx
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("AT: " + at); 	TokenNameCOMMENT_LINE	System.out.println("AT: " + at); 
// System.out.println("Scale: " + scaleX + "x" + scaleY); 	TokenNameCOMMENT_LINE	System.out.println("Scale: " + scaleX + "x" + scaleY); 
// 	TokenNameCOMMENT_LINE	 
// Compute the actual tiled area (intersection of AOI 	TokenNameCOMMENT_LINE	Compute the actual tiled area (intersection of AOI 
// and bounds) and the actual tile (anchored in the 	TokenNameCOMMENT_LINE	and bounds) and the actual tile (anchored in the 
// upper left corner of the tiled area 	TokenNameCOMMENT_LINE	upper left corner of the tiled area 
// 	TokenNameCOMMENT_LINE	 
// tiledRect 	TokenNameCOMMENT_LINE	tiledRect 
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
tiledRect	TokenNameIdentifier	 tiled Rect
=	TokenNameEQUAL	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
aoiRect	TokenNameIdentifier	 aoi Rect
;	TokenNameSEMICOLON	
Shape	TokenNameIdentifier	 Shape
aoiShape	TokenNameIdentifier	 aoi Shape
=	TokenNameEQUAL	
rc	TokenNameIdentifier	 rc
.	TokenNameDOT	
getAreaOfInterest	TokenNameIdentifier	 get Area Of Interest
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
aoiShape	TokenNameIdentifier	 aoi Shape
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
aoiRect	TokenNameIdentifier	 aoi Rect
=	TokenNameEQUAL	
tiledRect	TokenNameIdentifier	 tiled Rect
;	TokenNameSEMICOLON	
else	TokenNameelse	
{	TokenNameLBRACE	
aoiRect	TokenNameIdentifier	 aoi Rect
=	TokenNameEQUAL	
aoiShape	TokenNameIdentifier	 aoi Shape
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
tiledRect	TokenNameIdentifier	 tiled Rect
.	TokenNameDOT	
intersects	TokenNameIdentifier	 intersects
(	TokenNameLPAREN	
aoiRect	TokenNameIdentifier	 aoi Rect
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
intersect	TokenNameIdentifier	 intersect
(	TokenNameLPAREN	
tiledRect	TokenNameIdentifier	 tiled Rect
,	TokenNameCOMMA	
aoiRect	TokenNameIdentifier	 aoi Rect
,	TokenNameCOMMA	
tiledRect	TokenNameIdentifier	 tiled Rect
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// tileRect 	TokenNameCOMMENT_LINE	tileRect 
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
tileRect	TokenNameIdentifier	 tile Rect
=	TokenNameEQUAL	
tileRegion	TokenNameIdentifier	 tile Region
;	TokenNameSEMICOLON	
// Adjust the scale so that the tiling happens on pixel 	TokenNameCOMMENT_LINE	Adjust the scale so that the tiling happens on pixel 
// boundaries on both axis. 	TokenNameCOMMENT_LINE	boundaries on both axis. 
// Desired pixel rect width 	TokenNameCOMMENT_LINE	Desired pixel rect width 
int	TokenNameint	
dw	TokenNameIdentifier	 dw
=	TokenNameEQUAL	
(	TokenNameLPAREN	
int	TokenNameint	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
ceil	TokenNameIdentifier	 ceil
(	TokenNameLPAREN	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
*	TokenNameMULTIPLY	
scaleX	TokenNameIdentifier	 scale X
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
dh	TokenNameIdentifier	 dh
=	TokenNameEQUAL	
(	TokenNameLPAREN	
int	TokenNameint	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
ceil	TokenNameIdentifier	 ceil
(	TokenNameLPAREN	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
*	TokenNameMULTIPLY	
scaleY	TokenNameIdentifier	 scale Y
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tileScaleX	TokenNameIdentifier	 tile Scale X
=	TokenNameEQUAL	
dw	TokenNameIdentifier	 dw
/	TokenNameDIVIDE	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tileScaleY	TokenNameIdentifier	 tile Scale Y
=	TokenNameEQUAL	
dh	TokenNameIdentifier	 dh
/	TokenNameDIVIDE	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("scaleX/scaleY : " + scaleX + " / " + scaleY); 	TokenNameCOMMENT_LINE	System.out.println("scaleX/scaleY : " + scaleX + " / " + scaleY); 
// System.out.println("tileScaleX/tileScaleY : " + tileScaleX + " / " + tileScaleY); 	TokenNameCOMMENT_LINE	System.out.println("tileScaleX/tileScaleY : " + tileScaleX + " / " + tileScaleY); 
// Adjust the translation so that the tile's origin falls on 	TokenNameCOMMENT_LINE	Adjust the translation so that the tile's origin falls on 
// pixel boundary 	TokenNameCOMMENT_LINE	pixel boundary 
int	TokenNameint	
dx	TokenNameIdentifier	 dx
=	TokenNameEQUAL	
(	TokenNameLPAREN	
int	TokenNameint	
)	TokenNameRPAREN	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
floor	TokenNameIdentifier	 floor
(	TokenNameLPAREN	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
*	TokenNameMULTIPLY	
tileScaleX	TokenNameIdentifier	 tile Scale X
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
dy	TokenNameIdentifier	 dy
=	TokenNameEQUAL	
(	TokenNameLPAREN	
int	TokenNameint	
)	TokenNameRPAREN	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
floor	TokenNameIdentifier	 floor
(	TokenNameLPAREN	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
*	TokenNameMULTIPLY	
tileScaleY	TokenNameIdentifier	 tile Scale Y
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
ttx	TokenNameIdentifier	 ttx
=	TokenNameEQUAL	
dx	TokenNameIdentifier	 dx
-	TokenNameMINUS	
(	TokenNameLPAREN	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
*	TokenNameMULTIPLY	
tileScaleX	TokenNameIdentifier	 tile Scale X
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tty	TokenNameIdentifier	 tty
=	TokenNameEQUAL	
dy	TokenNameIdentifier	 dy
-	TokenNameMINUS	
(	TokenNameLPAREN	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
*	TokenNameMULTIPLY	
tileScaleY	TokenNameIdentifier	 tile Scale Y
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("ttx/tty : " + ttx + " / " + tty); 	TokenNameCOMMENT_LINE	System.out.println("ttx/tty : " + ttx + " / " + tty); 
// Get result unsheared or rotated 	TokenNameCOMMENT_LINE	Get result unsheared or rotated 
AffineTransform	TokenNameIdentifier	 Affine Transform
tileAt	TokenNameIdentifier	 tile At
;	TokenNameSEMICOLON	
// tileAt = AffineTransform.getScaleInstance(tileScaleX, tileScaleY); 	TokenNameCOMMENT_LINE	tileAt = AffineTransform.getScaleInstance(tileScaleX, tileScaleY); 
// tileAt.translate(ttx, tty); 	TokenNameCOMMENT_LINE	tileAt.translate(ttx, tty); 
// System.out.println("Pt: " + tileAt.transform 	TokenNameCOMMENT_LINE	System.out.println("Pt: " + tileAt.transform 
// (new Point2D.Double(aoiRect.getX(), 	TokenNameCOMMENT_LINE	(new Point2D.Double(aoiRect.getX(), 
// aoiRect.getY()), null)); 	TokenNameCOMMENT_LINE	aoiRect.getY()), null)); 
tileAt	TokenNameIdentifier	 tile At
=	TokenNameEQUAL	
AffineTransform	TokenNameIdentifier	 Affine Transform
.	TokenNameDOT	
getTranslateInstance	TokenNameIdentifier	 get Translate Instance
(	TokenNameLPAREN	
ttx	TokenNameIdentifier	 ttx
,	TokenNameCOMMA	
tty	TokenNameIdentifier	 tty
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
tileAt	TokenNameIdentifier	 tile At
.	TokenNameDOT	
scale	TokenNameIdentifier	 scale
(	TokenNameLPAREN	
tileScaleX	TokenNameIdentifier	 tile Scale X
,	TokenNameCOMMA	
tileScaleY	TokenNameIdentifier	 tile Scale Y
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("Pt: " + tileAt.transform 	TokenNameCOMMENT_LINE	System.out.println("Pt: " + tileAt.transform 
// (new Point2D.Double(aoiRect.getX(), 	TokenNameCOMMENT_LINE	(new Point2D.Double(aoiRect.getX(), 
// aoiRect.getY()), null)); 	TokenNameCOMMENT_LINE	aoiRect.getY()), null)); 
// System.out.println("tileRect in userSpace : " + tileRect); 	TokenNameCOMMENT_LINE	System.out.println("tileRect in userSpace : " + tileRect); 
// System.out.println("tileRect in deviceSpace : " + 	TokenNameCOMMENT_LINE	System.out.println("tileRect in deviceSpace : " + 
// tileAt.createTransformedShape(tileRect). 	TokenNameCOMMENT_LINE	tileAt.createTransformedShape(tileRect). 
// getBounds2D()); 	TokenNameCOMMENT_LINE	getBounds2D()); 
Filter	TokenNameIdentifier	 Filter
source	TokenNameIdentifier	 source
=	TokenNameEQUAL	
getSource	TokenNameIdentifier	 get Source
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
srcRect	TokenNameIdentifier	 src Rect
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
overflow	TokenNameIdentifier	 overflow
)	TokenNameRPAREN	
srcRect	TokenNameIdentifier	 src Rect
=	TokenNameEQUAL	
source	TokenNameIdentifier	 source
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
srcRect	TokenNameIdentifier	 src Rect
=	TokenNameEQUAL	
tileRect	TokenNameIdentifier	 tile Rect
;	TokenNameSEMICOLON	
// System.out.println("SrcRect: " + srcRect); 	TokenNameCOMMENT_LINE	System.out.println("SrcRect: " + srcRect); 
RenderContext	TokenNameIdentifier	 Render Context
tileRc	TokenNameIdentifier	 tile Rc
=	TokenNameEQUAL	
new	TokenNamenew	
RenderContext	TokenNameIdentifier	 Render Context
(	TokenNameLPAREN	
tileAt	TokenNameIdentifier	 tile At
,	TokenNameCOMMA	
srcRect	TokenNameIdentifier	 src Rect
,	TokenNameCOMMA	
rh	TokenNameIdentifier	 rh
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// RenderedImage tileRed = new DemandRed(source, tileRc); 	TokenNameCOMMENT_LINE	RenderedImage tileRed = new DemandRed(source, tileRc); 
RenderedImage	TokenNameIdentifier	 Rendered Image
tileRed	TokenNameIdentifier	 tile Red
=	TokenNameEQUAL	
source	TokenNameIdentifier	 source
.	TokenNameDOT	
createRendering	TokenNameIdentifier	 create Rendering
(	TokenNameLPAREN	
tileRc	TokenNameIdentifier	 tile Rc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("TileRed: " + 	TokenNameCOMMENT_LINE	System.out.println("TileRed: " + 
// GraphicsUtil.wrap(tileRed).getBounds()); 	TokenNameCOMMENT_LINE	GraphicsUtil.wrap(tileRed).getBounds()); 
// RenderedImage tileRed = createTile(tileRc); 	TokenNameCOMMENT_LINE	RenderedImage tileRed = createTile(tileRc); 
// System.out.println("tileRed : " + tileRed.getMinX() + "/" + tileRed.getMinY() + "/" 	TokenNameCOMMENT_LINE	System.out.println("tileRed : " + tileRed.getMinX() + "/" + tileRed.getMinY() + "/" 
// + tileRed.getWidth() + "/" + tileRed.getHeight()); 	TokenNameCOMMENT_LINE	+ tileRed.getWidth() + "/" + tileRed.getHeight()); 
if	TokenNameif	
(	TokenNameLPAREN	
tileRed	TokenNameIdentifier	 tile Red
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// System.out.println("aoiRect: " + aoiRect); 	TokenNameCOMMENT_LINE	System.out.println("aoiRect: " + aoiRect); 
Rectangle	TokenNameIdentifier	 Rectangle
tiledArea	TokenNameIdentifier	 tiled Area
=	TokenNameEQUAL	
tileAt	TokenNameIdentifier	 tile At
.	TokenNameDOT	
createTransformedShape	TokenNameIdentifier	 create Transformed Shape
(	TokenNameLPAREN	
aoiRect	TokenNameIdentifier	 aoi Rect
)	TokenNameRPAREN	
.	TokenNameDOT	
getBounds	TokenNameIdentifier	 get Bounds
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Serious hack alert!!! 	TokenNameCOMMENT_LINE	Serious hack alert!!! 
// In some cases the bounds are set to cover the whole area. 	TokenNameCOMMENT_LINE	In some cases the bounds are set to cover the whole area. 
// when they get scaled up sometimes the lower bounds go 	TokenNameCOMMENT_LINE	when they get scaled up sometimes the lower bounds go 
// to Integer.MIN_VALUE, and width/height to Integer.MAX_VALUE, 	TokenNameCOMMENT_LINE	to Integer.MIN_VALUE, and width/height to Integer.MAX_VALUE, 
// but this only covers the negative quarter of the canvas!!! 	TokenNameCOMMENT_LINE	but this only covers the negative quarter of the canvas!!! 
// So if width and height are MAX_VALUE then we assume this 	TokenNameCOMMENT_LINE	So if width and height are MAX_VALUE then we assume this 
// clipping has happened and we recenter the range. 	TokenNameCOMMENT_LINE	clipping has happened and we recenter the range. 
// Yes this is a serious hack and I appologies for it. 	TokenNameCOMMENT_LINE	Yes this is a serious hack and I appologies for it. 
// I wouldn't need to do this if PatternPaintContext knew 	TokenNameCOMMENT_LINE	I wouldn't need to do this if PatternPaintContext knew 
// what it's bounds were going to be.... 	TokenNameCOMMENT_LINE	what it's bounds were going to be.... 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
tiledArea	TokenNameIdentifier	 tiled Area
.	TokenNameDOT	
width	TokenNameIdentifier	 width
==	TokenNameEQUAL_EQUAL	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MAX_VALUE	TokenNameIdentifier	 MAX  VALUE
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
tiledArea	TokenNameIdentifier	 tiled Area
.	TokenNameDOT	
height	TokenNameIdentifier	 height
==	TokenNameEQUAL_EQUAL	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MAX_VALUE	TokenNameIdentifier	 MAX  VALUE
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
tiledArea	TokenNameIdentifier	 tiled Area
=	TokenNameEQUAL	
new	TokenNamenew	
Rectangle	TokenNameIdentifier	 Rectangle
(	TokenNameLPAREN	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MIN_VALUE	TokenNameIdentifier	 MIN  VALUE
/	TokenNameDIVIDE	
4	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MIN_VALUE	TokenNameIdentifier	 MIN  VALUE
/	TokenNameDIVIDE	
4	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MAX_VALUE	TokenNameIdentifier	 MAX  VALUE
/	TokenNameDIVIDE	
2	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MAX_VALUE	TokenNameIdentifier	 MAX  VALUE
/	TokenNameDIVIDE	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// System.out.println("tiledArea: " + tiledArea); 	TokenNameCOMMENT_LINE	System.out.println("tiledArea: " + tiledArea); 
tileRed	TokenNameIdentifier	 tile Red
=	TokenNameEQUAL	
convertSourceCS	TokenNameIdentifier	 convert Source CS
(	TokenNameLPAREN	
tileRed	TokenNameIdentifier	 tile Red
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
TileRed	TokenNameIdentifier	 Tile Red
tiledRed	TokenNameIdentifier	 tiled Red
=	TokenNameEQUAL	
new	TokenNamenew	
TileRed	TokenNameIdentifier	 Tile Red
(	TokenNameLPAREN	
tileRed	TokenNameIdentifier	 tile Red
,	TokenNameCOMMA	
tiledArea	TokenNameIdentifier	 tiled Area
,	TokenNameCOMMA	
dw	TokenNameIdentifier	 dw
,	TokenNameCOMMA	
dh	TokenNameIdentifier	 dh
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// org.apache.batik.test.gvt.ImageDisplay.showImage("Tile", tiledRed); 	TokenNameCOMMENT_LINE	org.apache.batik.test.gvt.ImageDisplay.showImage("Tile", tiledRed); 
// System.out.println("TileR: " + tiledRed.getBounds()); 	TokenNameCOMMENT_LINE	System.out.println("TileR: " + tiledRed.getBounds()); 
// Return sheared/rotated tiled image 	TokenNameCOMMENT_LINE	Return sheared/rotated tiled image 
AffineTransform	TokenNameIdentifier	 Affine Transform
shearAt	TokenNameIdentifier	 shear At
=	TokenNameEQUAL	
new	TokenNamenew	
AffineTransform	TokenNameIdentifier	 Affine Transform
(	TokenNameLPAREN	
sx	TokenNameIdentifier	 sx
/	TokenNameDIVIDE	
scaleX	TokenNameIdentifier	 scale X
,	TokenNameCOMMA	
shy	TokenNameIdentifier	 shy
/	TokenNameDIVIDE	
scaleX	TokenNameIdentifier	 scale X
,	TokenNameCOMMA	
shx	TokenNameIdentifier	 shx
/	TokenNameDIVIDE	
scaleY	TokenNameIdentifier	 scale Y
,	TokenNameCOMMA	
sy	TokenNameIdentifier	 sy
/	TokenNameDIVIDE	
scaleY	TokenNameIdentifier	 scale Y
,	TokenNameCOMMA	
tx	TokenNameIdentifier	 tx
,	TokenNameCOMMA	
ty	TokenNameIdentifier	 ty
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
shearAt	TokenNameIdentifier	 shear At
.	TokenNameDOT	
scale	TokenNameIdentifier	 scale
(	TokenNameLPAREN	
scaleX	TokenNameIdentifier	 scale X
/	TokenNameDIVIDE	
tileScaleX	TokenNameIdentifier	 tile Scale X
,	TokenNameCOMMA	
scaleY	TokenNameIdentifier	 scale Y
/	TokenNameDIVIDE	
tileScaleY	TokenNameIdentifier	 tile Scale Y
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
shearAt	TokenNameIdentifier	 shear At
.	TokenNameDOT	
translate	TokenNameIdentifier	 translate
(	TokenNameLPAREN	
-	TokenNameMINUS	
ttx	TokenNameIdentifier	 ttx
,	TokenNameCOMMA	
-	TokenNameMINUS	
tty	TokenNameIdentifier	 tty
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
CachableRed	TokenNameIdentifier	 Cachable Red
cr	TokenNameIdentifier	 cr
=	TokenNameEQUAL	
tiledRed	TokenNameIdentifier	 tiled Red
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
shearAt	TokenNameIdentifier	 shear At
.	TokenNameDOT	
isIdentity	TokenNameIdentifier	 is Identity
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
cr	TokenNameIdentifier	 cr
=	TokenNameEQUAL	
new	TokenNamenew	
AffineRed	TokenNameIdentifier	 Affine Red
(	TokenNameLPAREN	
tiledRed	TokenNameIdentifier	 tiled Red
,	TokenNameCOMMA	
shearAt	TokenNameIdentifier	 shear At
,	TokenNameCOMMA	
rh	TokenNameIdentifier	 rh
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("AffineR: " + cr.getBounds()); 	TokenNameCOMMENT_LINE	System.out.println("AffineR: " + cr.getBounds()); 
return	TokenNamereturn	
cr	TokenNameIdentifier	 cr
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
getActualTileBounds	TokenNameIdentifier	 get Actual Tile Bounds
(	TokenNameLPAREN	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
tiledRect	TokenNameIdentifier	 tiled Rect
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Get the tile rectangle in user space 	TokenNameCOMMENT_LINE	Get the tile rectangle in user space 
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
tileRect	TokenNameIdentifier	 tile Rect
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
)	TokenNameRPAREN	
tileRegion	TokenNameIdentifier	 tile Region
.	TokenNameDOT	
clone	TokenNameIdentifier	 clone
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("tileRect : " + tileRect); 	TokenNameCOMMENT_LINE	System.out.println("tileRect : " + tileRect); 
// System.out.println("tiledRect: " + tiledRect); 	TokenNameCOMMENT_LINE	System.out.println("tiledRect: " + tiledRect); 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
<=	TokenNameLESS_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
<=	TokenNameLESS_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
tiledRect	TokenNameIdentifier	 tiled Rect
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
<=	TokenNameLESS_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
tiledRect	TokenNameIdentifier	 tiled Rect
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
<=	TokenNameLESS_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tileWidth	TokenNameIdentifier	 tile Width
=	TokenNameEQUAL	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tileHeight	TokenNameIdentifier	 tile Height
=	TokenNameEQUAL	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tiledWidth	TokenNameIdentifier	 tiled Width
=	TokenNameEQUAL	
tiledRect	TokenNameIdentifier	 tiled Rect
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tiledHeight	TokenNameIdentifier	 tiled Height
=	TokenNameEQUAL	
tiledRect	TokenNameIdentifier	 tiled Rect
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
w	TokenNameIdentifier	 w
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
min	TokenNameIdentifier	 min
(	TokenNameLPAREN	
tileWidth	TokenNameIdentifier	 tile Width
,	TokenNameCOMMA	
tiledWidth	TokenNameIdentifier	 tiled Width
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
h	TokenNameIdentifier	 h
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
min	TokenNameIdentifier	 min
(	TokenNameLPAREN	
tileHeight	TokenNameIdentifier	 tile Height
,	TokenNameCOMMA	
tiledHeight	TokenNameIdentifier	 tiled Height
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
realTileRect	TokenNameIdentifier	 real Tile Rect
=	TokenNameEQUAL	
new	TokenNamenew	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
(	TokenNameLPAREN	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
w	TokenNameIdentifier	 w
,	TokenNameCOMMA	
h	TokenNameIdentifier	 h
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
realTileRect	TokenNameIdentifier	 real Tile Rect
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Computes the tile to use for the tiling operation. * * The tile has its origin in the upper left * corner of the tiled region. That tile is separated * into 4 areas: top-left, top-right, bottom-left and * bottom-right. Each of these areas is mapped to * some input area from the source. * If the source is smaller than the tiled area, then * a single rendering is requested from the source. * If the source's width or height is bigger than that * of the tiled area, then separate renderings are * requested from the source. * */	TokenNameCOMMENT_JAVADOC	 Computes the tile to use for the tiling operation. * The tile has its origin in the upper left corner of the tiled region. That tile is separated into 4 areas: top-left, top-right, bottom-left and bottom-right. Each of these areas is mapped to some input area from the source. If the source is smaller than the tiled area, then a single rendering is requested from the source. If the source's width or height is bigger than that of the tiled area, then separate renderings are requested from the source. 
public	TokenNamepublic	
RenderedImage	TokenNameIdentifier	 Rendered Image
createTile	TokenNameIdentifier	 create Tile
(	TokenNameLPAREN	
RenderContext	TokenNameIdentifier	 Render Context
rc	TokenNameIdentifier	 rc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
AffineTransform	TokenNameIdentifier	 Affine Transform
usr2dev	TokenNameIdentifier	 usr2dev
=	TokenNameEQUAL	
rc	TokenNameIdentifier	 rc
.	TokenNameDOT	
getTransform	TokenNameIdentifier	 get Transform
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Hints 	TokenNameCOMMENT_LINE	Hints 
RenderingHints	TokenNameIdentifier	 Rendering Hints
rcHints	TokenNameIdentifier	 rc Hints
=	TokenNameEQUAL	
rc	TokenNameIdentifier	 rc
.	TokenNameDOT	
getRenderingHints	TokenNameIdentifier	 get Rendering Hints
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
RenderingHints	TokenNameIdentifier	 Rendering Hints
hints	TokenNameIdentifier	 hints
=	TokenNameEQUAL	
new	TokenNamenew	
RenderingHints	TokenNameIdentifier	 Rendering Hints
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
rcHints	TokenNameIdentifier	 rc Hints
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
hints	TokenNameIdentifier	 hints
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
rcHints	TokenNameIdentifier	 rc Hints
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// The region actually tiles is the intersection 	TokenNameCOMMENT_LINE	The region actually tiles is the intersection 
// of the tiledRegion and the area of interest 	TokenNameCOMMENT_LINE	of the tiledRegion and the area of interest 
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
tiledRect	TokenNameIdentifier	 tiled Rect
=	TokenNameEQUAL	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Shape	TokenNameIdentifier	 Shape
aoiShape	TokenNameIdentifier	 aoi Shape
=	TokenNameEQUAL	
rc	TokenNameIdentifier	 rc
.	TokenNameDOT	
getAreaOfInterest	TokenNameIdentifier	 get Area Of Interest
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
aoiRect	TokenNameIdentifier	 aoi Rect
=	TokenNameEQUAL	
aoiShape	TokenNameIdentifier	 aoi Shape
.	TokenNameDOT	
getBounds2D	TokenNameIdentifier	 get Bounds2 D
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
tiledRect	TokenNameIdentifier	 tiled Rect
.	TokenNameDOT	
intersects	TokenNameIdentifier	 intersects
(	TokenNameLPAREN	
aoiRect	TokenNameIdentifier	 aoi Rect
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
intersect	TokenNameIdentifier	 intersect
(	TokenNameLPAREN	
tiledRect	TokenNameIdentifier	 tiled Rect
,	TokenNameCOMMA	
aoiRect	TokenNameIdentifier	 aoi Rect
,	TokenNameCOMMA	
tiledRect	TokenNameIdentifier	 tiled Rect
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Get the tile rectangle in user space 	TokenNameCOMMENT_LINE	Get the tile rectangle in user space 
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
tileRect	TokenNameIdentifier	 tile Rect
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
)	TokenNameRPAREN	
tileRegion	TokenNameIdentifier	 tile Region
.	TokenNameDOT	
clone	TokenNameIdentifier	 clone
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("tileRect : " + tileRect); 	TokenNameCOMMENT_LINE	System.out.println("tileRect : " + tileRect); 
// System.out.println("tiledRect: " + tiledRect); 	TokenNameCOMMENT_LINE	System.out.println("tiledRect: " + tiledRect); 
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
<=	TokenNameLESS_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
<=	TokenNameLESS_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
tiledRect	TokenNameIdentifier	 tiled Rect
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
<=	TokenNameLESS_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
tiledRect	TokenNameIdentifier	 tiled Rect
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
<=	TokenNameLESS_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// 	TokenNameCOMMENT_LINE	 
// (tiledX, tiledY) 	TokenNameCOMMENT_LINE	(tiledX, tiledY) 
// <------- min(tileWidth, tiledWidth) -----------> 	TokenNameCOMMENT_LINE	<------- min(tileWidth, tiledWidth) -----------> 
// ^ +------+-------------------------------------+ 	TokenNameCOMMENT_LINE	^ +------+-------------------------------------+ 
// | + A' + B' + 	TokenNameCOMMENT_LINE	| + A' + B' + 
// | +------+-------------------------------------+ 	TokenNameCOMMENT_LINE	| +------+-------------------------------------+ 
// min(tileHeight, | + + + 	TokenNameCOMMENT_LINE	min(tileHeight, | + + + 
// tiledHeight) | + + + 	TokenNameCOMMENT_LINE	tiledHeight) | + + + 
// | + C' + D' + 	TokenNameCOMMENT_LINE	| + C' + D' + 
// | + + + 	TokenNameCOMMENT_LINE	| + + + 
// ^ +------+-------------------------------------+ 	TokenNameCOMMENT_LINE	^ +------+-------------------------------------+ 
// 	TokenNameCOMMENT_LINE	 
// Maps to, in the tile: 	TokenNameCOMMENT_LINE	Maps to, in the tile: 
// 	TokenNameCOMMENT_LINE	 
// (tileX, tileY) 	TokenNameCOMMENT_LINE	(tileX, tileY) 
// 	TokenNameCOMMENT_LINE	 
// <----------- tileWidth ---------------> 	TokenNameCOMMENT_LINE	<----------- tileWidth ---------------> 
// ^ +-----------------------------+------+-------+ 	TokenNameCOMMENT_LINE	^ +-----------------------------+------+-------+ 
// | + + + | 	TokenNameCOMMENT_LINE	| + + + | 
// tiledHeight | + + + | 	TokenNameCOMMENT_LINE	tiledHeight | + + + | 
// | + D + + C | 	TokenNameCOMMENT_LINE	| + D + + C | 
// | + + + | 	TokenNameCOMMENT_LINE	| + + + | 
// | +-----------------------------+------+-------| 	TokenNameCOMMENT_LINE	| +-----------------------------+------+-------| 
// | + | | | 	TokenNameCOMMENT_LINE	| + | | | 
// | + | | | 	TokenNameCOMMENT_LINE	| + | | | 
// | +-----------------------------+------+-------+ 	TokenNameCOMMENT_LINE	| +-----------------------------+------+-------+ 
// | | B + + A | 	TokenNameCOMMENT_LINE	| | B + + A | 
// ^ +-----------------------------+------+-------+ 	TokenNameCOMMENT_LINE	^ +-----------------------------+------+-------+ 
// w = min(tileWidth, tiledWidth) 	TokenNameCOMMENT_LINE	w = min(tileWidth, tiledWidth) 
// h = min(tileHeight, tiledHeight) 	TokenNameCOMMENT_LINE	h = min(tileHeight, tiledHeight) 
// dx = tileWidth - (tiledX - tileX)%tileWidth; 	TokenNameCOMMENT_LINE	dx = tileWidth - (tiledX - tileX)%tileWidth; 
// dy = tileHeight - (tiledY - tileY)%tileHeight; 	TokenNameCOMMENT_LINE	dy = tileHeight - (tiledY - tileY)%tileHeight; 
// 	TokenNameCOMMENT_LINE	 
// A = (tileX + tileWidth - dx, tileY + tileHeight - dy, dx, dy) 	TokenNameCOMMENT_LINE	A = (tileX + tileWidth - dx, tileY + tileHeight - dy, dx, dy) 
// B = (tileX, tileY + tileHeight - dy, w - dx, dy) 	TokenNameCOMMENT_LINE	B = (tileX, tileY + tileHeight - dy, w - dx, dy) 
// C = (tileX + tileWidth - dx, tileY, dx, h - dy) 	TokenNameCOMMENT_LINE	C = (tileX + tileWidth - dx, tileY, dx, h - dy) 
// D = (tileX, tileY, w - dx, h - dy) 	TokenNameCOMMENT_LINE	D = (tileX, tileY, w - dx, h - dy) 
double	TokenNamedouble	
tileX	TokenNameIdentifier	 tile X
=	TokenNameEQUAL	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tileY	TokenNameIdentifier	 tile Y
=	TokenNameEQUAL	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tileWidth	TokenNameIdentifier	 tile Width
=	TokenNameEQUAL	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tileHeight	TokenNameIdentifier	 tile Height
=	TokenNameEQUAL	
tileRect	TokenNameIdentifier	 tile Rect
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tiledX	TokenNameIdentifier	 tiled X
=	TokenNameEQUAL	
tiledRect	TokenNameIdentifier	 tiled Rect
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tiledY	TokenNameIdentifier	 tiled Y
=	TokenNameEQUAL	
tiledRect	TokenNameIdentifier	 tiled Rect
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tiledWidth	TokenNameIdentifier	 tiled Width
=	TokenNameEQUAL	
tiledRect	TokenNameIdentifier	 tiled Rect
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tiledHeight	TokenNameIdentifier	 tiled Height
=	TokenNameEQUAL	
tiledRect	TokenNameIdentifier	 tiled Rect
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
w	TokenNameIdentifier	 w
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
min	TokenNameIdentifier	 min
(	TokenNameLPAREN	
tileWidth	TokenNameIdentifier	 tile Width
,	TokenNameCOMMA	
tiledWidth	TokenNameIdentifier	 tiled Width
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
h	TokenNameIdentifier	 h
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
min	TokenNameIdentifier	 min
(	TokenNameLPAREN	
tileHeight	TokenNameIdentifier	 tile Height
,	TokenNameCOMMA	
tiledHeight	TokenNameIdentifier	 tiled Height
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
dx	TokenNameIdentifier	 dx
=	TokenNameEQUAL	
(	TokenNameLPAREN	
tiledX	TokenNameIdentifier	 tiled X
-	TokenNameMINUS	
tileX	TokenNameIdentifier	 tile X
)	TokenNameRPAREN	
%	TokenNameREMAINDER	
tileWidth	TokenNameIdentifier	 tile Width
;	TokenNameSEMICOLON	
double	TokenNamedouble	
dy	TokenNameIdentifier	 dy
=	TokenNameEQUAL	
(	TokenNameLPAREN	
tiledY	TokenNameIdentifier	 tiled Y
-	TokenNameMINUS	
tileY	TokenNameIdentifier	 tile Y
)	TokenNameRPAREN	
%	TokenNameREMAINDER	
tileHeight	TokenNameIdentifier	 tile Height
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
dx	TokenNameIdentifier	 dx
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
dx	TokenNameIdentifier	 dx
=	TokenNameEQUAL	
tileWidth	TokenNameIdentifier	 tile Width
-	TokenNameMINUS	
dx	TokenNameIdentifier	 dx
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
dx	TokenNameIdentifier	 dx
*=	TokenNameMULTIPLY_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
dy	TokenNameIdentifier	 dy
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
dy	TokenNameIdentifier	 dy
=	TokenNameEQUAL	
tileHeight	TokenNameIdentifier	 tile Height
-	TokenNameMINUS	
dy	TokenNameIdentifier	 dy
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
dy	TokenNameIdentifier	 dy
*=	TokenNameMULTIPLY_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// 	TokenNameCOMMENT_LINE	 
// Adjust dx and dy so that they fall on a pixel boundary 	TokenNameCOMMENT_LINE	Adjust dx and dy so that they fall on a pixel boundary 
// 	TokenNameCOMMENT_LINE	 
double	TokenNamedouble	
scaleX	TokenNameIdentifier	 scale X
=	TokenNameEQUAL	
usr2dev	TokenNameIdentifier	 usr2dev
.	TokenNameDOT	
getScaleX	TokenNameIdentifier	 get Scale X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
scaleY	TokenNameIdentifier	 scale Y
=	TokenNameEQUAL	
usr2dev	TokenNameIdentifier	 usr2dev
.	TokenNameDOT	
getScaleY	TokenNameIdentifier	 get Scale Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tdx	TokenNameIdentifier	 tdx
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
floor	TokenNameIdentifier	 floor
(	TokenNameLPAREN	
scaleX	TokenNameIdentifier	 scale X
*	TokenNameMULTIPLY	
dx	TokenNameIdentifier	 dx
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
double	TokenNamedouble	
tdy	TokenNameIdentifier	 tdy
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
floor	TokenNameIdentifier	 floor
(	TokenNameLPAREN	
scaleY	TokenNameIdentifier	 scale Y
*	TokenNameMULTIPLY	
dy	TokenNameIdentifier	 dy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
dx	TokenNameIdentifier	 dx
=	TokenNameEQUAL	
tdx	TokenNameIdentifier	 tdx
/	TokenNameDIVIDE	
scaleX	TokenNameIdentifier	 scale X
;	TokenNameSEMICOLON	
dy	TokenNameIdentifier	 dy
=	TokenNameEQUAL	
tdy	TokenNameIdentifier	 tdy
/	TokenNameDIVIDE	
scaleY	TokenNameIdentifier	 scale Y
;	TokenNameSEMICOLON	
// System.out.println("dx / dy / w / h : " + dx + " / " + dy + " / " + w + " / " + h); 	TokenNameCOMMENT_LINE	System.out.println("dx / dy / w / h : " + dx + " / " + dy + " / " + w + " / " + h); 
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
A	TokenNameIdentifier	 A
=	TokenNameEQUAL	
new	TokenNamenew	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
(	TokenNameLPAREN	
tileX	TokenNameIdentifier	 tile X
+	TokenNamePLUS	
tileWidth	TokenNameIdentifier	 tile Width
-	TokenNameMINUS	
dx	TokenNameIdentifier	 dx
,	TokenNameCOMMA	
tileY	TokenNameIdentifier	 tile Y
+	TokenNamePLUS	
tileHeight	TokenNameIdentifier	 tile Height
-	TokenNameMINUS	
dy	TokenNameIdentifier	 dy
,	TokenNameCOMMA	
dx	TokenNameIdentifier	 dx
,	TokenNameCOMMA	
dy	TokenNameIdentifier	 dy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
B	TokenNameIdentifier	 B
=	TokenNameEQUAL	
new	TokenNamenew	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
(	TokenNameLPAREN	
tileX	TokenNameIdentifier	 tile X
,	TokenNameCOMMA	
tileY	TokenNameIdentifier	 tile Y
+	TokenNamePLUS	
tileHeight	TokenNameIdentifier	 tile Height
-	TokenNameMINUS	
dy	TokenNameIdentifier	 dy
,	TokenNameCOMMA	
w	TokenNameIdentifier	 w
-	TokenNameMINUS	
dx	TokenNameIdentifier	 dx
,	TokenNameCOMMA	
dy	TokenNameIdentifier	 dy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
C	TokenNameIdentifier	 C
=	TokenNameEQUAL	
new	TokenNamenew	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
(	TokenNameLPAREN	
tileX	TokenNameIdentifier	 tile X
+	TokenNamePLUS	
tileWidth	TokenNameIdentifier	 tile Width
-	TokenNameMINUS	
dx	TokenNameIdentifier	 dx
,	TokenNameCOMMA	
tileY	TokenNameIdentifier	 tile Y
,	TokenNameCOMMA	
dx	TokenNameIdentifier	 dx
,	TokenNameCOMMA	
h	TokenNameIdentifier	 h
-	TokenNameMINUS	
dy	TokenNameIdentifier	 dy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
D	TokenNameIdentifier	 D
=	TokenNameEQUAL	
new	TokenNamenew	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
(	TokenNameLPAREN	
tileX	TokenNameIdentifier	 tile X
,	TokenNameCOMMA	
tileY	TokenNameIdentifier	 tile Y
,	TokenNameCOMMA	
w	TokenNameIdentifier	 w
-	TokenNameMINUS	
dx	TokenNameIdentifier	 dx
,	TokenNameCOMMA	
h	TokenNameIdentifier	 h
-	TokenNameMINUS	
dy	TokenNameIdentifier	 dy
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
realTileRect	TokenNameIdentifier	 real Tile Rect
=	TokenNameEQUAL	
new	TokenNamenew	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
(	TokenNameLPAREN	
tiledRect	TokenNameIdentifier	 tiled Rect
.	TokenNameDOT	
getX	TokenNameIdentifier	 get X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
tiledRect	TokenNameIdentifier	 tiled Rect
.	TokenNameDOT	
getY	TokenNameIdentifier	 get Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
w	TokenNameIdentifier	 w
,	TokenNameCOMMA	
h	TokenNameIdentifier	 h
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("A rect : " + A); 	TokenNameCOMMENT_LINE	System.out.println("A rect : " + A); 
// System.out.println("B rect : " + B); 	TokenNameCOMMENT_LINE	System.out.println("B rect : " + B); 
// System.out.println("C rect : " + C); 	TokenNameCOMMENT_LINE	System.out.println("C rect : " + C); 
// System.out.println("D rect : " + D); 	TokenNameCOMMENT_LINE	System.out.println("D rect : " + D); 
// System.out.println("realTileR : " + realTileRect); 	TokenNameCOMMENT_LINE	System.out.println("realTileR : " + realTileRect); 
// A, B, C and D are the four user space are that make the 	TokenNameCOMMENT_LINE	A, B, C and D are the four user space are that make the 
// tile that will be used. We create a rendering for each of 	TokenNameCOMMENT_LINE	tile that will be used. We create a rendering for each of 
// these areas that i s not empty (i.e., with either width or 	TokenNameCOMMENT_LINE	these areas that i s not empty (i.e., with either width or 
// height equal to zero) 	TokenNameCOMMENT_LINE	height equal to zero) 
RenderedImage	TokenNameIdentifier	 Rendered Image
ARed	TokenNameIdentifier	 A Red
=	TokenNameEQUAL	
null	TokenNamenull	
,	TokenNameCOMMA	
BRed	TokenNameIdentifier	 B Red
=	TokenNameEQUAL	
null	TokenNamenull	
,	TokenNameCOMMA	
CRed	TokenNameIdentifier	 C Red
=	TokenNameEQUAL	
null	TokenNamenull	
,	TokenNameCOMMA	
DRed	TokenNameIdentifier	 D Red
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
Filter	TokenNameIdentifier	 Filter
source	TokenNameIdentifier	 source
=	TokenNameEQUAL	
getSource	TokenNameIdentifier	 get Source
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
A	TokenNameIdentifier	 A
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
&&	TokenNameAND_AND	
A	TokenNameIdentifier	 A
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// System.out.println("Rendering A"); 	TokenNameCOMMENT_LINE	System.out.println("Rendering A"); 
Rectangle	TokenNameIdentifier	 Rectangle
devA	TokenNameIdentifier	 dev A
=	TokenNameEQUAL	
usr2dev	TokenNameIdentifier	 usr2dev
.	TokenNameDOT	
createTransformedShape	TokenNameIdentifier	 create Transformed Shape
(	TokenNameLPAREN	
A	TokenNameIdentifier	 A
)	TokenNameRPAREN	
.	TokenNameDOT	
getBounds	TokenNameIdentifier	 get Bounds
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
devA	TokenNameIdentifier	 dev A
.	TokenNameDOT	
width	TokenNameIdentifier	 width
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
&&	TokenNameAND_AND	
devA	TokenNameIdentifier	 dev A
.	TokenNameDOT	
height	TokenNameIdentifier	 height
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
AffineTransform	TokenNameIdentifier	 Affine Transform
ATxf	TokenNameIdentifier	 A Txf
=	TokenNameEQUAL	
new	TokenNamenew	
AffineTransform	TokenNameIdentifier	 Affine Transform
(	TokenNameLPAREN	
usr2dev	TokenNameIdentifier	 usr2dev
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ATxf	TokenNameIdentifier	 A Txf
.	TokenNameDOT	
translate	TokenNameIdentifier	 translate
(	TokenNameLPAREN	
-	TokenNameMINUS	
A	TokenNameIdentifier	 A
.	TokenNameDOT	
x	TokenNameIdentifier	 x
+	TokenNamePLUS	
tiledX	TokenNameIdentifier	 tiled X
,	TokenNameCOMMA	
-	TokenNameMINUS	
A	TokenNameIdentifier	 A
.	TokenNameDOT	
y	TokenNameIdentifier	 y
+	TokenNamePLUS	
tiledY	TokenNameIdentifier	 tiled Y
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Shape	TokenNameIdentifier	 Shape
aoi	TokenNameIdentifier	 aoi
=	TokenNameEQUAL	
A	TokenNameIdentifier	 A
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
overflow	TokenNameIdentifier	 overflow
)	TokenNameRPAREN	
{	TokenNameLBRACE	
aoi	TokenNameIdentifier	 aoi
=	TokenNameEQUAL	
new	TokenNamenew	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
(	TokenNameLPAREN	
A	TokenNameIdentifier	 A
.	TokenNameDOT	
x	TokenNameIdentifier	 x
,	TokenNameCOMMA	
A	TokenNameIdentifier	 A
.	TokenNameDOT	
y	TokenNameIdentifier	 y
,	TokenNameCOMMA	
tiledWidth	TokenNameIdentifier	 tiled Width
,	TokenNameCOMMA	
tiledHeight	TokenNameIdentifier	 tiled Height
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
hints	TokenNameIdentifier	 hints
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
RenderingHintsKeyExt	TokenNameIdentifier	 Rendering Hints Key Ext
.	TokenNameDOT	
KEY_AREA_OF_INTEREST	TokenNameIdentifier	 KEY  AREA  OF  INTEREST
,	TokenNameCOMMA	
aoi	TokenNameIdentifier	 aoi
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
RenderContext	TokenNameIdentifier	 Render Context
arc	TokenNameIdentifier	 arc
=	TokenNameEQUAL	
new	TokenNamenew	
RenderContext	TokenNameIdentifier	 Render Context
(	TokenNameLPAREN	
ATxf	TokenNameIdentifier	 A Txf
,	TokenNameCOMMA	
aoi	TokenNameIdentifier	 aoi
,	TokenNameCOMMA	
hints	TokenNameIdentifier	 hints
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ARed	TokenNameIdentifier	 A Red
=	TokenNameEQUAL	
source	TokenNameIdentifier	 source
.	TokenNameDOT	
createRendering	TokenNameIdentifier	 create Rendering
(	TokenNameLPAREN	
arc	TokenNameIdentifier	 arc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//System.out.println("ARed : " + ARed.getMinX() + " / " + 	TokenNameCOMMENT_LINE	System.out.println("ARed : " + ARed.getMinX() + " / " + 
// ARed.getMinY() + " / " + 	TokenNameCOMMENT_LINE	ARed.getMinY() + " / " + 
// ARed.getWidth() + " / " + 	TokenNameCOMMENT_LINE	ARed.getWidth() + " / " + 
// ARed.getHeight()); 	TokenNameCOMMENT_LINE	ARed.getHeight()); 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
B	TokenNameIdentifier	 B
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
&&	TokenNameAND_AND	
B	TokenNameIdentifier	 B
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// System.out.println("Rendering B"); 	TokenNameCOMMENT_LINE	System.out.println("Rendering B"); 
Rectangle	TokenNameIdentifier	 Rectangle
devB	TokenNameIdentifier	 dev B
=	TokenNameEQUAL	
usr2dev	TokenNameIdentifier	 usr2dev
.	TokenNameDOT	
createTransformedShape	TokenNameIdentifier	 create Transformed Shape
(	TokenNameLPAREN	
B	TokenNameIdentifier	 B
)	TokenNameRPAREN	
.	TokenNameDOT	
getBounds	TokenNameIdentifier	 get Bounds
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
devB	TokenNameIdentifier	 dev B
.	TokenNameDOT	
width	TokenNameIdentifier	 width
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
&&	TokenNameAND_AND	
devB	TokenNameIdentifier	 dev B
.	TokenNameDOT	
height	TokenNameIdentifier	 height
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
AffineTransform	TokenNameIdentifier	 Affine Transform
BTxf	TokenNameIdentifier	 B Txf
=	TokenNameEQUAL	
new	TokenNamenew	
AffineTransform	TokenNameIdentifier	 Affine Transform
(	TokenNameLPAREN	
usr2dev	TokenNameIdentifier	 usr2dev
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BTxf	TokenNameIdentifier	 B Txf
.	TokenNameDOT	
translate	TokenNameIdentifier	 translate
(	TokenNameLPAREN	
-	TokenNameMINUS	
B	TokenNameIdentifier	 B
.	TokenNameDOT	
x	TokenNameIdentifier	 x
+	TokenNamePLUS	
(	TokenNameLPAREN	
tiledX	TokenNameIdentifier	 tiled X
+	TokenNamePLUS	
dx	TokenNameIdentifier	 dx
)	TokenNameRPAREN	
,	TokenNameCOMMA	
-	TokenNameMINUS	
B	TokenNameIdentifier	 B
.	TokenNameDOT	
y	TokenNameIdentifier	 y
+	TokenNamePLUS	
tiledY	TokenNameIdentifier	 tiled Y
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Shape	TokenNameIdentifier	 Shape
aoi	TokenNameIdentifier	 aoi
=	TokenNameEQUAL	
B	TokenNameIdentifier	 B
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
overflow	TokenNameIdentifier	 overflow
)	TokenNameRPAREN	
{	TokenNameLBRACE	
aoi	TokenNameIdentifier	 aoi
=	TokenNameEQUAL	
new	TokenNamenew	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
(	TokenNameLPAREN	
B	TokenNameIdentifier	 B
.	TokenNameDOT	
x	TokenNameIdentifier	 x
-	TokenNameMINUS	
tiledWidth	TokenNameIdentifier	 tiled Width
+	TokenNamePLUS	
w	TokenNameIdentifier	 w
-	TokenNameMINUS	
dx	TokenNameIdentifier	 dx
,	TokenNameCOMMA	
B	TokenNameIdentifier	 B
.	TokenNameDOT	
y	TokenNameIdentifier	 y
,	TokenNameCOMMA	
tiledWidth	TokenNameIdentifier	 tiled Width
,	TokenNameCOMMA	
tiledHeight	TokenNameIdentifier	 tiled Height
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
hints	TokenNameIdentifier	 hints
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
RenderingHintsKeyExt	TokenNameIdentifier	 Rendering Hints Key Ext
.	TokenNameDOT	
KEY_AREA_OF_INTEREST	TokenNameIdentifier	 KEY  AREA  OF  INTEREST
,	TokenNameCOMMA	
aoi	TokenNameIdentifier	 aoi
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
RenderContext	TokenNameIdentifier	 Render Context
brc	TokenNameIdentifier	 brc
=	TokenNameEQUAL	
new	TokenNamenew	
RenderContext	TokenNameIdentifier	 Render Context
(	TokenNameLPAREN	
BTxf	TokenNameIdentifier	 B Txf
,	TokenNameCOMMA	
aoi	TokenNameIdentifier	 aoi
,	TokenNameCOMMA	
hints	TokenNameIdentifier	 hints
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BRed	TokenNameIdentifier	 B Red
=	TokenNameEQUAL	
source	TokenNameIdentifier	 source
.	TokenNameDOT	
createRendering	TokenNameIdentifier	 create Rendering
(	TokenNameLPAREN	
brc	TokenNameIdentifier	 brc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("BRed : " + BRed.getMinX() + " / " + BRed.getMinY() + " / " + BRed.getWidth() + " / " + BRed.getHeight()); 	TokenNameCOMMENT_LINE	System.out.println("BRed : " + BRed.getMinX() + " / " + BRed.getMinY() + " / " + BRed.getWidth() + " / " + BRed.getHeight()); 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
C	TokenNameIdentifier	 C
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
&&	TokenNameAND_AND	
C	TokenNameIdentifier	 C
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// System.out.println("Rendering C"); 	TokenNameCOMMENT_LINE	System.out.println("Rendering C"); 
Rectangle	TokenNameIdentifier	 Rectangle
devC	TokenNameIdentifier	 dev C
=	TokenNameEQUAL	
usr2dev	TokenNameIdentifier	 usr2dev
.	TokenNameDOT	
createTransformedShape	TokenNameIdentifier	 create Transformed Shape
(	TokenNameLPAREN	
C	TokenNameIdentifier	 C
)	TokenNameRPAREN	
.	TokenNameDOT	
getBounds	TokenNameIdentifier	 get Bounds
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
devC	TokenNameIdentifier	 dev C
.	TokenNameDOT	
width	TokenNameIdentifier	 width
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
&&	TokenNameAND_AND	
devC	TokenNameIdentifier	 dev C
.	TokenNameDOT	
height	TokenNameIdentifier	 height
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
AffineTransform	TokenNameIdentifier	 Affine Transform
CTxf	TokenNameIdentifier	 C Txf
=	TokenNameEQUAL	
new	TokenNamenew	
AffineTransform	TokenNameIdentifier	 Affine Transform
(	TokenNameLPAREN	
usr2dev	TokenNameIdentifier	 usr2dev
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
CTxf	TokenNameIdentifier	 C Txf
.	TokenNameDOT	
translate	TokenNameIdentifier	 translate
(	TokenNameLPAREN	
-	TokenNameMINUS	
C	TokenNameIdentifier	 C
.	TokenNameDOT	
x	TokenNameIdentifier	 x
+	TokenNamePLUS	
tiledX	TokenNameIdentifier	 tiled X
,	TokenNameCOMMA	
-	TokenNameMINUS	
C	TokenNameIdentifier	 C
.	TokenNameDOT	
y	TokenNameIdentifier	 y
+	TokenNamePLUS	
(	TokenNameLPAREN	
tiledY	TokenNameIdentifier	 tiled Y
+	TokenNamePLUS	
dy	TokenNameIdentifier	 dy
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Shape	TokenNameIdentifier	 Shape
aoi	TokenNameIdentifier	 aoi
=	TokenNameEQUAL	
C	TokenNameIdentifier	 C
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
overflow	TokenNameIdentifier	 overflow
)	TokenNameRPAREN	
{	TokenNameLBRACE	
aoi	TokenNameIdentifier	 aoi
=	TokenNameEQUAL	
new	TokenNamenew	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
(	TokenNameLPAREN	
C	TokenNameIdentifier	 C
.	TokenNameDOT	
x	TokenNameIdentifier	 x
,	TokenNameCOMMA	
C	TokenNameIdentifier	 C
.	TokenNameDOT	
y	TokenNameIdentifier	 y
-	TokenNameMINUS	
tileHeight	TokenNameIdentifier	 tile Height
+	TokenNamePLUS	
h	TokenNameIdentifier	 h
-	TokenNameMINUS	
dy	TokenNameIdentifier	 dy
,	TokenNameCOMMA	
tiledWidth	TokenNameIdentifier	 tiled Width
,	TokenNameCOMMA	
tiledHeight	TokenNameIdentifier	 tiled Height
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
hints	TokenNameIdentifier	 hints
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
RenderingHintsKeyExt	TokenNameIdentifier	 Rendering Hints Key Ext
.	TokenNameDOT	
KEY_AREA_OF_INTEREST	TokenNameIdentifier	 KEY  AREA  OF  INTEREST
,	TokenNameCOMMA	
aoi	TokenNameIdentifier	 aoi
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
RenderContext	TokenNameIdentifier	 Render Context
crc	TokenNameIdentifier	 crc
=	TokenNameEQUAL	
new	TokenNamenew	
RenderContext	TokenNameIdentifier	 Render Context
(	TokenNameLPAREN	
CTxf	TokenNameIdentifier	 C Txf
,	TokenNameCOMMA	
aoi	TokenNameIdentifier	 aoi
,	TokenNameCOMMA	
hints	TokenNameIdentifier	 hints
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
CRed	TokenNameIdentifier	 C Red
=	TokenNameEQUAL	
source	TokenNameIdentifier	 source
.	TokenNameDOT	
createRendering	TokenNameIdentifier	 create Rendering
(	TokenNameLPAREN	
crc	TokenNameIdentifier	 crc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("CRed : " + CRed.getMinX() + " / " + CRed.getMinY() + " / " + CRed.getWidth() + " / " + CRed.getHeight()); 	TokenNameCOMMENT_LINE	System.out.println("CRed : " + CRed.getMinX() + " / " + CRed.getMinY() + " / " + CRed.getWidth() + " / " + CRed.getHeight()); 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
D	TokenNameIdentifier	 D
.	TokenNameDOT	
getWidth	TokenNameIdentifier	 get Width
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
&&	TokenNameAND_AND	
D	TokenNameIdentifier	 D
.	TokenNameDOT	
getHeight	TokenNameIdentifier	 get Height
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// System.out.println("Rendering D"); 	TokenNameCOMMENT_LINE	System.out.println("Rendering D"); 
Rectangle	TokenNameIdentifier	 Rectangle
devD	TokenNameIdentifier	 dev D
=	TokenNameEQUAL	
usr2dev	TokenNameIdentifier	 usr2dev
.	TokenNameDOT	
createTransformedShape	TokenNameIdentifier	 create Transformed Shape
(	TokenNameLPAREN	
D	TokenNameIdentifier	 D
)	TokenNameRPAREN	
.	TokenNameDOT	
getBounds	TokenNameIdentifier	 get Bounds
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
devD	TokenNameIdentifier	 dev D
.	TokenNameDOT	
width	TokenNameIdentifier	 width
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
&&	TokenNameAND_AND	
devD	TokenNameIdentifier	 dev D
.	TokenNameDOT	
height	TokenNameIdentifier	 height
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
AffineTransform	TokenNameIdentifier	 Affine Transform
DTxf	TokenNameIdentifier	 D Txf
=	TokenNameEQUAL	
new	TokenNamenew	
AffineTransform	TokenNameIdentifier	 Affine Transform
(	TokenNameLPAREN	
usr2dev	TokenNameIdentifier	 usr2dev
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DTxf	TokenNameIdentifier	 D Txf
.	TokenNameDOT	
translate	TokenNameIdentifier	 translate
(	TokenNameLPAREN	
-	TokenNameMINUS	
D	TokenNameIdentifier	 D
.	TokenNameDOT	
x	TokenNameIdentifier	 x
+	TokenNamePLUS	
(	TokenNameLPAREN	
tiledX	TokenNameIdentifier	 tiled X
+	TokenNamePLUS	
dx	TokenNameIdentifier	 dx
)	TokenNameRPAREN	
,	TokenNameCOMMA	
-	TokenNameMINUS	
D	TokenNameIdentifier	 D
.	TokenNameDOT	
y	TokenNameIdentifier	 y
+	TokenNamePLUS	
(	TokenNameLPAREN	
tiledY	TokenNameIdentifier	 tiled Y
+	TokenNamePLUS	
dy	TokenNameIdentifier	 dy
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Shape	TokenNameIdentifier	 Shape
aoi	TokenNameIdentifier	 aoi
=	TokenNameEQUAL	
D	TokenNameIdentifier	 D
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
overflow	TokenNameIdentifier	 overflow
)	TokenNameRPAREN	
{	TokenNameLBRACE	
aoi	TokenNameIdentifier	 aoi
=	TokenNameEQUAL	
new	TokenNamenew	
Rectangle2D	TokenNameIdentifier	 Rectangle2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
(	TokenNameLPAREN	
D	TokenNameIdentifier	 D
.	TokenNameDOT	
x	TokenNameIdentifier	 x
-	TokenNameMINUS	
tileWidth	TokenNameIdentifier	 tile Width
+	TokenNamePLUS	
w	TokenNameIdentifier	 w
-	TokenNameMINUS	
dx	TokenNameIdentifier	 dx
,	TokenNameCOMMA	
D	TokenNameIdentifier	 D
.	TokenNameDOT	
y	TokenNameIdentifier	 y
-	TokenNameMINUS	
tileHeight	TokenNameIdentifier	 tile Height
+	TokenNamePLUS	
h	TokenNameIdentifier	 h
-	TokenNameMINUS	
dy	TokenNameIdentifier	 dy
,	TokenNameCOMMA	
tiledWidth	TokenNameIdentifier	 tiled Width
,	TokenNameCOMMA	
tiledHeight	TokenNameIdentifier	 tiled Height
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
hints	TokenNameIdentifier	 hints
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
RenderingHintsKeyExt	TokenNameIdentifier	 Rendering Hints Key Ext
.	TokenNameDOT	
KEY_AREA_OF_INTEREST	TokenNameIdentifier	 KEY  AREA  OF  INTEREST
,	TokenNameCOMMA	
aoi	TokenNameIdentifier	 aoi
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
RenderContext	TokenNameIdentifier	 Render Context
drc	TokenNameIdentifier	 drc
=	TokenNameEQUAL	
new	TokenNamenew	
RenderContext	TokenNameIdentifier	 Render Context
(	TokenNameLPAREN	
DTxf	TokenNameIdentifier	 D Txf
,	TokenNameCOMMA	
aoi	TokenNameIdentifier	 aoi
,	TokenNameCOMMA	
hints	TokenNameIdentifier	 hints
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
DRed	TokenNameIdentifier	 D Red
=	TokenNameEQUAL	
source	TokenNameIdentifier	 source
.	TokenNameDOT	
createRendering	TokenNameIdentifier	 create Rendering
(	TokenNameLPAREN	
drc	TokenNameIdentifier	 drc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("DRed : " + DRed.getMinX() + " / " + DRed.getMinY() + " / " + DRed.getWidth() + " / " + DRed.getHeight()); 	TokenNameCOMMENT_LINE	System.out.println("DRed : " + DRed.getMinX() + " / " + DRed.getMinY() + " / " + DRed.getWidth() + " / " + DRed.getHeight()); 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// 	TokenNameCOMMENT_LINE	 
// Now, combine ARed, BRed, CRed and DRed into a single 	TokenNameCOMMENT_LINE	Now, combine ARed, BRed, CRed and DRed into a single 
// RenderedImage that will be tiled 	TokenNameCOMMENT_LINE	RenderedImage that will be tiled 
// 	TokenNameCOMMENT_LINE	 
final	TokenNamefinal	
Rectangle	TokenNameIdentifier	 Rectangle
realTileRectDev	TokenNameIdentifier	 real Tile Rect Dev
=	TokenNameEQUAL	
usr2dev	TokenNameIdentifier	 usr2dev
.	TokenNameDOT	
createTransformedShape	TokenNameIdentifier	 create Transformed Shape
(	TokenNameLPAREN	
realTileRect	TokenNameIdentifier	 real Tile Rect
)	TokenNameRPAREN	
.	TokenNameDOT	
getBounds	TokenNameIdentifier	 get Bounds
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
realTileRectDev	TokenNameIdentifier	 real Tile Rect Dev
.	TokenNameDOT	
width	TokenNameIdentifier	 width
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
||	TokenNameOR_OR	
realTileRectDev	TokenNameIdentifier	 real Tile Rect Dev
.	TokenNameDOT	
height	TokenNameIdentifier	 height
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
BufferedImage	TokenNameIdentifier	 Buffered Image
realTileBI	TokenNameIdentifier	 real Tile BI
=	TokenNameEQUAL	
new	TokenNamenew	
BufferedImage	TokenNameIdentifier	 Buffered Image
(	TokenNameLPAREN	
realTileRectDev	TokenNameIdentifier	 real Tile Rect Dev
.	TokenNameDOT	
width	TokenNameIdentifier	 width
,	TokenNameCOMMA	
realTileRectDev	TokenNameIdentifier	 real Tile Rect Dev
.	TokenNameDOT	
height	TokenNameIdentifier	 height
,	TokenNameCOMMA	
BufferedImage	TokenNameIdentifier	 Buffered Image
.	TokenNameDOT	
TYPE_INT_ARGB	TokenNameIdentifier	 TYPE  INT  ARGB
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Graphics2D	TokenNameIdentifier	 Graphics2 D
g	TokenNameIdentifier	 g
=	TokenNameEQUAL	
GraphicsUtil	TokenNameIdentifier	 Graphics Util
.	TokenNameDOT	
createGraphics	TokenNameIdentifier	 create Graphics
(	TokenNameLPAREN	
realTileBI	TokenNameIdentifier	 real Tile BI
,	TokenNameCOMMA	
rc	TokenNameIdentifier	 rc
.	TokenNameDOT	
getRenderingHints	TokenNameIdentifier	 get Rendering Hints
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// g.setPaint(new java.awt.Color(0, 255, 0, 64)); 	TokenNameCOMMENT_LINE	g.setPaint(new java.awt.Color(0, 255, 0, 64)); 
// g.fillRect(0, 0, realTileBI.getWidth(), realTileBI.getHeight()); 	TokenNameCOMMENT_LINE	g.fillRect(0, 0, realTileBI.getWidth(), realTileBI.getHeight()); 
g	TokenNameIdentifier	 g
.	TokenNameDOT	
translate	TokenNameIdentifier	 translate
(	TokenNameLPAREN	
-	TokenNameMINUS	
realTileRectDev	TokenNameIdentifier	 real Tile Rect Dev
.	TokenNameDOT	
x	TokenNameIdentifier	 x
,	TokenNameCOMMA	
-	TokenNameMINUS	
realTileRectDev	TokenNameIdentifier	 real Tile Rect Dev
.	TokenNameDOT	
y	TokenNameIdentifier	 y
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("realTileRectDev " + realTileRectDev); 	TokenNameCOMMENT_LINE	System.out.println("realTileRectDev " + realTileRectDev); 
AffineTransform	TokenNameIdentifier	 Affine Transform
redTxf	TokenNameIdentifier	 red Txf
=	TokenNameEQUAL	
new	TokenNamenew	
AffineTransform	TokenNameIdentifier	 Affine Transform
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Point2D	TokenNameIdentifier	 Point2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
redVec	TokenNameIdentifier	 red Vec
=	TokenNameEQUAL	
new	TokenNamenew	
Point2D	TokenNameIdentifier	 Point2 D
.	TokenNameDOT	
Double	TokenNameIdentifier	 Double
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
RenderedImage	TokenNameIdentifier	 Rendered Image
refRed	TokenNameIdentifier	 ref Red
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
ARed	TokenNameIdentifier	 A Red
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// System.out.println("Drawing A"); 	TokenNameCOMMENT_LINE	System.out.println("Drawing A"); 
g	TokenNameIdentifier	 g
.	TokenNameDOT	
drawRenderedImage	TokenNameIdentifier	 draw Rendered Image
(	TokenNameLPAREN	
ARed	TokenNameIdentifier	 A Red
,	TokenNameCOMMA	
redTxf	TokenNameIdentifier	 red Txf
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
refRed	TokenNameIdentifier	 ref Red
=	TokenNameEQUAL	
ARed	TokenNameIdentifier	 A Red
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
BRed	TokenNameIdentifier	 B Red
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// System.out.println("Drawing B"); 	TokenNameCOMMENT_LINE	System.out.println("Drawing B"); 
if	TokenNameif	
(	TokenNameLPAREN	
refRed	TokenNameIdentifier	 ref Red
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
refRed	TokenNameIdentifier	 ref Red
=	TokenNameEQUAL	
BRed	TokenNameIdentifier	 B Red
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Adjust B's coordinates 	TokenNameCOMMENT_LINE	Adjust B's coordinates 
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
x	TokenNameIdentifier	 x
=	TokenNameEQUAL	
dx	TokenNameIdentifier	 dx
;	TokenNameSEMICOLON	
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
y	TokenNameIdentifier	 y
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
usr2dev	TokenNameIdentifier	 usr2dev
.	TokenNameDOT	
deltaTransform	TokenNameIdentifier	 delta Transform
(	TokenNameLPAREN	
redVec	TokenNameIdentifier	 red Vec
,	TokenNameCOMMA	
redVec	TokenNameIdentifier	 red Vec
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
x	TokenNameIdentifier	 x
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
floor	TokenNameIdentifier	 floor
(	TokenNameLPAREN	
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
x	TokenNameIdentifier	 x
)	TokenNameRPAREN	
-	TokenNameMINUS	
(	TokenNameLPAREN	
BRed	TokenNameIdentifier	 B Red
.	TokenNameDOT	
getMinX	TokenNameIdentifier	 get Min X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
refRed	TokenNameIdentifier	 ref Red
.	TokenNameDOT	
getMinX	TokenNameIdentifier	 get Min X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
y	TokenNameIdentifier	 y
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
floor	TokenNameIdentifier	 floor
(	TokenNameLPAREN	
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
y	TokenNameIdentifier	 y
)	TokenNameRPAREN	
-	TokenNameMINUS	
(	TokenNameLPAREN	
BRed	TokenNameIdentifier	 B Red
.	TokenNameDOT	
getMinY	TokenNameIdentifier	 get Min Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
refRed	TokenNameIdentifier	 ref Red
.	TokenNameDOT	
getMinY	TokenNameIdentifier	 get Min Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("BRed adjust : " + redVec); 	TokenNameCOMMENT_LINE	System.out.println("BRed adjust : " + redVec); 
// redTxf.setToTranslation(redVec.x, redVec.y); 	TokenNameCOMMENT_LINE	redTxf.setToTranslation(redVec.x, redVec.y); 
g	TokenNameIdentifier	 g
.	TokenNameDOT	
drawRenderedImage	TokenNameIdentifier	 draw Rendered Image
(	TokenNameLPAREN	
BRed	TokenNameIdentifier	 B Red
,	TokenNameCOMMA	
redTxf	TokenNameIdentifier	 red Txf
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
CRed	TokenNameIdentifier	 C Red
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// System.out.println("Drawing C"); 	TokenNameCOMMENT_LINE	System.out.println("Drawing C"); 
if	TokenNameif	
(	TokenNameLPAREN	
refRed	TokenNameIdentifier	 ref Red
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
refRed	TokenNameIdentifier	 ref Red
=	TokenNameEQUAL	
CRed	TokenNameIdentifier	 C Red
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Adjust C's coordinates 	TokenNameCOMMENT_LINE	Adjust C's coordinates 
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
x	TokenNameIdentifier	 x
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
y	TokenNameIdentifier	 y
=	TokenNameEQUAL	
dy	TokenNameIdentifier	 dy
;	TokenNameSEMICOLON	
usr2dev	TokenNameIdentifier	 usr2dev
.	TokenNameDOT	
deltaTransform	TokenNameIdentifier	 delta Transform
(	TokenNameLPAREN	
redVec	TokenNameIdentifier	 red Vec
,	TokenNameCOMMA	
redVec	TokenNameIdentifier	 red Vec
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
x	TokenNameIdentifier	 x
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
floor	TokenNameIdentifier	 floor
(	TokenNameLPAREN	
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
x	TokenNameIdentifier	 x
)	TokenNameRPAREN	
-	TokenNameMINUS	
(	TokenNameLPAREN	
CRed	TokenNameIdentifier	 C Red
.	TokenNameDOT	
getMinX	TokenNameIdentifier	 get Min X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
refRed	TokenNameIdentifier	 ref Red
.	TokenNameDOT	
getMinX	TokenNameIdentifier	 get Min X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
y	TokenNameIdentifier	 y
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
floor	TokenNameIdentifier	 floor
(	TokenNameLPAREN	
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
y	TokenNameIdentifier	 y
)	TokenNameRPAREN	
-	TokenNameMINUS	
(	TokenNameLPAREN	
CRed	TokenNameIdentifier	 C Red
.	TokenNameDOT	
getMinY	TokenNameIdentifier	 get Min Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
refRed	TokenNameIdentifier	 ref Red
.	TokenNameDOT	
getMinY	TokenNameIdentifier	 get Min Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("CRed adjust : " + redVec); 	TokenNameCOMMENT_LINE	System.out.println("CRed adjust : " + redVec); 
// redTxf.setToTranslation(redVec.x, redVec.y); 	TokenNameCOMMENT_LINE	redTxf.setToTranslation(redVec.x, redVec.y); 
g	TokenNameIdentifier	 g
.	TokenNameDOT	
drawRenderedImage	TokenNameIdentifier	 draw Rendered Image
(	TokenNameLPAREN	
CRed	TokenNameIdentifier	 C Red
,	TokenNameCOMMA	
redTxf	TokenNameIdentifier	 red Txf
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
DRed	TokenNameIdentifier	 D Red
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// System.out.println("Drawing D"); 	TokenNameCOMMENT_LINE	System.out.println("Drawing D"); 
if	TokenNameif	
(	TokenNameLPAREN	
refRed	TokenNameIdentifier	 ref Red
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
refRed	TokenNameIdentifier	 ref Red
=	TokenNameEQUAL	
DRed	TokenNameIdentifier	 D Red
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Adjust D's coordinates 	TokenNameCOMMENT_LINE	Adjust D's coordinates 
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
x	TokenNameIdentifier	 x
=	TokenNameEQUAL	
dx	TokenNameIdentifier	 dx
;	TokenNameSEMICOLON	
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
y	TokenNameIdentifier	 y
=	TokenNameEQUAL	
dy	TokenNameIdentifier	 dy
;	TokenNameSEMICOLON	
usr2dev	TokenNameIdentifier	 usr2dev
.	TokenNameDOT	
deltaTransform	TokenNameIdentifier	 delta Transform
(	TokenNameLPAREN	
redVec	TokenNameIdentifier	 red Vec
,	TokenNameCOMMA	
redVec	TokenNameIdentifier	 red Vec
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
x	TokenNameIdentifier	 x
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
floor	TokenNameIdentifier	 floor
(	TokenNameLPAREN	
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
x	TokenNameIdentifier	 x
)	TokenNameRPAREN	
-	TokenNameMINUS	
(	TokenNameLPAREN	
DRed	TokenNameIdentifier	 D Red
.	TokenNameDOT	
getMinX	TokenNameIdentifier	 get Min X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
refRed	TokenNameIdentifier	 ref Red
.	TokenNameDOT	
getMinX	TokenNameIdentifier	 get Min X
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
y	TokenNameIdentifier	 y
=	TokenNameEQUAL	
Math	TokenNameIdentifier	 Math
.	TokenNameDOT	
floor	TokenNameIdentifier	 floor
(	TokenNameLPAREN	
redVec	TokenNameIdentifier	 red Vec
.	TokenNameDOT	
y	TokenNameIdentifier	 y
)	TokenNameRPAREN	
-	TokenNameMINUS	
(	TokenNameLPAREN	
DRed	TokenNameIdentifier	 D Red
.	TokenNameDOT	
getMinY	TokenNameIdentifier	 get Min Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
refRed	TokenNameIdentifier	 ref Red
.	TokenNameDOT	
getMinY	TokenNameIdentifier	 get Min Y
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// System.out.println("DRed adjust : " + redVec); 	TokenNameCOMMENT_LINE	System.out.println("DRed adjust : " + redVec); 
// redTxf.setToTranslation(redVec.x, redVec.y); 	TokenNameCOMMENT_LINE	redTxf.setToTranslation(redVec.x, redVec.y); 
g	TokenNameIdentifier	 g
.	TokenNameDOT	
drawRenderedImage	TokenNameIdentifier	 draw Rendered Image
(	TokenNameLPAREN	
DRed	TokenNameIdentifier	 D Red
,	TokenNameCOMMA	
redTxf	TokenNameIdentifier	 red Txf
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
CachableRed	TokenNameIdentifier	 Cachable Red
realTile	TokenNameIdentifier	 real Tile
;	TokenNameSEMICOLON	
realTile	TokenNameIdentifier	 real Tile
=	TokenNameEQUAL	
new	TokenNamenew	
BufferedImageCachableRed	TokenNameIdentifier	 Buffered Image Cachable Red
(	TokenNameLPAREN	
realTileBI	TokenNameIdentifier	 real Tile BI
,	TokenNameCOMMA	
realTileRectDev	TokenNameIdentifier	 real Tile Rect Dev
.	TokenNameDOT	
x	TokenNameIdentifier	 x
,	TokenNameCOMMA	
realTileRectDev	TokenNameIdentifier	 real Tile Rect Dev
.	TokenNameDOT	
y	TokenNameIdentifier	 y
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
realTile	TokenNameIdentifier	 real Tile
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
