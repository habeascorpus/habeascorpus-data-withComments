/* * Licensed to the Apache Software Foundation (ASF) under one or more * contributor license agreements. See the NOTICE file distributed with * this work for additional information regarding copyright ownership. * The ASF licenses this file to You under the Apache License, Version 2.0 * (the "License"); you may not use this file except in compliance with * the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. * */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
optional	TokenNameIdentifier	 optional
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
BufferedOutputStream	TokenNameIdentifier	 Buffered Output Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
File	TokenNameIdentifier	 File
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
FileOutputStream	TokenNameIdentifier	 File Output Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
OutputStream	TokenNameIdentifier	 Output Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
PrintStream	TokenNameIdentifier	 Print Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Enumeration	TokenNameIdentifier	 Enumeration
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Map	TokenNameIdentifier	 Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Vector	TokenNameIdentifier	 Vector
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
BuildException	TokenNameIdentifier	 Build Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
Project	TokenNameIdentifier	 Project
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
Task	TokenNameIdentifier	 Task
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
FileUtils	TokenNameIdentifier	 File Utils
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
Execute	TokenNameIdentifier	 Execute
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
ExecuteStreamHandler	TokenNameIdentifier	 Execute Stream Handler
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
LogOutputStream	TokenNameIdentifier	 Log Output Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
LogStreamHandler	TokenNameIdentifier	 Log Stream Handler
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
PumpStreamHandler	TokenNameIdentifier	 Pump Stream Handler
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
condition	TokenNameIdentifier	 condition
.	TokenNameDOT	
Os	TokenNameIdentifier	 Os
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
Commandline	TokenNameIdentifier	 Commandline
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
Path	TokenNameIdentifier	 Path
;	TokenNameSEMICOLON	
/** * Invokes the rpm tool to build a Linux installation file. * */	TokenNameCOMMENT_JAVADOC	 Invokes the rpm tool to build a Linux installation file. 
public	TokenNamepublic	
class	TokenNameclass	
Rpm	TokenNameIdentifier	 Rpm
extends	TokenNameextends	
Task	TokenNameIdentifier	 Task
{	TokenNameLBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
PATH1	TokenNameIdentifier	 PAT H1
=	TokenNameEQUAL	
"PATH"	TokenNameStringLiteral	PATH
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
PATH2	TokenNameIdentifier	 PAT H2
=	TokenNameEQUAL	
"Path"	TokenNameStringLiteral	Path
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
PATH3	TokenNameIdentifier	 PAT H3
=	TokenNameEQUAL	
"path"	TokenNameStringLiteral	path
;	TokenNameSEMICOLON	
/** * the spec file */	TokenNameCOMMENT_JAVADOC	 the spec file 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
specFile	TokenNameIdentifier	 spec File
;	TokenNameSEMICOLON	
/** * the rpm top dir */	TokenNameCOMMENT_JAVADOC	 the rpm top dir 
private	TokenNameprivate	
File	TokenNameIdentifier	 File
topDir	TokenNameIdentifier	 top Dir
;	TokenNameSEMICOLON	
/** * the rpm command to use */	TokenNameCOMMENT_JAVADOC	 the rpm command to use 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
command	TokenNameIdentifier	 command
=	TokenNameEQUAL	
"-bb"	TokenNameStringLiteral	-bb
;	TokenNameSEMICOLON	
/** * The executable to use for building the packages. * @since Ant 1.6 */	TokenNameCOMMENT_JAVADOC	 The executable to use for building the packages. @since Ant 1.6 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
rpmBuildCommand	TokenNameIdentifier	 rpm Build Command
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * clean BUILD directory */	TokenNameCOMMENT_JAVADOC	 clean BUILD directory 
private	TokenNameprivate	
boolean	TokenNameboolean	
cleanBuildDir	TokenNameIdentifier	 clean Build Dir
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * remove spec file */	TokenNameCOMMENT_JAVADOC	 remove spec file 
private	TokenNameprivate	
boolean	TokenNameboolean	
removeSpec	TokenNameIdentifier	 remove Spec
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * remove sources */	TokenNameCOMMENT_JAVADOC	 remove sources 
private	TokenNameprivate	
boolean	TokenNameboolean	
removeSource	TokenNameIdentifier	 remove Source
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * the file to direct standard output from the command */	TokenNameCOMMENT_JAVADOC	 the file to direct standard output from the command 
private	TokenNameprivate	
File	TokenNameIdentifier	 File
output	TokenNameIdentifier	 output
;	TokenNameSEMICOLON	
/** * the file to direct standard error from the command */	TokenNameCOMMENT_JAVADOC	 the file to direct standard error from the command 
private	TokenNameprivate	
File	TokenNameIdentifier	 File
error	TokenNameIdentifier	 error
;	TokenNameSEMICOLON	
/** * Halt on error return value from rpm build. */	TokenNameCOMMENT_JAVADOC	 Halt on error return value from rpm build. 
private	TokenNameprivate	
boolean	TokenNameboolean	
failOnError	TokenNameIdentifier	 fail On Error
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * Don't show output of RPM build command on console. This does not affect * the printing of output and error messages to files. */	TokenNameCOMMENT_JAVADOC	 Don't show output of RPM build command on console. This does not affect the printing of output and error messages to files. 
private	TokenNameprivate	
boolean	TokenNameboolean	
quiet	TokenNameIdentifier	 quiet
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * Execute the task * * @throws BuildException is there is a problem in the task execution. */	TokenNameCOMMENT_JAVADOC	 Execute the task * @throws BuildException is there is a problem in the task execution. 
public	TokenNamepublic	
void	TokenNamevoid	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
Commandline	TokenNameIdentifier	 Commandline
toExecute	TokenNameIdentifier	 to Execute
=	TokenNameEQUAL	
new	TokenNamenew	
Commandline	TokenNameIdentifier	 Commandline
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
toExecute	TokenNameIdentifier	 to Execute
.	TokenNameDOT	
setExecutable	TokenNameIdentifier	 set Executable
(	TokenNameLPAREN	
rpmBuildCommand	TokenNameIdentifier	 rpm Build Command
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
guessRpmBuildCommand	TokenNameIdentifier	 guess Rpm Build Command
(	TokenNameLPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
rpmBuildCommand	TokenNameIdentifier	 rpm Build Command
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
topDir	TokenNameIdentifier	 top Dir
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
toExecute	TokenNameIdentifier	 to Execute
.	TokenNameDOT	
createArgument	TokenNameIdentifier	 create Argument
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
"--define"	TokenNameStringLiteral	--define
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
toExecute	TokenNameIdentifier	 to Execute
.	TokenNameDOT	
createArgument	TokenNameIdentifier	 create Argument
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
"_topdir "	TokenNameStringLiteral	_topdir 
+	TokenNamePLUS	
topDir	TokenNameIdentifier	 top Dir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
toExecute	TokenNameIdentifier	 to Execute
.	TokenNameDOT	
createArgument	TokenNameIdentifier	 create Argument
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setLine	TokenNameIdentifier	 set Line
(	TokenNameLPAREN	
command	TokenNameIdentifier	 command
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
cleanBuildDir	TokenNameIdentifier	 clean Build Dir
)	TokenNameRPAREN	
{	TokenNameLBRACE	
toExecute	TokenNameIdentifier	 to Execute
.	TokenNameDOT	
createArgument	TokenNameIdentifier	 create Argument
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
"--clean"	TokenNameStringLiteral	--clean
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
removeSpec	TokenNameIdentifier	 remove Spec
)	TokenNameRPAREN	
{	TokenNameLBRACE	
toExecute	TokenNameIdentifier	 to Execute
.	TokenNameDOT	
createArgument	TokenNameIdentifier	 create Argument
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
"--rmspec"	TokenNameStringLiteral	--rmspec
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
removeSource	TokenNameIdentifier	 remove Source
)	TokenNameRPAREN	
{	TokenNameLBRACE	
toExecute	TokenNameIdentifier	 to Execute
.	TokenNameDOT	
createArgument	TokenNameIdentifier	 create Argument
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
"--rmsource"	TokenNameStringLiteral	--rmsource
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
toExecute	TokenNameIdentifier	 to Execute
.	TokenNameDOT	
createArgument	TokenNameIdentifier	 create Argument
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
"SPECS/"	TokenNameStringLiteral	SPECS/
+	TokenNamePLUS	
specFile	TokenNameIdentifier	 spec File
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ExecuteStreamHandler	TokenNameIdentifier	 Execute Stream Handler
streamhandler	TokenNameIdentifier	 streamhandler
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
OutputStream	TokenNameIdentifier	 Output Stream
outputstream	TokenNameIdentifier	 outputstream
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
OutputStream	TokenNameIdentifier	 Output Stream
errorstream	TokenNameIdentifier	 errorstream
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
error	TokenNameIdentifier	 error
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
output	TokenNameIdentifier	 output
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
quiet	TokenNameIdentifier	 quiet
)	TokenNameRPAREN	
{	TokenNameLBRACE	
streamhandler	TokenNameIdentifier	 streamhandler
=	TokenNameEQUAL	
new	TokenNamenew	
LogStreamHandler	TokenNameIdentifier	 Log Stream Handler
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_INFO	TokenNameIdentifier	 MSG  INFO
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_WARN	TokenNameIdentifier	 MSG  WARN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
streamhandler	TokenNameIdentifier	 streamhandler
=	TokenNameEQUAL	
new	TokenNamenew	
LogStreamHandler	TokenNameIdentifier	 Log Stream Handler
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_DEBUG	TokenNameIdentifier	 MSG  DEBUG
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_DEBUG	TokenNameIdentifier	 MSG  DEBUG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
output	TokenNameIdentifier	 output
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
BufferedOutputStream	TokenNameIdentifier	 Buffered Output Stream
bos	TokenNameIdentifier	 bos
=	TokenNameEQUAL	
new	TokenNamenew	
BufferedOutputStream	TokenNameIdentifier	 Buffered Output Stream
(	TokenNameLPAREN	
new	TokenNamenew	
FileOutputStream	TokenNameIdentifier	 File Output Stream
(	TokenNameLPAREN	
output	TokenNameIdentifier	 output
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
outputstream	TokenNameIdentifier	 outputstream
=	TokenNameEQUAL	
new	TokenNamenew	
PrintStream	TokenNameIdentifier	 Print Stream
(	TokenNameLPAREN	
bos	TokenNameIdentifier	 bos
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
quiet	TokenNameIdentifier	 quiet
)	TokenNameRPAREN	
{	TokenNameLBRACE	
outputstream	TokenNameIdentifier	 outputstream
=	TokenNameEQUAL	
new	TokenNamenew	
LogOutputStream	TokenNameIdentifier	 Log Output Stream
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_INFO	TokenNameIdentifier	 MSG  INFO
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
outputstream	TokenNameIdentifier	 outputstream
=	TokenNameEQUAL	
new	TokenNamenew	
LogOutputStream	TokenNameIdentifier	 Log Output Stream
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_DEBUG	TokenNameIdentifier	 MSG  DEBUG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
error	TokenNameIdentifier	 error
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
BufferedOutputStream	TokenNameIdentifier	 Buffered Output Stream
bos	TokenNameIdentifier	 bos
=	TokenNameEQUAL	
new	TokenNamenew	
BufferedOutputStream	TokenNameIdentifier	 Buffered Output Stream
(	TokenNameLPAREN	
new	TokenNamenew	
FileOutputStream	TokenNameIdentifier	 File Output Stream
(	TokenNameLPAREN	
error	TokenNameIdentifier	 error
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
errorstream	TokenNameIdentifier	 errorstream
=	TokenNameEQUAL	
new	TokenNamenew	
PrintStream	TokenNameIdentifier	 Print Stream
(	TokenNameLPAREN	
bos	TokenNameIdentifier	 bos
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
quiet	TokenNameIdentifier	 quiet
)	TokenNameRPAREN	
{	TokenNameLBRACE	
errorstream	TokenNameIdentifier	 errorstream
=	TokenNameEQUAL	
new	TokenNamenew	
LogOutputStream	TokenNameIdentifier	 Log Output Stream
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_WARN	TokenNameIdentifier	 MSG  WARN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
errorstream	TokenNameIdentifier	 errorstream
=	TokenNameEQUAL	
new	TokenNamenew	
LogOutputStream	TokenNameIdentifier	 Log Output Stream
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_DEBUG	TokenNameIdentifier	 MSG  DEBUG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
streamhandler	TokenNameIdentifier	 streamhandler
=	TokenNameEQUAL	
new	TokenNamenew	
PumpStreamHandler	TokenNameIdentifier	 Pump Stream Handler
(	TokenNameLPAREN	
outputstream	TokenNameIdentifier	 outputstream
,	TokenNameCOMMA	
errorstream	TokenNameIdentifier	 errorstream
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Execute	TokenNameIdentifier	 Execute
exe	TokenNameIdentifier	 exe
=	TokenNameEQUAL	
getExecute	TokenNameIdentifier	 get Execute
(	TokenNameLPAREN	
toExecute	TokenNameIdentifier	 to Execute
,	TokenNameCOMMA	
streamhandler	TokenNameIdentifier	 streamhandler
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Building the RPM based on the "	TokenNameStringLiteral	Building the RPM based on the 
+	TokenNamePLUS	
specFile	TokenNameIdentifier	 spec File
+	TokenNamePLUS	
" file"	TokenNameStringLiteral	 file
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
returncode	TokenNameIdentifier	 returncode
=	TokenNameEQUAL	
exe	TokenNameIdentifier	 exe
.	TokenNameDOT	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
Execute	TokenNameIdentifier	 Execute
.	TokenNameDOT	
isFailure	TokenNameIdentifier	 is Failure
(	TokenNameLPAREN	
returncode	TokenNameIdentifier	 returncode
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
"'"	TokenNameStringLiteral	'
+	TokenNamePLUS	
toExecute	TokenNameIdentifier	 to Execute
.	TokenNameDOT	
getExecutable	TokenNameIdentifier	 get Executable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
"' failed with exit code "	TokenNameStringLiteral	' failed with exit code 
+	TokenNamePLUS	
returncode	TokenNameIdentifier	 returncode
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
failOnError	TokenNameIdentifier	 fail On Error
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
msg	TokenNameIdentifier	 msg
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
msg	TokenNameIdentifier	 msg
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_ERR	TokenNameIdentifier	 MSG  ERR
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
outputstream	TokenNameIdentifier	 outputstream
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
errorstream	TokenNameIdentifier	 errorstream
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * The directory which will have the expected * subdirectories, SPECS, SOURCES, BUILD, SRPMS ; optional. * If this isn't specified, * the <tt>baseDir</tt> value is used * * @param td the directory containing the normal RPM directories. */	TokenNameCOMMENT_JAVADOC	 The directory which will have the expected subdirectories, SPECS, SOURCES, BUILD, SRPMS ; optional. If this isn't specified, the <tt>baseDir</tt> value is used * @param td the directory containing the normal RPM directories. 
public	TokenNamepublic	
void	TokenNamevoid	
setTopDir	TokenNameIdentifier	 set Top Dir
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
td	TokenNameIdentifier	 td
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
topDir	TokenNameIdentifier	 top Dir
=	TokenNameEQUAL	
td	TokenNameIdentifier	 td
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * What command to issue to the rpm build tool; optional. * The default is "-bb" * @param c the command to use. */	TokenNameCOMMENT_JAVADOC	 What command to issue to the rpm build tool; optional. The default is "-bb" @param c the command to use. 
public	TokenNamepublic	
void	TokenNamevoid	
setCommand	TokenNameIdentifier	 set Command
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
c	TokenNameIdentifier	 c
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
command	TokenNameIdentifier	 command
=	TokenNameEQUAL	
c	TokenNameIdentifier	 c
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * The name of the spec File to use; required. * @param sf the spec file name to use. */	TokenNameCOMMENT_JAVADOC	 The name of the spec File to use; required. @param sf the spec file name to use. 
public	TokenNamepublic	
void	TokenNamevoid	
setSpecFile	TokenNameIdentifier	 set Spec File
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
sf	TokenNameIdentifier	 sf
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
sf	TokenNameIdentifier	 sf
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
sf	TokenNameIdentifier	 sf
.	TokenNameDOT	
trim	TokenNameIdentifier	 trim
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"You must specify a spec file"	TokenNameStringLiteral	You must specify a spec file
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
this	TokenNamethis	
.	TokenNameDOT	
specFile	TokenNameIdentifier	 spec File
=	TokenNameEQUAL	
sf	TokenNameIdentifier	 sf
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Flag (optional, default=false) to remove * the generated files in the BUILD directory * @param cbd a <code>boolean</code> value. */	TokenNameCOMMENT_JAVADOC	 Flag (optional, default=false) to remove the generated files in the BUILD directory @param cbd a <code>boolean</code> value. 
public	TokenNamepublic	
void	TokenNamevoid	
setCleanBuildDir	TokenNameIdentifier	 set Clean Build Dir
(	TokenNameLPAREN	
boolean	TokenNameboolean	
cbd	TokenNameIdentifier	 cbd
)	TokenNameRPAREN	
{	TokenNameLBRACE	
cleanBuildDir	TokenNameIdentifier	 clean Build Dir
=	TokenNameEQUAL	
cbd	TokenNameIdentifier	 cbd
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Flag (optional, default=false) to remove the spec file from SPECS * @param rs a <code>boolean</code> value. */	TokenNameCOMMENT_JAVADOC	 Flag (optional, default=false) to remove the spec file from SPECS @param rs a <code>boolean</code> value. 
public	TokenNamepublic	
void	TokenNamevoid	
setRemoveSpec	TokenNameIdentifier	 set Remove Spec
(	TokenNameLPAREN	
boolean	TokenNameboolean	
rs	TokenNameIdentifier	 rs
)	TokenNameRPAREN	
{	TokenNameLBRACE	
removeSpec	TokenNameIdentifier	 remove Spec
=	TokenNameEQUAL	
rs	TokenNameIdentifier	 rs
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Flag (optional, default=false) * to remove the sources after the build. * See the <tt>--rmsource</tt> option of rpmbuild. * @param rs a <code>boolean</code> value. */	TokenNameCOMMENT_JAVADOC	 Flag (optional, default=false) to remove the sources after the build. See the <tt>--rmsource</tt> option of rpmbuild. @param rs a <code>boolean</code> value. 
public	TokenNamepublic	
void	TokenNamevoid	
setRemoveSource	TokenNameIdentifier	 set Remove Source
(	TokenNameLPAREN	
boolean	TokenNameboolean	
rs	TokenNameIdentifier	 rs
)	TokenNameRPAREN	
{	TokenNameLBRACE	
removeSource	TokenNameIdentifier	 remove Source
=	TokenNameEQUAL	
rs	TokenNameIdentifier	 rs
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Optional file to save stdout to. * @param output the file to save stdout to. */	TokenNameCOMMENT_JAVADOC	 Optional file to save stdout to. @param output the file to save stdout to. 
public	TokenNamepublic	
void	TokenNamevoid	
setOutput	TokenNameIdentifier	 set Output
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
output	TokenNameIdentifier	 output
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
output	TokenNameIdentifier	 output
=	TokenNameEQUAL	
output	TokenNameIdentifier	 output
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Optional file to save stderr to * @param error the file to save error output to. */	TokenNameCOMMENT_JAVADOC	 Optional file to save stderr to @param error the file to save error output to. 
public	TokenNamepublic	
void	TokenNamevoid	
setError	TokenNameIdentifier	 set Error
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
error	TokenNameIdentifier	 error
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
error	TokenNameIdentifier	 error
=	TokenNameEQUAL	
error	TokenNameIdentifier	 error
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * The executable to run when building; optional. * The default is <code>rpmbuild</code>. * * @since Ant 1.6 * @param c the rpm build executable */	TokenNameCOMMENT_JAVADOC	 The executable to run when building; optional. The default is <code>rpmbuild</code>. * @since Ant 1.6 @param c the rpm build executable 
public	TokenNamepublic	
void	TokenNamevoid	
setRpmBuildCommand	TokenNameIdentifier	 set Rpm Build Command
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
c	TokenNameIdentifier	 c
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
rpmBuildCommand	TokenNameIdentifier	 rpm Build Command
=	TokenNameEQUAL	
c	TokenNameIdentifier	 c
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * If <code>true</code>, stop the build process when the rpmbuild command * exits with an error status. * @param value <code>true</code> if it should halt, otherwise * <code>false</code>. The default is <code>false</code>. * * @since Ant 1.6.3 */	TokenNameCOMMENT_JAVADOC	 If <code>true</code>, stop the build process when the rpmbuild command exits with an error status. @param value <code>true</code> if it should halt, otherwise <code>false</code>. The default is <code>false</code>. * @since Ant 1.6.3 
public	TokenNamepublic	
void	TokenNamevoid	
setFailOnError	TokenNameIdentifier	 set Fail On Error
(	TokenNameLPAREN	
boolean	TokenNameboolean	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
{	TokenNameLBRACE	
failOnError	TokenNameIdentifier	 fail On Error
=	TokenNameEQUAL	
value	TokenNameIdentifier	 value
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * If true, output from the RPM build command will only be logged to DEBUG. * @param value <code>false</code> if output should be logged, otherwise * <code>true</code>. The default is <code>false</code>. * * @since Ant 1.6.3 */	TokenNameCOMMENT_JAVADOC	 If true, output from the RPM build command will only be logged to DEBUG. @param value <code>false</code> if output should be logged, otherwise <code>true</code>. The default is <code>false</code>. * @since Ant 1.6.3 
public	TokenNamepublic	
void	TokenNamevoid	
setQuiet	TokenNameIdentifier	 set Quiet
(	TokenNameLPAREN	
boolean	TokenNameboolean	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
{	TokenNameLBRACE	
quiet	TokenNameIdentifier	 quiet
=	TokenNameEQUAL	
value	TokenNameIdentifier	 value
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Checks whether <code>rpmbuild</code> is on the PATH and returns * the absolute path to it - falls back to <code>rpm</code> * otherwise. * * @return the command used to build RPM's * * @since 1.6 */	TokenNameCOMMENT_JAVADOC	 Checks whether <code>rpmbuild</code> is on the PATH and returns the absolute path to it - falls back to <code>rpm</code> otherwise. * @return the command used to build RPM's * @since 1.6 
protected	TokenNameprotected	
String	TokenNameIdentifier	 String
guessRpmBuildCommand	TokenNameIdentifier	 guess Rpm Build Command
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Map	TokenNameIdentifier	 Map
/*<String, String>*/	TokenNameCOMMENT_BLOCK	<String, String>
env	TokenNameIdentifier	 env
=	TokenNameEQUAL	
Execute	TokenNameIdentifier	 Execute
.	TokenNameDOT	
getEnvironmentVariables	TokenNameIdentifier	 get Environment Variables
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
path	TokenNameIdentifier	 path
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
env	TokenNameIdentifier	 env
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
PATH1	TokenNameIdentifier	 PAT H1
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
path	TokenNameIdentifier	 path
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
path	TokenNameIdentifier	 path
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
env	TokenNameIdentifier	 env
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
PATH2	TokenNameIdentifier	 PAT H2
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
path	TokenNameIdentifier	 path
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
path	TokenNameIdentifier	 path
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
env	TokenNameIdentifier	 env
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
PATH3	TokenNameIdentifier	 PAT H3
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
path	TokenNameIdentifier	 path
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Path	TokenNameIdentifier	 Path
p	TokenNameIdentifier	 p
=	TokenNameEQUAL	
new	TokenNamenew	
Path	TokenNameIdentifier	 Path
(	TokenNameLPAREN	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
path	TokenNameIdentifier	 path
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
pElements	TokenNameIdentifier	 p Elements
=	TokenNameEQUAL	
p	TokenNameIdentifier	 p
.	TokenNameDOT	
list	TokenNameIdentifier	 list
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
pElements	TokenNameIdentifier	 p Elements
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
File	TokenNameIdentifier	 File
f	TokenNameIdentifier	 f
=	TokenNameEQUAL	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
pElements	TokenNameIdentifier	 p Elements
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
"rpmbuild"	TokenNameStringLiteral	rpmbuild
+	TokenNamePLUS	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"dos"	TokenNameStringLiteral	dos
)	TokenNameRPAREN	
?	TokenNameQUESTION	
".exe"	TokenNameStringLiteral	.exe
:	TokenNameCOLON	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
f	TokenNameIdentifier	 f
.	TokenNameDOT	
canRead	TokenNameIdentifier	 can Read
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
f	TokenNameIdentifier	 f
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
"rpm"	TokenNameStringLiteral	rpm
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the execute object. * @param toExecute the command line to use. * @param streamhandler the stream handler to use. * @return the execute object. * @since Ant 1.6.3 */	TokenNameCOMMENT_JAVADOC	 Get the execute object. @param toExecute the command line to use. @param streamhandler the stream handler to use. @return the execute object. @since Ant 1.6.3 
protected	TokenNameprotected	
Execute	TokenNameIdentifier	 Execute
getExecute	TokenNameIdentifier	 get Execute
(	TokenNameLPAREN	
Commandline	TokenNameIdentifier	 Commandline
toExecute	TokenNameIdentifier	 to Execute
,	TokenNameCOMMA	
ExecuteStreamHandler	TokenNameIdentifier	 Execute Stream Handler
streamhandler	TokenNameIdentifier	 streamhandler
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Execute	TokenNameIdentifier	 Execute
exe	TokenNameIdentifier	 exe
=	TokenNameEQUAL	
new	TokenNamenew	
Execute	TokenNameIdentifier	 Execute
(	TokenNameLPAREN	
streamhandler	TokenNameIdentifier	 streamhandler
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
exe	TokenNameIdentifier	 exe
.	TokenNameDOT	
setAntRun	TokenNameIdentifier	 set Ant Run
(	TokenNameLPAREN	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
topDir	TokenNameIdentifier	 top Dir
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
topDir	TokenNameIdentifier	 top Dir
=	TokenNameEQUAL	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getBaseDir	TokenNameIdentifier	 get Base Dir
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
exe	TokenNameIdentifier	 exe
.	TokenNameDOT	
setWorkingDirectory	TokenNameIdentifier	 set Working Directory
(	TokenNameLPAREN	
topDir	TokenNameIdentifier	 top Dir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
exe	TokenNameIdentifier	 exe
.	TokenNameDOT	
setCommandline	TokenNameIdentifier	 set Commandline
(	TokenNameLPAREN	
toExecute	TokenNameIdentifier	 to Execute
.	TokenNameDOT	
getCommandline	TokenNameIdentifier	 get Commandline
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
exe	TokenNameIdentifier	 exe
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
