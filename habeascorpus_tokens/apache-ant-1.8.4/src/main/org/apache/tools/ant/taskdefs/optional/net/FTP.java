/* * Licensed to the Apache Software Foundation (ASF) under one or more * contributor license agreements. See the NOTICE file distributed with * this work for additional information regarding copyright ownership. * The ASF licenses this file to You under the Apache License, Version 2.0 * (the "License"); you may not use this file except in compliance with * the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. * */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
optional	TokenNameIdentifier	 optional
.	TokenNameDOT	
net	TokenNameIdentifier	 net
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
BufferedInputStream	TokenNameIdentifier	 Buffered Input Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
BufferedOutputStream	TokenNameIdentifier	 Buffered Output Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
BufferedWriter	TokenNameIdentifier	 Buffered Writer
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
File	TokenNameIdentifier	 File
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
FileInputStream	TokenNameIdentifier	 File Input Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
FileOutputStream	TokenNameIdentifier	 File Output Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
FileWriter	TokenNameIdentifier	 File Writer
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
InputStream	TokenNameIdentifier	 Input Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
OutputStream	TokenNameIdentifier	 Output Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
SimpleDateFormat	TokenNameIdentifier	 Simple Date Format
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Collection	TokenNameIdentifier	 Collection
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Date	TokenNameIdentifier	 Date
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Enumeration	TokenNameIdentifier	 Enumeration
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
HashMap	TokenNameIdentifier	 Hash Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
HashSet	TokenNameIdentifier	 Hash Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Hashtable	TokenNameIdentifier	 Hashtable
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Iterator	TokenNameIdentifier	 Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Locale	TokenNameIdentifier	 Locale
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Map	TokenNameIdentifier	 Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Set	TokenNameIdentifier	 Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Vector	TokenNameIdentifier	 Vector
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
commons	TokenNameIdentifier	 commons
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
FTPClient	TokenNameIdentifier	 FTP Client
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
commons	TokenNameIdentifier	 commons
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
FTPClientConfig	TokenNameIdentifier	 FTP Client Config
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
commons	TokenNameIdentifier	 commons
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
FTPFile	TokenNameIdentifier	 FTP File
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
commons	TokenNameIdentifier	 commons
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
FTPReply	TokenNameIdentifier	 FTP Reply
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
BuildException	TokenNameIdentifier	 Build Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
DirectoryScanner	TokenNameIdentifier	 Directory Scanner
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
Project	TokenNameIdentifier	 Project
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
Task	TokenNameIdentifier	 Task
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
Delete	TokenNameIdentifier	 Delete
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
EnumeratedAttribute	TokenNameIdentifier	 Enumerated Attribute
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
FileSet	TokenNameIdentifier	 File Set
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
selectors	TokenNameIdentifier	 selectors
.	TokenNameDOT	
SelectorUtils	TokenNameIdentifier	 Selector Utils
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
FileUtils	TokenNameIdentifier	 File Utils
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
RetryHandler	TokenNameIdentifier	 Retry Handler
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Retryable	TokenNameIdentifier	 Retryable
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
VectorSet	TokenNameIdentifier	 Vector Set
;	TokenNameSEMICOLON	
/** * Basic FTP client. Performs the following actions: * <ul> * <li> <strong>send</strong> - send files to a remote server. This is the * default action.</li> * <li> <strong>get</strong> - retrieve files from a remote server.</li> * <li> <strong>del</strong> - delete files from a remote server.</li> * <li> <strong>list</strong> - create a file listing.</li> * <li> <strong>chmod</strong> - change unix file permissions.</li> * <li> <strong>rmdir</strong> - remove directories, if empty, from a * remote server.</li> * </ul> * <strong>Note:</strong> Some FTP servers - notably the Solaris server - seem * to hold data ports open after a "retr" operation, allowing them to timeout * instead of shutting them down cleanly. This happens in active or passive * mode, and the ports will remain open even after ending the FTP session. FTP * "send" operations seem to close ports immediately. This behavior may cause * problems on some systems when downloading large sets of files. * * @since Ant 1.3 */	TokenNameCOMMENT_JAVADOC	 Basic FTP client. Performs the following actions: <ul> <li> <strong>send</strong> - send files to a remote server. This is the default action.</li> <li> <strong>get</strong> - retrieve files from a remote server.</li> <li> <strong>del</strong> - delete files from a remote server.</li> <li> <strong>list</strong> - create a file listing.</li> <li> <strong>chmod</strong> - change unix file permissions.</li> <li> <strong>rmdir</strong> - remove directories, if empty, from a remote server.</li> </ul> <strong>Note:</strong> Some FTP servers - notably the Solaris server - seem to hold data ports open after a "retr" operation, allowing them to timeout instead of shutting them down cleanly. This happens in active or passive mode, and the ports will remain open even after ending the FTP session. FTP "send" operations seem to close ports immediately. This behavior may cause problems on some systems when downloading large sets of files. * @since Ant 1.3 
public	TokenNamepublic	
class	TokenNameclass	
FTP	TokenNameIdentifier	 FTP
extends	TokenNameextends	
Task	TokenNameIdentifier	 Task
implements	TokenNameimplements	
FTPTaskConfig	TokenNameIdentifier	 FTP Task Config
{	TokenNameLBRACE	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
SEND_FILES	TokenNameIdentifier	 SEND  FILES
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
GET_FILES	TokenNameIdentifier	 GET  FILES
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
DEL_FILES	TokenNameIdentifier	 DEL  FILES
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
LIST_FILES	TokenNameIdentifier	 LIST  FILES
=	TokenNameEQUAL	
3	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
MK_DIR	TokenNameIdentifier	 MK  DIR
=	TokenNameEQUAL	
4	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
CHMOD	TokenNameIdentifier	 CHMOD
=	TokenNameEQUAL	
5	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
RM_DIR	TokenNameIdentifier	 RM  DIR
=	TokenNameEQUAL	
6	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
SITE_CMD	TokenNameIdentifier	 SITE  CMD
=	TokenNameEQUAL	
7	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
/** return code of ftp */	TokenNameCOMMENT_JAVADOC	 return code of ftp 
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
CODE_521	TokenNameIdentifier	 CODE 521
=	TokenNameEQUAL	
521	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
CODE_550	TokenNameIdentifier	 CODE 550
=	TokenNameEQUAL	
550	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
CODE_553	TokenNameIdentifier	 CODE 553
=	TokenNameEQUAL	
553	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
/** adjust uptodate calculations where server timestamps are HH:mm and client's * are HH:mm:ss */	TokenNameCOMMENT_JAVADOC	 adjust uptodate calculations where server timestamps are HH:mm and client's are HH:mm:ss 
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
long	TokenNamelong	
GRANULARITY_MINUTE	TokenNameIdentifier	 GRANULARITY  MINUTE
=	TokenNameEQUAL	
60000L	TokenNameLongLiteral	
;	TokenNameSEMICOLON	
/** Date formatter used in logging, note not thread safe! */	TokenNameCOMMENT_JAVADOC	 Date formatter used in logging, note not thread safe! 
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
SimpleDateFormat	TokenNameIdentifier	 Simple Date Format
TIMESTAMP_LOGGING_SDF	TokenNameIdentifier	 TIMESTAMP  LOGGING  SDF
=	TokenNameEQUAL	
new	TokenNamenew	
SimpleDateFormat	TokenNameIdentifier	 Simple Date Format
(	TokenNameLPAREN	
"yyyy-MM-dd HH:mm:ss"	TokenNameStringLiteral	yyyy-MM-dd HH:mm:ss
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** Default port for FTP */	TokenNameCOMMENT_JAVADOC	 Default port for FTP 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
DEFAULT_FTP_PORT	TokenNameIdentifier	 DEFAULT  FTP  PORT
=	TokenNameEQUAL	
21	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
FileUtils	TokenNameIdentifier	 File Utils
FILE_UTILS	TokenNameIdentifier	 FILE  UTILS
=	TokenNameEQUAL	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
getFileUtils	TokenNameIdentifier	 get File Utils
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
remotedir	TokenNameIdentifier	 remotedir
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
server	TokenNameIdentifier	 server
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
userid	TokenNameIdentifier	 userid
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
password	TokenNameIdentifier	 password
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
account	TokenNameIdentifier	 account
;	TokenNameSEMICOLON	
private	TokenNameprivate	
File	TokenNameIdentifier	 File
listing	TokenNameIdentifier	 listing
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
binary	TokenNameIdentifier	 binary
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
passive	TokenNameIdentifier	 passive
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
verbose	TokenNameIdentifier	 verbose
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
newerOnly	TokenNameIdentifier	 newer Only
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
long	TokenNamelong	
timeDiffMillis	TokenNameIdentifier	 time Diff Millis
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
long	TokenNamelong	
granularityMillis	TokenNameIdentifier	 granularity Millis
=	TokenNameEQUAL	
0L	TokenNameLongLiteral	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
timeDiffAuto	TokenNameIdentifier	 time Diff Auto
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
int	TokenNameint	
action	TokenNameIdentifier	 action
=	TokenNameEQUAL	
SEND_FILES	TokenNameIdentifier	 SEND  FILES
;	TokenNameSEMICOLON	
private	TokenNameprivate	
Vector	TokenNameIdentifier	 Vector
filesets	TokenNameIdentifier	 filesets
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
Set	TokenNameIdentifier	 Set
dirCache	TokenNameIdentifier	 dir Cache
=	TokenNameEQUAL	
new	TokenNamenew	
HashSet	TokenNameIdentifier	 Hash Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
int	TokenNameint	
transferred	TokenNameIdentifier	 transferred
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
remoteFileSep	TokenNameIdentifier	 remote File Sep
=	TokenNameEQUAL	
"/"	TokenNameStringLiteral	/
;	TokenNameSEMICOLON	
private	TokenNameprivate	
int	TokenNameint	
port	TokenNameIdentifier	 port
=	TokenNameEQUAL	
DEFAULT_FTP_PORT	TokenNameIdentifier	 DEFAULT  FTP  PORT
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
skipFailedTransfers	TokenNameIdentifier	 skip Failed Transfers
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
int	TokenNameint	
skipped	TokenNameIdentifier	 skipped
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
ignoreNoncriticalErrors	TokenNameIdentifier	 ignore Noncritical Errors
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
preserveLastModified	TokenNameIdentifier	 preserve Last Modified
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
chmod	TokenNameIdentifier	 chmod
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
umask	TokenNameIdentifier	 umask
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
FTPSystemType	TokenNameIdentifier	 FTP System Type
systemTypeKey	TokenNameIdentifier	 system Type Key
=	TokenNameEQUAL	
FTPSystemType	TokenNameIdentifier	 FTP System Type
.	TokenNameDOT	
getDefault	TokenNameIdentifier	 get Default
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
defaultDateFormatConfig	TokenNameIdentifier	 default Date Format Config
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
recentDateFormatConfig	TokenNameIdentifier	 recent Date Format Config
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
LanguageCode	TokenNameIdentifier	 Language Code
serverLanguageCodeConfig	TokenNameIdentifier	 server Language Code Config
=	TokenNameEQUAL	
LanguageCode	TokenNameIdentifier	 Language Code
.	TokenNameDOT	
getDefault	TokenNameIdentifier	 get Default
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
serverTimeZoneConfig	TokenNameIdentifier	 server Time Zone Config
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
shortMonthNamesConfig	TokenNameIdentifier	 short Month Names Config
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
Granularity	TokenNameIdentifier	 Granularity
timestampGranularity	TokenNameIdentifier	 timestamp Granularity
=	TokenNameEQUAL	
Granularity	TokenNameIdentifier	 Granularity
.	TokenNameDOT	
getDefault	TokenNameIdentifier	 get Default
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
isConfigurationSet	TokenNameIdentifier	 is Configuration Set
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
int	TokenNameint	
retriesAllowed	TokenNameIdentifier	 retries Allowed
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
siteCommand	TokenNameIdentifier	 site Command
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
initialSiteCommand	TokenNameIdentifier	 initial Site Command
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
enableRemoteVerification	TokenNameIdentifier	 enable Remote Verification
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
ACTION_STRS	TokenNameIdentifier	 ACTION  STRS
=	TokenNameEQUAL	
{	TokenNameLBRACE	
"sending"	TokenNameStringLiteral	sending
,	TokenNameCOMMA	
"getting"	TokenNameStringLiteral	getting
,	TokenNameCOMMA	
"deleting"	TokenNameStringLiteral	deleting
,	TokenNameCOMMA	
"listing"	TokenNameStringLiteral	listing
,	TokenNameCOMMA	
"making directory"	TokenNameStringLiteral	making directory
,	TokenNameCOMMA	
"chmod"	TokenNameStringLiteral	chmod
,	TokenNameCOMMA	
"removing"	TokenNameStringLiteral	removing
,	TokenNameCOMMA	
"site"	TokenNameStringLiteral	site
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
COMPLETED_ACTION_STRS	TokenNameIdentifier	 COMPLETED  ACTION  STRS
=	TokenNameEQUAL	
{	TokenNameLBRACE	
"sent"	TokenNameStringLiteral	sent
,	TokenNameCOMMA	
"retrieved"	TokenNameStringLiteral	retrieved
,	TokenNameCOMMA	
"deleted"	TokenNameStringLiteral	deleted
,	TokenNameCOMMA	
"listed"	TokenNameStringLiteral	listed
,	TokenNameCOMMA	
"created directory"	TokenNameStringLiteral	created directory
,	TokenNameCOMMA	
"mode changed"	TokenNameStringLiteral	mode changed
,	TokenNameCOMMA	
"removed"	TokenNameStringLiteral	removed
,	TokenNameCOMMA	
"site command executed"	TokenNameStringLiteral	site command executed
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
protected	TokenNameprotected	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
ACTION_TARGET_STRS	TokenNameIdentifier	 ACTION  TARGET  STRS
=	TokenNameEQUAL	
{	TokenNameLBRACE	
"files"	TokenNameStringLiteral	files
,	TokenNameCOMMA	
"files"	TokenNameStringLiteral	files
,	TokenNameCOMMA	
"files"	TokenNameStringLiteral	files
,	TokenNameCOMMA	
"files"	TokenNameStringLiteral	files
,	TokenNameCOMMA	
"directory"	TokenNameStringLiteral	directory
,	TokenNameCOMMA	
"files"	TokenNameStringLiteral	files
,	TokenNameCOMMA	
"directories"	TokenNameStringLiteral	directories
,	TokenNameCOMMA	
"site command"	TokenNameStringLiteral	site command
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
/** * internal class providing a File-like interface to some of the information * available from the FTP server * */	TokenNameCOMMENT_JAVADOC	 internal class providing a File-like interface to some of the information available from the FTP server 
protected	TokenNameprotected	
static	TokenNamestatic	
class	TokenNameclass	
FTPFileProxy	TokenNameIdentifier	 FTP File Proxy
extends	TokenNameextends	
File	TokenNameIdentifier	 File
{	TokenNameLBRACE	
private	TokenNameprivate	
final	TokenNamefinal	
FTPFile	TokenNameIdentifier	 FTP File
file	TokenNameIdentifier	 file
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
parts	TokenNameIdentifier	 parts
;	TokenNameSEMICOLON	
private	TokenNameprivate	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
;	TokenNameSEMICOLON	
/** * creates a proxy to a FTP file * @param file */	TokenNameCOMMENT_JAVADOC	 creates a proxy to a FTP file @param file 
public	TokenNamepublic	
FTPFileProxy	TokenNameIdentifier	 FTP File Proxy
(	TokenNameLPAREN	
FTPFile	TokenNameIdentifier	 FTP File
file	TokenNameIdentifier	 file
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
file	TokenNameIdentifier	 file
=	TokenNameEQUAL	
file	TokenNameIdentifier	 file
;	TokenNameSEMICOLON	
parts	TokenNameIdentifier	 parts
=	TokenNameEQUAL	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
getPathStack	TokenNameIdentifier	 get Path Stack
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * creates a proxy to a FTP directory * @param completePath the remote directory. */	TokenNameCOMMENT_JAVADOC	 creates a proxy to a FTP directory @param completePath the remote directory. 
public	TokenNamepublic	
FTPFileProxy	TokenNameIdentifier	 FTP File Proxy
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
completePath	TokenNameIdentifier	 complete Path
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
completePath	TokenNameIdentifier	 complete Path
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
file	TokenNameIdentifier	 file
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
completePath	TokenNameIdentifier	 complete Path
;	TokenNameSEMICOLON	
parts	TokenNameIdentifier	 parts
=	TokenNameEQUAL	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
getPathStack	TokenNameIdentifier	 get Path Stack
(	TokenNameLPAREN	
completePath	TokenNameIdentifier	 complete Path
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* (non-Javadoc) * @see java.io.File#exists() */	TokenNameCOMMENT_BLOCK	 (non-Javadoc) @see java.io.File#exists() 
public	TokenNamepublic	
boolean	TokenNameboolean	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* (non-Javadoc) * @see java.io.File#getAbsolutePath() */	TokenNameCOMMENT_BLOCK	 (non-Javadoc) @see java.io.File#getAbsolutePath() 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
name	TokenNameIdentifier	 name
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* (non-Javadoc) * @see java.io.File#getName() */	TokenNameCOMMENT_BLOCK	 (non-Javadoc) @see java.io.File#getName() 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
parts	TokenNameIdentifier	 parts
.	TokenNameDOT	
length	TokenNameIdentifier	 length
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
?	TokenNameQUESTION	
parts	TokenNameIdentifier	 parts
[	TokenNameLBRACKET	
parts	TokenNameIdentifier	 parts
.	TokenNameDOT	
length	TokenNameIdentifier	 length
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
:	TokenNameCOLON	
name	TokenNameIdentifier	 name
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* (non-Javadoc) * @see java.io.File#getParent() */	TokenNameCOMMENT_BLOCK	 (non-Javadoc) @see java.io.File#getParent() 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getParent	TokenNameIdentifier	 get Parent
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
parts	TokenNameIdentifier	 parts
.	TokenNameDOT	
length	TokenNameIdentifier	 length
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
result	TokenNameIdentifier	 result
+=	TokenNamePLUS_EQUAL	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
separatorChar	TokenNameIdentifier	 separator Char
+	TokenNamePLUS	
parts	TokenNameIdentifier	 parts
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
result	TokenNameIdentifier	 result
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* (non-Javadoc) * @see java.io.File#getPath() */	TokenNameCOMMENT_BLOCK	 (non-Javadoc) @see java.io.File#getPath() 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
name	TokenNameIdentifier	 name
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * FTP files are stored as absolute paths * @return true */	TokenNameCOMMENT_JAVADOC	 FTP files are stored as absolute paths @return true 
public	TokenNamepublic	
boolean	TokenNameboolean	
isAbsolute	TokenNameIdentifier	 is Absolute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* (non-Javadoc) * @see java.io.File#isDirectory() */	TokenNameCOMMENT_BLOCK	 (non-Javadoc) @see java.io.File#isDirectory() 
public	TokenNamepublic	
boolean	TokenNameboolean	
isDirectory	TokenNameIdentifier	 is Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
file	TokenNameIdentifier	 file
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* (non-Javadoc) * @see java.io.File#isFile() */	TokenNameCOMMENT_BLOCK	 (non-Javadoc) @see java.io.File#isFile() 
public	TokenNamepublic	
boolean	TokenNameboolean	
isFile	TokenNameIdentifier	 is File
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
file	TokenNameIdentifier	 file
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * FTP files cannot be hidden * * @return false */	TokenNameCOMMENT_JAVADOC	 FTP files cannot be hidden * @return false 
public	TokenNamepublic	
boolean	TokenNameboolean	
isHidden	TokenNameIdentifier	 is Hidden
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* (non-Javadoc) * @see java.io.File#lastModified() */	TokenNameCOMMENT_BLOCK	 (non-Javadoc) @see java.io.File#lastModified() 
public	TokenNamepublic	
long	TokenNamelong	
lastModified	TokenNameIdentifier	 last Modified
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getTimestamp	TokenNameIdentifier	 get Timestamp
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getTimeInMillis	TokenNameIdentifier	 get Time In Millis
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* (non-Javadoc) * @see java.io.File#length() */	TokenNameCOMMENT_BLOCK	 (non-Javadoc) @see java.io.File#length() 
public	TokenNamepublic	
long	TokenNamelong	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getSize	TokenNameIdentifier	 get Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * internal class allowing to read the contents of a remote file system * using the FTP protocol * used in particular for ftp get operations * differences with DirectoryScanner * "" (the root of the fileset) is never included in the included directories * followSymlinks defaults to false */	TokenNameCOMMENT_JAVADOC	 internal class allowing to read the contents of a remote file system using the FTP protocol used in particular for ftp get operations differences with DirectoryScanner "" (the root of the fileset) is never included in the included directories followSymlinks defaults to false 
protected	TokenNameprotected	
class	TokenNameclass	
FTPDirectoryScanner	TokenNameIdentifier	 FTP Directory Scanner
extends	TokenNameextends	
DirectoryScanner	TokenNameIdentifier	 Directory Scanner
{	TokenNameLBRACE	
// CheckStyle:VisibilityModifier OFF - bc 	TokenNameCOMMENT_LINE	CheckStyle:VisibilityModifier OFF - bc 
protected	TokenNameprotected	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// CheckStyle:VisibilityModifier ON 	TokenNameCOMMENT_LINE	CheckStyle:VisibilityModifier ON 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
rootPath	TokenNameIdentifier	 root Path
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * since ant 1.6 * this flag should be set to true on UNIX and can save scanning time */	TokenNameCOMMENT_JAVADOC	 since ant 1.6 this flag should be set to true on UNIX and can save scanning time 
private	TokenNameprivate	
boolean	TokenNameboolean	
remoteSystemCaseSensitive	TokenNameIdentifier	 remote System Case Sensitive
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
remoteSensitivityChecked	TokenNameIdentifier	 remote Sensitivity Checked
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * constructor * @param ftp ftpclient object */	TokenNameCOMMENT_JAVADOC	 constructor @param ftp ftpclient object 
public	TokenNamepublic	
FTPDirectoryScanner	TokenNameIdentifier	 FTP Directory Scanner
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
ftp	TokenNameIdentifier	 ftp
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
setFollowSymlinks	TokenNameIdentifier	 set Follow Symlinks
(	TokenNameLPAREN	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * scans the remote directory, * storing internally the included files, directories, ... */	TokenNameCOMMENT_JAVADOC	 scans the remote directory, storing internally the included files, directories, ... 
public	TokenNamepublic	
void	TokenNamevoid	
scan	TokenNameIdentifier	 scan
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
includes	TokenNameIdentifier	 includes
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// No includes supplied, so set it to 'matches all' 	TokenNameCOMMENT_LINE	No includes supplied, so set it to 'matches all' 
includes	TokenNameIdentifier	 includes
=	TokenNameEQUAL	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
includes	TokenNameIdentifier	 includes
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
"**"	TokenNameStringLiteral	**
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
excludes	TokenNameIdentifier	 excludes
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
excludes	TokenNameIdentifier	 excludes
=	TokenNameEQUAL	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
filesIncluded	TokenNameIdentifier	 files Included
=	TokenNameEQUAL	
new	TokenNamenew	
VectorSet	TokenNameIdentifier	 Vector Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
filesNotIncluded	TokenNameIdentifier	 files Not Included
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
filesExcluded	TokenNameIdentifier	 files Excluded
=	TokenNameEQUAL	
new	TokenNamenew	
VectorSet	TokenNameIdentifier	 Vector Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
dirsIncluded	TokenNameIdentifier	 dirs Included
=	TokenNameEQUAL	
new	TokenNamenew	
VectorSet	TokenNameIdentifier	 Vector Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
dirsNotIncluded	TokenNameIdentifier	 dirs Not Included
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
dirsExcluded	TokenNameIdentifier	 dirs Excluded
=	TokenNameEQUAL	
new	TokenNamenew	
VectorSet	TokenNameIdentifier	 Vector Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
cwd	TokenNameIdentifier	 cwd
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
printWorkingDirectory	TokenNameIdentifier	 print Working Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// always start from the current ftp working dir 	TokenNameCOMMENT_LINE	always start from the current ftp working dir 
forceRemoteSensitivityCheck	TokenNameIdentifier	 force Remote Sensitivity Check
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
checkIncludePatterns	TokenNameIdentifier	 check Include Patterns
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
clearCaches	TokenNameIdentifier	 clear Caches
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
cwd	TokenNameIdentifier	 cwd
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"Unable to scan FTP server: "	TokenNameStringLiteral	Unable to scan FTP server: 
,	TokenNameCOMMA	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * this routine is actually checking all the include patterns in * order to avoid scanning everything under base dir * @since ant1.6 */	TokenNameCOMMENT_JAVADOC	 this routine is actually checking all the include patterns in order to avoid scanning everything under base dir @since ant1.6 
private	TokenNameprivate	
void	TokenNamevoid	
checkIncludePatterns	TokenNameIdentifier	 check Include Patterns
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Hashtable	TokenNameIdentifier	 Hashtable
newroots	TokenNameIdentifier	 newroots
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// put in the newroots vector the include patterns without 	TokenNameCOMMENT_LINE	put in the newroots vector the include patterns without 
// wildcard tokens 	TokenNameCOMMENT_LINE	wildcard tokens 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
icounter	TokenNameIdentifier	 icounter
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
icounter	TokenNameIdentifier	 icounter
<	TokenNameLESS	
includes	TokenNameIdentifier	 includes
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
icounter	TokenNameIdentifier	 icounter
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
newpattern	TokenNameIdentifier	 newpattern
=	TokenNameEQUAL	
SelectorUtils	TokenNameIdentifier	 Selector Utils
.	TokenNameDOT	
rtrimWildcardTokens	TokenNameIdentifier	 rtrim Wildcard Tokens
(	TokenNameLPAREN	
includes	TokenNameIdentifier	 includes
[	TokenNameLBRACKET	
icounter	TokenNameIdentifier	 icounter
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
newroots	TokenNameIdentifier	 newroots
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
newpattern	TokenNameIdentifier	 newpattern
,	TokenNameCOMMA	
includes	TokenNameIdentifier	 includes
[	TokenNameLBRACKET	
icounter	TokenNameIdentifier	 icounter
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
remotedir	TokenNameIdentifier	 remotedir
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
remotedir	TokenNameIdentifier	 remotedir
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
printWorkingDirectory	TokenNameIdentifier	 print Working Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"could not read current ftp directory"	TokenNameStringLiteral	could not read current ftp directory
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
AntFTPFile	TokenNameIdentifier	 Ant FTP File
baseFTPFile	TokenNameIdentifier	 base FTP File
=	TokenNameEQUAL	
new	TokenNamenew	
AntFTPRootFile	TokenNameIdentifier	 Ant FTP Root File
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
remotedir	TokenNameIdentifier	 remotedir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
rootPath	TokenNameIdentifier	 root Path
=	TokenNameEQUAL	
baseFTPFile	TokenNameIdentifier	 base FTP File
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// construct it 	TokenNameCOMMENT_LINE	construct it 
if	TokenNameif	
(	TokenNameLPAREN	
newroots	TokenNameIdentifier	 newroots
.	TokenNameDOT	
containsKey	TokenNameIdentifier	 contains Key
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// we are going to scan everything anyway 	TokenNameCOMMENT_LINE	we are going to scan everything anyway 
scandir	TokenNameIdentifier	 scandir
(	TokenNameLPAREN	
rootPath	TokenNameIdentifier	 root Path
,	TokenNameCOMMA	
""	TokenNameStringLiteral	 
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// only scan directories that can include matched files or 	TokenNameCOMMENT_LINE	only scan directories that can include matched files or 
// directories 	TokenNameCOMMENT_LINE	directories 
Enumeration	TokenNameIdentifier	 Enumeration
enum2	TokenNameIdentifier	 enum2
=	TokenNameEQUAL	
newroots	TokenNameIdentifier	 newroots
.	TokenNameDOT	
keys	TokenNameIdentifier	 keys
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
enum2	TokenNameIdentifier	 enum2
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
currentelement	TokenNameIdentifier	 currentelement
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
enum2	TokenNameIdentifier	 enum2
.	TokenNameDOT	
nextElement	TokenNameIdentifier	 next Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
originalpattern	TokenNameIdentifier	 originalpattern
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
newroots	TokenNameIdentifier	 newroots
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
currentelement	TokenNameIdentifier	 currentelement
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
AntFTPFile	TokenNameIdentifier	 Ant FTP File
myfile	TokenNameIdentifier	 myfile
=	TokenNameEQUAL	
new	TokenNamenew	
AntFTPFile	TokenNameIdentifier	 Ant FTP File
(	TokenNameLPAREN	
baseFTPFile	TokenNameIdentifier	 base FTP File
,	TokenNameCOMMA	
currentelement	TokenNameIdentifier	 currentelement
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
isOK	TokenNameIdentifier	 is OK
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
traversesSymlinks	TokenNameIdentifier	 traverses Symlinks
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
path	TokenNameIdentifier	 path
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
myfile	TokenNameIdentifier	 myfile
.	TokenNameDOT	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
forceRemoteSensitivityCheck	TokenNameIdentifier	 force Remote Sensitivity Check
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
remoteSensitivityChecked	TokenNameIdentifier	 remote Sensitivity Checked
&&	TokenNameAND_AND	
remoteSystemCaseSensitive	TokenNameIdentifier	 remote System Case Sensitive
&&	TokenNameAND_AND	
isFollowSymlinks	TokenNameIdentifier	 is Follow Symlinks
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// cool case, 	TokenNameCOMMENT_LINE	cool case, 
//we do not need to scan all the subdirs in the relative path 	TokenNameCOMMENT_LINE	we do not need to scan all the subdirs in the relative path 
path	TokenNameIdentifier	 path
=	TokenNameEQUAL	
myfile	TokenNameIdentifier	 myfile
.	TokenNameDOT	
getFastRelativePath	TokenNameIdentifier	 get Fast Relative Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// may be on a case insensitive file system. We want 	TokenNameCOMMENT_LINE	may be on a case insensitive file system. We want 
// the results to show what's really on the disk, so 	TokenNameCOMMENT_LINE	the results to show what's really on the disk, so 
// we need to double check. 	TokenNameCOMMENT_LINE	we need to double check. 
try	TokenNametry	
{	TokenNameLBRACE	
path	TokenNameIdentifier	 path
=	TokenNameEQUAL	
myfile	TokenNameIdentifier	 myfile
.	TokenNameDOT	
getRelativePath	TokenNameIdentifier	 get Relative Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
traversesSymlinks	TokenNameIdentifier	 traverses Symlinks
=	TokenNameEQUAL	
myfile	TokenNameIdentifier	 myfile
.	TokenNameDOT	
isTraverseSymlinks	TokenNameIdentifier	 is Traverse Symlinks
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
be	TokenNameIdentifier	 be
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
be	TokenNameIdentifier	 be
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
BuildException	TokenNameIdentifier	 Build Exception
be	TokenNameIdentifier	 be
)	TokenNameRPAREN	
{	TokenNameLBRACE	
isOK	TokenNameIdentifier	 is OK
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
isOK	TokenNameIdentifier	 is OK
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
isOK	TokenNameIdentifier	 is OK
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentelement	TokenNameIdentifier	 currentelement
=	TokenNameEQUAL	
path	TokenNameIdentifier	 path
.	TokenNameDOT	
replace	TokenNameIdentifier	 replace
(	TokenNameLPAREN	
remoteFileSep	TokenNameIdentifier	 remote File Sep
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
separatorChar	TokenNameIdentifier	 separator Char
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
isFollowSymlinks	TokenNameIdentifier	 is Follow Symlinks
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
traversesSymlinks	TokenNameIdentifier	 traverses Symlinks
)	TokenNameRPAREN	
{	TokenNameLBRACE	
continue	TokenNamecontinue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
myfile	TokenNameIdentifier	 myfile
.	TokenNameDOT	
isDirectory	TokenNameIdentifier	 is Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
isIncluded	TokenNameIdentifier	 is Included
(	TokenNameLPAREN	
currentelement	TokenNameIdentifier	 currentelement
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
currentelement	TokenNameIdentifier	 currentelement
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
accountForIncludedDir	TokenNameIdentifier	 account For Included Dir
(	TokenNameLPAREN	
currentelement	TokenNameIdentifier	 currentelement
,	TokenNameCOMMA	
myfile	TokenNameIdentifier	 myfile
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
currentelement	TokenNameIdentifier	 currentelement
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
currentelement	TokenNameIdentifier	 currentelement
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
currentelement	TokenNameIdentifier	 currentelement
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
separatorChar	TokenNameIdentifier	 separator Char
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentelement	TokenNameIdentifier	 currentelement
=	TokenNameEQUAL	
currentelement	TokenNameIdentifier	 currentelement
+	TokenNamePLUS	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
separatorChar	TokenNameIdentifier	 separator Char
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
scandir	TokenNameIdentifier	 scandir
(	TokenNameLPAREN	
myfile	TokenNameIdentifier	 myfile
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
currentelement	TokenNameIdentifier	 currentelement
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
isCaseSensitive	TokenNameIdentifier	 is Case Sensitive
&&	TokenNameAND_AND	
originalpattern	TokenNameIdentifier	 originalpattern
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
currentelement	TokenNameIdentifier	 currentelement
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
accountForIncludedFile	TokenNameIdentifier	 account For Included File
(	TokenNameLPAREN	
currentelement	TokenNameIdentifier	 currentelement
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
isCaseSensitive	TokenNameIdentifier	 is Case Sensitive
&&	TokenNameAND_AND	
originalpattern	TokenNameIdentifier	 originalpattern
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
currentelement	TokenNameIdentifier	 currentelement
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
accountForIncludedFile	TokenNameIdentifier	 account For Included File
(	TokenNameLPAREN	
currentelement	TokenNameIdentifier	 currentelement
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * scans a particular directory. populates the scannedDirs cache. * * @param dir directory to scan * @param vpath relative path to the base directory of the remote fileset * always ended with a File.separator * @param fast seems to be always true in practice */	TokenNameCOMMENT_JAVADOC	 scans a particular directory. populates the scannedDirs cache. * @param dir directory to scan @param vpath relative path to the base directory of the remote fileset always ended with a File.separator @param fast seems to be always true in practice 
protected	TokenNameprotected	
void	TokenNamevoid	
scandir	TokenNameIdentifier	 scandir
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
dir	TokenNameIdentifier	 dir
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
vpath	TokenNameIdentifier	 vpath
,	TokenNameCOMMA	
boolean	TokenNameboolean	
fast	TokenNameIdentifier	 fast
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// avoid double scanning of directories, can only happen in fast mode 	TokenNameCOMMENT_LINE	avoid double scanning of directories, can only happen in fast mode 
if	TokenNameif	
(	TokenNameLPAREN	
fast	TokenNameIdentifier	 fast
&&	TokenNameAND_AND	
hasBeenScanned	TokenNameIdentifier	 has Been Scanned
(	TokenNameLPAREN	
vpath	TokenNameIdentifier	 vpath
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
completePath	TokenNameIdentifier	 complete Path
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
vpath	TokenNameIdentifier	 vpath
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
completePath	TokenNameIdentifier	 complete Path
=	TokenNameEQUAL	
rootPath	TokenNameIdentifier	 root Path
+	TokenNamePLUS	
remoteFileSep	TokenNameIdentifier	 remote File Sep
+	TokenNamePLUS	
vpath	TokenNameIdentifier	 vpath
.	TokenNameDOT	
replace	TokenNameIdentifier	 replace
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
separatorChar	TokenNameIdentifier	 separator Char
,	TokenNameCOMMA	
remoteFileSep	TokenNameIdentifier	 remote File Sep
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
completePath	TokenNameIdentifier	 complete Path
=	TokenNameEQUAL	
rootPath	TokenNameIdentifier	 root Path
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
FTPFile	TokenNameIdentifier	 FTP File
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
newfiles	TokenNameIdentifier	 newfiles
=	TokenNameEQUAL	
listFiles	TokenNameIdentifier	 list Files
(	TokenNameLPAREN	
completePath	TokenNameIdentifier	 complete Path
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
newfiles	TokenNameIdentifier	 newfiles
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeToParentDirectory	TokenNameIdentifier	 change To Parent Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
newfiles	TokenNameIdentifier	 newfiles
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
FTPFile	TokenNameIdentifier	 FTP File
file	TokenNameIdentifier	 file
=	TokenNameEQUAL	
newfiles	TokenNameIdentifier	 newfiles
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
!	TokenNameNOT	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"."	TokenNameStringLiteral	.
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
".."	TokenNameStringLiteral	..
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
=	TokenNameEQUAL	
vpath	TokenNameIdentifier	 vpath
+	TokenNamePLUS	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
scannedDirs	TokenNameIdentifier	 scanned Dirs
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
new	TokenNamenew	
FTPFileProxy	TokenNameIdentifier	 FTP File Proxy
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
isFunctioningAsDirectory	TokenNameIdentifier	 is Functioning As Directory
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
dir	TokenNameIdentifier	 dir
,	TokenNameCOMMA	
file	TokenNameIdentifier	 file
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
slowScanAllowed	TokenNameIdentifier	 slow Scan Allowed
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
isFollowSymlinks	TokenNameIdentifier	 is Follow Symlinks
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
isSymbolicLink	TokenNameIdentifier	 is Symbolic Link
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
dirsExcluded	TokenNameIdentifier	 dirs Excluded
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
slowScanAllowed	TokenNameIdentifier	 slow Scan Allowed
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
isIncluded	TokenNameIdentifier	 is Included
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
accountForIncludedDir	TokenNameIdentifier	 account For Included Dir
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
new	TokenNamenew	
AntFTPFile	TokenNameIdentifier	 Ant FTP File
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
file	TokenNameIdentifier	 file
,	TokenNameCOMMA	
completePath	TokenNameIdentifier	 complete Path
)	TokenNameRPAREN	
,	TokenNameCOMMA	
fast	TokenNameIdentifier	 fast
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
dirsNotIncluded	TokenNameIdentifier	 dirs Not Included
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fast	TokenNameIdentifier	 fast
&&	TokenNameAND_AND	
couldHoldIncluded	TokenNameIdentifier	 could Hold Included
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
scandir	TokenNameIdentifier	 scandir
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
name	TokenNameIdentifier	 name
+	TokenNamePLUS	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
separator	TokenNameIdentifier	 separator
,	TokenNameCOMMA	
fast	TokenNameIdentifier	 fast
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
fast	TokenNameIdentifier	 fast
&&	TokenNameAND_AND	
slowScanAllowed	TokenNameIdentifier	 slow Scan Allowed
)	TokenNameRPAREN	
{	TokenNameLBRACE	
scandir	TokenNameIdentifier	 scandir
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
name	TokenNameIdentifier	 name
+	TokenNamePLUS	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
separator	TokenNameIdentifier	 separator
,	TokenNameCOMMA	
fast	TokenNameIdentifier	 fast
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
isFollowSymlinks	TokenNameIdentifier	 is Follow Symlinks
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
isSymbolicLink	TokenNameIdentifier	 is Symbolic Link
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
filesExcluded	TokenNameIdentifier	 files Excluded
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
isFunctioningAsFile	TokenNameIdentifier	 is Functioning As File
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
dir	TokenNameIdentifier	 dir
,	TokenNameCOMMA	
file	TokenNameIdentifier	 file
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
accountForIncludedFile	TokenNameIdentifier	 account For Included File
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeToParentDirectory	TokenNameIdentifier	 change To Parent Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"Error while communicating with FTP "	TokenNameStringLiteral	Error while communicating with FTP 
+	TokenNamePLUS	
"server: "	TokenNameStringLiteral	server: 
,	TokenNameCOMMA	
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * process included file * @param name path of the file relative to the directory of the fileset */	TokenNameCOMMENT_JAVADOC	 process included file @param name path of the file relative to the directory of the fileset 
private	TokenNameprivate	
void	TokenNamevoid	
accountForIncludedFile	TokenNameIdentifier	 account For Included File
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
filesIncluded	TokenNameIdentifier	 files Included
.	TokenNameDOT	
contains	TokenNameIdentifier	 contains
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
filesExcluded	TokenNameIdentifier	 files Excluded
.	TokenNameDOT	
contains	TokenNameIdentifier	 contains
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
isIncluded	TokenNameIdentifier	 is Included
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
isExcluded	TokenNameIdentifier	 is Excluded
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
isSelected	TokenNameIdentifier	 is Selected
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
)	TokenNameRPAREN	
scannedDirs	TokenNameIdentifier	 scanned Dirs
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
filesIncluded	TokenNameIdentifier	 files Included
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
filesExcluded	TokenNameIdentifier	 files Excluded
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
filesNotIncluded	TokenNameIdentifier	 files Not Included
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * * @param name path of the directory relative to the directory of * the fileset * @param file directory as file * @param fast */	TokenNameCOMMENT_JAVADOC	 * @param name path of the directory relative to the directory of the fileset @param file directory as file @param fast 
private	TokenNameprivate	
void	TokenNamevoid	
accountForIncludedDir	TokenNameIdentifier	 account For Included Dir
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
name	TokenNameIdentifier	 name
,	TokenNameCOMMA	
AntFTPFile	TokenNameIdentifier	 Ant FTP File
file	TokenNameIdentifier	 file
,	TokenNameCOMMA	
boolean	TokenNameboolean	
fast	TokenNameIdentifier	 fast
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
dirsIncluded	TokenNameIdentifier	 dirs Included
.	TokenNameDOT	
contains	TokenNameIdentifier	 contains
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
dirsExcluded	TokenNameIdentifier	 dirs Excluded
.	TokenNameDOT	
contains	TokenNameIdentifier	 contains
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
isExcluded	TokenNameIdentifier	 is Excluded
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fast	TokenNameIdentifier	 fast
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
isSymbolicLink	TokenNameIdentifier	 is Symbolic Link
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getClient	TokenNameIdentifier	 get Client
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
curpwd	TokenNameIdentifier	 curpwd
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"could not change directory to curpwd"	TokenNameStringLiteral	could not change directory to curpwd
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
scandir	TokenNameIdentifier	 scandir
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getLink	TokenNameIdentifier	 get Link
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
name	TokenNameIdentifier	 name
+	TokenNamePLUS	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
separator	TokenNameIdentifier	 separator
,	TokenNameCOMMA	
fast	TokenNameIdentifier	 fast
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getClient	TokenNameIdentifier	 get Client
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
curpwd	TokenNameIdentifier	 curpwd
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"could not change directory to curpwd"	TokenNameStringLiteral	could not change directory to curpwd
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
scandir	TokenNameIdentifier	 scandir
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
name	TokenNameIdentifier	 name
+	TokenNamePLUS	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
separator	TokenNameIdentifier	 separator
,	TokenNameCOMMA	
fast	TokenNameIdentifier	 fast
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
dirsIncluded	TokenNameIdentifier	 dirs Included
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
dirsExcluded	TokenNameIdentifier	 dirs Excluded
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fast	TokenNameIdentifier	 fast
&&	TokenNameAND_AND	
couldHoldIncluded	TokenNameIdentifier	 could Hold Included
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getClient	TokenNameIdentifier	 get Client
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
curpwd	TokenNameIdentifier	 curpwd
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"could not change directory to curpwd"	TokenNameStringLiteral	could not change directory to curpwd
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
scandir	TokenNameIdentifier	 scandir
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
name	TokenNameIdentifier	 name
+	TokenNamePLUS	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
separator	TokenNameIdentifier	 separator
,	TokenNameCOMMA	
fast	TokenNameIdentifier	 fast
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * temporary table to speed up the various scanning methods below * * @since Ant 1.6 */	TokenNameCOMMENT_JAVADOC	 temporary table to speed up the various scanning methods below * @since Ant 1.6 
private	TokenNameprivate	
Map	TokenNameIdentifier	 Map
fileListMap	TokenNameIdentifier	 file List Map
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * List of all scanned directories. * * @since Ant 1.6 */	TokenNameCOMMENT_JAVADOC	 List of all scanned directories. * @since Ant 1.6 
private	TokenNameprivate	
Map	TokenNameIdentifier	 Map
scannedDirs	TokenNameIdentifier	 scanned Dirs
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Has the directory with the given path relative to the base * directory already been scanned? * * @since Ant 1.6 */	TokenNameCOMMENT_JAVADOC	 Has the directory with the given path relative to the base directory already been scanned? * @since Ant 1.6 
private	TokenNameprivate	
boolean	TokenNameboolean	
hasBeenScanned	TokenNameIdentifier	 has Been Scanned
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
vpath	TokenNameIdentifier	 vpath
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
scannedDirs	TokenNameIdentifier	 scanned Dirs
.	TokenNameDOT	
containsKey	TokenNameIdentifier	 contains Key
(	TokenNameLPAREN	
vpath	TokenNameIdentifier	 vpath
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Clear internal caches. * * @since Ant 1.6 */	TokenNameCOMMENT_JAVADOC	 Clear internal caches. * @since Ant 1.6 
private	TokenNameprivate	
void	TokenNamevoid	
clearCaches	TokenNameIdentifier	 clear Caches
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
fileListMap	TokenNameIdentifier	 file List Map
.	TokenNameDOT	
clear	TokenNameIdentifier	 clear
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
scannedDirs	TokenNameIdentifier	 scanned Dirs
.	TokenNameDOT	
clear	TokenNameIdentifier	 clear
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * list the files present in one directory. * @param directory full path on the remote side * @param changedir if true change to directory directory before listing * @return array of FTPFile */	TokenNameCOMMENT_JAVADOC	 list the files present in one directory. @param directory full path on the remote side @param changedir if true change to directory directory before listing @return array of FTPFile 
public	TokenNamepublic	
FTPFile	TokenNameIdentifier	 FTP File
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
listFiles	TokenNameIdentifier	 list Files
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
directory	TokenNameIdentifier	 directory
,	TokenNameCOMMA	
boolean	TokenNameboolean	
changedir	TokenNameIdentifier	 changedir
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//getProject().log("listing files in directory " + directory, Project.MSG_DEBUG); 	TokenNameCOMMENT_LINE	getProject().log("listing files in directory " + directory, Project.MSG_DEBUG); 
String	TokenNameIdentifier	 String
currentPath	TokenNameIdentifier	 current Path
=	TokenNameEQUAL	
directory	TokenNameIdentifier	 directory
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
changedir	TokenNameIdentifier	 changedir
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
directory	TokenNameIdentifier	 directory
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
currentPath	TokenNameIdentifier	 current Path
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
printWorkingDirectory	TokenNameIdentifier	 print Working Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
ioe	TokenNameIdentifier	 ioe
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
fileListMap	TokenNameIdentifier	 file List Map
.	TokenNameDOT	
containsKey	TokenNameIdentifier	 contains Key
(	TokenNameLPAREN	
currentPath	TokenNameIdentifier	 current Path
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"filelist map used in listing files"	TokenNameStringLiteral	filelist map used in listing files
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_DEBUG	TokenNameIdentifier	 MSG  DEBUG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
FTPFile	TokenNameIdentifier	 FTP File
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
fileListMap	TokenNameIdentifier	 file List Map
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
currentPath	TokenNameIdentifier	 current Path
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
FTPFile	TokenNameIdentifier	 FTP File
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
listFiles	TokenNameIdentifier	 list Files
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
ioe	TokenNameIdentifier	 ioe
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
fileListMap	TokenNameIdentifier	 file List Map
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
currentPath	TokenNameIdentifier	 current Path
,	TokenNameCOMMA	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
remoteSensitivityChecked	TokenNameIdentifier	 remote Sensitivity Checked
)	TokenNameRPAREN	
{	TokenNameLBRACE	
checkRemoteSensitivity	TokenNameIdentifier	 check Remote Sensitivity
(	TokenNameLPAREN	
result	TokenNameIdentifier	 result
,	TokenNameCOMMA	
directory	TokenNameIdentifier	 directory
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
result	TokenNameIdentifier	 result
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
forceRemoteSensitivityCheck	TokenNameIdentifier	 force Remote Sensitivity Check
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
remoteSensitivityChecked	TokenNameIdentifier	 remote Sensitivity Checked
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
checkRemoteSensitivity	TokenNameIdentifier	 check Remote Sensitivity
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
listFiles	TokenNameIdentifier	 list Files
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
printWorkingDirectory	TokenNameIdentifier	 print Working Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
ioe	TokenNameIdentifier	 ioe
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * cd into one directory and * list the files present in one directory. * @param directory full path on the remote side * @return array of FTPFile */	TokenNameCOMMENT_JAVADOC	 cd into one directory and list the files present in one directory. @param directory full path on the remote side @return array of FTPFile 
public	TokenNamepublic	
FTPFile	TokenNameIdentifier	 FTP File
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
listFiles	TokenNameIdentifier	 list Files
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
directory	TokenNameIdentifier	 directory
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
listFiles	TokenNameIdentifier	 list Files
(	TokenNameLPAREN	
directory	TokenNameIdentifier	 directory
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
checkRemoteSensitivity	TokenNameIdentifier	 check Remote Sensitivity
(	TokenNameLPAREN	
FTPFile	TokenNameIdentifier	 FTP File
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
array	TokenNameIdentifier	 array
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
directory	TokenNameIdentifier	 directory
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
array	TokenNameIdentifier	 array
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
boolean	TokenNameboolean	
candidateFound	TokenNameIdentifier	 candidate Found
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
target	TokenNameIdentifier	 target
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
icounter	TokenNameIdentifier	 icounter
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
icounter	TokenNameIdentifier	 icounter
<	TokenNameLESS	
array	TokenNameIdentifier	 array
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
icounter	TokenNameIdentifier	 icounter
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
array	TokenNameIdentifier	 array
[	TokenNameLBRACKET	
icounter	TokenNameIdentifier	 icounter
]	TokenNameRBRACKET	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
array	TokenNameIdentifier	 array
[	TokenNameLBRACKET	
icounter	TokenNameIdentifier	 icounter
]	TokenNameRBRACKET	
.	TokenNameDOT	
isDirectory	TokenNameIdentifier	 is Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
array	TokenNameIdentifier	 array
[	TokenNameLBRACKET	
icounter	TokenNameIdentifier	 icounter
]	TokenNameRBRACKET	
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"."	TokenNameStringLiteral	.
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
array	TokenNameIdentifier	 array
[	TokenNameLBRACKET	
icounter	TokenNameIdentifier	 icounter
]	TokenNameRBRACKET	
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
".."	TokenNameStringLiteral	..
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
candidateFound	TokenNameIdentifier	 candidate Found
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
target	TokenNameIdentifier	 target
=	TokenNameEQUAL	
fiddleName	TokenNameIdentifier	 fiddle Name
(	TokenNameLPAREN	
array	TokenNameIdentifier	 array
[	TokenNameLBRACKET	
icounter	TokenNameIdentifier	 icounter
]	TokenNameRBRACKET	
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"will try to cd to "	TokenNameStringLiteral	will try to cd to 
+	TokenNamePLUS	
target	TokenNameIdentifier	 target
+	TokenNamePLUS	
" where a directory called "	TokenNameStringLiteral	 where a directory called 
+	TokenNamePLUS	
array	TokenNameIdentifier	 array
[	TokenNameLBRACKET	
icounter	TokenNameIdentifier	 icounter
]	TokenNameRBRACKET	
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" exists"	TokenNameStringLiteral	 exists
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_DEBUG	TokenNameIdentifier	 MSG  DEBUG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
pcounter	TokenNameIdentifier	 pcounter
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
pcounter	TokenNameIdentifier	 pcounter
<	TokenNameLESS	
array	TokenNameIdentifier	 array
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
pcounter	TokenNameIdentifier	 pcounter
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
array	TokenNameIdentifier	 array
[	TokenNameLBRACKET	
pcounter	TokenNameIdentifier	 pcounter
]	TokenNameRBRACKET	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
pcounter	TokenNameIdentifier	 pcounter
!=	TokenNameNOT_EQUAL	
icounter	TokenNameIdentifier	 icounter
&&	TokenNameAND_AND	
target	TokenNameIdentifier	 target
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
array	TokenNameIdentifier	 array
[	TokenNameLBRACKET	
pcounter	TokenNameIdentifier	 pcounter
]	TokenNameRBRACKET	
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
candidateFound	TokenNameIdentifier	 candidate Found
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
candidateFound	TokenNameIdentifier	 candidate Found
)	TokenNameRPAREN	
{	TokenNameLBRACE	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
candidateFound	TokenNameIdentifier	 candidate Found
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"testing case sensitivity, attempting to cd to "	TokenNameStringLiteral	testing case sensitivity, attempting to cd to 
+	TokenNamePLUS	
target	TokenNameIdentifier	 target
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_DEBUG	TokenNameIdentifier	 MSG  DEBUG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
remoteSystemCaseSensitive	TokenNameIdentifier	 remote System Case Sensitive
=	TokenNameEQUAL	
!	TokenNameNOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
target	TokenNameIdentifier	 target
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
remoteSystemCaseSensitive	TokenNameIdentifier	 remote System Case Sensitive
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
directory	TokenNameIdentifier	 directory
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
ioe	TokenNameIdentifier	 ioe
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"remote system is case sensitive : "	TokenNameStringLiteral	remote system is case sensitive : 
+	TokenNamePLUS	
remoteSystemCaseSensitive	TokenNameIdentifier	 remote System Case Sensitive
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
remoteSensitivityChecked	TokenNameIdentifier	 remote Sensitivity Checked
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
fiddleName	TokenNameIdentifier	 fiddle Name
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
origin	TokenNameIdentifier	 origin
)	TokenNameRPAREN	
{	TokenNameLBRACE	
StringBuffer	TokenNameIdentifier	 String Buffer
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
new	TokenNamenew	
StringBuffer	TokenNameIdentifier	 String Buffer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
icounter	TokenNameIdentifier	 icounter
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
icounter	TokenNameIdentifier	 icounter
<	TokenNameLESS	
origin	TokenNameIdentifier	 origin
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
icounter	TokenNameIdentifier	 icounter
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
Character	TokenNameIdentifier	 Character
.	TokenNameDOT	
isLowerCase	TokenNameIdentifier	 is Lower Case
(	TokenNameLPAREN	
origin	TokenNameIdentifier	 origin
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
icounter	TokenNameIdentifier	 icounter
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
result	TokenNameIdentifier	 result
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
Character	TokenNameIdentifier	 Character
.	TokenNameDOT	
toUpperCase	TokenNameIdentifier	 to Upper Case
(	TokenNameLPAREN	
origin	TokenNameIdentifier	 origin
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
icounter	TokenNameIdentifier	 icounter
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
Character	TokenNameIdentifier	 Character
.	TokenNameDOT	
isUpperCase	TokenNameIdentifier	 is Upper Case
(	TokenNameLPAREN	
origin	TokenNameIdentifier	 origin
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
icounter	TokenNameIdentifier	 icounter
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
result	TokenNameIdentifier	 result
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
Character	TokenNameIdentifier	 Character
.	TokenNameDOT	
toLowerCase	TokenNameIdentifier	 to Lower Case
(	TokenNameLPAREN	
origin	TokenNameIdentifier	 origin
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
icounter	TokenNameIdentifier	 icounter
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
result	TokenNameIdentifier	 result
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
origin	TokenNameIdentifier	 origin
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
icounter	TokenNameIdentifier	 icounter
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
result	TokenNameIdentifier	 result
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * an AntFTPFile is a representation of a remote file * @since Ant 1.6 */	TokenNameCOMMENT_JAVADOC	 an AntFTPFile is a representation of a remote file @since Ant 1.6 
protected	TokenNameprotected	
class	TokenNameclass	
AntFTPFile	TokenNameIdentifier	 Ant FTP File
{	TokenNameLBRACE	
/** * ftp client */	TokenNameCOMMENT_JAVADOC	 ftp client 
private	TokenNameprivate	
FTPClient	TokenNameIdentifier	 FTP Client
client	TokenNameIdentifier	 client
;	TokenNameSEMICOLON	
/** * parent directory of the file */	TokenNameCOMMENT_JAVADOC	 parent directory of the file 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
curpwd	TokenNameIdentifier	 curpwd
;	TokenNameSEMICOLON	
/** * the file itself */	TokenNameCOMMENT_JAVADOC	 the file itself 
private	TokenNameprivate	
FTPFile	TokenNameIdentifier	 FTP File
ftpFile	TokenNameIdentifier	 ftp File
;	TokenNameSEMICOLON	
/** * */	TokenNameCOMMENT_JAVADOC	 
private	TokenNameprivate	
AntFTPFile	TokenNameIdentifier	 Ant FTP File
parent	TokenNameIdentifier	 parent
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
relativePathCalculated	TokenNameIdentifier	 relative Path Calculated
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
traversesSymlinks	TokenNameIdentifier	 traverses Symlinks
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
relativePath	TokenNameIdentifier	 relative Path
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
/** * constructor * @param client ftp client variable * @param ftpFile the file * @param curpwd absolute remote path where the file is found */	TokenNameCOMMENT_JAVADOC	 constructor @param client ftp client variable @param ftpFile the file @param curpwd absolute remote path where the file is found 
public	TokenNamepublic	
AntFTPFile	TokenNameIdentifier	 Ant FTP File
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
client	TokenNameIdentifier	 client
,	TokenNameCOMMA	
FTPFile	TokenNameIdentifier	 FTP File
ftpFile	TokenNameIdentifier	 ftp File
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
curpwd	TokenNameIdentifier	 curpwd
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
client	TokenNameIdentifier	 client
=	TokenNameEQUAL	
client	TokenNameIdentifier	 client
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
ftpFile	TokenNameIdentifier	 ftp File
=	TokenNameEQUAL	
ftpFile	TokenNameIdentifier	 ftp File
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
curpwd	TokenNameIdentifier	 curpwd
=	TokenNameEQUAL	
curpwd	TokenNameIdentifier	 curpwd
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * other constructor * @param parent the parent file * @param path a relative path to the parent file */	TokenNameCOMMENT_JAVADOC	 other constructor @param parent the parent file @param path a relative path to the parent file 
public	TokenNamepublic	
AntFTPFile	TokenNameIdentifier	 Ant FTP File
(	TokenNameLPAREN	
AntFTPFile	TokenNameIdentifier	 Ant FTP File
parent	TokenNameIdentifier	 parent
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
path	TokenNameIdentifier	 path
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
parent	TokenNameIdentifier	 parent
=	TokenNameEQUAL	
parent	TokenNameIdentifier	 parent
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
client	TokenNameIdentifier	 client
=	TokenNameEQUAL	
parent	TokenNameIdentifier	 parent
.	TokenNameDOT	
client	TokenNameIdentifier	 client
;	TokenNameSEMICOLON	
Vector	TokenNameIdentifier	 Vector
pathElements	TokenNameIdentifier	 path Elements
=	TokenNameEQUAL	
SelectorUtils	TokenNameIdentifier	 Selector Utils
.	TokenNameDOT	
tokenizePath	TokenNameIdentifier	 tokenize Path
(	TokenNameLPAREN	
path	TokenNameIdentifier	 path
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
this	TokenNamethis	
.	TokenNameDOT	
client	TokenNameIdentifier	 client
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
parent	TokenNameIdentifier	 parent
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//this should not happen, except if parent has been deleted by another process 	TokenNameCOMMENT_LINE	this should not happen, except if parent has been deleted by another process 
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
this	TokenNamethis	
.	TokenNameDOT	
curpwd	TokenNameIdentifier	 curpwd
=	TokenNameEQUAL	
parent	TokenNameIdentifier	 parent
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"could not change working dir to "	TokenNameStringLiteral	could not change working dir to 
+	TokenNamePLUS	
parent	TokenNameIdentifier	 parent
.	TokenNameDOT	
curpwd	TokenNameIdentifier	 curpwd
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
final	TokenNamefinal	
int	TokenNameint	
size	TokenNameIdentifier	 size
=	TokenNameEQUAL	
pathElements	TokenNameIdentifier	 path Elements
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
fcount	TokenNameIdentifier	 fcount
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
fcount	TokenNameIdentifier	 fcount
<	TokenNameLESS	
size	TokenNameIdentifier	 size
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
fcount	TokenNameIdentifier	 fcount
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
currentPathElement	TokenNameIdentifier	 current Path Element
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
pathElements	TokenNameIdentifier	 path Elements
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
fcount	TokenNameIdentifier	 fcount
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
this	TokenNamethis	
.	TokenNameDOT	
client	TokenNameIdentifier	 client
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
currentPathElement	TokenNameIdentifier	 current Path Element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
result	TokenNameIdentifier	 result
&&	TokenNameAND_AND	
!	TokenNameNOT	
isCaseSensitive	TokenNameIdentifier	 is Case Sensitive
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
remoteSystemCaseSensitive	TokenNameIdentifier	 remote System Case Sensitive
||	TokenNameOR_OR	
!	TokenNameNOT	
remoteSensitivityChecked	TokenNameIdentifier	 remote Sensitivity Checked
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentPathElement	TokenNameIdentifier	 current Path Element
=	TokenNameEQUAL	
findPathElementCaseUnsensitive	TokenNameIdentifier	 find Path Element Case Unsensitive
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
curpwd	TokenNameIdentifier	 curpwd
,	TokenNameCOMMA	
currentPathElement	TokenNameIdentifier	 current Path Element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
currentPathElement	TokenNameIdentifier	 current Path Element
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
this	TokenNamethis	
.	TokenNameDOT	
curpwd	TokenNameIdentifier	 curpwd
=	TokenNameEQUAL	
getCurpwdPlusFileSep	TokenNameIdentifier	 get Curpwd Plus File Sep
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
currentPathElement	TokenNameIdentifier	 current Path Element
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"could not change working dir to "	TokenNameStringLiteral	could not change working dir to 
+	TokenNamePLUS	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
pathElements	TokenNameIdentifier	 path Elements
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
fcount	TokenNameIdentifier	 fcount
)	TokenNameRPAREN	
+	TokenNamePLUS	
" from "	TokenNameStringLiteral	 from 
+	TokenNamePLUS	
this	TokenNamethis	
.	TokenNameDOT	
curpwd	TokenNameIdentifier	 curpwd
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
lastpathelement	TokenNameIdentifier	 lastpathelement
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
pathElements	TokenNameIdentifier	 path Elements
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
size	TokenNameIdentifier	 size
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
FTPFile	TokenNameIdentifier	 FTP File
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
theFiles	TokenNameIdentifier	 the Files
=	TokenNameEQUAL	
listFiles	TokenNameIdentifier	 list Files
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
curpwd	TokenNameIdentifier	 curpwd
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
ftpFile	TokenNameIdentifier	 ftp File
=	TokenNameEQUAL	
getFile	TokenNameIdentifier	 get File
(	TokenNameLPAREN	
theFiles	TokenNameIdentifier	 the Files
,	TokenNameCOMMA	
lastpathelement	TokenNameIdentifier	 lastpathelement
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * find a file in a directory in case unsensitive way * @param parentPath where we are * @param soughtPathElement what is being sought * @return the first file found or null if not found */	TokenNameCOMMENT_JAVADOC	 find a file in a directory in case unsensitive way @param parentPath where we are @param soughtPathElement what is being sought @return the first file found or null if not found 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
findPathElementCaseUnsensitive	TokenNameIdentifier	 find Path Element Case Unsensitive
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
parentPath	TokenNameIdentifier	 parent Path
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
soughtPathElement	TokenNameIdentifier	 sought Path Element
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// we are already in the right path, so the second parameter 	TokenNameCOMMENT_LINE	we are already in the right path, so the second parameter 
// is false 	TokenNameCOMMENT_LINE	is false 
FTPFile	TokenNameIdentifier	 FTP File
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
theFiles	TokenNameIdentifier	 the Files
=	TokenNameEQUAL	
listFiles	TokenNameIdentifier	 list Files
(	TokenNameLPAREN	
parentPath	TokenNameIdentifier	 parent Path
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
theFiles	TokenNameIdentifier	 the Files
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
icounter	TokenNameIdentifier	 icounter
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
icounter	TokenNameIdentifier	 icounter
<	TokenNameLESS	
theFiles	TokenNameIdentifier	 the Files
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
icounter	TokenNameIdentifier	 icounter
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
theFiles	TokenNameIdentifier	 the Files
[	TokenNameLBRACKET	
icounter	TokenNameIdentifier	 icounter
]	TokenNameRBRACKET	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
theFiles	TokenNameIdentifier	 the Files
[	TokenNameLBRACKET	
icounter	TokenNameIdentifier	 icounter
]	TokenNameRBRACKET	
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
soughtPathElement	TokenNameIdentifier	 sought Path Element
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
theFiles	TokenNameIdentifier	 the Files
[	TokenNameLBRACKET	
icounter	TokenNameIdentifier	 icounter
]	TokenNameRBRACKET	
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * find out if the file exists * @return true if the file exists */	TokenNameCOMMENT_JAVADOC	 find out if the file exists @return true if the file exists 
public	TokenNamepublic	
boolean	TokenNameboolean	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
ftpFile	TokenNameIdentifier	 ftp File
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * if the file is a symbolic link, find out to what it is pointing * @return the target of the symbolic link */	TokenNameCOMMENT_JAVADOC	 if the file is a symbolic link, find out to what it is pointing @return the target of the symbolic link 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getLink	TokenNameIdentifier	 get Link
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
ftpFile	TokenNameIdentifier	 ftp File
.	TokenNameDOT	
getLink	TokenNameIdentifier	 get Link
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * get the name of the file * @return the name of the file */	TokenNameCOMMENT_JAVADOC	 get the name of the file @return the name of the file 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
ftpFile	TokenNameIdentifier	 ftp File
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * find out the absolute path of the file * @return absolute path as string */	TokenNameCOMMENT_JAVADOC	 find out the absolute path of the file @return absolute path as string 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
getCurpwdPlusFileSep	TokenNameIdentifier	 get Curpwd Plus File Sep
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
ftpFile	TokenNameIdentifier	 ftp File
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * find out the relative path assuming that the path used to construct * this AntFTPFile was spelled properly with regards to case. * This is OK on a case sensitive system such as UNIX * @return relative path */	TokenNameCOMMENT_JAVADOC	 find out the relative path assuming that the path used to construct this AntFTPFile was spelled properly with regards to case. This is OK on a case sensitive system such as UNIX @return relative path 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getFastRelativePath	TokenNameIdentifier	 get Fast Relative Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
absPath	TokenNameIdentifier	 abs Path
=	TokenNameEQUAL	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
absPath	TokenNameIdentifier	 abs Path
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
rootPath	TokenNameIdentifier	 root Path
+	TokenNamePLUS	
remoteFileSep	TokenNameIdentifier	 remote File Sep
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
absPath	TokenNameIdentifier	 abs Path
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
rootPath	TokenNameIdentifier	 root Path
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
remoteFileSep	TokenNameIdentifier	 remote File Sep
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * find out the relative path to the rootPath of the enclosing scanner. * this relative path is spelled exactly like on disk, * for instance if the AntFTPFile has been instantiated as ALPHA, * but the file is really called alpha, this method will return alpha. * If a symbolic link is encountered, it is followed, but the name of the link * rather than the name of the target is returned. * (ie does not behave like File.getCanonicalPath()) * @return relative path, separated by remoteFileSep * @throws IOException if a change directory fails, ... * @throws BuildException if one of the components of the relative path cannot * be found. */	TokenNameCOMMENT_JAVADOC	 find out the relative path to the rootPath of the enclosing scanner. this relative path is spelled exactly like on disk, for instance if the AntFTPFile has been instantiated as ALPHA, but the file is really called alpha, this method will return alpha. If a symbolic link is encountered, it is followed, but the name of the link rather than the name of the target is returned. (ie does not behave like File.getCanonicalPath()) @return relative path, separated by remoteFileSep @throws IOException if a change directory fails, ... @throws BuildException if one of the components of the relative path cannot be found. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getRelativePath	TokenNameIdentifier	 get Relative Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
relativePathCalculated	TokenNameIdentifier	 relative Path Calculated
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
parent	TokenNameIdentifier	 parent
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
traversesSymlinks	TokenNameIdentifier	 traverses Symlinks
=	TokenNameEQUAL	
parent	TokenNameIdentifier	 parent
.	TokenNameDOT	
isTraverseSymlinks	TokenNameIdentifier	 is Traverse Symlinks
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
relativePath	TokenNameIdentifier	 relative Path
=	TokenNameEQUAL	
getRelativePath	TokenNameIdentifier	 get Relative Path
(	TokenNameLPAREN	
parent	TokenNameIdentifier	 parent
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
parent	TokenNameIdentifier	 parent
.	TokenNameDOT	
getRelativePath	TokenNameIdentifier	 get Relative Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
relativePath	TokenNameIdentifier	 relative Path
=	TokenNameEQUAL	
getRelativePath	TokenNameIdentifier	 get Relative Path
(	TokenNameLPAREN	
rootPath	TokenNameIdentifier	 root Path
,	TokenNameCOMMA	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
relativePathCalculated	TokenNameIdentifier	 relative Path Calculated
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
relativePath	TokenNameIdentifier	 relative Path
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * get thge relative path of this file * @param currentPath base path * @param currentRelativePath relative path of the base path with regards to remote dir * @return relative path */	TokenNameCOMMENT_JAVADOC	 get thge relative path of this file @param currentPath base path @param currentRelativePath relative path of the base path with regards to remote dir @return relative path 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
getRelativePath	TokenNameIdentifier	 get Relative Path
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
currentPath	TokenNameIdentifier	 current Path
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
currentRelativePath	TokenNameIdentifier	 current Relative Path
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Vector	TokenNameIdentifier	 Vector
pathElements	TokenNameIdentifier	 path Elements
=	TokenNameEQUAL	
SelectorUtils	TokenNameIdentifier	 Selector Utils
.	TokenNameDOT	
tokenizePath	TokenNameIdentifier	 tokenize Path
(	TokenNameLPAREN	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
remoteFileSep	TokenNameIdentifier	 remote File Sep
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Vector	TokenNameIdentifier	 Vector
pathElements2	TokenNameIdentifier	 path Elements2
=	TokenNameEQUAL	
SelectorUtils	TokenNameIdentifier	 Selector Utils
.	TokenNameDOT	
tokenizePath	TokenNameIdentifier	 tokenize Path
(	TokenNameLPAREN	
currentPath	TokenNameIdentifier	 current Path
,	TokenNameCOMMA	
remoteFileSep	TokenNameIdentifier	 remote File Sep
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
relPath	TokenNameIdentifier	 rel Path
=	TokenNameEQUAL	
currentRelativePath	TokenNameIdentifier	 current Relative Path
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
size	TokenNameIdentifier	 size
=	TokenNameEQUAL	
pathElements	TokenNameIdentifier	 path Elements
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
pcount	TokenNameIdentifier	 pcount
=	TokenNameEQUAL	
pathElements2	TokenNameIdentifier	 path Elements2
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
pcount	TokenNameIdentifier	 pcount
<	TokenNameLESS	
size	TokenNameIdentifier	 size
;	TokenNameSEMICOLON	
pcount	TokenNameIdentifier	 pcount
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
currentElement	TokenNameIdentifier	 current Element
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
pathElements	TokenNameIdentifier	 path Elements
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
pcount	TokenNameIdentifier	 pcount
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
FTPFile	TokenNameIdentifier	 FTP File
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
theFiles	TokenNameIdentifier	 the Files
=	TokenNameEQUAL	
listFiles	TokenNameIdentifier	 list Files
(	TokenNameLPAREN	
currentPath	TokenNameIdentifier	 current Path
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
FTPFile	TokenNameIdentifier	 FTP File
theFile	TokenNameIdentifier	 the File
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
theFiles	TokenNameIdentifier	 the Files
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
theFile	TokenNameIdentifier	 the File
=	TokenNameEQUAL	
getFile	TokenNameIdentifier	 get File
(	TokenNameLPAREN	
theFiles	TokenNameIdentifier	 the Files
,	TokenNameCOMMA	
currentElement	TokenNameIdentifier	 current Element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
relPath	TokenNameIdentifier	 rel Path
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
relPath	TokenNameIdentifier	 rel Path
=	TokenNameEQUAL	
relPath	TokenNameIdentifier	 rel Path
+	TokenNamePLUS	
remoteFileSep	TokenNameIdentifier	 remote File Sep
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
theFile	TokenNameIdentifier	 the File
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// hit a hidden file assume not a symlink 	TokenNameCOMMENT_LINE	hit a hidden file assume not a symlink 
relPath	TokenNameIdentifier	 rel Path
=	TokenNameEQUAL	
relPath	TokenNameIdentifier	 rel Path
+	TokenNamePLUS	
currentElement	TokenNameIdentifier	 current Element
;	TokenNameSEMICOLON	
currentPath	TokenNameIdentifier	 current Path
=	TokenNameEQUAL	
currentPath	TokenNameIdentifier	 current Path
+	TokenNamePLUS	
remoteFileSep	TokenNameIdentifier	 remote File Sep
+	TokenNamePLUS	
currentElement	TokenNameIdentifier	 current Element
;	TokenNameSEMICOLON	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Hidden file "	TokenNameStringLiteral	Hidden file 
+	TokenNamePLUS	
relPath	TokenNameIdentifier	 rel Path
+	TokenNamePLUS	
" assumed to not be a symlink."	TokenNameStringLiteral	 assumed to not be a symlink.
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
traversesSymlinks	TokenNameIdentifier	 traverses Symlinks
=	TokenNameEQUAL	
traversesSymlinks	TokenNameIdentifier	 traverses Symlinks
||	TokenNameOR_OR	
theFile	TokenNameIdentifier	 the File
.	TokenNameDOT	
isSymbolicLink	TokenNameIdentifier	 is Symbolic Link
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
relPath	TokenNameIdentifier	 rel Path
=	TokenNameEQUAL	
relPath	TokenNameIdentifier	 rel Path
+	TokenNamePLUS	
theFile	TokenNameIdentifier	 the File
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
currentPath	TokenNameIdentifier	 current Path
=	TokenNameEQUAL	
currentPath	TokenNameIdentifier	 current Path
+	TokenNamePLUS	
remoteFileSep	TokenNameIdentifier	 remote File Sep
+	TokenNamePLUS	
theFile	TokenNameIdentifier	 the File
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
relPath	TokenNameIdentifier	 rel Path
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * find a file matching a string in an array of FTPFile. * This method will find "alpha" when requested for "ALPHA" * if and only if the caseSensitive attribute is set to false. * When caseSensitive is set to true, only the exact match is returned. * @param theFiles array of files * @param lastpathelement the file name being sought * @return null if the file cannot be found, otherwise return the matching file. */	TokenNameCOMMENT_JAVADOC	 find a file matching a string in an array of FTPFile. This method will find "alpha" when requested for "ALPHA" if and only if the caseSensitive attribute is set to false. When caseSensitive is set to true, only the exact match is returned. @param theFiles array of files @param lastpathelement the file name being sought @return null if the file cannot be found, otherwise return the matching file. 
public	TokenNamepublic	
FTPFile	TokenNameIdentifier	 FTP File
getFile	TokenNameIdentifier	 get File
(	TokenNameLPAREN	
FTPFile	TokenNameIdentifier	 FTP File
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
theFiles	TokenNameIdentifier	 the Files
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
lastpathelement	TokenNameIdentifier	 lastpathelement
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
theFiles	TokenNameIdentifier	 the Files
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
fcount	TokenNameIdentifier	 fcount
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
fcount	TokenNameIdentifier	 fcount
<	TokenNameLESS	
theFiles	TokenNameIdentifier	 the Files
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
fcount	TokenNameIdentifier	 fcount
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
theFiles	TokenNameIdentifier	 the Files
[	TokenNameLBRACKET	
fcount	TokenNameIdentifier	 fcount
]	TokenNameRBRACKET	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
theFiles	TokenNameIdentifier	 the Files
[	TokenNameLBRACKET	
fcount	TokenNameIdentifier	 fcount
]	TokenNameRBRACKET	
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
lastpathelement	TokenNameIdentifier	 lastpathelement
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
theFiles	TokenNameIdentifier	 the Files
[	TokenNameLBRACKET	
fcount	TokenNameIdentifier	 fcount
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
isCaseSensitive	TokenNameIdentifier	 is Case Sensitive
(	TokenNameLPAREN	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
theFiles	TokenNameIdentifier	 the Files
[	TokenNameLBRACKET	
fcount	TokenNameIdentifier	 fcount
]	TokenNameRBRACKET	
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
lastpathelement	TokenNameIdentifier	 lastpathelement
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
theFiles	TokenNameIdentifier	 the Files
[	TokenNameLBRACKET	
fcount	TokenNameIdentifier	 fcount
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * tell if a file is a directory. * note that it will return false for symbolic links pointing to directories. * @return <code>true</code> for directories */	TokenNameCOMMENT_JAVADOC	 tell if a file is a directory. note that it will return false for symbolic links pointing to directories. @return <code>true</code> for directories 
public	TokenNamepublic	
boolean	TokenNameboolean	
isDirectory	TokenNameIdentifier	 is Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
ftpFile	TokenNameIdentifier	 ftp File
.	TokenNameDOT	
isDirectory	TokenNameIdentifier	 is Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * tell if a file is a symbolic link * @return <code>true</code> for symbolic links */	TokenNameCOMMENT_JAVADOC	 tell if a file is a symbolic link @return <code>true</code> for symbolic links 
public	TokenNamepublic	
boolean	TokenNameboolean	
isSymbolicLink	TokenNameIdentifier	 is Symbolic Link
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
ftpFile	TokenNameIdentifier	 ftp File
.	TokenNameDOT	
isSymbolicLink	TokenNameIdentifier	 is Symbolic Link
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * return the attached FTP client object. * Warning : this instance is really shared with the enclosing class. * @return FTP client */	TokenNameCOMMENT_JAVADOC	 return the attached FTP client object. Warning : this instance is really shared with the enclosing class. @return FTP client 
protected	TokenNameprotected	
FTPClient	TokenNameIdentifier	 FTP Client
getClient	TokenNameIdentifier	 get Client
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
client	TokenNameIdentifier	 client
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * sets the current path of an AntFTPFile * @param curpwd the current path one wants to set */	TokenNameCOMMENT_JAVADOC	 sets the current path of an AntFTPFile @param curpwd the current path one wants to set 
protected	TokenNameprotected	
void	TokenNamevoid	
setCurpwd	TokenNameIdentifier	 set Curpwd
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
curpwd	TokenNameIdentifier	 curpwd
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
curpwd	TokenNameIdentifier	 curpwd
=	TokenNameEQUAL	
curpwd	TokenNameIdentifier	 curpwd
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * returns the path of the directory containing the AntFTPFile. * of the full path of the file itself in case of AntFTPRootFile * @return parent directory of the AntFTPFile */	TokenNameCOMMENT_JAVADOC	 returns the path of the directory containing the AntFTPFile. of the full path of the file itself in case of AntFTPRootFile @return parent directory of the AntFTPFile 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getCurpwd	TokenNameIdentifier	 get Curpwd
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
curpwd	TokenNameIdentifier	 curpwd
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * returns the path of the directory containing the AntFTPFile. * of the full path of the file itself in case of AntFTPRootFile * and appends the remote file separator if necessary. * @return parent directory of the AntFTPFile * @since Ant 1.8.2 */	TokenNameCOMMENT_JAVADOC	 returns the path of the directory containing the AntFTPFile. of the full path of the file itself in case of AntFTPRootFile and appends the remote file separator if necessary. @return parent directory of the AntFTPFile @since Ant 1.8.2 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getCurpwdPlusFileSep	TokenNameIdentifier	 get Curpwd Plus File Sep
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
curpwd	TokenNameIdentifier	 curpwd
.	TokenNameDOT	
endsWith	TokenNameIdentifier	 ends With
(	TokenNameLPAREN	
remoteFileSep	TokenNameIdentifier	 remote File Sep
)	TokenNameRPAREN	
?	TokenNameQUESTION	
curpwd	TokenNameIdentifier	 curpwd
:	TokenNameCOLON	
curpwd	TokenNameIdentifier	 curpwd
+	TokenNamePLUS	
remoteFileSep	TokenNameIdentifier	 remote File Sep
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * find out if a symbolic link is encountered in the relative path of this file * from rootPath. * @return <code>true</code> if a symbolic link is encountered in the relative path. * @throws IOException if one of the change directory or directory listing operations * fails * @throws BuildException if a path component in the relative path cannot be found. */	TokenNameCOMMENT_JAVADOC	 find out if a symbolic link is encountered in the relative path of this file from rootPath. @return <code>true</code> if a symbolic link is encountered in the relative path. @throws IOException if one of the change directory or directory listing operations fails @throws BuildException if a path component in the relative path cannot be found. 
public	TokenNamepublic	
boolean	TokenNameboolean	
isTraverseSymlinks	TokenNameIdentifier	 is Traverse Symlinks
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
relativePathCalculated	TokenNameIdentifier	 relative Path Calculated
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// getRelativePath also finds about symlinks 	TokenNameCOMMENT_LINE	getRelativePath also finds about symlinks 
getRelativePath	TokenNameIdentifier	 get Relative Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
traversesSymlinks	TokenNameIdentifier	 traverses Symlinks
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get a string rep of this object. * @return a string containing the pwd and the file. */	TokenNameCOMMENT_JAVADOC	 Get a string rep of this object. @return a string containing the pwd and the file. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
"AntFtpFile: "	TokenNameStringLiteral	AntFtpFile: 
+	TokenNamePLUS	
curpwd	TokenNameIdentifier	 curpwd
+	TokenNamePLUS	
"%"	TokenNameStringLiteral	%
+	TokenNamePLUS	
ftpFile	TokenNameIdentifier	 ftp File
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * special class to represent the remote directory itself * @since Ant 1.6 */	TokenNameCOMMENT_JAVADOC	 special class to represent the remote directory itself @since Ant 1.6 
protected	TokenNameprotected	
class	TokenNameclass	
AntFTPRootFile	TokenNameIdentifier	 Ant FTP Root File
extends	TokenNameextends	
AntFTPFile	TokenNameIdentifier	 Ant FTP File
{	TokenNameLBRACE	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
remotedir	TokenNameIdentifier	 remotedir
;	TokenNameSEMICOLON	
/** * constructor * @param aclient FTP client * @param remotedir remote directory */	TokenNameCOMMENT_JAVADOC	 constructor @param aclient FTP client @param remotedir remote directory 
public	TokenNamepublic	
AntFTPRootFile	TokenNameIdentifier	 Ant FTP Root File
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
aclient	TokenNameIdentifier	 aclient
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
remotedir	TokenNameIdentifier	 remotedir
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
aclient	TokenNameIdentifier	 aclient
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
remotedir	TokenNameIdentifier	 remotedir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
remotedir	TokenNameIdentifier	 remotedir
=	TokenNameEQUAL	
remotedir	TokenNameIdentifier	 remotedir
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
getClient	TokenNameIdentifier	 get Client
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
remotedir	TokenNameIdentifier	 remotedir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
setCurpwd	TokenNameIdentifier	 set Curpwd
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
getClient	TokenNameIdentifier	 get Client
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
printWorkingDirectory	TokenNameIdentifier	 print Working Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
ioe	TokenNameIdentifier	 ioe
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * find the absolute path * @return absolute path */	TokenNameCOMMENT_JAVADOC	 find the absolute path @return absolute path 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
this	TokenNamethis	
.	TokenNameDOT	
getCurpwd	TokenNameIdentifier	 get Curpwd
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * find out the relative path to root * @return empty string * @throws BuildException actually never * @throws IOException actually never */	TokenNameCOMMENT_JAVADOC	 find out the relative path to root @return empty string @throws BuildException actually never @throws IOException actually never 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getRelativePath	TokenNameIdentifier	 get Relative Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
BuildException	TokenNameIdentifier	 Build Exception
,	TokenNameCOMMA	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
return	TokenNamereturn	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * check FTPFiles to check whether they function as directories too * the FTPFile API seem to make directory and symbolic links incompatible * we want to find out if we can cd to a symbolic link * @param dir the parent directory of the file to test * @param file the file to test * @return true if it is possible to cd to this directory * @since ant 1.6 */	TokenNameCOMMENT_JAVADOC	 check FTPFiles to check whether they function as directories too the FTPFile API seem to make directory and symbolic links incompatible we want to find out if we can cd to a symbolic link @param dir the parent directory of the file to test @param file the file to test @return true if it is possible to cd to this directory @since ant 1.6 
private	TokenNameprivate	
boolean	TokenNameboolean	
isFunctioningAsDirectory	TokenNameIdentifier	 is Functioning As Directory
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
dir	TokenNameIdentifier	 dir
,	TokenNameCOMMA	
FTPFile	TokenNameIdentifier	 FTP File
file	TokenNameIdentifier	 file
)	TokenNameRPAREN	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
currentWorkingDir	TokenNameIdentifier	 current Working Dir
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
isDirectory	TokenNameIdentifier	 is Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
isFile	TokenNameIdentifier	 is File
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
currentWorkingDir	TokenNameIdentifier	 current Working Dir
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
printWorkingDirectory	TokenNameIdentifier	 print Working Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"could not find current working directory "	TokenNameStringLiteral	could not find current working directory 
+	TokenNamePLUS	
dir	TokenNameIdentifier	 dir
+	TokenNamePLUS	
" while checking a symlink"	TokenNameStringLiteral	 while checking a symlink
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_DEBUG	TokenNameIdentifier	 MSG  DEBUG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
currentWorkingDir	TokenNameIdentifier	 current Working Dir
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
result	TokenNameIdentifier	 result
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getLink	TokenNameIdentifier	 get Link
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"could not cd to "	TokenNameStringLiteral	could not cd to 
+	TokenNamePLUS	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getLink	TokenNameIdentifier	 get Link
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" while checking a symlink"	TokenNameStringLiteral	 while checking a symlink
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_DEBUG	TokenNameIdentifier	 MSG  DEBUG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
result	TokenNameIdentifier	 result
)	TokenNameRPAREN	
{	TokenNameLBRACE	
boolean	TokenNameboolean	
comeback	TokenNameIdentifier	 comeback
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
comeback	TokenNameIdentifier	 comeback
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
currentWorkingDir	TokenNameIdentifier	 current Working Dir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"could not cd back to "	TokenNameStringLiteral	could not cd back to 
+	TokenNamePLUS	
dir	TokenNameIdentifier	 dir
+	TokenNamePLUS	
" while checking a symlink"	TokenNameStringLiteral	 while checking a symlink
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_ERR	TokenNameIdentifier	 MSG  ERR
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
comeback	TokenNameIdentifier	 comeback
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"could not cd back to "	TokenNameStringLiteral	could not cd back to 
+	TokenNamePLUS	
dir	TokenNameIdentifier	 dir
+	TokenNamePLUS	
" while checking a symlink"	TokenNameStringLiteral	 while checking a symlink
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
result	TokenNameIdentifier	 result
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * check FTPFiles to check whether they function as directories too * the FTPFile API seem to make directory and symbolic links incompatible * we want to find out if we can cd to a symbolic link * @param dir the parent directory of the file to test * @param file the file to test * @return true if it is possible to cd to this directory * @since ant 1.6 */	TokenNameCOMMENT_JAVADOC	 check FTPFiles to check whether they function as directories too the FTPFile API seem to make directory and symbolic links incompatible we want to find out if we can cd to a symbolic link @param dir the parent directory of the file to test @param file the file to test @return true if it is possible to cd to this directory @since ant 1.6 
private	TokenNameprivate	
boolean	TokenNameboolean	
isFunctioningAsFile	TokenNameIdentifier	 is Functioning As File
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
dir	TokenNameIdentifier	 dir
,	TokenNameCOMMA	
FTPFile	TokenNameIdentifier	 FTP File
file	TokenNameIdentifier	 file
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
isDirectory	TokenNameIdentifier	 is Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
isFile	TokenNameIdentifier	 is File
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
!	TokenNameNOT	
isFunctioningAsDirectory	TokenNameIdentifier	 is Functioning As Directory
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
dir	TokenNameIdentifier	 dir
,	TokenNameCOMMA	
file	TokenNameIdentifier	 file
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the remote directory where files will be placed. This may be a * relative or absolute path, and must be in the path syntax expected by * the remote server. No correction of path syntax will be performed. * * @param dir the remote directory name. */	TokenNameCOMMENT_JAVADOC	 Sets the remote directory where files will be placed. This may be a relative or absolute path, and must be in the path syntax expected by the remote server. No correction of path syntax will be performed. * @param dir the remote directory name. 
public	TokenNamepublic	
void	TokenNamevoid	
setRemotedir	TokenNameIdentifier	 set Remotedir
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
dir	TokenNameIdentifier	 dir
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
remotedir	TokenNameIdentifier	 remotedir
=	TokenNameEQUAL	
dir	TokenNameIdentifier	 dir
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the FTP server to send files to. * * @param server the remote server name. */	TokenNameCOMMENT_JAVADOC	 Sets the FTP server to send files to. * @param server the remote server name. 
public	TokenNamepublic	
void	TokenNamevoid	
setServer	TokenNameIdentifier	 set Server
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
server	TokenNameIdentifier	 server
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
server	TokenNameIdentifier	 server
=	TokenNameEQUAL	
server	TokenNameIdentifier	 server
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the FTP port used by the remote server. * * @param port the port on which the remote server is listening. */	TokenNameCOMMENT_JAVADOC	 Sets the FTP port used by the remote server. * @param port the port on which the remote server is listening. 
public	TokenNamepublic	
void	TokenNamevoid	
setPort	TokenNameIdentifier	 set Port
(	TokenNameLPAREN	
int	TokenNameint	
port	TokenNameIdentifier	 port
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
port	TokenNameIdentifier	 port
=	TokenNameEQUAL	
port	TokenNameIdentifier	 port
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the login user id to use on the specified server. * * @param userid remote system userid. */	TokenNameCOMMENT_JAVADOC	 Sets the login user id to use on the specified server. * @param userid remote system userid. 
public	TokenNamepublic	
void	TokenNamevoid	
setUserid	TokenNameIdentifier	 set Userid
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
userid	TokenNameIdentifier	 userid
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
userid	TokenNameIdentifier	 userid
=	TokenNameEQUAL	
userid	TokenNameIdentifier	 userid
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the login password for the given user id. * * @param password the password on the remote system. */	TokenNameCOMMENT_JAVADOC	 Sets the login password for the given user id. * @param password the password on the remote system. 
public	TokenNamepublic	
void	TokenNamevoid	
setPassword	TokenNameIdentifier	 set Password
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
password	TokenNameIdentifier	 password
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
password	TokenNameIdentifier	 password
=	TokenNameEQUAL	
password	TokenNameIdentifier	 password
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the login account to use on the specified server. * * @param pAccount the account name on remote system * @since Ant 1.7 */	TokenNameCOMMENT_JAVADOC	 Sets the login account to use on the specified server. * @param pAccount the account name on remote system @since Ant 1.7 
public	TokenNamepublic	
void	TokenNamevoid	
setAccount	TokenNameIdentifier	 set Account
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
pAccount	TokenNameIdentifier	 p Account
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
account	TokenNameIdentifier	 account
=	TokenNameEQUAL	
pAccount	TokenNameIdentifier	 p Account
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * If true, uses binary mode, otherwise text mode (default is binary). * * @param binary if true use binary mode in transfers. */	TokenNameCOMMENT_JAVADOC	 If true, uses binary mode, otherwise text mode (default is binary). * @param binary if true use binary mode in transfers. 
public	TokenNamepublic	
void	TokenNamevoid	
setBinary	TokenNameIdentifier	 set Binary
(	TokenNameLPAREN	
boolean	TokenNameboolean	
binary	TokenNameIdentifier	 binary
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
binary	TokenNameIdentifier	 binary
=	TokenNameEQUAL	
binary	TokenNameIdentifier	 binary
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Specifies whether to use passive mode. Set to true if you are behind a * firewall and cannot connect without it. Passive mode is disabled by * default. * * @param passive true is passive mode should be used. */	TokenNameCOMMENT_JAVADOC	 Specifies whether to use passive mode. Set to true if you are behind a firewall and cannot connect without it. Passive mode is disabled by default. * @param passive true is passive mode should be used. 
public	TokenNamepublic	
void	TokenNamevoid	
setPassive	TokenNameIdentifier	 set Passive
(	TokenNameLPAREN	
boolean	TokenNameboolean	
passive	TokenNameIdentifier	 passive
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
passive	TokenNameIdentifier	 passive
=	TokenNameEQUAL	
passive	TokenNameIdentifier	 passive
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set to true to receive notification about each file as it is * transferred. * * @param verbose true if verbose notifications are required. */	TokenNameCOMMENT_JAVADOC	 Set to true to receive notification about each file as it is transferred. * @param verbose true if verbose notifications are required. 
public	TokenNamepublic	
void	TokenNamevoid	
setVerbose	TokenNameIdentifier	 set Verbose
(	TokenNameLPAREN	
boolean	TokenNameboolean	
verbose	TokenNameIdentifier	 verbose
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
verbose	TokenNameIdentifier	 verbose
=	TokenNameEQUAL	
verbose	TokenNameIdentifier	 verbose
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * A synonym for <tt>depends</tt>. Set to true to transmit only new * or changed files. * * See the related attributes timediffmillis and timediffauto. * * @param newer if true only transfer newer files. */	TokenNameCOMMENT_JAVADOC	 A synonym for <tt>depends</tt>. Set to true to transmit only new or changed files. * See the related attributes timediffmillis and timediffauto. * @param newer if true only transfer newer files. 
public	TokenNamepublic	
void	TokenNamevoid	
setNewer	TokenNameIdentifier	 set Newer
(	TokenNameLPAREN	
boolean	TokenNameboolean	
newer	TokenNameIdentifier	 newer
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
newerOnly	TokenNameIdentifier	 newer Only
=	TokenNameEQUAL	
newer	TokenNameIdentifier	 newer
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * number of milliseconds to add to the time on the remote machine * to get the time on the local machine. * * use in conjunction with <code>newer</code> * * @param timeDiffMillis number of milliseconds * * @since ant 1.6 */	TokenNameCOMMENT_JAVADOC	 number of milliseconds to add to the time on the remote machine to get the time on the local machine. * use in conjunction with <code>newer</code> * @param timeDiffMillis number of milliseconds * @since ant 1.6 
public	TokenNamepublic	
void	TokenNamevoid	
setTimeDiffMillis	TokenNameIdentifier	 set Time Diff Millis
(	TokenNameLPAREN	
long	TokenNamelong	
timeDiffMillis	TokenNameIdentifier	 time Diff Millis
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
timeDiffMillis	TokenNameIdentifier	 time Diff Millis
=	TokenNameEQUAL	
timeDiffMillis	TokenNameIdentifier	 time Diff Millis
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * &quot;true&quot; to find out automatically the time difference * between local and remote machine. * * This requires right to create * and delete a temporary file in the remote directory. * * @param timeDiffAuto true = find automatically the time diff * * @since ant 1.6 */	TokenNameCOMMENT_JAVADOC	 &quot;true&quot; to find out automatically the time difference between local and remote machine. * This requires right to create and delete a temporary file in the remote directory. * @param timeDiffAuto true = find automatically the time diff * @since ant 1.6 
public	TokenNamepublic	
void	TokenNamevoid	
setTimeDiffAuto	TokenNameIdentifier	 set Time Diff Auto
(	TokenNameLPAREN	
boolean	TokenNameboolean	
timeDiffAuto	TokenNameIdentifier	 time Diff Auto
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
timeDiffAuto	TokenNameIdentifier	 time Diff Auto
=	TokenNameEQUAL	
timeDiffAuto	TokenNameIdentifier	 time Diff Auto
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set to true to preserve modification times for "gotten" files. * * @param preserveLastModified if true preserver modification times. */	TokenNameCOMMENT_JAVADOC	 Set to true to preserve modification times for "gotten" files. * @param preserveLastModified if true preserver modification times. 
public	TokenNamepublic	
void	TokenNamevoid	
setPreserveLastModified	TokenNameIdentifier	 set Preserve Last Modified
(	TokenNameLPAREN	
boolean	TokenNameboolean	
preserveLastModified	TokenNameIdentifier	 preserve Last Modified
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
preserveLastModified	TokenNameIdentifier	 preserve Last Modified
=	TokenNameEQUAL	
preserveLastModified	TokenNameIdentifier	 preserve Last Modified
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set to true to transmit only files that are new or changed from their * remote counterparts. The default is to transmit all files. * * @param depends if true only transfer newer files. */	TokenNameCOMMENT_JAVADOC	 Set to true to transmit only files that are new or changed from their remote counterparts. The default is to transmit all files. * @param depends if true only transfer newer files. 
public	TokenNamepublic	
void	TokenNamevoid	
setDepends	TokenNameIdentifier	 set Depends
(	TokenNameLPAREN	
boolean	TokenNameboolean	
depends	TokenNameIdentifier	 depends
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
newerOnly	TokenNameIdentifier	 newer Only
=	TokenNameEQUAL	
depends	TokenNameIdentifier	 depends
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the remote file separator character. This normally defaults to the * Unix standard forward slash, but can be manually overridden using this * call if the remote server requires some other separator. Only the first * character of the string is used. * * @param separator the file separator on the remote system. */	TokenNameCOMMENT_JAVADOC	 Sets the remote file separator character. This normally defaults to the Unix standard forward slash, but can be manually overridden using this call if the remote server requires some other separator. Only the first character of the string is used. * @param separator the file separator on the remote system. 
public	TokenNamepublic	
void	TokenNamevoid	
setSeparator	TokenNameIdentifier	 set Separator
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
separator	TokenNameIdentifier	 separator
)	TokenNameRPAREN	
{	TokenNameLBRACE	
remoteFileSep	TokenNameIdentifier	 remote File Sep
=	TokenNameEQUAL	
separator	TokenNameIdentifier	 separator
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the file permission mode (Unix only) for files sent to the * server. * * @param theMode unix style file mode for the files sent to the remote * system. */	TokenNameCOMMENT_JAVADOC	 Sets the file permission mode (Unix only) for files sent to the server. * @param theMode unix style file mode for the files sent to the remote system. 
public	TokenNamepublic	
void	TokenNamevoid	
setChmod	TokenNameIdentifier	 set Chmod
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
theMode	TokenNameIdentifier	 the Mode
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
chmod	TokenNameIdentifier	 chmod
=	TokenNameEQUAL	
theMode	TokenNameIdentifier	 the Mode
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the default mask for file creation on a unix server. * * @param theUmask unix style umask for files created on the remote server. */	TokenNameCOMMENT_JAVADOC	 Sets the default mask for file creation on a unix server. * @param theUmask unix style umask for files created on the remote server. 
public	TokenNamepublic	
void	TokenNamevoid	
setUmask	TokenNameIdentifier	 set Umask
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
theUmask	TokenNameIdentifier	 the Umask
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
umask	TokenNameIdentifier	 umask
=	TokenNameEQUAL	
theUmask	TokenNameIdentifier	 the Umask
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * A set of files to upload or download * * @param set the set of files to be added to the list of files to be * transferred. */	TokenNameCOMMENT_JAVADOC	 A set of files to upload or download * @param set the set of files to be added to the list of files to be transferred. 
public	TokenNamepublic	
void	TokenNamevoid	
addFileset	TokenNameIdentifier	 add Fileset
(	TokenNameLPAREN	
FileSet	TokenNameIdentifier	 File Set
set	TokenNameIdentifier	 set
)	TokenNameRPAREN	
{	TokenNameLBRACE	
filesets	TokenNameIdentifier	 filesets
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
set	TokenNameIdentifier	 set
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the FTP action to be taken. Currently accepts "put", "get", "del", * "mkdir", "chmod", "list", and "site". * * @deprecated since 1.5.x. * setAction(String) is deprecated and is replaced with * setAction(FTP.Action) to make Ant's Introspection mechanism do the * work and also to encapsulate operations on the type in its own * class. * @ant.attribute ignore="true" * * @param action the FTP action to be performed. * * @throws BuildException if the action is not a valid action. */	TokenNameCOMMENT_JAVADOC	 Sets the FTP action to be taken. Currently accepts "put", "get", "del", "mkdir", "chmod", "list", and "site". * @deprecated since 1.5.x. setAction(String) is deprecated and is replaced with setAction(FTP.Action) to make Ant's Introspection mechanism do the work and also to encapsulate operations on the type in its own class. @ant.attribute ignore="true" * @param action the FTP action to be performed. * @throws BuildException if the action is not a valid action. 
public	TokenNamepublic	
void	TokenNamevoid	
setAction	TokenNameIdentifier	 set Action
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
action	TokenNameIdentifier	 action
)	TokenNameRPAREN	
throws	TokenNamethrows	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"DEPRECATED - The setAction(String) method has been deprecated."	TokenNameStringLiteral	DEPRECATED - The setAction(String) method has been deprecated.
+	TokenNamePLUS	
" Use setAction(FTP.Action) instead."	TokenNameStringLiteral	 Use setAction(FTP.Action) instead.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Action	TokenNameIdentifier	 Action
a	TokenNameIdentifier	 a
=	TokenNameEQUAL	
new	TokenNamenew	
Action	TokenNameIdentifier	 Action
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
a	TokenNameIdentifier	 a
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
action	TokenNameIdentifier	 action
=	TokenNameEQUAL	
a	TokenNameIdentifier	 a
.	TokenNameDOT	
getAction	TokenNameIdentifier	 get Action
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the FTP action to be taken. Currently accepts "put", "get", "del", * "mkdir", "chmod", "list", and "site". * * @param action the FTP action to be performed. * * @throws BuildException if the action is not a valid action. */	TokenNameCOMMENT_JAVADOC	 Sets the FTP action to be taken. Currently accepts "put", "get", "del", "mkdir", "chmod", "list", and "site". * @param action the FTP action to be performed. * @throws BuildException if the action is not a valid action. 
public	TokenNamepublic	
void	TokenNamevoid	
setAction	TokenNameIdentifier	 set Action
(	TokenNameLPAREN	
Action	TokenNameIdentifier	 Action
action	TokenNameIdentifier	 action
)	TokenNameRPAREN	
throws	TokenNamethrows	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
action	TokenNameIdentifier	 action
=	TokenNameEQUAL	
action	TokenNameIdentifier	 action
.	TokenNameDOT	
getAction	TokenNameIdentifier	 get Action
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * The output file for the "list" action. This attribute is ignored for * any other actions. * * @param listing file in which to store the listing. */	TokenNameCOMMENT_JAVADOC	 The output file for the "list" action. This attribute is ignored for any other actions. * @param listing file in which to store the listing. 
public	TokenNamepublic	
void	TokenNamevoid	
setListing	TokenNameIdentifier	 set Listing
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
listing	TokenNameIdentifier	 listing
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
listing	TokenNameIdentifier	 listing
=	TokenNameEQUAL	
listing	TokenNameIdentifier	 listing
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * If true, enables unsuccessful file put, delete and get * operations to be skipped with a warning and the remainder * of the files still transferred. * * @param skipFailedTransfers true if failures in transfers are ignored. */	TokenNameCOMMENT_JAVADOC	 If true, enables unsuccessful file put, delete and get operations to be skipped with a warning and the remainder of the files still transferred. * @param skipFailedTransfers true if failures in transfers are ignored. 
public	TokenNamepublic	
void	TokenNamevoid	
setSkipFailedTransfers	TokenNameIdentifier	 set Skip Failed Transfers
(	TokenNameLPAREN	
boolean	TokenNameboolean	
skipFailedTransfers	TokenNameIdentifier	 skip Failed Transfers
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
skipFailedTransfers	TokenNameIdentifier	 skip Failed Transfers
=	TokenNameEQUAL	
skipFailedTransfers	TokenNameIdentifier	 skip Failed Transfers
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * set the flag to skip errors on directory creation. * (and maybe later other server specific errors) * * @param ignoreNoncriticalErrors true if non-critical errors should not * cause a failure. */	TokenNameCOMMENT_JAVADOC	 set the flag to skip errors on directory creation. (and maybe later other server specific errors) * @param ignoreNoncriticalErrors true if non-critical errors should not cause a failure. 
public	TokenNamepublic	
void	TokenNamevoid	
setIgnoreNoncriticalErrors	TokenNameIdentifier	 set Ignore Noncritical Errors
(	TokenNameLPAREN	
boolean	TokenNameboolean	
ignoreNoncriticalErrors	TokenNameIdentifier	 ignore Noncritical Errors
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
ignoreNoncriticalErrors	TokenNameIdentifier	 ignore Noncritical Errors
=	TokenNameEQUAL	
ignoreNoncriticalErrors	TokenNameIdentifier	 ignore Noncritical Errors
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
configurationHasBeenSet	TokenNameIdentifier	 configuration Has Been Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
isConfigurationSet	TokenNameIdentifier	 is Configuration Set
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the systemTypeKey attribute. * Method for setting <code>FTPClientConfig</code> remote system key. * * @param systemKey the key to be set - BUT if blank * the default value of null (which signifies "autodetect") will be kept. * @see org.apache.commons.net.ftp.FTPClientConfig */	TokenNameCOMMENT_JAVADOC	 Sets the systemTypeKey attribute. Method for setting <code>FTPClientConfig</code> remote system key. * @param systemKey the key to be set - BUT if blank the default value of null (which signifies "autodetect") will be kept. @see org.apache.commons.net.ftp.FTPClientConfig 
public	TokenNamepublic	
void	TokenNamevoid	
setSystemTypeKey	TokenNameIdentifier	 set System Type Key
(	TokenNameLPAREN	
FTPSystemType	TokenNameIdentifier	 FTP System Type
systemKey	TokenNameIdentifier	 system Key
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
systemKey	TokenNameIdentifier	 system Key
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
!	TokenNameNOT	
systemKey	TokenNameIdentifier	 system Key
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
systemTypeKey	TokenNameIdentifier	 system Type Key
=	TokenNameEQUAL	
systemKey	TokenNameIdentifier	 system Key
;	TokenNameSEMICOLON	
configurationHasBeenSet	TokenNameIdentifier	 configuration Has Been Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Sets the defaultDateFormatConfig attribute. * @param defaultDateFormat configuration to be set, unless it is * null or empty string, in which case ignored. * @see org.apache.commons.net.ftp.FTPClientConfig */	TokenNameCOMMENT_JAVADOC	 Sets the defaultDateFormatConfig attribute. @param defaultDateFormat configuration to be set, unless it is null or empty string, in which case ignored. @see org.apache.commons.net.ftp.FTPClientConfig 
public	TokenNamepublic	
void	TokenNamevoid	
setDefaultDateFormatConfig	TokenNameIdentifier	 set Default Date Format Config
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
defaultDateFormat	TokenNameIdentifier	 default Date Format
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
defaultDateFormat	TokenNameIdentifier	 default Date Format
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
!	TokenNameNOT	
defaultDateFormat	TokenNameIdentifier	 default Date Format
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
defaultDateFormatConfig	TokenNameIdentifier	 default Date Format Config
=	TokenNameEQUAL	
defaultDateFormat	TokenNameIdentifier	 default Date Format
;	TokenNameSEMICOLON	
configurationHasBeenSet	TokenNameIdentifier	 configuration Has Been Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Sets the recentDateFormatConfig attribute. * @param recentDateFormat configuration to be set, unless it is * null or empty string, in which case ignored. * @see org.apache.commons.net.ftp.FTPClientConfig */	TokenNameCOMMENT_JAVADOC	 Sets the recentDateFormatConfig attribute. @param recentDateFormat configuration to be set, unless it is null or empty string, in which case ignored. @see org.apache.commons.net.ftp.FTPClientConfig 
public	TokenNamepublic	
void	TokenNamevoid	
setRecentDateFormatConfig	TokenNameIdentifier	 set Recent Date Format Config
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
recentDateFormat	TokenNameIdentifier	 recent Date Format
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
recentDateFormat	TokenNameIdentifier	 recent Date Format
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
!	TokenNameNOT	
recentDateFormat	TokenNameIdentifier	 recent Date Format
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
recentDateFormatConfig	TokenNameIdentifier	 recent Date Format Config
=	TokenNameEQUAL	
recentDateFormat	TokenNameIdentifier	 recent Date Format
;	TokenNameSEMICOLON	
configurationHasBeenSet	TokenNameIdentifier	 configuration Has Been Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Sets the serverLanguageCode attribute. * @param serverLanguageCode configuration to be set, unless it is * null or empty string, in which case ignored. * @see org.apache.commons.net.ftp.FTPClientConfig */	TokenNameCOMMENT_JAVADOC	 Sets the serverLanguageCode attribute. @param serverLanguageCode configuration to be set, unless it is null or empty string, in which case ignored. @see org.apache.commons.net.ftp.FTPClientConfig 
public	TokenNamepublic	
void	TokenNamevoid	
setServerLanguageCodeConfig	TokenNameIdentifier	 set Server Language Code Config
(	TokenNameLPAREN	
LanguageCode	TokenNameIdentifier	 Language Code
serverLanguageCode	TokenNameIdentifier	 server Language Code
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
serverLanguageCode	TokenNameIdentifier	 server Language Code
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
!	TokenNameNOT	
""	TokenNameStringLiteral	 
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
serverLanguageCode	TokenNameIdentifier	 server Language Code
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
serverLanguageCodeConfig	TokenNameIdentifier	 server Language Code Config
=	TokenNameEQUAL	
serverLanguageCode	TokenNameIdentifier	 server Language Code
;	TokenNameSEMICOLON	
configurationHasBeenSet	TokenNameIdentifier	 configuration Has Been Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Sets the serverTimeZoneConfig attribute. * @param serverTimeZoneId configuration to be set, unless it is * null or empty string, in which case ignored. * @see org.apache.commons.net.ftp.FTPClientConfig */	TokenNameCOMMENT_JAVADOC	 Sets the serverTimeZoneConfig attribute. @param serverTimeZoneId configuration to be set, unless it is null or empty string, in which case ignored. @see org.apache.commons.net.ftp.FTPClientConfig 
public	TokenNamepublic	
void	TokenNamevoid	
setServerTimeZoneConfig	TokenNameIdentifier	 set Server Time Zone Config
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
serverTimeZoneId	TokenNameIdentifier	 server Time Zone Id
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
serverTimeZoneId	TokenNameIdentifier	 server Time Zone Id
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
!	TokenNameNOT	
serverTimeZoneId	TokenNameIdentifier	 server Time Zone Id
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
serverTimeZoneConfig	TokenNameIdentifier	 server Time Zone Config
=	TokenNameEQUAL	
serverTimeZoneId	TokenNameIdentifier	 server Time Zone Id
;	TokenNameSEMICOLON	
configurationHasBeenSet	TokenNameIdentifier	 configuration Has Been Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Sets the shortMonthNamesConfig attribute * * @param shortMonthNames configuration to be set, unless it is * null or empty string, in which case ignored. * @see org.apache.commons.net.ftp.FTPClientConfig */	TokenNameCOMMENT_JAVADOC	 Sets the shortMonthNamesConfig attribute * @param shortMonthNames configuration to be set, unless it is null or empty string, in which case ignored. @see org.apache.commons.net.ftp.FTPClientConfig 
public	TokenNamepublic	
void	TokenNamevoid	
setShortMonthNamesConfig	TokenNameIdentifier	 set Short Month Names Config
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
shortMonthNames	TokenNameIdentifier	 short Month Names
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
shortMonthNames	TokenNameIdentifier	 short Month Names
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
!	TokenNameNOT	
shortMonthNames	TokenNameIdentifier	 short Month Names
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
shortMonthNamesConfig	TokenNameIdentifier	 short Month Names Config
=	TokenNameEQUAL	
shortMonthNames	TokenNameIdentifier	 short Month Names
;	TokenNameSEMICOLON	
configurationHasBeenSet	TokenNameIdentifier	 configuration Has Been Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Defines how many times to retry executing FTP command before giving up. * Default is 0 - try once and if failure then give up. * * @param retriesAllowed number of retries to allow. -1 means * keep trying forever. "forever" may also be specified as a * synonym for -1. */	TokenNameCOMMENT_JAVADOC	 Defines how many times to retry executing FTP command before giving up. Default is 0 - try once and if failure then give up. * @param retriesAllowed number of retries to allow. -1 means keep trying forever. "forever" may also be specified as a synonym for -1. 
public	TokenNamepublic	
void	TokenNamevoid	
setRetriesAllowed	TokenNameIdentifier	 set Retries Allowed
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
retriesAllowed	TokenNameIdentifier	 retries Allowed
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
"FOREVER"	TokenNameStringLiteral	FOREVER
.	TokenNameDOT	
equalsIgnoreCase	TokenNameIdentifier	 equals Ignore Case
(	TokenNameLPAREN	
retriesAllowed	TokenNameIdentifier	 retries Allowed
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
retriesAllowed	TokenNameIdentifier	 retries Allowed
=	TokenNameEQUAL	
Retryable	TokenNameIdentifier	 Retryable
.	TokenNameDOT	
RETRY_FOREVER	TokenNameIdentifier	 RETRY  FOREVER
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
int	TokenNameint	
retries	TokenNameIdentifier	 retries
=	TokenNameEQUAL	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
parseInt	TokenNameIdentifier	 parse Int
(	TokenNameLPAREN	
retriesAllowed	TokenNameIdentifier	 retries Allowed
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
retries	TokenNameIdentifier	 retries
<	TokenNameLESS	
Retryable	TokenNameIdentifier	 Retryable
.	TokenNameDOT	
RETRY_FOREVER	TokenNameIdentifier	 RETRY  FOREVER
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"Invalid value for retriesAllowed attribute: "	TokenNameStringLiteral	Invalid value for retriesAllowed attribute: 
+	TokenNamePLUS	
retriesAllowed	TokenNameIdentifier	 retries Allowed
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
this	TokenNamethis	
.	TokenNameDOT	
retriesAllowed	TokenNameIdentifier	 retries Allowed
=	TokenNameEQUAL	
retries	TokenNameIdentifier	 retries
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
NumberFormatException	TokenNameIdentifier	 Number Format Exception
px	TokenNameIdentifier	 px
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"Invalid value for retriesAllowed attribute: "	TokenNameStringLiteral	Invalid value for retriesAllowed attribute: 
+	TokenNamePLUS	
retriesAllowed	TokenNameIdentifier	 retries Allowed
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * @return Returns the systemTypeKey. */	TokenNameCOMMENT_JAVADOC	 @return Returns the systemTypeKey. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getSystemTypeKey	TokenNameIdentifier	 get System Type Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
systemTypeKey	TokenNameIdentifier	 system Type Key
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @return Returns the defaultDateFormatConfig. */	TokenNameCOMMENT_JAVADOC	 @return Returns the defaultDateFormatConfig. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getDefaultDateFormatConfig	TokenNameIdentifier	 get Default Date Format Config
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
defaultDateFormatConfig	TokenNameIdentifier	 default Date Format Config
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @return Returns the recentDateFormatConfig. */	TokenNameCOMMENT_JAVADOC	 @return Returns the recentDateFormatConfig. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getRecentDateFormatConfig	TokenNameIdentifier	 get Recent Date Format Config
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
recentDateFormatConfig	TokenNameIdentifier	 recent Date Format Config
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @return Returns the serverLanguageCodeConfig. */	TokenNameCOMMENT_JAVADOC	 @return Returns the serverLanguageCodeConfig. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getServerLanguageCodeConfig	TokenNameIdentifier	 get Server Language Code Config
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
serverLanguageCodeConfig	TokenNameIdentifier	 server Language Code Config
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @return Returns the serverTimeZoneConfig. */	TokenNameCOMMENT_JAVADOC	 @return Returns the serverTimeZoneConfig. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getServerTimeZoneConfig	TokenNameIdentifier	 get Server Time Zone Config
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
serverTimeZoneConfig	TokenNameIdentifier	 server Time Zone Config
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @return Returns the shortMonthNamesConfig. */	TokenNameCOMMENT_JAVADOC	 @return Returns the shortMonthNamesConfig. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getShortMonthNamesConfig	TokenNameIdentifier	 get Short Month Names Config
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
shortMonthNamesConfig	TokenNameIdentifier	 short Month Names Config
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @return Returns the timestampGranularity. */	TokenNameCOMMENT_JAVADOC	 @return Returns the timestampGranularity. 
Granularity	TokenNameIdentifier	 Granularity
getTimestampGranularity	TokenNameIdentifier	 get Timestamp Granularity
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
timestampGranularity	TokenNameIdentifier	 timestamp Granularity
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the timestampGranularity attribute * @param timestampGranularity The timestampGranularity to set. */	TokenNameCOMMENT_JAVADOC	 Sets the timestampGranularity attribute @param timestampGranularity The timestampGranularity to set. 
public	TokenNamepublic	
void	TokenNamevoid	
setTimestampGranularity	TokenNameIdentifier	 set Timestamp Granularity
(	TokenNameLPAREN	
Granularity	TokenNameIdentifier	 Granularity
timestampGranularity	TokenNameIdentifier	 timestamp Granularity
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
==	TokenNameEQUAL_EQUAL	
timestampGranularity	TokenNameIdentifier	 timestamp Granularity
||	TokenNameOR_OR	
""	TokenNameStringLiteral	 
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
timestampGranularity	TokenNameIdentifier	 timestamp Granularity
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
this	TokenNamethis	
.	TokenNameDOT	
timestampGranularity	TokenNameIdentifier	 timestamp Granularity
=	TokenNameEQUAL	
timestampGranularity	TokenNameIdentifier	 timestamp Granularity
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the siteCommand attribute. This attribute * names the command that will be executed if the action * is "site". * @param siteCommand The siteCommand to set. */	TokenNameCOMMENT_JAVADOC	 Sets the siteCommand attribute. This attribute names the command that will be executed if the action is "site". @param siteCommand The siteCommand to set. 
public	TokenNamepublic	
void	TokenNamevoid	
setSiteCommand	TokenNameIdentifier	 set Site Command
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
siteCommand	TokenNameIdentifier	 site Command
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
siteCommand	TokenNameIdentifier	 site Command
=	TokenNameEQUAL	
siteCommand	TokenNameIdentifier	 site Command
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the initialSiteCommand attribute. This attribute * names a site command that will be executed immediately * after connection. * @param initialCommand The initialSiteCommand to set. */	TokenNameCOMMENT_JAVADOC	 Sets the initialSiteCommand attribute. This attribute names a site command that will be executed immediately after connection. @param initialCommand The initialSiteCommand to set. 
public	TokenNamepublic	
void	TokenNamevoid	
setInitialSiteCommand	TokenNameIdentifier	 set Initial Site Command
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
initialCommand	TokenNameIdentifier	 initial Command
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
initialSiteCommand	TokenNameIdentifier	 initial Site Command
=	TokenNameEQUAL	
initialCommand	TokenNameIdentifier	 initial Command
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Whether to verify that data and control connections are * connected to the same remote host. * * @since Ant 1.8.0 */	TokenNameCOMMENT_JAVADOC	 Whether to verify that data and control connections are connected to the same remote host. * @since Ant 1.8.0 
public	TokenNamepublic	
void	TokenNamevoid	
setEnableRemoteVerification	TokenNameIdentifier	 set Enable Remote Verification
(	TokenNameLPAREN	
boolean	TokenNameboolean	
b	TokenNameIdentifier	 b
)	TokenNameRPAREN	
{	TokenNameLBRACE	
enableRemoteVerification	TokenNameIdentifier	 enable Remote Verification
=	TokenNameEQUAL	
b	TokenNameIdentifier	 b
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Checks to see that all required parameters are set. * * @throws BuildException if the configuration is not valid. */	TokenNameCOMMENT_JAVADOC	 Checks to see that all required parameters are set. * @throws BuildException if the configuration is not valid. 
protected	TokenNameprotected	
void	TokenNamevoid	
checkAttributes	TokenNameIdentifier	 check Attributes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
server	TokenNameIdentifier	 server
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"server attribute must be set!"	TokenNameStringLiteral	server attribute must be set!
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
userid	TokenNameIdentifier	 userid
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"userid attribute must be set!"	TokenNameStringLiteral	userid attribute must be set!
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
password	TokenNameIdentifier	 password
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"password attribute must be set!"	TokenNameStringLiteral	password attribute must be set!
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
LIST_FILES	TokenNameIdentifier	 LIST  FILES
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
listing	TokenNameIdentifier	 listing
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"listing attribute must be set for list "	TokenNameStringLiteral	listing attribute must be set for list 
+	TokenNamePLUS	
"action!"	TokenNameStringLiteral	action!
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
MK_DIR	TokenNameIdentifier	 MK  DIR
&&	TokenNameAND_AND	
remotedir	TokenNameIdentifier	 remotedir
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"remotedir attribute must be set for "	TokenNameStringLiteral	remotedir attribute must be set for 
+	TokenNamePLUS	
"mkdir action!"	TokenNameStringLiteral	mkdir action!
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
CHMOD	TokenNameIdentifier	 CHMOD
&&	TokenNameAND_AND	
chmod	TokenNameIdentifier	 chmod
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"chmod attribute must be set for chmod "	TokenNameStringLiteral	chmod attribute must be set for chmod 
+	TokenNamePLUS	
"action!"	TokenNameStringLiteral	action!
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
SITE_CMD	TokenNameIdentifier	 SITE  CMD
&&	TokenNameAND_AND	
siteCommand	TokenNameIdentifier	 site Command
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"sitecommand attribute must be set for site "	TokenNameStringLiteral	sitecommand attribute must be set for site 
+	TokenNamePLUS	
"action!"	TokenNameStringLiteral	action!
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
isConfigurationSet	TokenNameIdentifier	 is Configuration Set
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
Class	TokenNameIdentifier	 Class
.	TokenNameDOT	
forName	TokenNameIdentifier	 for Name
(	TokenNameLPAREN	
"org.apache.commons.net.ftp.FTPClientConfig"	TokenNameStringLiteral	org.apache.commons.net.ftp.FTPClientConfig
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
ClassNotFoundException	TokenNameIdentifier	 Class Not Found Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"commons-net.jar >= 1.4.0 is required for at least one"	TokenNameStringLiteral	commons-net.jar >= 1.4.0 is required for at least one
+	TokenNamePLUS	
" of the attributes specified."	TokenNameStringLiteral	 of the attributes specified.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Executable a retryable object. * @param h the retry hander. * @param r the object that should be retried until it succeeds * or the number of retrys is reached. * @param descr a description of the command that is being run. * @throws IOException if there is a problem. */	TokenNameCOMMENT_JAVADOC	 Executable a retryable object. @param h the retry hander. @param r the object that should be retried until it succeeds or the number of retrys is reached. @param descr a description of the command that is being run. @throws IOException if there is a problem. 
protected	TokenNameprotected	
void	TokenNamevoid	
executeRetryable	TokenNameIdentifier	 execute Retryable
(	TokenNameLPAREN	
RetryHandler	TokenNameIdentifier	 Retry Handler
h	TokenNameIdentifier	 h
,	TokenNameCOMMA	
Retryable	TokenNameIdentifier	 Retryable
r	TokenNameIdentifier	 r
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
descr	TokenNameIdentifier	 descr
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
h	TokenNameIdentifier	 h
.	TokenNameDOT	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
r	TokenNameIdentifier	 r
,	TokenNameCOMMA	
descr	TokenNameIdentifier	 descr
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * For each file in the fileset, do the appropriate action: send, get, * delete, or list. * * @param ftp the FTPClient instance used to perform FTP actions * @param fs the fileset on which the actions are performed. * * @return the number of files to be transferred. * * @throws IOException if there is a problem reading a file * @throws BuildException if there is a problem in the configuration. */	TokenNameCOMMENT_JAVADOC	 For each file in the fileset, do the appropriate action: send, get, delete, or list. * @param ftp the FTPClient instance used to perform FTP actions @param fs the fileset on which the actions are performed. * @return the number of files to be transferred. * @throws IOException if there is a problem reading a file @throws BuildException if there is a problem in the configuration. 
protected	TokenNameprotected	
int	TokenNameint	
transferFiles	TokenNameIdentifier	 transfer Files
(	TokenNameLPAREN	
final	TokenNamefinal	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
FileSet	TokenNameIdentifier	 File Set
fs	TokenNameIdentifier	 fs
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
DirectoryScanner	TokenNameIdentifier	 Directory Scanner
ds	TokenNameIdentifier	 ds
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
SEND_FILES	TokenNameIdentifier	 SEND  FILES
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ds	TokenNameIdentifier	 ds
=	TokenNameEQUAL	
fs	TokenNameIdentifier	 fs
.	TokenNameDOT	
getDirectoryScanner	TokenNameIdentifier	 get Directory Scanner
(	TokenNameLPAREN	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
ds	TokenNameIdentifier	 ds
=	TokenNameEQUAL	
new	TokenNamenew	
FTPDirectoryScanner	TokenNameIdentifier	 FTP Directory Scanner
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fs	TokenNameIdentifier	 fs
.	TokenNameDOT	
setupDirectoryScanner	TokenNameIdentifier	 setup Directory Scanner
(	TokenNameLPAREN	
ds	TokenNameIdentifier	 ds
,	TokenNameCOMMA	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ds	TokenNameIdentifier	 ds
.	TokenNameDOT	
setFollowSymlinks	TokenNameIdentifier	 set Follow Symlinks
(	TokenNameLPAREN	
fs	TokenNameIdentifier	 fs
.	TokenNameDOT	
isFollowSymlinks	TokenNameIdentifier	 is Follow Symlinks
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ds	TokenNameIdentifier	 ds
.	TokenNameDOT	
scan	TokenNameIdentifier	 scan
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
dsfiles	TokenNameIdentifier	 dsfiles
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
RM_DIR	TokenNameIdentifier	 RM  DIR
)	TokenNameRPAREN	
{	TokenNameLBRACE	
dsfiles	TokenNameIdentifier	 dsfiles
=	TokenNameEQUAL	
ds	TokenNameIdentifier	 ds
.	TokenNameDOT	
getIncludedDirectories	TokenNameIdentifier	 get Included Directories
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
dsfiles	TokenNameIdentifier	 dsfiles
=	TokenNameEQUAL	
ds	TokenNameIdentifier	 ds
.	TokenNameDOT	
getIncludedFiles	TokenNameIdentifier	 get Included Files
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
dir	TokenNameIdentifier	 dir
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
ds	TokenNameIdentifier	 ds
.	TokenNameDOT	
getBasedir	TokenNameIdentifier	 get Basedir
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
SEND_FILES	TokenNameIdentifier	 SEND  FILES
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
GET_FILES	TokenNameIdentifier	 GET  FILES
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"the dir attribute must be set for send "	TokenNameStringLiteral	the dir attribute must be set for send 
+	TokenNamePLUS	
"and get actions"	TokenNameStringLiteral	and get actions
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
SEND_FILES	TokenNameIdentifier	 SEND  FILES
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
GET_FILES	TokenNameIdentifier	 GET  FILES
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
dir	TokenNameIdentifier	 dir
=	TokenNameEQUAL	
ds	TokenNameIdentifier	 ds
.	TokenNameDOT	
getBasedir	TokenNameIdentifier	 get Basedir
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// If we are doing a listing, we need the output stream created now. 	TokenNameCOMMENT_LINE	If we are doing a listing, we need the output stream created now. 
BufferedWriter	TokenNameIdentifier	 Buffered Writer
bw	TokenNameIdentifier	 bw
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
LIST_FILES	TokenNameIdentifier	 LIST  FILES
)	TokenNameRPAREN	
{	TokenNameLBRACE	
File	TokenNameIdentifier	 File
pd	TokenNameIdentifier	 pd
=	TokenNameEQUAL	
listing	TokenNameIdentifier	 listing
.	TokenNameDOT	
getParentFile	TokenNameIdentifier	 get Parent File
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
pd	TokenNameIdentifier	 pd
.	TokenNameDOT	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
pd	TokenNameIdentifier	 pd
.	TokenNameDOT	
mkdirs	TokenNameIdentifier	 mkdirs
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
bw	TokenNameIdentifier	 bw
=	TokenNameEQUAL	
new	TokenNamenew	
BufferedWriter	TokenNameIdentifier	 Buffered Writer
(	TokenNameLPAREN	
new	TokenNamenew	
FileWriter	TokenNameIdentifier	 File Writer
(	TokenNameLPAREN	
listing	TokenNameIdentifier	 listing
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
RetryHandler	TokenNameIdentifier	 Retry Handler
h	TokenNameIdentifier	 h
=	TokenNameEQUAL	
new	TokenNamenew	
RetryHandler	TokenNameIdentifier	 Retry Handler
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
retriesAllowed	TokenNameIdentifier	 retries Allowed
,	TokenNameCOMMA	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
RM_DIR	TokenNameIdentifier	 RM  DIR
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// to remove directories, start by the end of the list 	TokenNameCOMMENT_LINE	to remove directories, start by the end of the list 
// the trunk does not let itself be removed before the leaves 	TokenNameCOMMENT_LINE	the trunk does not let itself be removed before the leaves 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
dsfiles	TokenNameIdentifier	 dsfiles
.	TokenNameDOT	
length	TokenNameIdentifier	 length
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
>=	TokenNameGREATER_EQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
--	TokenNameMINUS_MINUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
dsfile	TokenNameIdentifier	 dsfile
=	TokenNameEQUAL	
dsfiles	TokenNameIdentifier	 dsfiles
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
executeRetryable	TokenNameIdentifier	 execute Retryable
(	TokenNameLPAREN	
h	TokenNameIdentifier	 h
,	TokenNameCOMMA	
new	TokenNamenew	
Retryable	TokenNameIdentifier	 Retryable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
rmDir	TokenNameIdentifier	 rm Dir
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
dsfile	TokenNameIdentifier	 dsfile
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
dsfile	TokenNameIdentifier	 dsfile
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
final	TokenNamefinal	
BufferedWriter	TokenNameIdentifier	 Buffered Writer
fbw	TokenNameIdentifier	 fbw
=	TokenNameEQUAL	
bw	TokenNameIdentifier	 bw
;	TokenNameSEMICOLON	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
fdir	TokenNameIdentifier	 fdir
=	TokenNameEQUAL	
dir	TokenNameIdentifier	 dir
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
newerOnly	TokenNameIdentifier	 newer Only
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
granularityMillis	TokenNameIdentifier	 granularity Millis
=	TokenNameEQUAL	
this	TokenNamethis	
.	TokenNameDOT	
timestampGranularity	TokenNameIdentifier	 timestamp Granularity
.	TokenNameDOT	
getMilliseconds	TokenNameIdentifier	 get Milliseconds
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
dsfiles	TokenNameIdentifier	 dsfiles
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
dsfile	TokenNameIdentifier	 dsfile
=	TokenNameEQUAL	
dsfiles	TokenNameIdentifier	 dsfiles
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
executeRetryable	TokenNameIdentifier	 execute Retryable
(	TokenNameLPAREN	
h	TokenNameIdentifier	 h
,	TokenNameCOMMA	
new	TokenNamenew	
Retryable	TokenNameIdentifier	 Retryable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
switch	TokenNameswitch	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
)	TokenNameRPAREN	
{	TokenNameLBRACE	
case	TokenNamecase	
SEND_FILES	TokenNameIdentifier	 SEND  FILES
:	TokenNameCOLON	
sendFile	TokenNameIdentifier	 send File
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
fdir	TokenNameIdentifier	 fdir
,	TokenNameCOMMA	
dsfile	TokenNameIdentifier	 dsfile
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
GET_FILES	TokenNameIdentifier	 GET  FILES
:	TokenNameCOLON	
getFile	TokenNameIdentifier	 get File
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
fdir	TokenNameIdentifier	 fdir
,	TokenNameCOMMA	
dsfile	TokenNameIdentifier	 dsfile
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
DEL_FILES	TokenNameIdentifier	 DEL  FILES
:	TokenNameCOLON	
delFile	TokenNameIdentifier	 del File
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
dsfile	TokenNameIdentifier	 dsfile
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
LIST_FILES	TokenNameIdentifier	 LIST  FILES
:	TokenNameCOLON	
listFile	TokenNameIdentifier	 list File
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
fbw	TokenNameIdentifier	 fbw
,	TokenNameCOMMA	
dsfile	TokenNameIdentifier	 dsfile
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
case	TokenNamecase	
CHMOD	TokenNameIdentifier	 CHMOD
:	TokenNameCOLON	
doSiteCommand	TokenNameIdentifier	 do Site Command
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
"chmod "	TokenNameStringLiteral	chmod 
+	TokenNamePLUS	
chmod	TokenNameIdentifier	 chmod
+	TokenNamePLUS	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
dsfile	TokenNameIdentifier	 dsfile
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
transferred	TokenNameIdentifier	 transferred
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
default	TokenNamedefault	
:	TokenNameCOLON	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"unknown ftp action "	TokenNameStringLiteral	unknown ftp action 
+	TokenNamePLUS	
action	TokenNameIdentifier	 action
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
dsfile	TokenNameIdentifier	 dsfile
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
bw	TokenNameIdentifier	 bw
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
dsfiles	TokenNameIdentifier	 dsfiles
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sends all files specified by the configured filesets to the remote * server. * * @param ftp the FTPClient instance used to perform FTP actions * * @throws IOException if there is a problem reading a file * @throws BuildException if there is a problem in the configuration. */	TokenNameCOMMENT_JAVADOC	 Sends all files specified by the configured filesets to the remote server. * @param ftp the FTPClient instance used to perform FTP actions * @throws IOException if there is a problem reading a file @throws BuildException if there is a problem in the configuration. 
protected	TokenNameprotected	
void	TokenNamevoid	
transferFiles	TokenNameIdentifier	 transfer Files
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
transferred	TokenNameIdentifier	 transferred
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
skipped	TokenNameIdentifier	 skipped
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
filesets	TokenNameIdentifier	 filesets
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"at least one fileset must be specified."	TokenNameStringLiteral	at least one fileset must be specified.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// get files from filesets 	TokenNameCOMMENT_LINE	get files from filesets 
final	TokenNamefinal	
int	TokenNameint	
size	TokenNameIdentifier	 size
=	TokenNameEQUAL	
filesets	TokenNameIdentifier	 filesets
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
size	TokenNameIdentifier	 size
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
FileSet	TokenNameIdentifier	 File Set
fs	TokenNameIdentifier	 fs
=	TokenNameEQUAL	
(	TokenNameLPAREN	
FileSet	TokenNameIdentifier	 File Set
)	TokenNameRPAREN	
filesets	TokenNameIdentifier	 filesets
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
fs	TokenNameIdentifier	 fs
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
transferFiles	TokenNameIdentifier	 transfer Files
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
fs	TokenNameIdentifier	 fs
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
transferred	TokenNameIdentifier	 transferred
+	TokenNamePLUS	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
ACTION_TARGET_STRS	TokenNameIdentifier	 ACTION  TARGET  STRS
[	TokenNameLBRACKET	
action	TokenNameIdentifier	 action
]	TokenNameRBRACKET	
+	TokenNamePLUS	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
COMPLETED_ACTION_STRS	TokenNameIdentifier	 COMPLETED  ACTION  STRS
[	TokenNameLBRACKET	
action	TokenNameIdentifier	 action
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
skipped	TokenNameIdentifier	 skipped
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
skipped	TokenNameIdentifier	 skipped
+	TokenNamePLUS	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
ACTION_TARGET_STRS	TokenNameIdentifier	 ACTION  TARGET  STRS
[	TokenNameLBRACKET	
action	TokenNameIdentifier	 action
]	TokenNameRBRACKET	
+	TokenNamePLUS	
" were not successfully "	TokenNameStringLiteral	 were not successfully 
+	TokenNamePLUS	
COMPLETED_ACTION_STRS	TokenNameIdentifier	 COMPLETED  ACTION  STRS
[	TokenNameLBRACKET	
action	TokenNameIdentifier	 action
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Correct a file path to correspond to the remote host requirements. This * implementation currently assumes that the remote end can handle * Unix-style paths with forward-slash separators. This can be overridden * with the <code>separator</code> task parameter. No attempt is made to * determine what syntax is appropriate for the remote host. * * @param file the remote file name to be resolved * * @return the filename as it will appear on the server. */	TokenNameCOMMENT_JAVADOC	 Correct a file path to correspond to the remote host requirements. This implementation currently assumes that the remote end can handle Unix-style paths with forward-slash separators. This can be overridden with the <code>separator</code> task parameter. No attempt is made to determine what syntax is appropriate for the remote host. * @param file the remote file name to be resolved * @return the filename as it will appear on the server. 
protected	TokenNameprotected	
String	TokenNameIdentifier	 String
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
file	TokenNameIdentifier	 file
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
replace	TokenNameIdentifier	 replace
(	TokenNameLPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
"file.separator"	TokenNameStringLiteral	file.separator
)	TokenNameRPAREN	
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
remoteFileSep	TokenNameIdentifier	 remote File Sep
.	TokenNameDOT	
charAt	TokenNameIdentifier	 char At
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Creates all parent directories specified in a complete relative * pathname. Attempts to create existing directories will not cause * errors. * * @param ftp the FTP client instance to use to execute FTP actions on * the remote server. * @param filename the name of the file whose parents should be created. * @throws IOException under non documented circumstances * @throws BuildException if it is impossible to cd to a remote directory * */	TokenNameCOMMENT_JAVADOC	 Creates all parent directories specified in a complete relative pathname. Attempts to create existing directories will not cause errors. * @param ftp the FTP client instance to use to execute FTP actions on the remote server. @param filename the name of the file whose parents should be created. @throws IOException under non documented circumstances @throws BuildException if it is impossible to cd to a remote directory 
protected	TokenNameprotected	
void	TokenNamevoid	
createParents	TokenNameIdentifier	 create Parents
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
File	TokenNameIdentifier	 File
dir	TokenNameIdentifier	 dir
=	TokenNameEQUAL	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
dirCache	TokenNameIdentifier	 dir Cache
.	TokenNameDOT	
contains	TokenNameIdentifier	 contains
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Vector	TokenNameIdentifier	 Vector
parents	TokenNameIdentifier	 parents
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
dirname	TokenNameIdentifier	 dirname
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
dirname	TokenNameIdentifier	 dirname
=	TokenNameEQUAL	
dir	TokenNameIdentifier	 dir
.	TokenNameDOT	
getParent	TokenNameIdentifier	 get Parent
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
File	TokenNameIdentifier	 File
checkDir	TokenNameIdentifier	 check Dir
=	TokenNameEQUAL	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
dirname	TokenNameIdentifier	 dirname
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
dirCache	TokenNameIdentifier	 dir Cache
.	TokenNameDOT	
contains	TokenNameIdentifier	 contains
(	TokenNameLPAREN	
checkDir	TokenNameIdentifier	 check Dir
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
dir	TokenNameIdentifier	 dir
=	TokenNameEQUAL	
checkDir	TokenNameIdentifier	 check Dir
;	TokenNameSEMICOLON	
parents	TokenNameIdentifier	 parents
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// find first non cached dir 	TokenNameCOMMENT_LINE	find first non cached dir 
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
parents	TokenNameIdentifier	 parents
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
>=	TokenNameGREATER_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
cwd	TokenNameIdentifier	 cwd
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
printWorkingDirectory	TokenNameIdentifier	 print Working Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
parent	TokenNameIdentifier	 parent
=	TokenNameEQUAL	
dir	TokenNameIdentifier	 dir
.	TokenNameDOT	
getParent	TokenNameIdentifier	 get Parent
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
parent	TokenNameIdentifier	 parent
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
parent	TokenNameIdentifier	 parent
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"could not change to "	TokenNameStringLiteral	could not change to 
+	TokenNamePLUS	
"directory: "	TokenNameStringLiteral	directory: 
+	TokenNamePLUS	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyString	TokenNameIdentifier	 get Reply String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
>=	TokenNameGREATER_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
dir	TokenNameIdentifier	 dir
=	TokenNameEQUAL	
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
)	TokenNameRPAREN	
parents	TokenNameIdentifier	 parents
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
--	TokenNameMINUS_MINUS	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// check if dir exists by trying to change into it. 	TokenNameCOMMENT_LINE	check if dir exists by trying to change into it. 
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// could not change to it - try to create it 	TokenNameCOMMENT_LINE	could not change to it - try to create it 
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"creating remote directory "	TokenNameStringLiteral	creating remote directory 
+	TokenNamePLUS	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
makeDirectory	TokenNameIdentifier	 make Directory
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
handleMkDirFailure	TokenNameIdentifier	 handle Mk Dir Failure
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"could not change to "	TokenNameStringLiteral	could not change to 
+	TokenNamePLUS	
"directory: "	TokenNameStringLiteral	directory: 
+	TokenNamePLUS	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyString	TokenNameIdentifier	 get Reply String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
dirCache	TokenNameIdentifier	 dir Cache
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
cwd	TokenNameIdentifier	 cwd
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * auto find the time difference between local and remote * @param ftp handle to ftp client * @return number of millis to add to remote time to make it comparable to local time * @since ant 1.6 */	TokenNameCOMMENT_JAVADOC	 auto find the time difference between local and remote @param ftp handle to ftp client @return number of millis to add to remote time to make it comparable to local time @since ant 1.6 
private	TokenNameprivate	
long	TokenNamelong	
getTimeDiff	TokenNameIdentifier	 get Time Diff
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
)	TokenNameRPAREN	
{	TokenNameLBRACE	
long	TokenNamelong	
returnValue	TokenNameIdentifier	 return Value
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
File	TokenNameIdentifier	 File
tempFile	TokenNameIdentifier	 temp File
=	TokenNameEQUAL	
findFileName	TokenNameIdentifier	 find File Name
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
// create a local temporary file 	TokenNameCOMMENT_LINE	create a local temporary file 
FILE_UTILS	TokenNameIdentifier	 FILE  UTILS
.	TokenNameDOT	
createNewFile	TokenNameIdentifier	 create New File
(	TokenNameLPAREN	
tempFile	TokenNameIdentifier	 temp File
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
long	TokenNamelong	
localTimeStamp	TokenNameIdentifier	 local Time Stamp
=	TokenNameEQUAL	
tempFile	TokenNameIdentifier	 temp File
.	TokenNameDOT	
lastModified	TokenNameIdentifier	 last Modified
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BufferedInputStream	TokenNameIdentifier	 Buffered Input Stream
instream	TokenNameIdentifier	 instream
=	TokenNameEQUAL	
new	TokenNamenew	
BufferedInputStream	TokenNameIdentifier	 Buffered Input Stream
(	TokenNameLPAREN	
new	TokenNamenew	
FileInputStream	TokenNameIdentifier	 File Input Stream
(	TokenNameLPAREN	
tempFile	TokenNameIdentifier	 temp File
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
storeFile	TokenNameIdentifier	 store File
(	TokenNameLPAREN	
tempFile	TokenNameIdentifier	 temp File
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
instream	TokenNameIdentifier	 instream
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
instream	TokenNameIdentifier	 instream
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
success	TokenNameIdentifier	 success
=	TokenNameEQUAL	
FTPReply	TokenNameIdentifier	 FTP Reply
.	TokenNameDOT	
isPositiveCompletion	TokenNameIdentifier	 is Positive Completion
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyCode	TokenNameIdentifier	 get Reply Code
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
success	TokenNameIdentifier	 success
)	TokenNameRPAREN	
{	TokenNameLBRACE	
FTPFile	TokenNameIdentifier	 FTP File
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
ftpFiles	TokenNameIdentifier	 ftp Files
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
listFiles	TokenNameIdentifier	 list Files
(	TokenNameLPAREN	
tempFile	TokenNameIdentifier	 temp File
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
ftpFiles	TokenNameIdentifier	 ftp Files
.	TokenNameDOT	
length	TokenNameIdentifier	 length
==	TokenNameEQUAL_EQUAL	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
long	TokenNamelong	
remoteTimeStamp	TokenNameIdentifier	 remote Time Stamp
=	TokenNameEQUAL	
ftpFiles	TokenNameIdentifier	 ftp Files
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
getTimestamp	TokenNameIdentifier	 get Timestamp
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getTime	TokenNameIdentifier	 get Time
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getTime	TokenNameIdentifier	 get Time
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
returnValue	TokenNameIdentifier	 return Value
=	TokenNameEQUAL	
localTimeStamp	TokenNameIdentifier	 local Time Stamp
-	TokenNameMINUS	
remoteTimeStamp	TokenNameIdentifier	 remote Time Stamp
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
deleteFile	TokenNameIdentifier	 delete File
(	TokenNameLPAREN	
ftpFiles	TokenNameIdentifier	 ftp Files
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// delegate the deletion of the local temp file to the delete task 	TokenNameCOMMENT_LINE	delegate the deletion of the local temp file to the delete task 
// because of race conditions occuring on Windows 	TokenNameCOMMENT_LINE	because of race conditions occuring on Windows 
Delete	TokenNameIdentifier	 Delete
mydelete	TokenNameIdentifier	 mydelete
=	TokenNameEQUAL	
new	TokenNamenew	
Delete	TokenNameIdentifier	 Delete
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
mydelete	TokenNameIdentifier	 mydelete
.	TokenNameDOT	
bindToOwner	TokenNameIdentifier	 bind To Owner
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
mydelete	TokenNameIdentifier	 mydelete
.	TokenNameDOT	
setFile	TokenNameIdentifier	 set File
(	TokenNameLPAREN	
tempFile	TokenNameIdentifier	 temp File
.	TokenNameDOT	
getCanonicalFile	TokenNameIdentifier	 get Canonical File
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
mydelete	TokenNameIdentifier	 mydelete
.	TokenNameDOT	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
e	TokenNameIdentifier	 e
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
returnValue	TokenNameIdentifier	 return Value
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * find a suitable name for local and remote temporary file */	TokenNameCOMMENT_JAVADOC	 find a suitable name for local and remote temporary file 
private	TokenNameprivate	
File	TokenNameIdentifier	 File
findFileName	TokenNameIdentifier	 find File Name
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
)	TokenNameRPAREN	
{	TokenNameLBRACE	
FTPFile	TokenNameIdentifier	 FTP File
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
theFiles	TokenNameIdentifier	 the Files
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
maxIterations	TokenNameIdentifier	 max Iterations
=	TokenNameEQUAL	
1000	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
counter	TokenNameIdentifier	 counter
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
counter	TokenNameIdentifier	 counter
<	TokenNameLESS	
maxIterations	TokenNameIdentifier	 max Iterations
;	TokenNameSEMICOLON	
counter	TokenNameIdentifier	 counter
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
File	TokenNameIdentifier	 File
localFile	TokenNameIdentifier	 local File
=	TokenNameEQUAL	
FILE_UTILS	TokenNameIdentifier	 FILE  UTILS
.	TokenNameDOT	
createTempFile	TokenNameIdentifier	 create Temp File
(	TokenNameLPAREN	
"ant"	TokenNameStringLiteral	ant
+	TokenNamePLUS	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
counter	TokenNameIdentifier	 counter
)	TokenNameRPAREN	
,	TokenNameCOMMA	
".tmp"	TokenNameStringLiteral	.tmp
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
false	TokenNamefalse	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
fileName	TokenNameIdentifier	 file Name
=	TokenNameEQUAL	
localFile	TokenNameIdentifier	 local File
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
found	TokenNameIdentifier	 found
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
theFiles	TokenNameIdentifier	 the Files
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
theFiles	TokenNameIdentifier	 the Files
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
listFiles	TokenNameIdentifier	 list Files
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
counter2	TokenNameIdentifier	 counter2
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
counter2	TokenNameIdentifier	 counter2
<	TokenNameLESS	
theFiles	TokenNameIdentifier	 the Files
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
counter2	TokenNameIdentifier	 counter2
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
theFiles	TokenNameIdentifier	 the Files
[	TokenNameLBRACKET	
counter2	TokenNameIdentifier	 counter2
]	TokenNameRBRACKET	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
theFiles	TokenNameIdentifier	 the Files
[	TokenNameLBRACKET	
counter2	TokenNameIdentifier	 counter2
]	TokenNameRBRACKET	
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
fileName	TokenNameIdentifier	 file Name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
found	TokenNameIdentifier	 found
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioe	TokenNameIdentifier	 ioe
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
ioe	TokenNameIdentifier	 ioe
,	TokenNameCOMMA	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
found	TokenNameIdentifier	 found
)	TokenNameRPAREN	
{	TokenNameLBRACE	
localFile	TokenNameIdentifier	 local File
.	TokenNameDOT	
deleteOnExit	TokenNameIdentifier	 delete On Exit
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
localFile	TokenNameIdentifier	 local File
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Checks to see if the remote file is current as compared with the local * file. Returns true if the target file is up to date. * @param ftp ftpclient * @param localFile local file * @param remoteFile remote file * @return true if the target file is up to date * @throws IOException in unknown circumstances * @throws BuildException if the date of the remote files cannot be found and the action is * GET_FILES */	TokenNameCOMMENT_JAVADOC	 Checks to see if the remote file is current as compared with the local file. Returns true if the target file is up to date. @param ftp ftpclient @param localFile local file @param remoteFile remote file @return true if the target file is up to date @throws IOException in unknown circumstances @throws BuildException if the date of the remote files cannot be found and the action is GET_FILES 
protected	TokenNameprotected	
boolean	TokenNameboolean	
isUpToDate	TokenNameIdentifier	 is Up To Date
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
localFile	TokenNameIdentifier	 local File
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
remoteFile	TokenNameIdentifier	 remote File
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"checking date for "	TokenNameStringLiteral	checking date for 
+	TokenNamePLUS	
remoteFile	TokenNameIdentifier	 remote File
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
FTPFile	TokenNameIdentifier	 FTP File
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
files	TokenNameIdentifier	 files
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
listFiles	TokenNameIdentifier	 list Files
(	TokenNameLPAREN	
remoteFile	TokenNameIdentifier	 remote File
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// For Microsoft's Ftp-Service an Array with length 0 is 	TokenNameCOMMENT_LINE	For Microsoft's Ftp-Service an Array with length 0 is 
// returned if configured to return listings in "MS-DOS"-Format 	TokenNameCOMMENT_LINE	returned if configured to return listings in "MS-DOS"-Format 
if	TokenNameif	
(	TokenNameLPAREN	
files	TokenNameIdentifier	 files
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
files	TokenNameIdentifier	 files
.	TokenNameDOT	
length	TokenNameIdentifier	 length
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// If we are sending files, then assume out of date. 	TokenNameCOMMENT_LINE	If we are sending files, then assume out of date. 
// If we are getting files, then throw an error 	TokenNameCOMMENT_LINE	If we are getting files, then throw an error 
if	TokenNameif	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
SEND_FILES	TokenNameIdentifier	 SEND  FILES
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Could not date test remote file: "	TokenNameStringLiteral	Could not date test remote file: 
+	TokenNamePLUS	
remoteFile	TokenNameIdentifier	 remote File
+	TokenNamePLUS	
"assuming out of date."	TokenNameStringLiteral	assuming out of date.
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"could not date test remote file: "	TokenNameStringLiteral	could not date test remote file: 
+	TokenNamePLUS	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyString	TokenNameIdentifier	 get Reply String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
long	TokenNamelong	
remoteTimestamp	TokenNameIdentifier	 remote Timestamp
=	TokenNameEQUAL	
files	TokenNameIdentifier	 files
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
getTimestamp	TokenNameIdentifier	 get Timestamp
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getTime	TokenNameIdentifier	 get Time
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getTime	TokenNameIdentifier	 get Time
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
long	TokenNamelong	
localTimestamp	TokenNameIdentifier	 local Timestamp
=	TokenNameEQUAL	
localFile	TokenNameIdentifier	 local File
.	TokenNameDOT	
lastModified	TokenNameIdentifier	 last Modified
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
long	TokenNamelong	
adjustedRemoteTimestamp	TokenNameIdentifier	 adjusted Remote Timestamp
=	TokenNameEQUAL	
remoteTimestamp	TokenNameIdentifier	 remote Timestamp
+	TokenNamePLUS	
this	TokenNamethis	
.	TokenNameDOT	
timeDiffMillis	TokenNameIdentifier	 time Diff Millis
+	TokenNamePLUS	
this	TokenNamethis	
.	TokenNameDOT	
granularityMillis	TokenNameIdentifier	 granularity Millis
;	TokenNameSEMICOLON	
StringBuffer	TokenNameIdentifier	 String Buffer
msg	TokenNameIdentifier	 msg
;	TokenNameSEMICOLON	
synchronized	TokenNamesynchronized	
(	TokenNameLPAREN	
TIMESTAMP_LOGGING_SDF	TokenNameIdentifier	 TIMESTAMP  LOGGING  SDF
)	TokenNameRPAREN	
{	TokenNameLBRACE	
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
new	TokenNamenew	
StringBuffer	TokenNameIdentifier	 String Buffer
(	TokenNameLPAREN	
" ["	TokenNameStringLiteral	 [
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
TIMESTAMP_LOGGING_SDF	TokenNameIdentifier	 TIMESTAMP  LOGGING  SDF
.	TokenNameDOT	
format	TokenNameIdentifier	 format
(	TokenNameLPAREN	
new	TokenNamenew	
Date	TokenNameIdentifier	 Date
(	TokenNameLPAREN	
localTimestamp	TokenNameIdentifier	 local Timestamp
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"] local"	TokenNameStringLiteral	] local
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
msg	TokenNameIdentifier	 msg
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
synchronized	TokenNamesynchronized	
(	TokenNameLPAREN	
TIMESTAMP_LOGGING_SDF	TokenNameIdentifier	 TIMESTAMP  LOGGING  SDF
)	TokenNameRPAREN	
{	TokenNameLBRACE	
msg	TokenNameIdentifier	 msg
=	TokenNameEQUAL	
new	TokenNamenew	
StringBuffer	TokenNameIdentifier	 String Buffer
(	TokenNameLPAREN	
" ["	TokenNameStringLiteral	 [
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
TIMESTAMP_LOGGING_SDF	TokenNameIdentifier	 TIMESTAMP  LOGGING  SDF
.	TokenNameDOT	
format	TokenNameIdentifier	 format
(	TokenNameLPAREN	
new	TokenNamenew	
Date	TokenNameIdentifier	 Date
(	TokenNameLPAREN	
adjustedRemoteTimestamp	TokenNameIdentifier	 adjusted Remote Timestamp
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
"] remote"	TokenNameStringLiteral	] remote
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
remoteTimestamp	TokenNameIdentifier	 remote Timestamp
!=	TokenNameNOT_EQUAL	
adjustedRemoteTimestamp	TokenNameIdentifier	 adjusted Remote Timestamp
)	TokenNameRPAREN	
{	TokenNameLBRACE	
synchronized	TokenNamesynchronized	
(	TokenNameLPAREN	
TIMESTAMP_LOGGING_SDF	TokenNameIdentifier	 TIMESTAMP  LOGGING  SDF
)	TokenNameRPAREN	
{	TokenNameLBRACE	
msg	TokenNameIdentifier	 msg
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" - (raw: "	TokenNameStringLiteral	 - (raw: 
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
TIMESTAMP_LOGGING_SDF	TokenNameIdentifier	 TIMESTAMP  LOGGING  SDF
.	TokenNameDOT	
format	TokenNameIdentifier	 format
(	TokenNameLPAREN	
new	TokenNamenew	
Date	TokenNameIdentifier	 Date
(	TokenNameLPAREN	
remoteTimestamp	TokenNameIdentifier	 remote Timestamp
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
")"	TokenNameStringLiteral	)
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
msg	TokenNameIdentifier	 msg
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
SEND_FILES	TokenNameIdentifier	 SEND  FILES
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
adjustedRemoteTimestamp	TokenNameIdentifier	 adjusted Remote Timestamp
>=	TokenNameGREATER_EQUAL	
localTimestamp	TokenNameIdentifier	 local Timestamp
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
return	TokenNamereturn	
localTimestamp	TokenNameIdentifier	 local Timestamp
>=	TokenNameGREATER_EQUAL	
adjustedRemoteTimestamp	TokenNameIdentifier	 adjusted Remote Timestamp
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Sends a site command to the ftp server * @param ftp ftp client * @param theCMD command to execute * @throws IOException in unknown circumstances * @throws BuildException in unknown circumstances */	TokenNameCOMMENT_JAVADOC	 Sends a site command to the ftp server @param ftp ftp client @param theCMD command to execute @throws IOException in unknown circumstances @throws BuildException in unknown circumstances 
protected	TokenNameprotected	
void	TokenNamevoid	
doSiteCommand	TokenNameIdentifier	 do Site Command
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
theCMD	TokenNameIdentifier	 the CMD
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
boolean	TokenNameboolean	
rc	TokenNameIdentifier	 rc
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
myReply	TokenNameIdentifier	 my Reply
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Doing Site Command: "	TokenNameStringLiteral	Doing Site Command: 
+	TokenNamePLUS	
theCMD	TokenNameIdentifier	 the CMD
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
rc	TokenNameIdentifier	 rc
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
sendSiteCommand	TokenNameIdentifier	 send Site Command
(	TokenNameLPAREN	
theCMD	TokenNameIdentifier	 the CMD
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
rc	TokenNameIdentifier	 rc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Failed to issue Site Command: "	TokenNameStringLiteral	Failed to issue Site Command: 
+	TokenNamePLUS	
theCMD	TokenNameIdentifier	 the CMD
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_WARN	TokenNameIdentifier	 MSG  WARN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
myReply	TokenNameIdentifier	 my Reply
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyStrings	TokenNameIdentifier	 get Reply Strings
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
x	TokenNameIdentifier	 x
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
x	TokenNameIdentifier	 x
<	TokenNameLESS	
myReply	TokenNameIdentifier	 my Reply
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
x	TokenNameIdentifier	 x
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
myReply	TokenNameIdentifier	 my Reply
[	TokenNameLBRACKET	
x	TokenNameIdentifier	 x
]	TokenNameRBRACKET	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
myReply	TokenNameIdentifier	 my Reply
[	TokenNameLBRACKET	
x	TokenNameIdentifier	 x
]	TokenNameRBRACKET	
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
"200"	TokenNameStringLiteral	200
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
myReply	TokenNameIdentifier	 my Reply
[	TokenNameLBRACKET	
x	TokenNameIdentifier	 x
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_WARN	TokenNameIdentifier	 MSG  WARN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Sends a single file to the remote host. <code>filename</code> may * contain a relative path specification. When this is the case, <code>sendFile</code> * will attempt to create any necessary parent directories before sending * the file. The file will then be sent using the entire relative path * spec - no attempt is made to change directories. It is anticipated that * this may eventually cause problems with some FTP servers, but it * simplifies the coding. * @param ftp ftp client * @param dir base directory of the file to be sent (local) * @param filename relative path of the file to be send * locally relative to dir * remotely relative to the remotedir attribute * @throws IOException in unknown circumstances * @throws BuildException in unknown circumstances */	TokenNameCOMMENT_JAVADOC	 Sends a single file to the remote host. <code>filename</code> may contain a relative path specification. When this is the case, <code>sendFile</code> will attempt to create any necessary parent directories before sending the file. The file will then be sent using the entire relative path spec - no attempt is made to change directories. It is anticipated that this may eventually cause problems with some FTP servers, but it simplifies the coding. @param ftp ftp client @param dir base directory of the file to be sent (local) @param filename relative path of the file to be send locally relative to dir remotely relative to the remotedir attribute @throws IOException in unknown circumstances @throws BuildException in unknown circumstances 
protected	TokenNameprotected	
void	TokenNamevoid	
sendFile	TokenNameIdentifier	 send File
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
dir	TokenNameIdentifier	 dir
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
InputStream	TokenNameIdentifier	 Input Stream
instream	TokenNameIdentifier	 instream
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
// XXX - why not simply new File(dir, filename)? 	TokenNameCOMMENT_LINE	XXX - why not simply new File(dir, filename)? 
File	TokenNameIdentifier	 File
file	TokenNameIdentifier	 file
=	TokenNameEQUAL	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
,	TokenNameCOMMA	
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
newerOnly	TokenNameIdentifier	 newer Only
&&	TokenNameAND_AND	
isUpToDate	TokenNameIdentifier	 is Up To Date
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
file	TokenNameIdentifier	 file
,	TokenNameCOMMA	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
verbose	TokenNameIdentifier	 verbose
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"transferring "	TokenNameStringLiteral	transferring 
+	TokenNamePLUS	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
instream	TokenNameIdentifier	 instream
=	TokenNameEQUAL	
new	TokenNamenew	
BufferedInputStream	TokenNameIdentifier	 Buffered Input Stream
(	TokenNameLPAREN	
new	TokenNamenew	
FileInputStream	TokenNameIdentifier	 File Input Stream
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
createParents	TokenNameIdentifier	 create Parents
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
storeFile	TokenNameIdentifier	 store File
(	TokenNameLPAREN	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
,	TokenNameCOMMA	
instream	TokenNameIdentifier	 instream
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
boolean	TokenNameboolean	
success	TokenNameIdentifier	 success
=	TokenNameEQUAL	
FTPReply	TokenNameIdentifier	 FTP Reply
.	TokenNameDOT	
isPositiveCompletion	TokenNameIdentifier	 is Positive Completion
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyCode	TokenNameIdentifier	 get Reply Code
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
success	TokenNameIdentifier	 success
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
"could not put file: "	TokenNameStringLiteral	could not put file: 
+	TokenNamePLUS	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyString	TokenNameIdentifier	 get Reply String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
skipFailedTransfers	TokenNameIdentifier	 skip Failed Transfers
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_WARN	TokenNameIdentifier	 MSG  WARN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
skipped	TokenNameIdentifier	 skipped
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
s	TokenNameIdentifier	 s
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// see if we should issue a chmod command 	TokenNameCOMMENT_LINE	see if we should issue a chmod command 
if	TokenNameif	
(	TokenNameLPAREN	
chmod	TokenNameIdentifier	 chmod
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
doSiteCommand	TokenNameIdentifier	 do Site Command
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
"chmod "	TokenNameStringLiteral	chmod 
+	TokenNamePLUS	
chmod	TokenNameIdentifier	 chmod
+	TokenNamePLUS	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"File "	TokenNameStringLiteral	File 
+	TokenNamePLUS	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" copied to "	TokenNameStringLiteral	 copied to 
+	TokenNamePLUS	
server	TokenNameIdentifier	 server
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
transferred	TokenNameIdentifier	 transferred
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
instream	TokenNameIdentifier	 instream
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Delete a file from the remote host. * @param ftp ftp client * @param filename file to delete * @throws IOException in unknown circumstances * @throws BuildException if skipFailedTransfers is set to false * and the deletion could not be done */	TokenNameCOMMENT_JAVADOC	 Delete a file from the remote host. @param ftp ftp client @param filename file to delete @throws IOException in unknown circumstances @throws BuildException if skipFailedTransfers is set to false and the deletion could not be done 
protected	TokenNameprotected	
void	TokenNamevoid	
delFile	TokenNameIdentifier	 del File
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
verbose	TokenNameIdentifier	 verbose
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"deleting "	TokenNameStringLiteral	deleting 
+	TokenNamePLUS	
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
deleteFile	TokenNameIdentifier	 delete File
(	TokenNameLPAREN	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
"could not delete file: "	TokenNameStringLiteral	could not delete file: 
+	TokenNamePLUS	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyString	TokenNameIdentifier	 get Reply String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
skipFailedTransfers	TokenNameIdentifier	 skip Failed Transfers
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_WARN	TokenNameIdentifier	 MSG  WARN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
skipped	TokenNameIdentifier	 skipped
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
s	TokenNameIdentifier	 s
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"File "	TokenNameStringLiteral	File 
+	TokenNamePLUS	
filename	TokenNameIdentifier	 filename
+	TokenNamePLUS	
" deleted from "	TokenNameStringLiteral	 deleted from 
+	TokenNamePLUS	
server	TokenNameIdentifier	 server
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
transferred	TokenNameIdentifier	 transferred
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Delete a directory, if empty, from the remote host. * @param ftp ftp client * @param dirname directory to delete * @throws IOException in unknown circumstances * @throws BuildException if skipFailedTransfers is set to false * and the deletion could not be done */	TokenNameCOMMENT_JAVADOC	 Delete a directory, if empty, from the remote host. @param ftp ftp client @param dirname directory to delete @throws IOException in unknown circumstances @throws BuildException if skipFailedTransfers is set to false and the deletion could not be done 
protected	TokenNameprotected	
void	TokenNamevoid	
rmDir	TokenNameIdentifier	 rm Dir
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
dirname	TokenNameIdentifier	 dirname
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
verbose	TokenNameIdentifier	 verbose
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"removing "	TokenNameStringLiteral	removing 
+	TokenNamePLUS	
dirname	TokenNameIdentifier	 dirname
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
removeDirectory	TokenNameIdentifier	 remove Directory
(	TokenNameLPAREN	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
dirname	TokenNameIdentifier	 dirname
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
"could not remove directory: "	TokenNameStringLiteral	could not remove directory: 
+	TokenNamePLUS	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyString	TokenNameIdentifier	 get Reply String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
skipFailedTransfers	TokenNameIdentifier	 skip Failed Transfers
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_WARN	TokenNameIdentifier	 MSG  WARN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
skipped	TokenNameIdentifier	 skipped
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
s	TokenNameIdentifier	 s
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Directory "	TokenNameStringLiteral	Directory 
+	TokenNamePLUS	
dirname	TokenNameIdentifier	 dirname
+	TokenNamePLUS	
" removed from "	TokenNameStringLiteral	 removed from 
+	TokenNamePLUS	
server	TokenNameIdentifier	 server
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
transferred	TokenNameIdentifier	 transferred
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Retrieve a single file from the remote host. <code>filename</code> may * contain a relative path specification. <p> * * The file will then be retreived using the entire relative path spec - * no attempt is made to change directories. It is anticipated that this * may eventually cause problems with some FTP servers, but it simplifies * the coding.</p> * @param ftp the ftp client * @param dir local base directory to which the file should go back * @param filename relative path of the file based upon the ftp remote directory * and/or the local base directory (dir) * @throws IOException in unknown circumstances * @throws BuildException if skipFailedTransfers is false * and the file cannot be retrieved. */	TokenNameCOMMENT_JAVADOC	 Retrieve a single file from the remote host. <code>filename</code> may contain a relative path specification. <p> * The file will then be retreived using the entire relative path spec - no attempt is made to change directories. It is anticipated that this may eventually cause problems with some FTP servers, but it simplifies the coding.</p> @param ftp the ftp client @param dir local base directory to which the file should go back @param filename relative path of the file based upon the ftp remote directory and/or the local base directory (dir) @throws IOException in unknown circumstances @throws BuildException if skipFailedTransfers is false and the file cannot be retrieved. 
protected	TokenNameprotected	
void	TokenNamevoid	
getFile	TokenNameIdentifier	 get File
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
dir	TokenNameIdentifier	 dir
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
OutputStream	TokenNameIdentifier	 Output Stream
outstream	TokenNameIdentifier	 outstream
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
File	TokenNameIdentifier	 File
file	TokenNameIdentifier	 file
=	TokenNameEQUAL	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
,	TokenNameCOMMA	
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
newerOnly	TokenNameIdentifier	 newer Only
&&	TokenNameAND_AND	
isUpToDate	TokenNameIdentifier	 is Up To Date
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
file	TokenNameIdentifier	 file
,	TokenNameCOMMA	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
verbose	TokenNameIdentifier	 verbose
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"transferring "	TokenNameStringLiteral	transferring 
+	TokenNamePLUS	
filename	TokenNameIdentifier	 filename
+	TokenNamePLUS	
" to "	TokenNameStringLiteral	 to 
+	TokenNamePLUS	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
File	TokenNameIdentifier	 File
pdir	TokenNameIdentifier	 pdir
=	TokenNameEQUAL	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getParentFile	TokenNameIdentifier	 get Parent File
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
pdir	TokenNameIdentifier	 pdir
.	TokenNameDOT	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
pdir	TokenNameIdentifier	 pdir
.	TokenNameDOT	
mkdirs	TokenNameIdentifier	 mkdirs
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
outstream	TokenNameIdentifier	 outstream
=	TokenNameEQUAL	
new	TokenNamenew	
BufferedOutputStream	TokenNameIdentifier	 Buffered Output Stream
(	TokenNameLPAREN	
new	TokenNamenew	
FileOutputStream	TokenNameIdentifier	 File Output Stream
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
retrieveFile	TokenNameIdentifier	 retrieve File
(	TokenNameLPAREN	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
,	TokenNameCOMMA	
outstream	TokenNameIdentifier	 outstream
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
FTPReply	TokenNameIdentifier	 FTP Reply
.	TokenNameDOT	
isPositiveCompletion	TokenNameIdentifier	 is Positive Completion
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyCode	TokenNameIdentifier	 get Reply Code
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
s	TokenNameIdentifier	 s
=	TokenNameEQUAL	
"could not get file: "	TokenNameStringLiteral	could not get file: 
+	TokenNamePLUS	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyString	TokenNameIdentifier	 get Reply String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
skipFailedTransfers	TokenNameIdentifier	 skip Failed Transfers
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
s	TokenNameIdentifier	 s
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_WARN	TokenNameIdentifier	 MSG  WARN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
skipped	TokenNameIdentifier	 skipped
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
s	TokenNameIdentifier	 s
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"File "	TokenNameStringLiteral	File 
+	TokenNamePLUS	
file	TokenNameIdentifier	 file
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
" copied from "	TokenNameStringLiteral	 copied from 
+	TokenNamePLUS	
server	TokenNameIdentifier	 server
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
transferred	TokenNameIdentifier	 transferred
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
preserveLastModified	TokenNameIdentifier	 preserve Last Modified
)	TokenNameRPAREN	
{	TokenNameLBRACE	
outstream	TokenNameIdentifier	 outstream
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
outstream	TokenNameIdentifier	 outstream
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
FTPFile	TokenNameIdentifier	 FTP File
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
remote	TokenNameIdentifier	 remote
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
listFiles	TokenNameIdentifier	 list Files
(	TokenNameLPAREN	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
remote	TokenNameIdentifier	 remote
.	TokenNameDOT	
length	TokenNameIdentifier	 length
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
FILE_UTILS	TokenNameIdentifier	 FILE  UTILS
.	TokenNameDOT	
setFileLastModified	TokenNameIdentifier	 set File Last Modified
(	TokenNameLPAREN	
file	TokenNameIdentifier	 file
,	TokenNameCOMMA	
remote	TokenNameIdentifier	 remote
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
getTimestamp	TokenNameIdentifier	 get Timestamp
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getTime	TokenNameIdentifier	 get Time
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getTime	TokenNameIdentifier	 get Time
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
outstream	TokenNameIdentifier	 outstream
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * List information about a single file from the remote host. <code>filename</code> * may contain a relative path specification. <p> * * The file listing will then be retrieved using the entire relative path * spec - no attempt is made to change directories. It is anticipated that * this may eventually cause problems with some FTP servers, but it * simplifies the coding.</p> * @param ftp ftp client * @param bw buffered writer * @param filename the directory one wants to list * @throws IOException in unknown circumstances * @throws BuildException in unknown circumstances */	TokenNameCOMMENT_JAVADOC	 List information about a single file from the remote host. <code>filename</code> may contain a relative path specification. <p> * The file listing will then be retrieved using the entire relative path spec - no attempt is made to change directories. It is anticipated that this may eventually cause problems with some FTP servers, but it simplifies the coding.</p> @param ftp ftp client @param bw buffered writer @param filename the directory one wants to list @throws IOException in unknown circumstances @throws BuildException in unknown circumstances 
protected	TokenNameprotected	
void	TokenNamevoid	
listFile	TokenNameIdentifier	 list File
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
BufferedWriter	TokenNameIdentifier	 Buffered Writer
bw	TokenNameIdentifier	 bw
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
verbose	TokenNameIdentifier	 verbose
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"listing "	TokenNameStringLiteral	listing 
+	TokenNamePLUS	
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
FTPFile	TokenNameIdentifier	 FTP File
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
ftpfiles	TokenNameIdentifier	 ftpfiles
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
listFiles	TokenNameIdentifier	 list Files
(	TokenNameLPAREN	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
filename	TokenNameIdentifier	 filename
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
ftpfiles	TokenNameIdentifier	 ftpfiles
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
ftpfiles	TokenNameIdentifier	 ftpfiles
.	TokenNameDOT	
length	TokenNameIdentifier	 length
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
bw	TokenNameIdentifier	 bw
.	TokenNameDOT	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
ftpfiles	TokenNameIdentifier	 ftpfiles
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
bw	TokenNameIdentifier	 bw
.	TokenNameDOT	
newLine	TokenNameIdentifier	 new Line
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
transferred	TokenNameIdentifier	 transferred
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Create the specified directory on the remote host. * * @param ftp The FTP client connection * @param dir The directory to create (format must be correct for host * type) * @throws IOException in unknown circumstances * @throws BuildException if ignoreNoncriticalErrors has not been set to true * and a directory could not be created, for instance because it was * already existing. Precisely, the codes 521, 550 and 553 will trigger * a BuildException */	TokenNameCOMMENT_JAVADOC	 Create the specified directory on the remote host. * @param ftp The FTP client connection @param dir The directory to create (format must be correct for host type) @throws IOException in unknown circumstances @throws BuildException if ignoreNoncriticalErrors has not been set to true and a directory could not be created, for instance because it was already existing. Precisely, the codes 521, 550 and 553 will trigger a BuildException 
protected	TokenNameprotected	
void	TokenNamevoid	
makeRemoteDir	TokenNameIdentifier	 make Remote Dir
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
dir	TokenNameIdentifier	 dir
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
,	TokenNameCOMMA	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
workingDirectory	TokenNameIdentifier	 working Directory
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
printWorkingDirectory	TokenNameIdentifier	 print Working Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
verbose	TokenNameIdentifier	 verbose
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
"/"	TokenNameStringLiteral	/
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
||	TokenNameOR_OR	
workingDirectory	TokenNameIdentifier	 working Directory
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Creating directory: "	TokenNameStringLiteral	Creating directory: 
+	TokenNamePLUS	
dir	TokenNameIdentifier	 dir
+	TokenNamePLUS	
" in /"	TokenNameStringLiteral	 in /
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Creating directory: "	TokenNameStringLiteral	Creating directory: 
+	TokenNamePLUS	
dir	TokenNameIdentifier	 dir
+	TokenNamePLUS	
" in "	TokenNameStringLiteral	 in 
+	TokenNamePLUS	
workingDirectory	TokenNameIdentifier	 working Directory
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
"/"	TokenNameStringLiteral	/
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
"/"	TokenNameStringLiteral	/
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
subdir	TokenNameIdentifier	 subdir
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
st	TokenNameIdentifier	 st
=	TokenNameEQUAL	
new	TokenNamenew	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
,	TokenNameCOMMA	
"/"	TokenNameStringLiteral	/
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
st	TokenNameIdentifier	 st
.	TokenNameDOT	
hasMoreTokens	TokenNameIdentifier	 has More Tokens
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
subdir	TokenNameIdentifier	 subdir
=	TokenNameEQUAL	
st	TokenNameIdentifier	 st
.	TokenNameDOT	
nextToken	TokenNameIdentifier	 next Token
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Checking "	TokenNameStringLiteral	Checking 
+	TokenNamePLUS	
subdir	TokenNameIdentifier	 subdir
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_DEBUG	TokenNameIdentifier	 MSG  DEBUG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
subdir	TokenNameIdentifier	 subdir
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
makeDirectory	TokenNameIdentifier	 make Directory
(	TokenNameLPAREN	
subdir	TokenNameIdentifier	 subdir
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// codes 521, 550 and 553 can be produced by FTP Servers 	TokenNameCOMMENT_LINE	codes 521, 550 and 553 can be produced by FTP Servers 
// to indicate that an attempt to create a directory has 	TokenNameCOMMENT_LINE	to indicate that an attempt to create a directory has 
// failed because the directory already exists. 	TokenNameCOMMENT_LINE	failed because the directory already exists. 
int	TokenNameint	
rc	TokenNameIdentifier	 rc
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyCode	TokenNameIdentifier	 get Reply Code
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
(	TokenNameLPAREN	
ignoreNoncriticalErrors	TokenNameIdentifier	 ignore Noncritical Errors
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
rc	TokenNameIdentifier	 rc
==	TokenNameEQUAL_EQUAL	
CODE_550	TokenNameIdentifier	 CODE 550
||	TokenNameOR_OR	
rc	TokenNameIdentifier	 rc
==	TokenNameEQUAL_EQUAL	
CODE_553	TokenNameIdentifier	 CODE 553
||	TokenNameOR_OR	
rc	TokenNameIdentifier	 rc
==	TokenNameEQUAL_EQUAL	
CODE_521	TokenNameIdentifier	 CODE 521
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"could not create directory: "	TokenNameStringLiteral	could not create directory: 
+	TokenNamePLUS	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyString	TokenNameIdentifier	 get Reply String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
verbose	TokenNameIdentifier	 verbose
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Directory already exists"	TokenNameStringLiteral	Directory already exists
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
verbose	TokenNameIdentifier	 verbose
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Directory created OK"	TokenNameStringLiteral	Directory created OK
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
subdir	TokenNameIdentifier	 subdir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
workingDirectory	TokenNameIdentifier	 working Directory
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
workingDirectory	TokenNameIdentifier	 working Directory
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * look at the response for a failed mkdir action, decide whether * it matters or not. If it does, we throw an exception * @param ftp current ftp connection * @throws BuildException if this is an error to signal */	TokenNameCOMMENT_JAVADOC	 look at the response for a failed mkdir action, decide whether it matters or not. If it does, we throw an exception @param ftp current ftp connection @throws BuildException if this is an error to signal 
private	TokenNameprivate	
void	TokenNamevoid	
handleMkDirFailure	TokenNameIdentifier	 handle Mk Dir Failure
(	TokenNameLPAREN	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
)	TokenNameRPAREN	
throws	TokenNamethrows	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
int	TokenNameint	
rc	TokenNameIdentifier	 rc
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyCode	TokenNameIdentifier	 get Reply Code
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
(	TokenNameLPAREN	
ignoreNoncriticalErrors	TokenNameIdentifier	 ignore Noncritical Errors
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
rc	TokenNameIdentifier	 rc
==	TokenNameEQUAL_EQUAL	
CODE_550	TokenNameIdentifier	 CODE 550
||	TokenNameOR_OR	
rc	TokenNameIdentifier	 rc
==	TokenNameEQUAL_EQUAL	
CODE_553	TokenNameIdentifier	 CODE 553
||	TokenNameOR_OR	
rc	TokenNameIdentifier	 rc
==	TokenNameEQUAL_EQUAL	
CODE_521	TokenNameIdentifier	 CODE 521
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"could not create directory: "	TokenNameStringLiteral	could not create directory: 
+	TokenNamePLUS	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyString	TokenNameIdentifier	 get Reply String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Runs the task. * * @throws BuildException if the task fails or is not configured * correctly. */	TokenNameCOMMENT_JAVADOC	 Runs the task. * @throws BuildException if the task fails or is not configured correctly. 
public	TokenNamepublic	
void	TokenNamevoid	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
checkAttributes	TokenNameIdentifier	 check Attributes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
FTPClient	TokenNameIdentifier	 FTP Client
ftp	TokenNameIdentifier	 ftp
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Opening FTP connection to "	TokenNameStringLiteral	Opening FTP connection to 
+	TokenNamePLUS	
server	TokenNameIdentifier	 server
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ftp	TokenNameIdentifier	 ftp
=	TokenNameEQUAL	
new	TokenNamenew	
FTPClient	TokenNameIdentifier	 FTP Client
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
isConfigurationSet	TokenNameIdentifier	 is Configuration Set
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ftp	TokenNameIdentifier	 ftp
=	TokenNameEQUAL	
FTPConfigurator	TokenNameIdentifier	 FTP Configurator
.	TokenNameDOT	
configure	TokenNameIdentifier	 configure
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
,	TokenNameCOMMA	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
setRemoteVerificationEnabled	TokenNameIdentifier	 set Remote Verification Enabled
(	TokenNameLPAREN	
enableRemoteVerification	TokenNameIdentifier	 enable Remote Verification
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
connect	TokenNameIdentifier	 connect
(	TokenNameLPAREN	
server	TokenNameIdentifier	 server
,	TokenNameCOMMA	
port	TokenNameIdentifier	 port
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
FTPReply	TokenNameIdentifier	 FTP Reply
.	TokenNameDOT	
isPositiveCompletion	TokenNameIdentifier	 is Positive Completion
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyCode	TokenNameIdentifier	 get Reply Code
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"FTP connection failed: "	TokenNameStringLiteral	FTP connection failed: 
+	TokenNamePLUS	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyString	TokenNameIdentifier	 get Reply String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"connected"	TokenNameStringLiteral	connected
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"logging in to FTP server"	TokenNameStringLiteral	logging in to FTP server
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
account	TokenNameIdentifier	 account
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
!	TokenNameNOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
login	TokenNameIdentifier	 login
(	TokenNameLPAREN	
userid	TokenNameIdentifier	 userid
,	TokenNameCOMMA	
password	TokenNameIdentifier	 password
,	TokenNameCOMMA	
account	TokenNameIdentifier	 account
)	TokenNameRPAREN	
)	TokenNameRPAREN	
||	TokenNameOR_OR	
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
account	TokenNameIdentifier	 account
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
!	TokenNameNOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
login	TokenNameIdentifier	 login
(	TokenNameLPAREN	
userid	TokenNameIdentifier	 userid
,	TokenNameCOMMA	
password	TokenNameIdentifier	 password
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"Could not login to FTP server"	TokenNameStringLiteral	Could not login to FTP server
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"login succeeded"	TokenNameStringLiteral	login succeeded
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
binary	TokenNameIdentifier	 binary
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
setFileType	TokenNameIdentifier	 set File Type
(	TokenNameLPAREN	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
commons	TokenNameIdentifier	 commons
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
FTP	TokenNameIdentifier	 FTP
.	TokenNameDOT	
BINARY_FILE_TYPE	TokenNameIdentifier	 BINARY  FILE  TYPE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
FTPReply	TokenNameIdentifier	 FTP Reply
.	TokenNameDOT	
isPositiveCompletion	TokenNameIdentifier	 is Positive Completion
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyCode	TokenNameIdentifier	 get Reply Code
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"could not set transfer type: "	TokenNameStringLiteral	could not set transfer type: 
+	TokenNamePLUS	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyString	TokenNameIdentifier	 get Reply String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
setFileType	TokenNameIdentifier	 set File Type
(	TokenNameLPAREN	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
commons	TokenNameIdentifier	 commons
.	TokenNameDOT	
net	TokenNameIdentifier	 net
.	TokenNameDOT	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
FTP	TokenNameIdentifier	 FTP
.	TokenNameDOT	
ASCII_FILE_TYPE	TokenNameIdentifier	 ASCII  FILE  TYPE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
FTPReply	TokenNameIdentifier	 FTP Reply
.	TokenNameDOT	
isPositiveCompletion	TokenNameIdentifier	 is Positive Completion
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyCode	TokenNameIdentifier	 get Reply Code
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"could not set transfer type: "	TokenNameStringLiteral	could not set transfer type: 
+	TokenNamePLUS	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyString	TokenNameIdentifier	 get Reply String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
passive	TokenNameIdentifier	 passive
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"entering passive mode"	TokenNameStringLiteral	entering passive mode
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
enterLocalPassiveMode	TokenNameIdentifier	 enter Local Passive Mode
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
FTPReply	TokenNameIdentifier	 FTP Reply
.	TokenNameDOT	
isPositiveCompletion	TokenNameIdentifier	 is Positive Completion
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyCode	TokenNameIdentifier	 get Reply Code
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"could not enter into passive "	TokenNameStringLiteral	could not enter into passive 
+	TokenNamePLUS	
"mode: "	TokenNameStringLiteral	mode: 
+	TokenNamePLUS	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyString	TokenNameIdentifier	 get Reply String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// If an initial command was configured then send it. 	TokenNameCOMMENT_LINE	If an initial command was configured then send it. 
// Some FTP servers offer different modes of operation, 	TokenNameCOMMENT_LINE	Some FTP servers offer different modes of operation, 
// E.G. switching between a UNIX file system mode and 	TokenNameCOMMENT_LINE	E.G. switching between a UNIX file system mode and 
// a legacy file system. 	TokenNameCOMMENT_LINE	a legacy file system. 
if	TokenNameif	
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
initialSiteCommand	TokenNameIdentifier	 initial Site Command
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
RetryHandler	TokenNameIdentifier	 Retry Handler
h	TokenNameIdentifier	 h
=	TokenNameEQUAL	
new	TokenNamenew	
RetryHandler	TokenNameIdentifier	 Retry Handler
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
retriesAllowed	TokenNameIdentifier	 retries Allowed
,	TokenNameCOMMA	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
FTPClient	TokenNameIdentifier	 FTP Client
lftp	TokenNameIdentifier	 lftp
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
;	TokenNameSEMICOLON	
executeRetryable	TokenNameIdentifier	 execute Retryable
(	TokenNameLPAREN	
h	TokenNameIdentifier	 h
,	TokenNameCOMMA	
new	TokenNamenew	
Retryable	TokenNameIdentifier	 Retryable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
doSiteCommand	TokenNameIdentifier	 do Site Command
(	TokenNameLPAREN	
lftp	TokenNameIdentifier	 lftp
,	TokenNameCOMMA	
FTP	TokenNameIdentifier	 FTP
.	TokenNameDOT	
this	TokenNamethis	
.	TokenNameDOT	
initialSiteCommand	TokenNameIdentifier	 initial Site Command
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
"initial site command: "	TokenNameStringLiteral	initial site command: 
+	TokenNamePLUS	
this	TokenNamethis	
.	TokenNameDOT	
initialSiteCommand	TokenNameIdentifier	 initial Site Command
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// For a unix ftp server you can set the default mask for all files 	TokenNameCOMMENT_LINE	For a unix ftp server you can set the default mask for all files 
// created. 	TokenNameCOMMENT_LINE	created. 
if	TokenNameif	
(	TokenNameLPAREN	
umask	TokenNameIdentifier	 umask
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
RetryHandler	TokenNameIdentifier	 Retry Handler
h	TokenNameIdentifier	 h
=	TokenNameEQUAL	
new	TokenNamenew	
RetryHandler	TokenNameIdentifier	 Retry Handler
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
retriesAllowed	TokenNameIdentifier	 retries Allowed
,	TokenNameCOMMA	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
FTPClient	TokenNameIdentifier	 FTP Client
lftp	TokenNameIdentifier	 lftp
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
;	TokenNameSEMICOLON	
executeRetryable	TokenNameIdentifier	 execute Retryable
(	TokenNameLPAREN	
h	TokenNameIdentifier	 h
,	TokenNameCOMMA	
new	TokenNamenew	
Retryable	TokenNameIdentifier	 Retryable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
doSiteCommand	TokenNameIdentifier	 do Site Command
(	TokenNameLPAREN	
lftp	TokenNameIdentifier	 lftp
,	TokenNameCOMMA	
"umask "	TokenNameStringLiteral	umask 
+	TokenNamePLUS	
umask	TokenNameIdentifier	 umask
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
"umask "	TokenNameStringLiteral	umask 
+	TokenNamePLUS	
umask	TokenNameIdentifier	 umask
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// If the action is MK_DIR, then the specified remote 	TokenNameCOMMENT_LINE	If the action is MK_DIR, then the specified remote 
// directory is the directory to create. 	TokenNameCOMMENT_LINE	directory is the directory to create. 
if	TokenNameif	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
MK_DIR	TokenNameIdentifier	 MK  DIR
)	TokenNameRPAREN	
{	TokenNameLBRACE	
RetryHandler	TokenNameIdentifier	 Retry Handler
h	TokenNameIdentifier	 h
=	TokenNameEQUAL	
new	TokenNamenew	
RetryHandler	TokenNameIdentifier	 Retry Handler
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
retriesAllowed	TokenNameIdentifier	 retries Allowed
,	TokenNameCOMMA	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
FTPClient	TokenNameIdentifier	 FTP Client
lftp	TokenNameIdentifier	 lftp
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
;	TokenNameSEMICOLON	
executeRetryable	TokenNameIdentifier	 execute Retryable
(	TokenNameLPAREN	
h	TokenNameIdentifier	 h
,	TokenNameCOMMA	
new	TokenNamenew	
Retryable	TokenNameIdentifier	 Retryable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
makeRemoteDir	TokenNameIdentifier	 make Remote Dir
(	TokenNameLPAREN	
lftp	TokenNameIdentifier	 lftp
,	TokenNameCOMMA	
remotedir	TokenNameIdentifier	 remotedir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
remotedir	TokenNameIdentifier	 remotedir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
SITE_CMD	TokenNameIdentifier	 SITE  CMD
)	TokenNameRPAREN	
{	TokenNameLBRACE	
RetryHandler	TokenNameIdentifier	 Retry Handler
h	TokenNameIdentifier	 h
=	TokenNameEQUAL	
new	TokenNamenew	
RetryHandler	TokenNameIdentifier	 Retry Handler
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
retriesAllowed	TokenNameIdentifier	 retries Allowed
,	TokenNameCOMMA	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
FTPClient	TokenNameIdentifier	 FTP Client
lftp	TokenNameIdentifier	 lftp
=	TokenNameEQUAL	
ftp	TokenNameIdentifier	 ftp
;	TokenNameSEMICOLON	
executeRetryable	TokenNameIdentifier	 execute Retryable
(	TokenNameLPAREN	
h	TokenNameIdentifier	 h
,	TokenNameCOMMA	
new	TokenNamenew	
Retryable	TokenNameIdentifier	 Retryable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
doSiteCommand	TokenNameIdentifier	 do Site Command
(	TokenNameLPAREN	
lftp	TokenNameIdentifier	 lftp
,	TokenNameCOMMA	
FTP	TokenNameIdentifier	 FTP
.	TokenNameDOT	
this	TokenNamethis	
.	TokenNameDOT	
siteCommand	TokenNameIdentifier	 site Command
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
"Site Command: "	TokenNameStringLiteral	Site Command: 
+	TokenNamePLUS	
this	TokenNamethis	
.	TokenNameDOT	
siteCommand	TokenNameIdentifier	 site Command
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
remotedir	TokenNameIdentifier	 remotedir
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"changing the remote directory to "	TokenNameStringLiteral	changing the remote directory to 
+	TokenNamePLUS	
remotedir	TokenNameIdentifier	 remotedir
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
changeWorkingDirectory	TokenNameIdentifier	 change Working Directory
(	TokenNameLPAREN	
remotedir	TokenNameIdentifier	 remotedir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
FTPReply	TokenNameIdentifier	 FTP Reply
.	TokenNameDOT	
isPositiveCompletion	TokenNameIdentifier	 is Positive Completion
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyCode	TokenNameIdentifier	 get Reply Code
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"could not change remote "	TokenNameStringLiteral	could not change remote 
+	TokenNamePLUS	
"directory: "	TokenNameStringLiteral	directory: 
+	TokenNamePLUS	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
getReplyString	TokenNameIdentifier	 get Reply String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
newerOnly	TokenNameIdentifier	 newer Only
&&	TokenNameAND_AND	
timeDiffAuto	TokenNameIdentifier	 time Diff Auto
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// in this case we want to find how much time span there is between local 	TokenNameCOMMENT_LINE	in this case we want to find how much time span there is between local 
// and remote 	TokenNameCOMMENT_LINE	and remote 
timeDiffMillis	TokenNameIdentifier	 time Diff Millis
=	TokenNameEQUAL	
getTimeDiff	TokenNameIdentifier	 get Time Diff
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
ACTION_STRS	TokenNameIdentifier	 ACTION  STRS
[	TokenNameLBRACKET	
action	TokenNameIdentifier	 action
]	TokenNameRBRACKET	
+	TokenNamePLUS	
" "	TokenNameStringLiteral	 
+	TokenNamePLUS	
ACTION_TARGET_STRS	TokenNameIdentifier	 ACTION  TARGET  STRS
[	TokenNameLBRACKET	
action	TokenNameIdentifier	 action
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
transferFiles	TokenNameIdentifier	 transfer Files
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ex	TokenNameIdentifier	 ex
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"error during FTP transfer: "	TokenNameStringLiteral	error during FTP transfer: 
+	TokenNamePLUS	
ex	TokenNameIdentifier	 ex
,	TokenNameCOMMA	
ex	TokenNameIdentifier	 ex
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
ftp	TokenNameIdentifier	 ftp
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
isConnected	TokenNameIdentifier	 is Connected
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"disconnecting"	TokenNameStringLiteral	disconnecting
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
logout	TokenNameIdentifier	 logout
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ftp	TokenNameIdentifier	 ftp
.	TokenNameDOT	
disconnect	TokenNameIdentifier	 disconnect
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ex	TokenNameIdentifier	 ex
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// ignore it 	TokenNameCOMMENT_LINE	ignore it 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * an action to perform, one of * "send", "put", "recv", "get", "del", "delete", "list", "mkdir", "chmod", * "rmdir" */	TokenNameCOMMENT_JAVADOC	 an action to perform, one of "send", "put", "recv", "get", "del", "delete", "list", "mkdir", "chmod", "rmdir" 
public	TokenNamepublic	
static	TokenNamestatic	
class	TokenNameclass	
Action	TokenNameIdentifier	 Action
extends	TokenNameextends	
EnumeratedAttribute	TokenNameIdentifier	 Enumerated Attribute
{	TokenNameLBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
VALID_ACTIONS	TokenNameIdentifier	 VALID  ACTIONS
=	TokenNameEQUAL	
{	TokenNameLBRACE	
"send"	TokenNameStringLiteral	send
,	TokenNameCOMMA	
"put"	TokenNameStringLiteral	put
,	TokenNameCOMMA	
"recv"	TokenNameStringLiteral	recv
,	TokenNameCOMMA	
"get"	TokenNameStringLiteral	get
,	TokenNameCOMMA	
"del"	TokenNameStringLiteral	del
,	TokenNameCOMMA	
"delete"	TokenNameStringLiteral	delete
,	TokenNameCOMMA	
"list"	TokenNameStringLiteral	list
,	TokenNameCOMMA	
"mkdir"	TokenNameStringLiteral	mkdir
,	TokenNameCOMMA	
"chmod"	TokenNameStringLiteral	chmod
,	TokenNameCOMMA	
"rmdir"	TokenNameStringLiteral	rmdir
,	TokenNameCOMMA	
"site"	TokenNameStringLiteral	site
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
/** * Get the valid values * * @return an array of the valid FTP actions. */	TokenNameCOMMENT_JAVADOC	 Get the valid values * @return an array of the valid FTP actions. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
getValues	TokenNameIdentifier	 get Values
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
VALID_ACTIONS	TokenNameIdentifier	 VALID  ACTIONS
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the symbolic equivalent of the action value. * * @return the SYMBOL representing the given action. */	TokenNameCOMMENT_JAVADOC	 Get the symbolic equivalent of the action value. * @return the SYMBOL representing the given action. 
public	TokenNamepublic	
int	TokenNameint	
getAction	TokenNameIdentifier	 get Action
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
actionL	TokenNameIdentifier	 action L
=	TokenNameEQUAL	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
toLowerCase	TokenNameIdentifier	 to Lower Case
(	TokenNameLPAREN	
Locale	TokenNameIdentifier	 Locale
.	TokenNameDOT	
ENGLISH	TokenNameIdentifier	 ENGLISH
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
actionL	TokenNameIdentifier	 action L
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"send"	TokenNameStringLiteral	send
)	TokenNameRPAREN	
||	TokenNameOR_OR	
actionL	TokenNameIdentifier	 action L
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"put"	TokenNameStringLiteral	put
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
SEND_FILES	TokenNameIdentifier	 SEND  FILES
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
actionL	TokenNameIdentifier	 action L
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"recv"	TokenNameStringLiteral	recv
)	TokenNameRPAREN	
||	TokenNameOR_OR	
actionL	TokenNameIdentifier	 action L
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"get"	TokenNameStringLiteral	get
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
GET_FILES	TokenNameIdentifier	 GET  FILES
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
actionL	TokenNameIdentifier	 action L
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"del"	TokenNameStringLiteral	del
)	TokenNameRPAREN	
||	TokenNameOR_OR	
actionL	TokenNameIdentifier	 action L
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"delete"	TokenNameStringLiteral	delete
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
DEL_FILES	TokenNameIdentifier	 DEL  FILES
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
actionL	TokenNameIdentifier	 action L
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"list"	TokenNameStringLiteral	list
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
LIST_FILES	TokenNameIdentifier	 LIST  FILES
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
actionL	TokenNameIdentifier	 action L
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"chmod"	TokenNameStringLiteral	chmod
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
CHMOD	TokenNameIdentifier	 CHMOD
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
actionL	TokenNameIdentifier	 action L
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"mkdir"	TokenNameStringLiteral	mkdir
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
MK_DIR	TokenNameIdentifier	 MK  DIR
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
actionL	TokenNameIdentifier	 action L
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"rmdir"	TokenNameStringLiteral	rmdir
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
RM_DIR	TokenNameIdentifier	 RM  DIR
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
actionL	TokenNameIdentifier	 action L
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"site"	TokenNameStringLiteral	site
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
SITE_CMD	TokenNameIdentifier	 SITE  CMD
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
SEND_FILES	TokenNameIdentifier	 SEND  FILES
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * represents one of the valid timestamp adjustment values * recognized by the <code>timestampGranularity</code> attribute.<p> * A timestamp adjustment may be used in file transfers for checking * uptodateness. MINUTE means to add one minute to the server * timestamp. This is done because FTP servers typically list * timestamps HH:mm and client FileSystems typically use HH:mm:ss. * * The default is to use MINUTE for PUT actions and NONE for GET * actions, since GETs have the <code>preserveLastModified</code> * option, which takes care of the problem in most use cases where * this level of granularity is an issue. * */	TokenNameCOMMENT_JAVADOC	 represents one of the valid timestamp adjustment values recognized by the <code>timestampGranularity</code> attribute.<p> A timestamp adjustment may be used in file transfers for checking uptodateness. MINUTE means to add one minute to the server timestamp. This is done because FTP servers typically list timestamps HH:mm and client FileSystems typically use HH:mm:ss. * The default is to use MINUTE for PUT actions and NONE for GET actions, since GETs have the <code>preserveLastModified</code> option, which takes care of the problem in most use cases where this level of granularity is an issue. 
public	TokenNamepublic	
static	TokenNamestatic	
class	TokenNameclass	
Granularity	TokenNameIdentifier	 Granularity
extends	TokenNameextends	
EnumeratedAttribute	TokenNameIdentifier	 Enumerated Attribute
{	TokenNameLBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
VALID_GRANULARITIES	TokenNameIdentifier	 VALID  GRANULARITIES
=	TokenNameEQUAL	
{	TokenNameLBRACE	
""	TokenNameStringLiteral	 
,	TokenNameCOMMA	
"MINUTE"	TokenNameStringLiteral	MINUTE
,	TokenNameCOMMA	
"NONE"	TokenNameStringLiteral	NONE
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
/** * Get the valid values. * @return the list of valid Granularity values */	TokenNameCOMMENT_JAVADOC	 Get the valid values. @return the list of valid Granularity values 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
getValues	TokenNameIdentifier	 get Values
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
VALID_GRANULARITIES	TokenNameIdentifier	 VALID  GRANULARITIES
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * returns the number of milliseconds associated with * the attribute, which can vary in some cases depending * on the value of the action parameter. * @param action SEND_FILES or GET_FILES * @return the number of milliseconds associated with * the attribute, in the context of the supplied action */	TokenNameCOMMENT_JAVADOC	 returns the number of milliseconds associated with the attribute, which can vary in some cases depending on the value of the action parameter. @param action SEND_FILES or GET_FILES @return the number of milliseconds associated with the attribute, in the context of the supplied action 
public	TokenNamepublic	
long	TokenNamelong	
getMilliseconds	TokenNameIdentifier	 get Milliseconds
(	TokenNameLPAREN	
int	TokenNameint	
action	TokenNameIdentifier	 action
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
granularityU	TokenNameIdentifier	 granularity U
=	TokenNameEQUAL	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
toUpperCase	TokenNameIdentifier	 to Upper Case
(	TokenNameLPAREN	
Locale	TokenNameIdentifier	 Locale
.	TokenNameDOT	
ENGLISH	TokenNameIdentifier	 ENGLISH
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
granularityU	TokenNameIdentifier	 granularity U
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
action	TokenNameIdentifier	 action
==	TokenNameEQUAL_EQUAL	
SEND_FILES	TokenNameIdentifier	 SEND  FILES
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
GRANULARITY_MINUTE	TokenNameIdentifier	 GRANULARITY  MINUTE
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
"MINUTE"	TokenNameStringLiteral	MINUTE
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
granularityU	TokenNameIdentifier	 granularity U
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
GRANULARITY_MINUTE	TokenNameIdentifier	 GRANULARITY  MINUTE
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
0L	TokenNameLongLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
static	TokenNamestatic	
final	TokenNamefinal	
Granularity	TokenNameIdentifier	 Granularity
getDefault	TokenNameIdentifier	 get Default
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Granularity	TokenNameIdentifier	 Granularity
g	TokenNameIdentifier	 g
=	TokenNameEQUAL	
new	TokenNamenew	
Granularity	TokenNameIdentifier	 Granularity
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
g	TokenNameIdentifier	 g
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
g	TokenNameIdentifier	 g
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * one of the valid system type keys recognized by the systemTypeKey * attribute. */	TokenNameCOMMENT_JAVADOC	 one of the valid system type keys recognized by the systemTypeKey attribute. 
public	TokenNamepublic	
static	TokenNamestatic	
class	TokenNameclass	
FTPSystemType	TokenNameIdentifier	 FTP System Type
extends	TokenNameextends	
EnumeratedAttribute	TokenNameIdentifier	 Enumerated Attribute
{	TokenNameLBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
VALID_SYSTEM_TYPES	TokenNameIdentifier	 VALID  SYSTEM  TYPES
=	TokenNameEQUAL	
{	TokenNameLBRACE	
""	TokenNameStringLiteral	 
,	TokenNameCOMMA	
"UNIX"	TokenNameStringLiteral	UNIX
,	TokenNameCOMMA	
"VMS"	TokenNameStringLiteral	VMS
,	TokenNameCOMMA	
"WINDOWS"	TokenNameStringLiteral	WINDOWS
,	TokenNameCOMMA	
"OS/2"	TokenNameStringLiteral	OS/2
,	TokenNameCOMMA	
"OS/400"	TokenNameStringLiteral	OS/400
,	TokenNameCOMMA	
"MVS"	TokenNameStringLiteral	MVS
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
/** * Get the valid values. * @return the list of valid system types. */	TokenNameCOMMENT_JAVADOC	 Get the valid values. @return the list of valid system types. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
getValues	TokenNameIdentifier	 get Values
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
VALID_SYSTEM_TYPES	TokenNameIdentifier	 VALID  SYSTEM  TYPES
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
static	TokenNamestatic	
final	TokenNamefinal	
FTPSystemType	TokenNameIdentifier	 FTP System Type
getDefault	TokenNameIdentifier	 get Default
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
FTPSystemType	TokenNameIdentifier	 FTP System Type
ftpst	TokenNameIdentifier	 ftpst
=	TokenNameEQUAL	
new	TokenNamenew	
FTPSystemType	TokenNameIdentifier	 FTP System Type
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ftpst	TokenNameIdentifier	 ftpst
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
ftpst	TokenNameIdentifier	 ftpst
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Enumerated class for languages. */	TokenNameCOMMENT_JAVADOC	 Enumerated class for languages. 
public	TokenNamepublic	
static	TokenNamestatic	
class	TokenNameclass	
LanguageCode	TokenNameIdentifier	 Language Code
extends	TokenNameextends	
EnumeratedAttribute	TokenNameIdentifier	 Enumerated Attribute
{	TokenNameLBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
VALID_LANGUAGE_CODES	TokenNameIdentifier	 VALID  LANGUAGE  CODES
=	TokenNameEQUAL	
getValidLanguageCodes	TokenNameIdentifier	 get Valid Language Codes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
getValidLanguageCodes	TokenNameIdentifier	 get Valid Language Codes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Collection	TokenNameIdentifier	 Collection
c	TokenNameIdentifier	 c
=	TokenNameEQUAL	
FTPClientConfig	TokenNameIdentifier	 FTP Client Config
.	TokenNameDOT	
getSupportedLanguageCodes	TokenNameIdentifier	 get Supported Language Codes
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
ret	TokenNameIdentifier	 ret
=	TokenNameEQUAL	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
c	TokenNameIdentifier	 c
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
ret	TokenNameIdentifier	 ret
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
""	TokenNameStringLiteral	 
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
it	TokenNameIdentifier	 it
=	TokenNameEQUAL	
c	TokenNameIdentifier	 c
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
it	TokenNameIdentifier	 it
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ret	TokenNameIdentifier	 ret
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
it	TokenNameIdentifier	 it
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
ret	TokenNameIdentifier	 ret
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Return the value values. * @return the list of valid language types. */	TokenNameCOMMENT_JAVADOC	 Return the value values. @return the list of valid language types. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
getValues	TokenNameIdentifier	 get Values
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
VALID_LANGUAGE_CODES	TokenNameIdentifier	 VALID  LANGUAGE  CODES
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
static	TokenNamestatic	
final	TokenNamefinal	
LanguageCode	TokenNameIdentifier	 Language Code
getDefault	TokenNameIdentifier	 get Default
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
LanguageCode	TokenNameIdentifier	 Language Code
lc	TokenNameIdentifier	 lc
=	TokenNameEQUAL	
new	TokenNamenew	
LanguageCode	TokenNameIdentifier	 Language Code
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
lc	TokenNameIdentifier	 lc
.	TokenNameDOT	
setValue	TokenNameIdentifier	 set Value
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
lc	TokenNameIdentifier	 lc
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
