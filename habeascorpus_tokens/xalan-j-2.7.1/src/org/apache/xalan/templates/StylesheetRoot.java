/* * Licensed to the Apache Software Foundation (ASF) under one * or more contributor license agreements. See the NOTICE file * distributed with this work for additional information * regarding copyright ownership. The ASF licenses this file * to you under the Apache License, Version 2.0 (the "License"); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to you under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
/* * $Id: StylesheetRoot.java 476466 2006-11-18 08:22:31Z minchau $ */	TokenNameCOMMENT_BLOCK	 $Id: StylesheetRoot.java 476466 2006-11-18 08:22:31Z minchau $ 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
templates	TokenNameIdentifier	 templates
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
text	TokenNameIdentifier	 text
.	TokenNameDOT	
DecimalFormatSymbols	TokenNameIdentifier	 Decimal Format Symbols
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ArrayList	TokenNameIdentifier	 Array List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
HashMap	TokenNameIdentifier	 Hash Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Hashtable	TokenNameIdentifier	 Hashtable
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Properties	TokenNameIdentifier	 Properties
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Vector	TokenNameIdentifier	 Vector
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
.	TokenNameDOT	
ErrorListener	TokenNameIdentifier	 Error Listener
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
.	TokenNameDOT	
Templates	TokenNameIdentifier	 Templates
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
.	TokenNameDOT	
Transformer	TokenNameIdentifier	 Transformer
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
.	TokenNameDOT	
TransformerConfigurationException	TokenNameIdentifier	 Transformer Configuration Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
javax	TokenNameIdentifier	 javax
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
transform	TokenNameIdentifier	 transform
.	TokenNameDOT	
TransformerException	TokenNameIdentifier	 Transformer Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
extensions	TokenNameIdentifier	 extensions
.	TokenNameDOT	
ExtensionNamespacesManager	TokenNameIdentifier	 Extension Namespaces Manager
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
processor	TokenNameIdentifier	 processor
.	TokenNameDOT	
XSLTSchema	TokenNameIdentifier	 XSLT Schema
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
res	TokenNameIdentifier	 res
.	TokenNameDOT	
XSLMessages	TokenNameIdentifier	 XSL Messages
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
res	TokenNameIdentifier	 res
.	TokenNameDOT	
XSLTErrorResources	TokenNameIdentifier	 XSLT Error Resources
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
transformer	TokenNameIdentifier	 transformer
.	TokenNameDOT	
TransformerImpl	TokenNameIdentifier	 Transformer Impl
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
dtm	TokenNameIdentifier	 dtm
.	TokenNameDOT	
DTM	TokenNameIdentifier	 DTM
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
dtm	TokenNameIdentifier	 dtm
.	TokenNameDOT	
ref	TokenNameIdentifier	 ref
.	TokenNameDOT	
ExpandedNameTable	TokenNameIdentifier	 Expanded Name Table
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
IntStack	TokenNameIdentifier	 Int Stack
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
QName	TokenNameIdentifier	 Q Name
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xpath	TokenNameIdentifier	 xpath
.	TokenNameDOT	
XPath	TokenNameIdentifier	 X Path
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xpath	TokenNameIdentifier	 xpath
.	TokenNameDOT	
XPathContext	TokenNameIdentifier	 X Path Context
;	TokenNameSEMICOLON	
/** * This class represents the root object of the stylesheet tree. * @xsl.usage general */	TokenNameCOMMENT_JAVADOC	 This class represents the root object of the stylesheet tree. @xsl.usage general 
public	TokenNamepublic	
class	TokenNameclass	
StylesheetRoot	TokenNameIdentifier	 Stylesheet Root
extends	TokenNameextends	
StylesheetComposed	TokenNameIdentifier	 Stylesheet Composed
implements	TokenNameimplements	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
Serializable	TokenNameIdentifier	 Serializable
,	TokenNameCOMMA	
Templates	TokenNameIdentifier	 Templates
{	TokenNameLBRACE	
static	TokenNamestatic	
final	TokenNamefinal	
long	TokenNamelong	
serialVersionUID	TokenNameIdentifier	 serial Version UID
=	TokenNameEQUAL	
3875353123529147855L	TokenNameLongLiteral	
;	TokenNameSEMICOLON	
/** * The flag for the setting of the optimize feature; */	TokenNameCOMMENT_JAVADOC	 The flag for the setting of the optimize feature; 
private	TokenNameprivate	
boolean	TokenNameboolean	
m_optimizer	TokenNameIdentifier	 m optimizer
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
/** * The flag for the setting of the incremental feature; */	TokenNameCOMMENT_JAVADOC	 The flag for the setting of the incremental feature; 
private	TokenNameprivate	
boolean	TokenNameboolean	
m_incremental	TokenNameIdentifier	 m incremental
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * The flag for the setting of the source_location feature; */	TokenNameCOMMENT_JAVADOC	 The flag for the setting of the source_location feature; 
private	TokenNameprivate	
boolean	TokenNameboolean	
m_source_location	TokenNameIdentifier	 m source location
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * State of the secure processing feature. */	TokenNameCOMMENT_JAVADOC	 State of the secure processing feature. 
private	TokenNameprivate	
boolean	TokenNameboolean	
m_isSecureProcessing	TokenNameIdentifier	 m is Secure Processing
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * Uses an XSL stylesheet document. * @throws TransformerConfigurationException if the baseIdentifier can not be resolved to a URL. */	TokenNameCOMMENT_JAVADOC	 Uses an XSL stylesheet document. @throws TransformerConfigurationException if the baseIdentifier can not be resolved to a URL. 
public	TokenNamepublic	
StylesheetRoot	TokenNameIdentifier	 Stylesheet Root
(	TokenNameLPAREN	
ErrorListener	TokenNameIdentifier	 Error Listener
errorListener	TokenNameIdentifier	 error Listener
)	TokenNameRPAREN	
throws	TokenNamethrows	
TransformerConfigurationException	TokenNameIdentifier	 Transformer Configuration Exception
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
setStylesheetRoot	TokenNameIdentifier	 set Stylesheet Root
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
m_selectDefault	TokenNameIdentifier	 m select Default
=	TokenNameEQUAL	
new	TokenNamenew	
XPath	TokenNameIdentifier	 X Path
(	TokenNameLPAREN	
"node()"	TokenNameStringLiteral	node()
,	TokenNameCOMMA	
this	TokenNamethis	
,	TokenNameCOMMA	
this	TokenNamethis	
,	TokenNameCOMMA	
XPath	TokenNameIdentifier	 X Path
.	TokenNameDOT	
SELECT	TokenNameIdentifier	 SELECT
,	TokenNameCOMMA	
errorListener	TokenNameIdentifier	 error Listener
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
initDefaultRule	TokenNameIdentifier	 init Default Rule
(	TokenNameLPAREN	
errorListener	TokenNameIdentifier	 error Listener
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
TransformerException	TokenNameIdentifier	 Transformer Exception
se	TokenNameIdentifier	 se
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
TransformerConfigurationException	TokenNameIdentifier	 Transformer Configuration Exception
(	TokenNameLPAREN	
XSLMessages	TokenNameIdentifier	 XSL Messages
.	TokenNameDOT	
createMessage	TokenNameIdentifier	 create Message
(	TokenNameLPAREN	
XSLTErrorResources	TokenNameIdentifier	 XSLT Error Resources
.	TokenNameDOT	
ER_CANNOT_INIT_DEFAULT_TEMPLATES	TokenNameIdentifier	 ER  CANNOT  INIT  DEFAULT  TEMPLATES
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
se	TokenNameIdentifier	 se
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//"Can't init default templates!", se); 	TokenNameCOMMENT_LINE	"Can't init default templates!", se); 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * The schema used when creating this StylesheetRoot * @serial */	TokenNameCOMMENT_JAVADOC	 The schema used when creating this StylesheetRoot @serial 
private	TokenNameprivate	
HashMap	TokenNameIdentifier	 Hash Map
m_availElems	TokenNameIdentifier	 m avail Elems
;	TokenNameSEMICOLON	
/** * Creates a StylesheetRoot and retains a pointer to the schema used to create this * StylesheetRoot. The schema may be needed later for an element-available() function call. * * @param schema The schema used to create this stylesheet * @throws TransformerConfigurationException if the baseIdentifier can not be resolved to a URL. */	TokenNameCOMMENT_JAVADOC	 Creates a StylesheetRoot and retains a pointer to the schema used to create this StylesheetRoot. The schema may be needed later for an element-available() function call. * @param schema The schema used to create this stylesheet @throws TransformerConfigurationException if the baseIdentifier can not be resolved to a URL. 
public	TokenNamepublic	
StylesheetRoot	TokenNameIdentifier	 Stylesheet Root
(	TokenNameLPAREN	
XSLTSchema	TokenNameIdentifier	 XSLT Schema
schema	TokenNameIdentifier	 schema
,	TokenNameCOMMA	
ErrorListener	TokenNameIdentifier	 Error Listener
listener	TokenNameIdentifier	 listener
)	TokenNameRPAREN	
throws	TokenNamethrows	
TransformerConfigurationException	TokenNameIdentifier	 Transformer Configuration Exception
{	TokenNameLBRACE	
this	TokenNamethis	
(	TokenNameLPAREN	
listener	TokenNameIdentifier	 listener
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_availElems	TokenNameIdentifier	 m avail Elems
=	TokenNameEQUAL	
schema	TokenNameIdentifier	 schema
.	TokenNameDOT	
getElemsAvailable	TokenNameIdentifier	 get Elems Available
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Tell if this is the root of the stylesheet tree. * * @return True since this is the root of the stylesheet tree. */	TokenNameCOMMENT_JAVADOC	 Tell if this is the root of the stylesheet tree. * @return True since this is the root of the stylesheet tree. 
public	TokenNamepublic	
boolean	TokenNameboolean	
isRoot	TokenNameIdentifier	 is Root
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the state of the secure processing feature. */	TokenNameCOMMENT_JAVADOC	 Set the state of the secure processing feature. 
public	TokenNamepublic	
void	TokenNamevoid	
setSecureProcessing	TokenNameIdentifier	 set Secure Processing
(	TokenNameLPAREN	
boolean	TokenNameboolean	
flag	TokenNameIdentifier	 flag
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_isSecureProcessing	TokenNameIdentifier	 m is Secure Processing
=	TokenNameEQUAL	
flag	TokenNameIdentifier	 flag
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Return the state of the secure processing feature. */	TokenNameCOMMENT_JAVADOC	 Return the state of the secure processing feature. 
public	TokenNamepublic	
boolean	TokenNameboolean	
isSecureProcessing	TokenNameIdentifier	 is Secure Processing
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_isSecureProcessing	TokenNameIdentifier	 m is Secure Processing
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the hashtable of available elements. * * @return table of available elements, keyed by qualified names, and with * values of the same qualified names. */	TokenNameCOMMENT_JAVADOC	 Get the hashtable of available elements. * @return table of available elements, keyed by qualified names, and with values of the same qualified names. 
public	TokenNamepublic	
HashMap	TokenNameIdentifier	 Hash Map
getAvailableElements	TokenNameIdentifier	 get Available Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_availElems	TokenNameIdentifier	 m avail Elems
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
transient	TokenNametransient	
ExtensionNamespacesManager	TokenNameIdentifier	 Extension Namespaces Manager
m_extNsMgr	TokenNameIdentifier	 m ext Ns Mgr
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** * Only instantiate an ExtensionNamespacesManager if one is called for * (i.e., if the stylesheet contains extension functions and/or elements). */	TokenNameCOMMENT_JAVADOC	 Only instantiate an ExtensionNamespacesManager if one is called for (i.e., if the stylesheet contains extension functions and/or elements). 
public	TokenNamepublic	
ExtensionNamespacesManager	TokenNameIdentifier	 Extension Namespaces Manager
getExtensionNamespacesManager	TokenNameIdentifier	 get Extension Namespaces Manager
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
m_extNsMgr	TokenNameIdentifier	 m ext Ns Mgr
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
m_extNsMgr	TokenNameIdentifier	 m ext Ns Mgr
=	TokenNameEQUAL	
new	TokenNamenew	
ExtensionNamespacesManager	TokenNameIdentifier	 Extension Namespaces Manager
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
m_extNsMgr	TokenNameIdentifier	 m ext Ns Mgr
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the vector of extension namespaces. Used to provide * the extensions table access to a list of extension * namespaces encountered during composition of a stylesheet. */	TokenNameCOMMENT_JAVADOC	 Get the vector of extension namespaces. Used to provide the extensions table access to a list of extension namespaces encountered during composition of a stylesheet. 
public	TokenNamepublic	
Vector	TokenNameIdentifier	 Vector
getExtensions	TokenNameIdentifier	 get Extensions
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_extNsMgr	TokenNameIdentifier	 m ext Ns Mgr
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
m_extNsMgr	TokenNameIdentifier	 m ext Ns Mgr
.	TokenNameDOT	
getExtensions	TokenNameIdentifier	 get Extensions
(	TokenNameLPAREN	
)	TokenNameRPAREN	
:	TokenNameCOLON	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* public void runtimeInit(TransformerImpl transformer) throws TransformerException { System.out.println("StylesheetRoot.runtimeInit()"); // try{throw new Exception("StylesheetRoot.runtimeInit()");} catch(Exception e){e.printStackTrace();} } */	TokenNameCOMMENT_BLOCK	 public void runtimeInit(TransformerImpl transformer) throws TransformerException { System.out.println("StylesheetRoot.runtimeInit()"); // try{throw new Exception("StylesheetRoot.runtimeInit()");} catch(Exception e){e.printStackTrace();} } 
//============== Templates Interface ================ 	TokenNameCOMMENT_LINE	============== Templates Interface ================ 
/** * Create a new transformation context for this Templates object. * * @return A Transformer instance, never null. */	TokenNameCOMMENT_JAVADOC	 Create a new transformation context for this Templates object. * @return A Transformer instance, never null. 
public	TokenNamepublic	
Transformer	TokenNameIdentifier	 Transformer
newTransformer	TokenNameIdentifier	 new Transformer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
new	TokenNamenew	
TransformerImpl	TokenNameIdentifier	 Transformer Impl
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
Properties	TokenNameIdentifier	 Properties
getDefaultOutputProps	TokenNameIdentifier	 get Default Output Props
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_outputProperties	TokenNameIdentifier	 m output Properties
.	TokenNameDOT	
getProperties	TokenNameIdentifier	 get Properties
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the static properties for xsl:output. The object returned will * be a clone of the internal values, and thus it can be mutated * without mutating the Templates object, and then handed in to * the process method. * * <p>For XSLT, Attribute Value Templates attribute values will * be returned unexpanded (since there is no context at this point).</p> * * @return A Properties object, not null. */	TokenNameCOMMENT_JAVADOC	 Get the static properties for xsl:output. The object returned will be a clone of the internal values, and thus it can be mutated without mutating the Templates object, and then handed in to the process method. * <p>For XSLT, Attribute Value Templates attribute values will be returned unexpanded (since there is no context at this point).</p> * @return A Properties object, not null. 
public	TokenNamepublic	
Properties	TokenNameIdentifier	 Properties
getOutputProperties	TokenNameIdentifier	 get Output Properties
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
Properties	TokenNameIdentifier	 Properties
)	TokenNameRPAREN	
getDefaultOutputProps	TokenNameIdentifier	 get Default Output Props
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
clone	TokenNameIdentifier	 clone
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
//============== End Templates Interface ================ 	TokenNameCOMMENT_LINE	============== End Templates Interface ================ 
/** * Recompose the values of all "composed" properties, meaning * properties that need to be combined or calculated from * the combination of imported and included stylesheets. This * method determines the proper import precedence of all imported * stylesheets. It then iterates through all of the elements and * properties in the proper order and triggers the individual recompose * methods. * * @throws TransformerException */	TokenNameCOMMENT_JAVADOC	 Recompose the values of all "composed" properties, meaning properties that need to be combined or calculated from the combination of imported and included stylesheets. This method determines the proper import precedence of all imported stylesheets. It then iterates through all of the elements and properties in the proper order and triggers the individual recompose methods. * @throws TransformerException 
public	TokenNamepublic	
void	TokenNamevoid	
recompose	TokenNameIdentifier	 recompose
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
// Now we make a Vector that is going to hold all of the recomposable elements 	TokenNameCOMMENT_LINE	Now we make a Vector that is going to hold all of the recomposable elements 
Vector	TokenNameIdentifier	 Vector
recomposableElements	TokenNameIdentifier	 recomposable Elements
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// First, we build the global import tree. 	TokenNameCOMMENT_LINE	First, we build the global import tree. 
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
==	TokenNameEQUAL_EQUAL	
m_globalImportList	TokenNameIdentifier	 m global Import List
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Vector	TokenNameIdentifier	 Vector
importList	TokenNameIdentifier	 import List
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addImports	TokenNameIdentifier	 add Imports
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
true	TokenNametrue	
,	TokenNameCOMMA	
importList	TokenNameIdentifier	 import List
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Now we create an array and reverse the order of the importList vector. 	TokenNameCOMMENT_LINE	Now we create an array and reverse the order of the importList vector. 
// We built the importList vector backwards so that we could use addElement 	TokenNameCOMMENT_LINE	We built the importList vector backwards so that we could use addElement 
// to append to the end of the vector instead of constantly pushing new 	TokenNameCOMMENT_LINE	to append to the end of the vector instead of constantly pushing new 
// stylesheets onto the front of the vector and having to shift the rest 	TokenNameCOMMENT_LINE	stylesheets onto the front of the vector and having to shift the rest 
// of the vector each time. 	TokenNameCOMMENT_LINE	of the vector each time. 
m_globalImportList	TokenNameIdentifier	 m global Import List
=	TokenNameEQUAL	
new	TokenNamenew	
StylesheetComposed	TokenNameIdentifier	 Stylesheet Composed
[	TokenNameLBRACKET	
importList	TokenNameIdentifier	 import List
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
importList	TokenNameIdentifier	 import List
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
importList	TokenNameIdentifier	 import List
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_globalImportList	TokenNameIdentifier	 m global Import List
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
(	TokenNameLPAREN	
StylesheetComposed	TokenNameIdentifier	 Stylesheet Composed
)	TokenNameRPAREN	
importList	TokenNameIdentifier	 import List
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Build the global include list for this stylesheet. 	TokenNameCOMMENT_LINE	Build the global include list for this stylesheet. 
// This needs to be done ahead of the recomposeImports 	TokenNameCOMMENT_LINE	This needs to be done ahead of the recomposeImports 
// because we need the info from the composed includes. 	TokenNameCOMMENT_LINE	because we need the info from the composed includes. 
m_globalImportList	TokenNameIdentifier	 m global Import List
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
.	TokenNameDOT	
recomposeIncludes	TokenNameIdentifier	 recompose Includes
(	TokenNameLPAREN	
m_globalImportList	TokenNameIdentifier	 m global Import List
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Calculate the number of this import. 	TokenNameCOMMENT_LINE	Calculate the number of this import. 
m_globalImportList	TokenNameIdentifier	 m global Import List
[	TokenNameLBRACKET	
j	TokenNameIdentifier	 j
--	TokenNameMINUS_MINUS	
]	TokenNameRBRACKET	
.	TokenNameDOT	
recomposeImports	TokenNameIdentifier	 recompose Imports
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Next, we walk the import tree and add all of the recomposable elements to the vector. 	TokenNameCOMMENT_LINE	Next, we walk the import tree and add all of the recomposable elements to the vector. 
int	TokenNameint	
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
getGlobalImportCount	TokenNameIdentifier	 get Global Import Count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
n	TokenNameIdentifier	 n
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
StylesheetComposed	TokenNameIdentifier	 Stylesheet Composed
imported	TokenNameIdentifier	 imported
=	TokenNameEQUAL	
getGlobalImport	TokenNameIdentifier	 get Global Import
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
imported	TokenNameIdentifier	 imported
.	TokenNameDOT	
recompose	TokenNameIdentifier	 recompose
(	TokenNameLPAREN	
recomposableElements	TokenNameIdentifier	 recomposable Elements
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// We sort the elements into ascending order. 	TokenNameCOMMENT_LINE	We sort the elements into ascending order. 
QuickSort2	TokenNameIdentifier	 Quick Sort2
(	TokenNameLPAREN	
recomposableElements	TokenNameIdentifier	 recomposable Elements
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
recomposableElements	TokenNameIdentifier	 recomposable Elements
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// We set up the global variables that will hold the recomposed information. 	TokenNameCOMMENT_LINE	We set up the global variables that will hold the recomposed information. 
m_outputProperties	TokenNameIdentifier	 m output Properties
=	TokenNameEQUAL	
new	TokenNamenew	
OutputProperties	TokenNameIdentifier	 Output Properties
(	TokenNameLPAREN	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
serializer	TokenNameIdentifier	 serializer
.	TokenNameDOT	
Method	TokenNameIdentifier	 Method
.	TokenNameDOT	
UNKNOWN	TokenNameIdentifier	 UNKNOWN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// m_outputProperties = new OutputProperties(Method.XML); 	TokenNameCOMMENT_LINE	m_outputProperties = new OutputProperties(Method.XML); 
m_attrSets	TokenNameIdentifier	 m attr Sets
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_decimalFormatSymbols	TokenNameIdentifier	 m decimal Format Symbols
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_keyDecls	TokenNameIdentifier	 m key Decls
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_namespaceAliasComposed	TokenNameIdentifier	 m namespace Alias Composed
=	TokenNameEQUAL	
new	TokenNamenew	
Hashtable	TokenNameIdentifier	 Hashtable
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_templateList	TokenNameIdentifier	 m template List
=	TokenNameEQUAL	
new	TokenNamenew	
TemplateList	TokenNameIdentifier	 Template List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_variables	TokenNameIdentifier	 m variables
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Now we sequence through the sorted elements, 	TokenNameCOMMENT_LINE	Now we sequence through the sorted elements, 
// calling the recompose() function on each one. This will call back into the 	TokenNameCOMMENT_LINE	calling the recompose() function on each one. This will call back into the 
// appropriate routine here to actually do the recomposition. 	TokenNameCOMMENT_LINE	appropriate routine here to actually do the recomposition. 
// Note that we're going backwards, encountering the highest precedence items first. 	TokenNameCOMMENT_LINE	Note that we're going backwards, encountering the highest precedence items first. 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
recomposableElements	TokenNameIdentifier	 recomposable Elements
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
>=	TokenNameGREATER_EQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
--	TokenNameMINUS_MINUS	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
ElemTemplateElement	TokenNameIdentifier	 Elem Template Element
)	TokenNameRPAREN	
recomposableElements	TokenNameIdentifier	 recomposable Elements
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
recompose	TokenNameIdentifier	 recompose
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/* * Backing out REE again, as it seems to cause some new failures * which need to be investigated. -is */	TokenNameCOMMENT_BLOCK	 Backing out REE again, as it seems to cause some new failures which need to be investigated. -is 
// This has to be done before the initialization of the compose state, because 	TokenNameCOMMENT_LINE	This has to be done before the initialization of the compose state, because 
// eleminateRedundentGlobals will add variables to the m_variables vector, which 	TokenNameCOMMENT_LINE	eleminateRedundentGlobals will add variables to the m_variables vector, which 
// it then copied in the ComposeState constructor. 	TokenNameCOMMENT_LINE	it then copied in the ComposeState constructor. 
// if(true && org.apache.xalan.processor.TransformerFactoryImpl.m_optimize) 	TokenNameCOMMENT_LINE	if(true && org.apache.xalan.processor.TransformerFactoryImpl.m_optimize) 
// { 	TokenNameCOMMENT_LINE	{ 
// RedundentExprEliminator ree = new RedundentExprEliminator(); 	TokenNameCOMMENT_LINE	RedundentExprEliminator ree = new RedundentExprEliminator(); 
// callVisitors(ree); 	TokenNameCOMMENT_LINE	callVisitors(ree); 
// ree.eleminateRedundentGlobals(this); 	TokenNameCOMMENT_LINE	ree.eleminateRedundentGlobals(this); 
// } 	TokenNameCOMMENT_LINE	} 
initComposeState	TokenNameIdentifier	 init Compose State
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Need final composition of TemplateList. This adds the wild cards onto the chains. 	TokenNameCOMMENT_LINE	Need final composition of TemplateList. This adds the wild cards onto the chains. 
m_templateList	TokenNameIdentifier	 m template List
.	TokenNameDOT	
compose	TokenNameIdentifier	 compose
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Need to clear check for properties at the same import level. 	TokenNameCOMMENT_LINE	Need to clear check for properties at the same import level. 
m_outputProperties	TokenNameIdentifier	 m output Properties
.	TokenNameDOT	
compose	TokenNameIdentifier	 compose
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_outputProperties	TokenNameIdentifier	 m output Properties
.	TokenNameDOT	
endCompose	TokenNameIdentifier	 end Compose
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Now call the compose() method on every element to give it a chance to adjust 	TokenNameCOMMENT_LINE	Now call the compose() method on every element to give it a chance to adjust 
// based on composed values. 	TokenNameCOMMENT_LINE	based on composed values. 
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
getGlobalImportCount	TokenNameIdentifier	 get Global Import Count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
n	TokenNameIdentifier	 n
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
StylesheetComposed	TokenNameIdentifier	 Stylesheet Composed
imported	TokenNameIdentifier	 imported
=	TokenNameEQUAL	
this	TokenNamethis	
.	TokenNameDOT	
getGlobalImport	TokenNameIdentifier	 get Global Import
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
includedCount	TokenNameIdentifier	 included Count
=	TokenNameEQUAL	
imported	TokenNameIdentifier	 imported
.	TokenNameDOT	
getIncludeCountComposed	TokenNameIdentifier	 get Include Count Composed
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
<	TokenNameLESS	
includedCount	TokenNameIdentifier	 included Count
;	TokenNameSEMICOLON	
j	TokenNameIdentifier	 j
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Stylesheet	TokenNameIdentifier	 Stylesheet
included	TokenNameIdentifier	 included
=	TokenNameEQUAL	
imported	TokenNameIdentifier	 imported
.	TokenNameDOT	
getIncludeComposed	TokenNameIdentifier	 get Include Composed
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
composeTemplates	TokenNameIdentifier	 compose Templates
(	TokenNameLPAREN	
included	TokenNameIdentifier	 included
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Attempt to register any remaining unregistered extension namespaces. 	TokenNameCOMMENT_LINE	Attempt to register any remaining unregistered extension namespaces. 
if	TokenNameif	
(	TokenNameLPAREN	
m_extNsMgr	TokenNameIdentifier	 m ext Ns Mgr
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
m_extNsMgr	TokenNameIdentifier	 m ext Ns Mgr
.	TokenNameDOT	
registerUnregisteredNamespaces	TokenNameIdentifier	 register Unregistered Namespaces
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
clearComposeState	TokenNameIdentifier	 clear Compose State
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Call the compose function for each ElemTemplateElement. * * @param templ non-null reference to template element that will have * the composed method called on it, and will have it's children's composed * methods called. */	TokenNameCOMMENT_JAVADOC	 Call the compose function for each ElemTemplateElement. * @param templ non-null reference to template element that will have the composed method called on it, and will have it's children's composed methods called. 
void	TokenNamevoid	
composeTemplates	TokenNameIdentifier	 compose Templates
(	TokenNameLPAREN	
ElemTemplateElement	TokenNameIdentifier	 Elem Template Element
templ	TokenNameIdentifier	 templ
)	TokenNameRPAREN	
throws	TokenNamethrows	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
templ	TokenNameIdentifier	 templ
.	TokenNameDOT	
compose	TokenNameIdentifier	 compose
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
ElemTemplateElement	TokenNameIdentifier	 Elem Template Element
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
templ	TokenNameIdentifier	 templ
.	TokenNameDOT	
getFirstChildElem	TokenNameIdentifier	 get First Child Elem
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
child	TokenNameIdentifier	 child
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
child	TokenNameIdentifier	 child
=	TokenNameEQUAL	
child	TokenNameIdentifier	 child
.	TokenNameDOT	
getNextSiblingElem	TokenNameIdentifier	 get Next Sibling Elem
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
composeTemplates	TokenNameIdentifier	 compose Templates
(	TokenNameLPAREN	
child	TokenNameIdentifier	 child
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
templ	TokenNameIdentifier	 templ
.	TokenNameDOT	
endCompose	TokenNameIdentifier	 end Compose
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * The combined list of imports. The stylesheet with the highest * import precedence will be at element 0. The one with the lowest * import precedence will be at element length - 1. * @serial */	TokenNameCOMMENT_JAVADOC	 The combined list of imports. The stylesheet with the highest import precedence will be at element 0. The one with the lowest import precedence will be at element length - 1. @serial 
private	TokenNameprivate	
StylesheetComposed	TokenNameIdentifier	 Stylesheet Composed
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
m_globalImportList	TokenNameIdentifier	 m global Import List
;	TokenNameSEMICOLON	
/** * Add the imports in the given sheet to the working importList vector. * The will be added from highest import precedence to * least import precedence. This is a post-order traversal of the * import tree as described in <a href="http://www.w3.org/TR/xslt.html#import">the * XSLT Recommendation</a>. * <p>For example, suppose</p> * <p>stylesheet A imports stylesheets B and C in that order;</p> * <p>stylesheet B imports stylesheet D;</p> * <p>stylesheet C imports stylesheet E.</p> * <p>Then the order of import precedence (highest first) is * A, C, E, B, D.</p> * * @param stylesheet Stylesheet to examine for imports. * @param addToList <code>true</code> if this template should be added to the import list * @param importList The working import list. Templates are added here in the reverse * order of priority. When we're all done, we'll reverse this to the correct * priority in an array. */	TokenNameCOMMENT_JAVADOC	 Add the imports in the given sheet to the working importList vector. The will be added from highest import precedence to least import precedence. This is a post-order traversal of the import tree as described in <a href="http://www.w3.org/TR/xslt.html#import">the XSLT Recommendation</a>. <p>For example, suppose</p> <p>stylesheet A imports stylesheets B and C in that order;</p> <p>stylesheet B imports stylesheet D;</p> <p>stylesheet C imports stylesheet E.</p> <p>Then the order of import precedence (highest first) is A, C, E, B, D.</p> * @param stylesheet Stylesheet to examine for imports. @param addToList <code>true</code> if this template should be added to the import list @param importList The working import list. Templates are added here in the reverse order of priority. When we're all done, we'll reverse this to the correct priority in an array. 
protected	TokenNameprotected	
void	TokenNamevoid	
addImports	TokenNameIdentifier	 add Imports
(	TokenNameLPAREN	
Stylesheet	TokenNameIdentifier	 Stylesheet
stylesheet	TokenNameIdentifier	 stylesheet
,	TokenNameCOMMA	
boolean	TokenNameboolean	
addToList	TokenNameIdentifier	 add To List
,	TokenNameCOMMA	
Vector	TokenNameIdentifier	 Vector
importList	TokenNameIdentifier	 import List
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Get the direct imports of this sheet. 	TokenNameCOMMENT_LINE	Get the direct imports of this sheet. 
int	TokenNameint	
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
stylesheet	TokenNameIdentifier	 stylesheet
.	TokenNameDOT	
getImportCount	TokenNameIdentifier	 get Import Count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
n	TokenNameIdentifier	 n
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
n	TokenNameIdentifier	 n
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Stylesheet	TokenNameIdentifier	 Stylesheet
imported	TokenNameIdentifier	 imported
=	TokenNameEQUAL	
stylesheet	TokenNameIdentifier	 stylesheet
.	TokenNameDOT	
getImport	TokenNameIdentifier	 get Import
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addImports	TokenNameIdentifier	 add Imports
(	TokenNameLPAREN	
imported	TokenNameIdentifier	 imported
,	TokenNameCOMMA	
true	TokenNametrue	
,	TokenNameCOMMA	
importList	TokenNameIdentifier	 import List
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
stylesheet	TokenNameIdentifier	 stylesheet
.	TokenNameDOT	
getIncludeCount	TokenNameIdentifier	 get Include Count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
n	TokenNameIdentifier	 n
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
n	TokenNameIdentifier	 n
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Stylesheet	TokenNameIdentifier	 Stylesheet
included	TokenNameIdentifier	 included
=	TokenNameEQUAL	
stylesheet	TokenNameIdentifier	 stylesheet
.	TokenNameDOT	
getInclude	TokenNameIdentifier	 get Include
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
addImports	TokenNameIdentifier	 add Imports
(	TokenNameLPAREN	
included	TokenNameIdentifier	 included
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
importList	TokenNameIdentifier	 import List
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
addToList	TokenNameIdentifier	 add To List
)	TokenNameRPAREN	
importList	TokenNameIdentifier	 import List
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
stylesheet	TokenNameIdentifier	 stylesheet
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get a stylesheet from the global import list. * TODO: JKESS PROPOSES SPECIAL-CASE FOR NO IMPORT LIST, TO MATCH COUNT. * * @param i Index of stylesheet to get from global import list * * @return The stylesheet at the given index */	TokenNameCOMMENT_JAVADOC	 Get a stylesheet from the global import list. TODO: JKESS PROPOSES SPECIAL-CASE FOR NO IMPORT LIST, TO MATCH COUNT. * @param i Index of stylesheet to get from global import list * @return The stylesheet at the given index 
public	TokenNamepublic	
StylesheetComposed	TokenNameIdentifier	 Stylesheet Composed
getGlobalImport	TokenNameIdentifier	 get Global Import
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_globalImportList	TokenNameIdentifier	 m global Import List
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the total number of imports in the global import list. * * @return The total number of imported stylesheets, including * the root stylesheet, thus the number will always be 1 or * greater. * TODO: JKESS PROPOSES SPECIAL-CASE FOR NO IMPORT LIST, TO MATCH DESCRIPTION. */	TokenNameCOMMENT_JAVADOC	 Get the total number of imports in the global import list. * @return The total number of imported stylesheets, including the root stylesheet, thus the number will always be 1 or greater. TODO: JKESS PROPOSES SPECIAL-CASE FOR NO IMPORT LIST, TO MATCH DESCRIPTION. 
public	TokenNamepublic	
int	TokenNameint	
getGlobalImportCount	TokenNameIdentifier	 get Global Import Count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
m_globalImportList	TokenNameIdentifier	 m global Import List
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
m_globalImportList	TokenNameIdentifier	 m global Import List
.	TokenNameDOT	
length	TokenNameIdentifier	 length
:	TokenNameCOLON	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Given a stylesheet, return the number of the stylesheet * in the global import list. * @param sheet The stylesheet which will be located in the * global import list. * @return The index into the global import list of the given stylesheet, * or -1 if it is not found (which should never happen). */	TokenNameCOMMENT_JAVADOC	 Given a stylesheet, return the number of the stylesheet in the global import list. @param sheet The stylesheet which will be located in the global import list. @return The index into the global import list of the given stylesheet, or -1 if it is not found (which should never happen). 
public	TokenNamepublic	
int	TokenNameint	
getImportNumber	TokenNameIdentifier	 get Import Number
(	TokenNameLPAREN	
StylesheetComposed	TokenNameIdentifier	 Stylesheet Composed
sheet	TokenNameIdentifier	 sheet
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
this	TokenNamethis	
==	TokenNameEQUAL_EQUAL	
sheet	TokenNameIdentifier	 sheet
)	TokenNameRPAREN	
return	TokenNamereturn	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
int	TokenNameint	
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
getGlobalImportCount	TokenNameIdentifier	 get Global Import Count
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
n	TokenNameIdentifier	 n
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
sheet	TokenNameIdentifier	 sheet
==	TokenNameEQUAL_EQUAL	
getGlobalImport	TokenNameIdentifier	 get Global Import
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
i	TokenNameIdentifier	 i
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * This will be set up with the default values, and then the values * will be set as stylesheets are encountered. * @serial */	TokenNameCOMMENT_JAVADOC	 This will be set up with the default values, and then the values will be set as stylesheets are encountered. @serial 
private	TokenNameprivate	
OutputProperties	TokenNameIdentifier	 Output Properties
m_outputProperties	TokenNameIdentifier	 m output Properties
;	TokenNameSEMICOLON	
/** * Recompose the output format object from the included elements. * * @param oprops non-null reference to xsl:output properties representation. */	TokenNameCOMMENT_JAVADOC	 Recompose the output format object from the included elements. * @param oprops non-null reference to xsl:output properties representation. 
void	TokenNamevoid	
recomposeOutput	TokenNameIdentifier	 recompose Output
(	TokenNameLPAREN	
OutputProperties	TokenNameIdentifier	 Output Properties
oprops	TokenNameIdentifier	 oprops
)	TokenNameRPAREN	
throws	TokenNamethrows	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
m_outputProperties	TokenNameIdentifier	 m output Properties
.	TokenNameDOT	
copyFrom	TokenNameIdentifier	 copy From
(	TokenNameLPAREN	
oprops	TokenNameIdentifier	 oprops
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the combined "xsl:output" property with the properties * combined from the included stylesheets. If a xsl:output * is not declared in this stylesheet or an included stylesheet, * look in the imports. * Please note that this returns a reference to the OutputProperties * object, not a cloned object, like getOutputProperties does. * @see <a href="http://www.w3.org/TR/xslt#output">output in XSLT Specification</a> * * @return non-null reference to composed output properties object. */	TokenNameCOMMENT_JAVADOC	 Get the combined "xsl:output" property with the properties combined from the included stylesheets. If a xsl:output is not declared in this stylesheet or an included stylesheet, look in the imports. Please note that this returns a reference to the OutputProperties object, not a cloned object, like getOutputProperties does. @see <a href="http://www.w3.org/TR/xslt#output">output in XSLT Specification</a> * @return non-null reference to composed output properties object. 
public	TokenNamepublic	
OutputProperties	TokenNameIdentifier	 Output Properties
getOutputComposed	TokenNameIdentifier	 get Output Composed
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// System.out.println("getOutputComposed.getIndent: "+m_outputProperties.getIndent()); 	TokenNameCOMMENT_LINE	System.out.println("getOutputComposed.getIndent: "+m_outputProperties.getIndent()); 
// System.out.println("getOutputComposed.getIndenting: "+m_outputProperties.getIndenting()); 	TokenNameCOMMENT_LINE	System.out.println("getOutputComposed.getIndenting: "+m_outputProperties.getIndenting()); 
return	TokenNamereturn	
m_outputProperties	TokenNameIdentifier	 m output Properties
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** Flag indicating whether an output method has been set by the user. * @serial */	TokenNameCOMMENT_JAVADOC	 Flag indicating whether an output method has been set by the user. @serial 
private	TokenNameprivate	
boolean	TokenNameboolean	
m_outputMethodSet	TokenNameIdentifier	 m output Method Set
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** * Find out if an output method has been set by the user. * * @return Value indicating whether an output method has been set by the user * @xsl.usage internal */	TokenNameCOMMENT_JAVADOC	 Find out if an output method has been set by the user. * @return Value indicating whether an output method has been set by the user @xsl.usage internal 
public	TokenNamepublic	
boolean	TokenNameboolean	
isOutputMethodSet	TokenNameIdentifier	 is Output Method Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_outputMethodSet	TokenNameIdentifier	 m output Method Set
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Composed set of all included and imported attribute set properties. * Each entry is a vector of ElemAttributeSet objects. * @serial */	TokenNameCOMMENT_JAVADOC	 Composed set of all included and imported attribute set properties. Each entry is a vector of ElemAttributeSet objects. @serial 
private	TokenNameprivate	
HashMap	TokenNameIdentifier	 Hash Map
m_attrSets	TokenNameIdentifier	 m attr Sets
;	TokenNameSEMICOLON	
/** * Recompose the attribute-set declarations. * * @param attrSet An attribute-set to add to the hashtable of attribute sets. */	TokenNameCOMMENT_JAVADOC	 Recompose the attribute-set declarations. * @param attrSet An attribute-set to add to the hashtable of attribute sets. 
void	TokenNamevoid	
recomposeAttributeSets	TokenNameIdentifier	 recompose Attribute Sets
(	TokenNameLPAREN	
ElemAttributeSet	TokenNameIdentifier	 Elem Attribute Set
attrSet	TokenNameIdentifier	 attr Set
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ArrayList	TokenNameIdentifier	 Array List
attrSetList	TokenNameIdentifier	 attr Set List
=	TokenNameEQUAL	
(	TokenNameLPAREN	
ArrayList	TokenNameIdentifier	 Array List
)	TokenNameRPAREN	
m_attrSets	TokenNameIdentifier	 m attr Sets
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
attrSet	TokenNameIdentifier	 attr Set
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
==	TokenNameEQUAL_EQUAL	
attrSetList	TokenNameIdentifier	 attr Set List
)	TokenNameRPAREN	
{	TokenNameLBRACE	
attrSetList	TokenNameIdentifier	 attr Set List
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_attrSets	TokenNameIdentifier	 m attr Sets
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
attrSet	TokenNameIdentifier	 attr Set
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
attrSetList	TokenNameIdentifier	 attr Set List
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
attrSetList	TokenNameIdentifier	 attr Set List
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
attrSet	TokenNameIdentifier	 attr Set
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get a list "xsl:attribute-set" properties that match the qname. * @see <a href="http://www.w3.org/TR/xslt#attribute-sets">attribute-sets in XSLT Specification</a> * * @param name Qualified name of attribute set properties to get * * @return A vector of attribute sets matching the given name * * @throws ArrayIndexOutOfBoundsException */	TokenNameCOMMENT_JAVADOC	 Get a list "xsl:attribute-set" properties that match the qname. @see <a href="http://www.w3.org/TR/xslt#attribute-sets">attribute-sets in XSLT Specification</a> * @param name Qualified name of attribute set properties to get * @return A vector of attribute sets matching the given name * @throws ArrayIndexOutOfBoundsException 
public	TokenNamepublic	
ArrayList	TokenNameIdentifier	 Array List
getAttributeSetComposed	TokenNameIdentifier	 get Attribute Set Composed
(	TokenNameLPAREN	
QName	TokenNameIdentifier	 Q Name
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
throws	TokenNamethrows	
ArrayIndexOutOfBoundsException	TokenNameIdentifier	 Array Index Out Of Bounds Exception
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
ArrayList	TokenNameIdentifier	 Array List
)	TokenNameRPAREN	
m_attrSets	TokenNameIdentifier	 m attr Sets
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Table of DecimalFormatSymbols, keyed by QName. * @serial */	TokenNameCOMMENT_JAVADOC	 Table of DecimalFormatSymbols, keyed by QName. @serial 
private	TokenNameprivate	
Hashtable	TokenNameIdentifier	 Hashtable
m_decimalFormatSymbols	TokenNameIdentifier	 m decimal Format Symbols
;	TokenNameSEMICOLON	
/** * Recompose the decimal-format declarations. * * @param dfp A DecimalFormatProperties to add to the hashtable of decimal formats. */	TokenNameCOMMENT_JAVADOC	 Recompose the decimal-format declarations. * @param dfp A DecimalFormatProperties to add to the hashtable of decimal formats. 
void	TokenNamevoid	
recomposeDecimalFormats	TokenNameIdentifier	 recompose Decimal Formats
(	TokenNameLPAREN	
DecimalFormatProperties	TokenNameIdentifier	 Decimal Format Properties
dfp	TokenNameIdentifier	 dfp
)	TokenNameRPAREN	
{	TokenNameLBRACE	
DecimalFormatSymbols	TokenNameIdentifier	 Decimal Format Symbols
oldDfs	TokenNameIdentifier	 old Dfs
=	TokenNameEQUAL	
(	TokenNameLPAREN	
DecimalFormatSymbols	TokenNameIdentifier	 Decimal Format Symbols
)	TokenNameRPAREN	
m_decimalFormatSymbols	TokenNameIdentifier	 m decimal Format Symbols
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
dfp	TokenNameIdentifier	 dfp
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
==	TokenNameEQUAL_EQUAL	
oldDfs	TokenNameIdentifier	 old Dfs
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_decimalFormatSymbols	TokenNameIdentifier	 m decimal Format Symbols
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
dfp	TokenNameIdentifier	 dfp
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
dfp	TokenNameIdentifier	 dfp
.	TokenNameDOT	
getDecimalFormatSymbols	TokenNameIdentifier	 get Decimal Format Symbols
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
dfp	TokenNameIdentifier	 dfp
.	TokenNameDOT	
getDecimalFormatSymbols	TokenNameIdentifier	 get Decimal Format Symbols
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
oldDfs	TokenNameIdentifier	 old Dfs
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
themsg	TokenNameIdentifier	 themsg
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
dfp	TokenNameIdentifier	 dfp
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
new	TokenNamenew	
QName	TokenNameIdentifier	 Q Name
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// "Only one default xsl:decimal-format declaration is allowed." 	TokenNameCOMMENT_LINE	"Only one default xsl:decimal-format declaration is allowed." 
themsg	TokenNameIdentifier	 themsg
=	TokenNameEQUAL	
XSLMessages	TokenNameIdentifier	 XSL Messages
.	TokenNameDOT	
createWarning	TokenNameIdentifier	 create Warning
(	TokenNameLPAREN	
XSLTErrorResources	TokenNameIdentifier	 XSLT Error Resources
.	TokenNameDOT	
WG_ONE_DEFAULT_XSLDECIMALFORMAT_ALLOWED	TokenNameIdentifier	 WG  ONE  DEFAULT  XSLDECIMALFORMAT  ALLOWED
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// "xsl:decimal-format names must be unique. Name {0} has been duplicated." 	TokenNameCOMMENT_LINE	"xsl:decimal-format names must be unique. Name {0} has been duplicated." 
themsg	TokenNameIdentifier	 themsg
=	TokenNameEQUAL	
XSLMessages	TokenNameIdentifier	 XSL Messages
.	TokenNameDOT	
createWarning	TokenNameIdentifier	 create Warning
(	TokenNameLPAREN	
XSLTErrorResources	TokenNameIdentifier	 XSLT Error Resources
.	TokenNameDOT	
WG_XSLDECIMALFORMAT_NAMES_MUST_BE_UNIQUE	TokenNameIdentifier	 WG  XSLDECIMALFORMAT  NAMES  MUST  BE  UNIQUE
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
dfp	TokenNameIdentifier	 dfp
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
error	TokenNameIdentifier	 error
(	TokenNameLPAREN	
themsg	TokenNameIdentifier	 themsg
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Should we throw TransformerException instead? 	TokenNameCOMMENT_LINE	Should we throw TransformerException instead? 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Given a valid element decimal-format name, return the * decimalFormatSymbols with that name. * <p>It is an error to declare either the default decimal-format or * a decimal-format with a given name more than once (even with * different import precedence), unless it is declared every * time with the same value for all attributes (taking into * account any default values).</p> * <p>Which means, as far as I can tell, the decimal-format * properties are not additive.</p> * * @param name Qualified name of the decimal format to find * @return DecimalFormatSymbols object matching the given name or * null if name is not found. */	TokenNameCOMMENT_JAVADOC	 Given a valid element decimal-format name, return the decimalFormatSymbols with that name. <p>It is an error to declare either the default decimal-format or a decimal-format with a given name more than once (even with different import precedence), unless it is declared every time with the same value for all attributes (taking into account any default values).</p> <p>Which means, as far as I can tell, the decimal-format properties are not additive.</p> * @param name Qualified name of the decimal format to find @return DecimalFormatSymbols object matching the given name or null if name is not found. 
public	TokenNamepublic	
DecimalFormatSymbols	TokenNameIdentifier	 Decimal Format Symbols
getDecimalFormatComposed	TokenNameIdentifier	 get Decimal Format Composed
(	TokenNameLPAREN	
QName	TokenNameIdentifier	 Q Name
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
DecimalFormatSymbols	TokenNameIdentifier	 Decimal Format Symbols
)	TokenNameRPAREN	
m_decimalFormatSymbols	TokenNameIdentifier	 m decimal Format Symbols
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
name	TokenNameIdentifier	 name
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * A list of all key declarations visible from this stylesheet and all * lesser stylesheets. * @serial */	TokenNameCOMMENT_JAVADOC	 A list of all key declarations visible from this stylesheet and all lesser stylesheets. @serial 
private	TokenNameprivate	
Vector	TokenNameIdentifier	 Vector
m_keyDecls	TokenNameIdentifier	 m key Decls
;	TokenNameSEMICOLON	
/** * Recompose the key declarations. * * @param keyDecl A KeyDeclaration to be added to the vector of key declarations. */	TokenNameCOMMENT_JAVADOC	 Recompose the key declarations. * @param keyDecl A KeyDeclaration to be added to the vector of key declarations. 
void	TokenNamevoid	
recomposeKeys	TokenNameIdentifier	 recompose Keys
(	TokenNameLPAREN	
KeyDeclaration	TokenNameIdentifier	 Key Declaration
keyDecl	TokenNameIdentifier	 key Decl
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_keyDecls	TokenNameIdentifier	 m key Decls
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
keyDecl	TokenNameIdentifier	 key Decl
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the composed "xsl:key" properties. * @see <a href="http://www.w3.org/TR/xslt#key">key in XSLT Specification</a> * * @return A vector of the composed "xsl:key" properties. */	TokenNameCOMMENT_JAVADOC	 Get the composed "xsl:key" properties. @see <a href="http://www.w3.org/TR/xslt#key">key in XSLT Specification</a> * @return A vector of the composed "xsl:key" properties. 
public	TokenNamepublic	
Vector	TokenNameIdentifier	 Vector
getKeysComposed	TokenNameIdentifier	 get Keys Composed
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_keyDecls	TokenNameIdentifier	 m key Decls
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Composed set of all namespace aliases. * @serial */	TokenNameCOMMENT_JAVADOC	 Composed set of all namespace aliases. @serial 
private	TokenNameprivate	
Hashtable	TokenNameIdentifier	 Hashtable
m_namespaceAliasComposed	TokenNameIdentifier	 m namespace Alias Composed
;	TokenNameSEMICOLON	
/** * Recompose the namespace-alias declarations. * * @param nsAlias A NamespaceAlias object to add to the hashtable of namespace aliases. */	TokenNameCOMMENT_JAVADOC	 Recompose the namespace-alias declarations. * @param nsAlias A NamespaceAlias object to add to the hashtable of namespace aliases. 
void	TokenNamevoid	
recomposeNamespaceAliases	TokenNameIdentifier	 recompose Namespace Aliases
(	TokenNameLPAREN	
NamespaceAlias	TokenNameIdentifier	 Namespace Alias
nsAlias	TokenNameIdentifier	 ns Alias
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_namespaceAliasComposed	TokenNameIdentifier	 m namespace Alias Composed
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
nsAlias	TokenNameIdentifier	 ns Alias
.	TokenNameDOT	
getStylesheetNamespace	TokenNameIdentifier	 get Stylesheet Namespace
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
nsAlias	TokenNameIdentifier	 ns Alias
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the "xsl:namespace-alias" property. * Return the NamespaceAlias for a given namespace uri. * @see <a href="http://www.w3.org/TR/xslt#literal-result-element">literal-result-element in XSLT Specification</a> * * @param uri non-null reference to namespace that is to be aliased. * * @return NamespaceAlias that matches uri, or null if no match. */	TokenNameCOMMENT_JAVADOC	 Get the "xsl:namespace-alias" property. Return the NamespaceAlias for a given namespace uri. @see <a href="http://www.w3.org/TR/xslt#literal-result-element">literal-result-element in XSLT Specification</a> * @param uri non-null reference to namespace that is to be aliased. * @return NamespaceAlias that matches uri, or null if no match. 
public	TokenNamepublic	
NamespaceAlias	TokenNameIdentifier	 Namespace Alias
getNamespaceAliasComposed	TokenNameIdentifier	 get Namespace Alias Composed
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
NamespaceAlias	TokenNameIdentifier	 Namespace Alias
)	TokenNameRPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
null	TokenNamenull	
==	TokenNameEQUAL_EQUAL	
m_namespaceAliasComposed	TokenNameIdentifier	 m namespace Alias Composed
)	TokenNameRPAREN	
?	TokenNameQUESTION	
null	TokenNamenull	
:	TokenNameCOLON	
m_namespaceAliasComposed	TokenNameIdentifier	 m namespace Alias Composed
.	TokenNameDOT	
get	TokenNameIdentifier	 get
(	TokenNameLPAREN	
uri	TokenNameIdentifier	 uri
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * The "xsl:template" properties. * @serial */	TokenNameCOMMENT_JAVADOC	 The "xsl:template" properties. @serial 
private	TokenNameprivate	
TemplateList	TokenNameIdentifier	 Template List
m_templateList	TokenNameIdentifier	 m template List
;	TokenNameSEMICOLON	
/** * Recompose the template declarations. * * @param template An ElemTemplate object to add to the template list. */	TokenNameCOMMENT_JAVADOC	 Recompose the template declarations. * @param template An ElemTemplate object to add to the template list. 
void	TokenNamevoid	
recomposeTemplates	TokenNameIdentifier	 recompose Templates
(	TokenNameLPAREN	
ElemTemplate	TokenNameIdentifier	 Elem Template
template	TokenNameIdentifier	 template
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_templateList	TokenNameIdentifier	 m template List
.	TokenNameDOT	
setTemplate	TokenNameIdentifier	 set Template
(	TokenNameLPAREN	
template	TokenNameIdentifier	 template
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Accessor method to retrieve the <code>TemplateList</code> associated with * this StylesheetRoot. * * @return The composed <code>TemplateList</code>. */	TokenNameCOMMENT_JAVADOC	 Accessor method to retrieve the <code>TemplateList</code> associated with this StylesheetRoot. * @return The composed <code>TemplateList</code>. 
public	TokenNamepublic	
final	TokenNamefinal	
TemplateList	TokenNameIdentifier	 Template List
getTemplateListComposed	TokenNameIdentifier	 get Template List Composed
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_templateList	TokenNameIdentifier	 m template List
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Mutator method to set the <code>TemplateList</code> associated with this * StylesheetRoot. This method should only be used by the compiler. Normally, * the template list is built during the recompose process and should not be * altered by the user. * @param templateList The new <code>TemplateList</code> for this StylesheetRoot. */	TokenNameCOMMENT_JAVADOC	 Mutator method to set the <code>TemplateList</code> associated with this StylesheetRoot. This method should only be used by the compiler. Normally, the template list is built during the recompose process and should not be altered by the user. @param templateList The new <code>TemplateList</code> for this StylesheetRoot. 
public	TokenNamepublic	
final	TokenNamefinal	
void	TokenNamevoid	
setTemplateListComposed	TokenNameIdentifier	 set Template List Composed
(	TokenNameLPAREN	
TemplateList	TokenNameIdentifier	 Template List
templateList	TokenNameIdentifier	 template List
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_templateList	TokenNameIdentifier	 m template List
=	TokenNameEQUAL	
templateList	TokenNameIdentifier	 template List
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get an "xsl:template" property by node match. This looks in the imports as * well as this stylesheet. * @see <a href="http://www.w3.org/TR/xslt#section-Defining-Template-Rules">section-Defining-Template-Rules in XSLT Specification</a> * * @param xctxt non-null reference to XPath runtime execution context. * @param targetNode non-null reference of node that the template must match. * @param mode qualified name of the node, or null. * @param quietConflictWarnings true if conflict warnings should not be reported. * * @return reference to ElemTemplate that is the best match for targetNode, or * null if no match could be made. * * @throws TransformerException */	TokenNameCOMMENT_JAVADOC	 Get an "xsl:template" property by node match. This looks in the imports as well as this stylesheet. @see <a href="http://www.w3.org/TR/xslt#section-Defining-Template-Rules">section-Defining-Template-Rules in XSLT Specification</a> * @param xctxt non-null reference to XPath runtime execution context. @param targetNode non-null reference of node that the template must match. @param mode qualified name of the node, or null. @param quietConflictWarnings true if conflict warnings should not be reported. * @return reference to ElemTemplate that is the best match for targetNode, or null if no match could be made. * @throws TransformerException 
public	TokenNamepublic	
ElemTemplate	TokenNameIdentifier	 Elem Template
getTemplateComposed	TokenNameIdentifier	 get Template Composed
(	TokenNameLPAREN	
XPathContext	TokenNameIdentifier	 X Path Context
xctxt	TokenNameIdentifier	 xctxt
,	TokenNameCOMMA	
int	TokenNameint	
targetNode	TokenNameIdentifier	 target Node
,	TokenNameCOMMA	
QName	TokenNameIdentifier	 Q Name
mode	TokenNameIdentifier	 mode
,	TokenNameCOMMA	
boolean	TokenNameboolean	
quietConflictWarnings	TokenNameIdentifier	 quiet Conflict Warnings
,	TokenNameCOMMA	
DTM	TokenNameIdentifier	 DTM
dtm	TokenNameIdentifier	 dtm
)	TokenNameRPAREN	
throws	TokenNamethrows	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
return	TokenNamereturn	
m_templateList	TokenNameIdentifier	 m template List
.	TokenNameDOT	
getTemplate	TokenNameIdentifier	 get Template
(	TokenNameLPAREN	
xctxt	TokenNameIdentifier	 xctxt
,	TokenNameCOMMA	
targetNode	TokenNameIdentifier	 target Node
,	TokenNameCOMMA	
mode	TokenNameIdentifier	 mode
,	TokenNameCOMMA	
quietConflictWarnings	TokenNameIdentifier	 quiet Conflict Warnings
,	TokenNameCOMMA	
dtm	TokenNameIdentifier	 dtm
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get an "xsl:template" property by node match. This looks in the imports as * well as this stylesheet. * @see <a href="http://www.w3.org/TR/xslt#section-Defining-Template-Rules">section-Defining-Template-Rules in XSLT Specification</a> * * @param xctxt non-null reference to XPath runtime execution context. * @param targetNode non-null reference of node that the template must match. * @param mode qualified name of the node, or null. * @param maxImportLevel The maximum importCountComposed that we should consider or -1 * if we should consider all import levels. This is used by apply-imports to * access templates that have been overridden. * @param endImportLevel The count of composed imports * @param quietConflictWarnings true if conflict warnings should not be reported. * * @return reference to ElemTemplate that is the best match for targetNode, or * null if no match could be made. * * @throws TransformerException */	TokenNameCOMMENT_JAVADOC	 Get an "xsl:template" property by node match. This looks in the imports as well as this stylesheet. @see <a href="http://www.w3.org/TR/xslt#section-Defining-Template-Rules">section-Defining-Template-Rules in XSLT Specification</a> * @param xctxt non-null reference to XPath runtime execution context. @param targetNode non-null reference of node that the template must match. @param mode qualified name of the node, or null. @param maxImportLevel The maximum importCountComposed that we should consider or -1 if we should consider all import levels. This is used by apply-imports to access templates that have been overridden. @param endImportLevel The count of composed imports @param quietConflictWarnings true if conflict warnings should not be reported. * @return reference to ElemTemplate that is the best match for targetNode, or null if no match could be made. * @throws TransformerException 
public	TokenNamepublic	
ElemTemplate	TokenNameIdentifier	 Elem Template
getTemplateComposed	TokenNameIdentifier	 get Template Composed
(	TokenNameLPAREN	
XPathContext	TokenNameIdentifier	 X Path Context
xctxt	TokenNameIdentifier	 xctxt
,	TokenNameCOMMA	
int	TokenNameint	
targetNode	TokenNameIdentifier	 target Node
,	TokenNameCOMMA	
QName	TokenNameIdentifier	 Q Name
mode	TokenNameIdentifier	 mode
,	TokenNameCOMMA	
int	TokenNameint	
maxImportLevel	TokenNameIdentifier	 max Import Level
,	TokenNameCOMMA	
int	TokenNameint	
endImportLevel	TokenNameIdentifier	 end Import Level
,	TokenNameCOMMA	
boolean	TokenNameboolean	
quietConflictWarnings	TokenNameIdentifier	 quiet Conflict Warnings
,	TokenNameCOMMA	
DTM	TokenNameIdentifier	 DTM
dtm	TokenNameIdentifier	 dtm
)	TokenNameRPAREN	
throws	TokenNamethrows	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
return	TokenNamereturn	
m_templateList	TokenNameIdentifier	 m template List
.	TokenNameDOT	
getTemplate	TokenNameIdentifier	 get Template
(	TokenNameLPAREN	
xctxt	TokenNameIdentifier	 xctxt
,	TokenNameCOMMA	
targetNode	TokenNameIdentifier	 target Node
,	TokenNameCOMMA	
mode	TokenNameIdentifier	 mode
,	TokenNameCOMMA	
maxImportLevel	TokenNameIdentifier	 max Import Level
,	TokenNameCOMMA	
endImportLevel	TokenNameIdentifier	 end Import Level
,	TokenNameCOMMA	
quietConflictWarnings	TokenNameIdentifier	 quiet Conflict Warnings
,	TokenNameCOMMA	
dtm	TokenNameIdentifier	 dtm
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get an "xsl:template" property. This looks in the imports as * well as this stylesheet. * @see <a href="http://www.w3.org/TR/xslt#section-Defining-Template-Rules">section-Defining-Template-Rules in XSLT Specification</a> * * @param qname non-null reference to qualified name of template. * * @return reference to named template, or null if not found. */	TokenNameCOMMENT_JAVADOC	 Get an "xsl:template" property. This looks in the imports as well as this stylesheet. @see <a href="http://www.w3.org/TR/xslt#section-Defining-Template-Rules">section-Defining-Template-Rules in XSLT Specification</a> * @param qname non-null reference to qualified name of template. * @return reference to named template, or null if not found. 
public	TokenNamepublic	
ElemTemplate	TokenNameIdentifier	 Elem Template
getTemplateComposed	TokenNameIdentifier	 get Template Composed
(	TokenNameLPAREN	
QName	TokenNameIdentifier	 Q Name
qname	TokenNameIdentifier	 qname
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_templateList	TokenNameIdentifier	 m template List
.	TokenNameDOT	
getTemplate	TokenNameIdentifier	 get Template
(	TokenNameLPAREN	
qname	TokenNameIdentifier	 qname
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Composed set of all variables and params. * @serial */	TokenNameCOMMENT_JAVADOC	 Composed set of all variables and params. @serial 
private	TokenNameprivate	
Vector	TokenNameIdentifier	 Vector
m_variables	TokenNameIdentifier	 m variables
;	TokenNameSEMICOLON	
/** * Recompose the top level variable and parameter declarations. * * @param elemVar A top level variable or parameter to be added to the Vector. */	TokenNameCOMMENT_JAVADOC	 Recompose the top level variable and parameter declarations. * @param elemVar A top level variable or parameter to be added to the Vector. 
void	TokenNamevoid	
recomposeVariables	TokenNameIdentifier	 recompose Variables
(	TokenNameLPAREN	
ElemVariable	TokenNameIdentifier	 Elem Variable
elemVar	TokenNameIdentifier	 elem Var
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Don't overide higher priority variable 	TokenNameCOMMENT_LINE	Don't overide higher priority variable 
if	TokenNameif	
(	TokenNameLPAREN	
getVariableOrParamComposed	TokenNameIdentifier	 get Variable Or Param Composed
(	TokenNameLPAREN	
elemVar	TokenNameIdentifier	 elem Var
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
elemVar	TokenNameIdentifier	 elem Var
.	TokenNameDOT	
setIsTopLevel	TokenNameIdentifier	 set Is Top Level
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Mark as a top-level variable or param 	TokenNameCOMMENT_LINE	Mark as a top-level variable or param 
elemVar	TokenNameIdentifier	 elem Var
.	TokenNameDOT	
setIndex	TokenNameIdentifier	 set Index
(	TokenNameLPAREN	
m_variables	TokenNameIdentifier	 m variables
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_variables	TokenNameIdentifier	 m variables
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
elemVar	TokenNameIdentifier	 elem Var
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Get an "xsl:variable" property. * @see <a href="http://www.w3.org/TR/xslt#top-level-variables">top-level-variables in XSLT Specification</a> * * @param qname Qualified name of variable or param * * @return The ElemVariable with the given qualified name */	TokenNameCOMMENT_JAVADOC	 Get an "xsl:variable" property. @see <a href="http://www.w3.org/TR/xslt#top-level-variables">top-level-variables in XSLT Specification</a> * @param qname Qualified name of variable or param * @return The ElemVariable with the given qualified name 
public	TokenNamepublic	
ElemVariable	TokenNameIdentifier	 Elem Variable
getVariableOrParamComposed	TokenNameIdentifier	 get Variable Or Param Composed
(	TokenNameLPAREN	
QName	TokenNameIdentifier	 Q Name
qname	TokenNameIdentifier	 qname
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
m_variables	TokenNameIdentifier	 m variables
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
n	TokenNameIdentifier	 n
=	TokenNameEQUAL	
m_variables	TokenNameIdentifier	 m variables
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
n	TokenNameIdentifier	 n
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ElemVariable	TokenNameIdentifier	 Elem Variable
var	TokenNameIdentifier	 var
=	TokenNameEQUAL	
(	TokenNameLPAREN	
ElemVariable	TokenNameIdentifier	 Elem Variable
)	TokenNameRPAREN	
m_variables	TokenNameIdentifier	 m variables
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
var	TokenNameIdentifier	 var
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
qname	TokenNameIdentifier	 qname
)	TokenNameRPAREN	
)	TokenNameRPAREN	
return	TokenNamereturn	
var	TokenNameIdentifier	 var
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get all global "xsl:variable" properties in scope for this stylesheet. * @see <a href="http://www.w3.org/TR/xslt#top-level-variables">top-level-variables in XSLT Specification</a> * * @return Vector of all variables and params in scope */	TokenNameCOMMENT_JAVADOC	 Get all global "xsl:variable" properties in scope for this stylesheet. @see <a href="http://www.w3.org/TR/xslt#top-level-variables">top-level-variables in XSLT Specification</a> * @return Vector of all variables and params in scope 
public	TokenNamepublic	
Vector	TokenNameIdentifier	 Vector
getVariablesAndParamsComposed	TokenNameIdentifier	 get Variables And Params Composed
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_variables	TokenNameIdentifier	 m variables
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * A list of properties that specify how to do space * stripping. This uses the same exact mechanism as Templates. * @serial */	TokenNameCOMMENT_JAVADOC	 A list of properties that specify how to do space stripping. This uses the same exact mechanism as Templates. @serial 
private	TokenNameprivate	
TemplateList	TokenNameIdentifier	 Template List
m_whiteSpaceInfoList	TokenNameIdentifier	 m white Space Info List
;	TokenNameSEMICOLON	
/** * Recompose the strip-space and preserve-space declarations. * * @param wsi A WhiteSpaceInfo element to add to the list of WhiteSpaceInfo elements. */	TokenNameCOMMENT_JAVADOC	 Recompose the strip-space and preserve-space declarations. * @param wsi A WhiteSpaceInfo element to add to the list of WhiteSpaceInfo elements. 
void	TokenNamevoid	
recomposeWhiteSpaceInfo	TokenNameIdentifier	 recompose White Space Info
(	TokenNameLPAREN	
WhiteSpaceInfo	TokenNameIdentifier	 White Space Info
wsi	TokenNameIdentifier	 wsi
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
==	TokenNameEQUAL_EQUAL	
m_whiteSpaceInfoList	TokenNameIdentifier	 m white Space Info List
)	TokenNameRPAREN	
m_whiteSpaceInfoList	TokenNameIdentifier	 m white Space Info List
=	TokenNameEQUAL	
new	TokenNamenew	
TemplateList	TokenNameIdentifier	 Template List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_whiteSpaceInfoList	TokenNameIdentifier	 m white Space Info List
.	TokenNameDOT	
setTemplate	TokenNameIdentifier	 set Template
(	TokenNameLPAREN	
wsi	TokenNameIdentifier	 wsi
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Check to see if the caller should bother with check for * whitespace nodes. * * @return Whether the caller should bother with check for * whitespace nodes. */	TokenNameCOMMENT_JAVADOC	 Check to see if the caller should bother with check for whitespace nodes. * @return Whether the caller should bother with check for whitespace nodes. 
public	TokenNamepublic	
boolean	TokenNameboolean	
shouldCheckWhitespace	TokenNameIdentifier	 should Check Whitespace
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
m_whiteSpaceInfoList	TokenNameIdentifier	 m white Space Info List
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get information about whether or not an element should strip whitespace. * @see <a href="http://www.w3.org/TR/xslt#strip">strip in XSLT Specification</a> * * @param support The XPath runtime state. * @param targetElement Element to check * * @return WhiteSpaceInfo for the given element * * @throws TransformerException */	TokenNameCOMMENT_JAVADOC	 Get information about whether or not an element should strip whitespace. @see <a href="http://www.w3.org/TR/xslt#strip">strip in XSLT Specification</a> * @param support The XPath runtime state. @param targetElement Element to check * @return WhiteSpaceInfo for the given element * @throws TransformerException 
public	TokenNamepublic	
WhiteSpaceInfo	TokenNameIdentifier	 White Space Info
getWhiteSpaceInfo	TokenNameIdentifier	 get White Space Info
(	TokenNameLPAREN	
XPathContext	TokenNameIdentifier	 X Path Context
support	TokenNameIdentifier	 support
,	TokenNameCOMMA	
int	TokenNameint	
targetElement	TokenNameIdentifier	 target Element
,	TokenNameCOMMA	
DTM	TokenNameIdentifier	 DTM
dtm	TokenNameIdentifier	 dtm
)	TokenNameRPAREN	
throws	TokenNamethrows	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
m_whiteSpaceInfoList	TokenNameIdentifier	 m white Space Info List
)	TokenNameRPAREN	
return	TokenNamereturn	
(	TokenNameLPAREN	
WhiteSpaceInfo	TokenNameIdentifier	 White Space Info
)	TokenNameRPAREN	
m_whiteSpaceInfoList	TokenNameIdentifier	 m white Space Info List
.	TokenNameDOT	
getTemplate	TokenNameIdentifier	 get Template
(	TokenNameLPAREN	
support	TokenNameIdentifier	 support
,	TokenNameCOMMA	
targetElement	TokenNameIdentifier	 target Element
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
dtm	TokenNameIdentifier	 dtm
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get information about whether or not an element should strip whitespace. * @see <a href="http://www.w3.org/TR/xslt#strip">strip in XSLT Specification</a> * * @param support The XPath runtime state. * @param targetElement Element to check * * @return true if the whitespace should be stripped. * * @throws TransformerException */	TokenNameCOMMENT_JAVADOC	 Get information about whether or not an element should strip whitespace. @see <a href="http://www.w3.org/TR/xslt#strip">strip in XSLT Specification</a> * @param support The XPath runtime state. @param targetElement Element to check * @return true if the whitespace should be stripped. * @throws TransformerException 
public	TokenNamepublic	
boolean	TokenNameboolean	
shouldStripWhiteSpace	TokenNameIdentifier	 should Strip White Space
(	TokenNameLPAREN	
XPathContext	TokenNameIdentifier	 X Path Context
support	TokenNameIdentifier	 support
,	TokenNameCOMMA	
int	TokenNameint	
targetElement	TokenNameIdentifier	 target Element
)	TokenNameRPAREN	
throws	TokenNamethrows	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
m_whiteSpaceInfoList	TokenNameIdentifier	 m white Space Info List
)	TokenNameRPAREN	
{	TokenNameLBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NULL	TokenNameIdentifier	 NULL
!=	TokenNameNOT_EQUAL	
targetElement	TokenNameIdentifier	 target Element
)	TokenNameRPAREN	
{	TokenNameLBRACE	
DTM	TokenNameIdentifier	 DTM
dtm	TokenNameIdentifier	 dtm
=	TokenNameEQUAL	
support	TokenNameIdentifier	 support
.	TokenNameDOT	
getDTM	TokenNameIdentifier	 get DTM
(	TokenNameLPAREN	
targetElement	TokenNameIdentifier	 target Element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
WhiteSpaceInfo	TokenNameIdentifier	 White Space Info
info	TokenNameIdentifier	 info
=	TokenNameEQUAL	
(	TokenNameLPAREN	
WhiteSpaceInfo	TokenNameIdentifier	 White Space Info
)	TokenNameRPAREN	
m_whiteSpaceInfoList	TokenNameIdentifier	 m white Space Info List
.	TokenNameDOT	
getTemplate	TokenNameIdentifier	 get Template
(	TokenNameLPAREN	
support	TokenNameIdentifier	 support
,	TokenNameCOMMA	
targetElement	TokenNameIdentifier	 target Element
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
false	TokenNamefalse	
,	TokenNameCOMMA	
dtm	TokenNameIdentifier	 dtm
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
info	TokenNameIdentifier	 info
)	TokenNameRPAREN	
return	TokenNamereturn	
info	TokenNameIdentifier	 info
.	TokenNameDOT	
getShouldStripSpace	TokenNameIdentifier	 get Should Strip Space
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
parent	TokenNameIdentifier	 parent
=	TokenNameEQUAL	
dtm	TokenNameIdentifier	 dtm
.	TokenNameDOT	
getParent	TokenNameIdentifier	 get Parent
(	TokenNameLPAREN	
targetElement	TokenNameIdentifier	 target Element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NULL	TokenNameIdentifier	 NULL
!=	TokenNameNOT_EQUAL	
parent	TokenNameIdentifier	 parent
&&	TokenNameAND_AND	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ELEMENT_NODE	TokenNameIdentifier	 ELEMENT  NODE
==	TokenNameEQUAL_EQUAL	
dtm	TokenNameIdentifier	 dtm
.	TokenNameDOT	
getNodeType	TokenNameIdentifier	 get Node Type
(	TokenNameLPAREN	
parent	TokenNameIdentifier	 parent
)	TokenNameRPAREN	
)	TokenNameRPAREN	
targetElement	TokenNameIdentifier	 target Element
=	TokenNameEQUAL	
parent	TokenNameIdentifier	 parent
;	TokenNameSEMICOLON	
else	TokenNameelse	
targetElement	TokenNameIdentifier	 target Element
=	TokenNameEQUAL	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
NULL	TokenNameIdentifier	 NULL
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get information about whether or not whitespace can be stripped. * @see <a href="http://www.w3.org/TR/xslt#strip">strip in XSLT Specification</a> * * @return true if the whitespace can be stripped. */	TokenNameCOMMENT_JAVADOC	 Get information about whether or not whitespace can be stripped. @see <a href="http://www.w3.org/TR/xslt#strip">strip in XSLT Specification</a> * @return true if the whitespace can be stripped. 
public	TokenNamepublic	
boolean	TokenNameboolean	
canStripWhiteSpace	TokenNameIdentifier	 can Strip White Space
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
null	TokenNamenull	
!=	TokenNameNOT_EQUAL	
m_whiteSpaceInfoList	TokenNameIdentifier	 m white Space Info List
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * The default template to use for text nodes if we don't find * anything else. This is initialized in initDefaultRule(). * @serial * @xsl.usage advanced */	TokenNameCOMMENT_JAVADOC	 The default template to use for text nodes if we don't find anything else. This is initialized in initDefaultRule(). @serial @xsl.usage advanced 
private	TokenNameprivate	
ElemTemplate	TokenNameIdentifier	 Elem Template
m_defaultTextRule	TokenNameIdentifier	 m default Text Rule
;	TokenNameSEMICOLON	
/** * Get the default template for text. * * @return the default template for text. * @xsl.usage advanced */	TokenNameCOMMENT_JAVADOC	 Get the default template for text. * @return the default template for text. @xsl.usage advanced 
public	TokenNamepublic	
final	TokenNamefinal	
ElemTemplate	TokenNameIdentifier	 Elem Template
getDefaultTextRule	TokenNameIdentifier	 get Default Text Rule
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_defaultTextRule	TokenNameIdentifier	 m default Text Rule
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * The default template to use if we don't find anything * else. This is initialized in initDefaultRule(). * @serial * @xsl.usage advanced */	TokenNameCOMMENT_JAVADOC	 The default template to use if we don't find anything else. This is initialized in initDefaultRule(). @serial @xsl.usage advanced 
private	TokenNameprivate	
ElemTemplate	TokenNameIdentifier	 Elem Template
m_defaultRule	TokenNameIdentifier	 m default Rule
;	TokenNameSEMICOLON	
/** * Get the default template for elements. * * @return the default template for elements. * @xsl.usage advanced */	TokenNameCOMMENT_JAVADOC	 Get the default template for elements. * @return the default template for elements. @xsl.usage advanced 
public	TokenNamepublic	
final	TokenNamefinal	
ElemTemplate	TokenNameIdentifier	 Elem Template
getDefaultRule	TokenNameIdentifier	 get Default Rule
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_defaultRule	TokenNameIdentifier	 m default Rule
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * The default template to use for the root if we don't find * anything else. This is initialized in initDefaultRule(). * We kind of need this because the defaultRule isn't good * enough because it doesn't supply a document context. * For now, I default the root document element to "HTML". * Don't know if this is really a good idea or not. * I suspect it is not. * @serial * @xsl.usage advanced */	TokenNameCOMMENT_JAVADOC	 The default template to use for the root if we don't find anything else. This is initialized in initDefaultRule(). We kind of need this because the defaultRule isn't good enough because it doesn't supply a document context. For now, I default the root document element to "HTML". Don't know if this is really a good idea or not. I suspect it is not. @serial @xsl.usage advanced 
private	TokenNameprivate	
ElemTemplate	TokenNameIdentifier	 Elem Template
m_defaultRootRule	TokenNameIdentifier	 m default Root Rule
;	TokenNameSEMICOLON	
/** * Get the default template for a root node. * * @return The default template for a root node. * @xsl.usage advanced */	TokenNameCOMMENT_JAVADOC	 Get the default template for a root node. * @return The default template for a root node. @xsl.usage advanced 
public	TokenNamepublic	
final	TokenNamefinal	
ElemTemplate	TokenNameIdentifier	 Elem Template
getDefaultRootRule	TokenNameIdentifier	 get Default Root Rule
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_defaultRootRule	TokenNameIdentifier	 m default Root Rule
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * The start rule to kick off the transformation. * @serial * @xsl.usage advanced */	TokenNameCOMMENT_JAVADOC	 The start rule to kick off the transformation. @serial @xsl.usage advanced 
private	TokenNameprivate	
ElemTemplate	TokenNameIdentifier	 Elem Template
m_startRule	TokenNameIdentifier	 m start Rule
;	TokenNameSEMICOLON	
/** * Get the default template for a root node. * * @return The default template for a root node. * @xsl.usage advanced */	TokenNameCOMMENT_JAVADOC	 Get the default template for a root node. * @return The default template for a root node. @xsl.usage advanced 
public	TokenNamepublic	
final	TokenNamefinal	
ElemTemplate	TokenNameIdentifier	 Elem Template
getStartRule	TokenNameIdentifier	 get Start Rule
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_startRule	TokenNameIdentifier	 m start Rule
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Used for default selection. * @serial */	TokenNameCOMMENT_JAVADOC	 Used for default selection. @serial 
XPath	TokenNameIdentifier	 X Path
m_selectDefault	TokenNameIdentifier	 m select Default
;	TokenNameSEMICOLON	
/** * Create the default rule if needed. * * @throws TransformerException */	TokenNameCOMMENT_JAVADOC	 Create the default rule if needed. * @throws TransformerException 
private	TokenNameprivate	
void	TokenNamevoid	
initDefaultRule	TokenNameIdentifier	 init Default Rule
(	TokenNameLPAREN	
ErrorListener	TokenNameIdentifier	 Error Listener
errorListener	TokenNameIdentifier	 error Listener
)	TokenNameRPAREN	
throws	TokenNamethrows	
TransformerException	TokenNameIdentifier	 Transformer Exception
{	TokenNameLBRACE	
// Then manufacture a default 	TokenNameCOMMENT_LINE	Then manufacture a default 
m_defaultRule	TokenNameIdentifier	 m default Rule
=	TokenNameEQUAL	
new	TokenNamenew	
ElemTemplate	TokenNameIdentifier	 Elem Template
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_defaultRule	TokenNameIdentifier	 m default Rule
.	TokenNameDOT	
setStylesheet	TokenNameIdentifier	 set Stylesheet
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
XPath	TokenNameIdentifier	 X Path
defMatch	TokenNameIdentifier	 def Match
=	TokenNameEQUAL	
new	TokenNamenew	
XPath	TokenNameIdentifier	 X Path
(	TokenNameLPAREN	
"*"	TokenNameStringLiteral	*
,	TokenNameCOMMA	
this	TokenNamethis	
,	TokenNameCOMMA	
this	TokenNamethis	
,	TokenNameCOMMA	
XPath	TokenNameIdentifier	 X Path
.	TokenNameDOT	
MATCH	TokenNameIdentifier	 MATCH
,	TokenNameCOMMA	
errorListener	TokenNameIdentifier	 error Listener
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_defaultRule	TokenNameIdentifier	 m default Rule
.	TokenNameDOT	
setMatch	TokenNameIdentifier	 set Match
(	TokenNameLPAREN	
defMatch	TokenNameIdentifier	 def Match
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ElemApplyTemplates	TokenNameIdentifier	 Elem Apply Templates
childrenElement	TokenNameIdentifier	 children Element
=	TokenNameEQUAL	
new	TokenNamenew	
ElemApplyTemplates	TokenNameIdentifier	 Elem Apply Templates
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
childrenElement	TokenNameIdentifier	 children Element
.	TokenNameDOT	
setIsDefaultTemplate	TokenNameIdentifier	 set Is Default Template
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
childrenElement	TokenNameIdentifier	 children Element
.	TokenNameDOT	
setSelect	TokenNameIdentifier	 set Select
(	TokenNameLPAREN	
m_selectDefault	TokenNameIdentifier	 m select Default
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_defaultRule	TokenNameIdentifier	 m default Rule
.	TokenNameDOT	
appendChild	TokenNameIdentifier	 append Child
(	TokenNameLPAREN	
childrenElement	TokenNameIdentifier	 children Element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_startRule	TokenNameIdentifier	 m start Rule
=	TokenNameEQUAL	
m_defaultRule	TokenNameIdentifier	 m default Rule
;	TokenNameSEMICOLON	
// ----------------------------- 	TokenNameCOMMENT_LINE	----------------------------- 
m_defaultTextRule	TokenNameIdentifier	 m default Text Rule
=	TokenNameEQUAL	
new	TokenNamenew	
ElemTemplate	TokenNameIdentifier	 Elem Template
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_defaultTextRule	TokenNameIdentifier	 m default Text Rule
.	TokenNameDOT	
setStylesheet	TokenNameIdentifier	 set Stylesheet
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
defMatch	TokenNameIdentifier	 def Match
=	TokenNameEQUAL	
new	TokenNamenew	
XPath	TokenNameIdentifier	 X Path
(	TokenNameLPAREN	
"text() | @*"	TokenNameStringLiteral	text() | @*
,	TokenNameCOMMA	
this	TokenNamethis	
,	TokenNameCOMMA	
this	TokenNamethis	
,	TokenNameCOMMA	
XPath	TokenNameIdentifier	 X Path
.	TokenNameDOT	
MATCH	TokenNameIdentifier	 MATCH
,	TokenNameCOMMA	
errorListener	TokenNameIdentifier	 error Listener
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_defaultTextRule	TokenNameIdentifier	 m default Text Rule
.	TokenNameDOT	
setMatch	TokenNameIdentifier	 set Match
(	TokenNameLPAREN	
defMatch	TokenNameIdentifier	 def Match
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
ElemValueOf	TokenNameIdentifier	 Elem Value Of
elemValueOf	TokenNameIdentifier	 elem Value Of
=	TokenNameEQUAL	
new	TokenNamenew	
ElemValueOf	TokenNameIdentifier	 Elem Value Of
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_defaultTextRule	TokenNameIdentifier	 m default Text Rule
.	TokenNameDOT	
appendChild	TokenNameIdentifier	 append Child
(	TokenNameLPAREN	
elemValueOf	TokenNameIdentifier	 elem Value Of
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
XPath	TokenNameIdentifier	 X Path
selectPattern	TokenNameIdentifier	 select Pattern
=	TokenNameEQUAL	
new	TokenNamenew	
XPath	TokenNameIdentifier	 X Path
(	TokenNameLPAREN	
"."	TokenNameStringLiteral	.
,	TokenNameCOMMA	
this	TokenNamethis	
,	TokenNameCOMMA	
this	TokenNamethis	
,	TokenNameCOMMA	
XPath	TokenNameIdentifier	 X Path
.	TokenNameDOT	
SELECT	TokenNameIdentifier	 SELECT
,	TokenNameCOMMA	
errorListener	TokenNameIdentifier	 error Listener
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
elemValueOf	TokenNameIdentifier	 elem Value Of
.	TokenNameDOT	
setSelect	TokenNameIdentifier	 set Select
(	TokenNameLPAREN	
selectPattern	TokenNameIdentifier	 select Pattern
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
//-------------------------------- 	TokenNameCOMMENT_LINE	-------------------------------- 
m_defaultRootRule	TokenNameIdentifier	 m default Root Rule
=	TokenNameEQUAL	
new	TokenNamenew	
ElemTemplate	TokenNameIdentifier	 Elem Template
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_defaultRootRule	TokenNameIdentifier	 m default Root Rule
.	TokenNameDOT	
setStylesheet	TokenNameIdentifier	 set Stylesheet
(	TokenNameLPAREN	
this	TokenNamethis	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
defMatch	TokenNameIdentifier	 def Match
=	TokenNameEQUAL	
new	TokenNamenew	
XPath	TokenNameIdentifier	 X Path
(	TokenNameLPAREN	
"/"	TokenNameStringLiteral	/
,	TokenNameCOMMA	
this	TokenNamethis	
,	TokenNameCOMMA	
this	TokenNamethis	
,	TokenNameCOMMA	
XPath	TokenNameIdentifier	 X Path
.	TokenNameDOT	
MATCH	TokenNameIdentifier	 MATCH
,	TokenNameCOMMA	
errorListener	TokenNameIdentifier	 error Listener
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_defaultRootRule	TokenNameIdentifier	 m default Root Rule
.	TokenNameDOT	
setMatch	TokenNameIdentifier	 set Match
(	TokenNameLPAREN	
defMatch	TokenNameIdentifier	 def Match
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
childrenElement	TokenNameIdentifier	 children Element
=	TokenNameEQUAL	
new	TokenNamenew	
ElemApplyTemplates	TokenNameIdentifier	 Elem Apply Templates
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
childrenElement	TokenNameIdentifier	 children Element
.	TokenNameDOT	
setIsDefaultTemplate	TokenNameIdentifier	 set Is Default Template
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_defaultRootRule	TokenNameIdentifier	 m default Root Rule
.	TokenNameDOT	
appendChild	TokenNameIdentifier	 append Child
(	TokenNameLPAREN	
childrenElement	TokenNameIdentifier	 children Element
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
childrenElement	TokenNameIdentifier	 children Element
.	TokenNameDOT	
setSelect	TokenNameIdentifier	 set Select
(	TokenNameLPAREN	
m_selectDefault	TokenNameIdentifier	 m select Default
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * This is a generic version of C.A.R Hoare's Quick Sort * algorithm. This will handle arrays that are already * sorted, and arrays with duplicate keys. It was lifted from * the NodeSorter class but should probably be eliminated and replaced * with a call to Collections.sort when we migrate to Java2.<BR> * * If you think of a one dimensional array as going from * the lowest index on the left to the highest index on the right * then the parameters to this function are lowest index or * left and highest index or right. The first time you call * this function it will be with the parameters 0, a.length - 1. * * @param v a vector of ElemTemplateElement elements * @param lo0 left boundary of partition * @param hi0 right boundary of partition * */	TokenNameCOMMENT_JAVADOC	 This is a generic version of C.A.R Hoare's Quick Sort algorithm. This will handle arrays that are already sorted, and arrays with duplicate keys. It was lifted from the NodeSorter class but should probably be eliminated and replaced with a call to Collections.sort when we migrate to Java2.<BR> * If you think of a one dimensional array as going from the lowest index on the left to the highest index on the right then the parameters to this function are lowest index or left and highest index or right. The first time you call this function it will be with the parameters 0, a.length - 1. * @param v a vector of ElemTemplateElement elements @param lo0 left boundary of partition @param hi0 right boundary of partition 
private	TokenNameprivate	
void	TokenNamevoid	
QuickSort2	TokenNameIdentifier	 Quick Sort2
(	TokenNameLPAREN	
Vector	TokenNameIdentifier	 Vector
v	TokenNameIdentifier	 v
,	TokenNameCOMMA	
int	TokenNameint	
lo0	TokenNameIdentifier	 lo0
,	TokenNameCOMMA	
int	TokenNameint	
hi0	TokenNameIdentifier	 hi0
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
lo	TokenNameIdentifier	 lo
=	TokenNameEQUAL	
lo0	TokenNameIdentifier	 lo0
;	TokenNameSEMICOLON	
int	TokenNameint	
hi	TokenNameIdentifier	 hi
=	TokenNameEQUAL	
hi0	TokenNameIdentifier	 hi0
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
hi0	TokenNameIdentifier	 hi0
>	TokenNameGREATER	
lo0	TokenNameIdentifier	 lo0
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Arbitrarily establishing partition element as the midpoint of 	TokenNameCOMMENT_LINE	Arbitrarily establishing partition element as the midpoint of 
// the array. 	TokenNameCOMMENT_LINE	the array. 
ElemTemplateElement	TokenNameIdentifier	 Elem Template Element
midNode	TokenNameIdentifier	 mid Node
=	TokenNameEQUAL	
(	TokenNameLPAREN	
ElemTemplateElement	TokenNameIdentifier	 Elem Template Element
)	TokenNameRPAREN	
v	TokenNameIdentifier	 v
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
(	TokenNameLPAREN	
lo0	TokenNameIdentifier	 lo0
+	TokenNamePLUS	
hi0	TokenNameIdentifier	 hi0
)	TokenNameRPAREN	
/	TokenNameDIVIDE	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// loop through the array until indices cross 	TokenNameCOMMENT_LINE	loop through the array until indices cross 
while	TokenNamewhile	
(	TokenNameLPAREN	
lo	TokenNameIdentifier	 lo
<=	TokenNameLESS_EQUAL	
hi	TokenNameIdentifier	 hi
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// find the first element that is greater than or equal to 	TokenNameCOMMENT_LINE	find the first element that is greater than or equal to 
// the partition element starting from the left Index. 	TokenNameCOMMENT_LINE	the partition element starting from the left Index. 
while	TokenNamewhile	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
lo	TokenNameIdentifier	 lo
<	TokenNameLESS	
hi0	TokenNameIdentifier	 hi0
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
ElemTemplateElement	TokenNameIdentifier	 Elem Template Element
)	TokenNameRPAREN	
v	TokenNameIdentifier	 v
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
lo	TokenNameIdentifier	 lo
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
compareTo	TokenNameIdentifier	 compare To
(	TokenNameLPAREN	
midNode	TokenNameIdentifier	 mid Node
)	TokenNameRPAREN	
<	TokenNameLESS	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
++	TokenNamePLUS_PLUS	
lo	TokenNameIdentifier	 lo
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// end while 	TokenNameCOMMENT_LINE	end while 
// find an element that is smaller than or equal to 	TokenNameCOMMENT_LINE	find an element that is smaller than or equal to 
// the partition element starting from the right Index. 	TokenNameCOMMENT_LINE	the partition element starting from the right Index. 
while	TokenNamewhile	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
hi	TokenNameIdentifier	 hi
>	TokenNameGREATER	
lo0	TokenNameIdentifier	 lo0
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
ElemTemplateElement	TokenNameIdentifier	 Elem Template Element
)	TokenNameRPAREN	
v	TokenNameIdentifier	 v
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
hi	TokenNameIdentifier	 hi
)	TokenNameRPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
compareTo	TokenNameIdentifier	 compare To
(	TokenNameLPAREN	
midNode	TokenNameIdentifier	 mid Node
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
--	TokenNameMINUS_MINUS	
hi	TokenNameIdentifier	 hi
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// if the indexes have not crossed, swap 	TokenNameCOMMENT_LINE	if the indexes have not crossed, swap 
if	TokenNameif	
(	TokenNameLPAREN	
lo	TokenNameIdentifier	 lo
<=	TokenNameLESS_EQUAL	
hi	TokenNameIdentifier	 hi
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ElemTemplateElement	TokenNameIdentifier	 Elem Template Element
node	TokenNameIdentifier	 node
=	TokenNameEQUAL	
(	TokenNameLPAREN	
ElemTemplateElement	TokenNameIdentifier	 Elem Template Element
)	TokenNameRPAREN	
v	TokenNameIdentifier	 v
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
lo	TokenNameIdentifier	 lo
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
v	TokenNameIdentifier	 v
.	TokenNameDOT	
setElementAt	TokenNameIdentifier	 set Element At
(	TokenNameLPAREN	
v	TokenNameIdentifier	 v
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
hi	TokenNameIdentifier	 hi
)	TokenNameRPAREN	
,	TokenNameCOMMA	
lo	TokenNameIdentifier	 lo
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
v	TokenNameIdentifier	 v
.	TokenNameDOT	
setElementAt	TokenNameIdentifier	 set Element At
(	TokenNameLPAREN	
node	TokenNameIdentifier	 node
,	TokenNameCOMMA	
hi	TokenNameIdentifier	 hi
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
++	TokenNamePLUS_PLUS	
lo	TokenNameIdentifier	 lo
;	TokenNameSEMICOLON	
--	TokenNameMINUS_MINUS	
hi	TokenNameIdentifier	 hi
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// If the right index has not reached the left side of array 	TokenNameCOMMENT_LINE	If the right index has not reached the left side of array 
// must now sort the left partition. 	TokenNameCOMMENT_LINE	must now sort the left partition. 
if	TokenNameif	
(	TokenNameLPAREN	
lo0	TokenNameIdentifier	 lo0
<	TokenNameLESS	
hi	TokenNameIdentifier	 hi
)	TokenNameRPAREN	
{	TokenNameLBRACE	
QuickSort2	TokenNameIdentifier	 Quick Sort2
(	TokenNameLPAREN	
v	TokenNameIdentifier	 v
,	TokenNameCOMMA	
lo0	TokenNameIdentifier	 lo0
,	TokenNameCOMMA	
hi	TokenNameIdentifier	 hi
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// If the left index has not reached the right side of array 	TokenNameCOMMENT_LINE	If the left index has not reached the right side of array 
// must now sort the right partition. 	TokenNameCOMMENT_LINE	must now sort the right partition. 
if	TokenNameif	
(	TokenNameLPAREN	
lo	TokenNameIdentifier	 lo
<	TokenNameLESS	
hi0	TokenNameIdentifier	 hi0
)	TokenNameRPAREN	
{	TokenNameLBRACE	
QuickSort2	TokenNameIdentifier	 Quick Sort2
(	TokenNameLPAREN	
v	TokenNameIdentifier	 v
,	TokenNameCOMMA	
lo	TokenNameIdentifier	 lo
,	TokenNameCOMMA	
hi0	TokenNameIdentifier	 hi0
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// end QuickSort2 */ 	TokenNameCOMMENT_LINE	end QuickSort2 */ 
private	TokenNameprivate	
transient	TokenNametransient	
ComposeState	TokenNameIdentifier	 Compose State
m_composeState	TokenNameIdentifier	 m compose State
;	TokenNameSEMICOLON	
/** * Initialize a new ComposeState. */	TokenNameCOMMENT_JAVADOC	 Initialize a new ComposeState. 
void	TokenNamevoid	
initComposeState	TokenNameIdentifier	 init Compose State
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_composeState	TokenNameIdentifier	 m compose State
=	TokenNameEQUAL	
new	TokenNamenew	
ComposeState	TokenNameIdentifier	 Compose State
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Return class to track state global state during the compose() operation. * @return ComposeState reference, or null if endCompose has been called. */	TokenNameCOMMENT_JAVADOC	 Return class to track state global state during the compose() operation. @return ComposeState reference, or null if endCompose has been called. 
ComposeState	TokenNameIdentifier	 Compose State
getComposeState	TokenNameIdentifier	 get Compose State
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_composeState	TokenNameIdentifier	 m compose State
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Clear the compose state. */	TokenNameCOMMENT_JAVADOC	 Clear the compose state. 
private	TokenNameprivate	
void	TokenNamevoid	
clearComposeState	TokenNameIdentifier	 clear Compose State
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_composeState	TokenNameIdentifier	 m compose State
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
m_extensionHandlerClass	TokenNameIdentifier	 m extension Handler Class
=	TokenNameEQUAL	
"org.apache.xalan.extensions.ExtensionHandlerExsltFunction"	TokenNameStringLiteral	org.apache.xalan.extensions.ExtensionHandlerExsltFunction
;	TokenNameSEMICOLON	
/** * This internal method allows the setting of the java class * to handle the extension function (if other than the default one). * * @xsl.usage internal */	TokenNameCOMMENT_JAVADOC	 This internal method allows the setting of the java class to handle the extension function (if other than the default one). * @xsl.usage internal 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
setExtensionHandlerClass	TokenNameIdentifier	 set Extension Handler Class
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
handlerClassName	TokenNameIdentifier	 handler Class Name
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
oldvalue	TokenNameIdentifier	 oldvalue
=	TokenNameEQUAL	
m_extensionHandlerClass	TokenNameIdentifier	 m extension Handler Class
;	TokenNameSEMICOLON	
m_extensionHandlerClass	TokenNameIdentifier	 m extension Handler Class
=	TokenNameEQUAL	
handlerClassName	TokenNameIdentifier	 handler Class Name
;	TokenNameSEMICOLON	
return	TokenNamereturn	
oldvalue	TokenNameIdentifier	 oldvalue
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * * @xsl.usage internal */	TokenNameCOMMENT_JAVADOC	 * @xsl.usage internal 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getExtensionHandlerClass	TokenNameIdentifier	 get Extension Handler Class
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_extensionHandlerClass	TokenNameIdentifier	 m extension Handler Class
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Class to track state global state during the compose() operation. */	TokenNameCOMMENT_JAVADOC	 Class to track state global state during the compose() operation. 
class	TokenNameclass	
ComposeState	TokenNameIdentifier	 Compose State
{	TokenNameLBRACE	
ComposeState	TokenNameIdentifier	 Compose State
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
size	TokenNameIdentifier	 size
=	TokenNameEQUAL	
m_variables	TokenNameIdentifier	 m variables
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
size	TokenNameIdentifier	 size
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
ElemVariable	TokenNameIdentifier	 Elem Variable
ev	TokenNameIdentifier	 ev
=	TokenNameEQUAL	
(	TokenNameLPAREN	
ElemVariable	TokenNameIdentifier	 Elem Variable
)	TokenNameRPAREN	
m_variables	TokenNameIdentifier	 m variables
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_variableNames	TokenNameIdentifier	 m variable Names
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
ev	TokenNameIdentifier	 ev
.	TokenNameDOT	
getName	TokenNameIdentifier	 get Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
private	TokenNameprivate	
ExpandedNameTable	TokenNameIdentifier	 Expanded Name Table
m_ent	TokenNameIdentifier	 m ent
=	TokenNameEQUAL	
new	TokenNamenew	
ExpandedNameTable	TokenNameIdentifier	 Expanded Name Table
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Given a qualified name, return an integer ID that can be * quickly compared. * * @param qname a qualified name object, must not be null. * * @return the expanded-name id of the qualified name. */	TokenNameCOMMENT_JAVADOC	 Given a qualified name, return an integer ID that can be quickly compared. * @param qname a qualified name object, must not be null. * @return the expanded-name id of the qualified name. 
public	TokenNamepublic	
int	TokenNameint	
getQNameID	TokenNameIdentifier	 get Q Name ID
(	TokenNameLPAREN	
QName	TokenNameIdentifier	 Q Name
qname	TokenNameIdentifier	 qname
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_ent	TokenNameIdentifier	 m ent
.	TokenNameDOT	
getExpandedTypeID	TokenNameIdentifier	 get Expanded Type ID
(	TokenNameLPAREN	
qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
getNamespace	TokenNameIdentifier	 get Namespace
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
getLocalName	TokenNameIdentifier	 get Local Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
// The type doesn't matter for our 	TokenNameCOMMENT_LINE	The type doesn't matter for our 
// purposes. 	TokenNameCOMMENT_LINE	purposes. 
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
dtm	TokenNameIdentifier	 dtm
.	TokenNameDOT	
DTM	TokenNameIdentifier	 DTM
.	TokenNameDOT	
ELEMENT_NODE	TokenNameIdentifier	 ELEMENT  NODE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * A Vector of the current params and QNames within the current template. * Set by ElemTemplate and used by ProcessorVariable. */	TokenNameCOMMENT_JAVADOC	 A Vector of the current params and QNames within the current template. Set by ElemTemplate and used by ProcessorVariable. 
private	TokenNameprivate	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Vector	TokenNameIdentifier	 Vector
m_variableNames	TokenNameIdentifier	 m variable Names
=	TokenNameEQUAL	
new	TokenNamenew	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** * Add the name of a qualified name within the template. The position in * the vector is its ID. * @param qname A qualified name of a param or variable, should be non-null. * @return the index where the variable was added. */	TokenNameCOMMENT_JAVADOC	 Add the name of a qualified name within the template. The position in the vector is its ID. @param qname A qualified name of a param or variable, should be non-null. @return the index where the variable was added. 
int	TokenNameint	
addVariableName	TokenNameIdentifier	 add Variable Name
(	TokenNameLPAREN	
final	TokenNamefinal	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xml	TokenNameIdentifier	 xml
.	TokenNameDOT	
utils	TokenNameIdentifier	 utils
.	TokenNameDOT	
QName	TokenNameIdentifier	 Q Name
qname	TokenNameIdentifier	 qname
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
pos	TokenNameIdentifier	 pos
=	TokenNameEQUAL	
m_variableNames	TokenNameIdentifier	 m variable Names
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
m_variableNames	TokenNameIdentifier	 m variable Names
.	TokenNameDOT	
addElement	TokenNameIdentifier	 add Element
(	TokenNameLPAREN	
qname	TokenNameIdentifier	 qname
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
frameSize	TokenNameIdentifier	 frame Size
=	TokenNameEQUAL	
m_variableNames	TokenNameIdentifier	 m variable Names
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
getGlobalsSize	TokenNameIdentifier	 get Globals Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
frameSize	TokenNameIdentifier	 frame Size
>	TokenNameGREATER	
m_maxStackFrameSize	TokenNameIdentifier	 m max Stack Frame Size
)	TokenNameRPAREN	
m_maxStackFrameSize	TokenNameIdentifier	 m max Stack Frame Size
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
pos	TokenNameIdentifier	 pos
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
void	TokenNamevoid	
resetStackFrameSize	TokenNameIdentifier	 reset Stack Frame Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_maxStackFrameSize	TokenNameIdentifier	 m max Stack Frame Size
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
int	TokenNameint	
getFrameSize	TokenNameIdentifier	 get Frame Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_maxStackFrameSize	TokenNameIdentifier	 m max Stack Frame Size
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the current size of the stack frame. Use this to record the position * in a template element at startElement, so that it can be popped * at endElement. */	TokenNameCOMMENT_JAVADOC	 Get the current size of the stack frame. Use this to record the position in a template element at startElement, so that it can be popped at endElement. 
int	TokenNameint	
getCurrentStackFrameSize	TokenNameIdentifier	 get Current Stack Frame Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_variableNames	TokenNameIdentifier	 m variable Names
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the current size of the stack frame. */	TokenNameCOMMENT_JAVADOC	 Set the current size of the stack frame. 
void	TokenNamevoid	
setCurrentStackFrameSize	TokenNameIdentifier	 set Current Stack Frame Size
(	TokenNameLPAREN	
int	TokenNameint	
sz	TokenNameIdentifier	 sz
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_variableNames	TokenNameIdentifier	 m variable Names
.	TokenNameDOT	
setSize	TokenNameIdentifier	 set Size
(	TokenNameLPAREN	
sz	TokenNameIdentifier	 sz
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
int	TokenNameint	
getGlobalsSize	TokenNameIdentifier	 get Globals Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_variables	TokenNameIdentifier	 m variables
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
IntStack	TokenNameIdentifier	 Int Stack
m_marks	TokenNameIdentifier	 m marks
=	TokenNameEQUAL	
new	TokenNamenew	
IntStack	TokenNameIdentifier	 Int Stack
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
void	TokenNamevoid	
pushStackMark	TokenNameIdentifier	 push Stack Mark
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_marks	TokenNameIdentifier	 m marks
.	TokenNameDOT	
push	TokenNameIdentifier	 push
(	TokenNameLPAREN	
getCurrentStackFrameSize	TokenNameIdentifier	 get Current Stack Frame Size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
void	TokenNamevoid	
popStackMark	TokenNameIdentifier	 pop Stack Mark
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
mark	TokenNameIdentifier	 mark
=	TokenNameEQUAL	
m_marks	TokenNameIdentifier	 m marks
.	TokenNameDOT	
pop	TokenNameIdentifier	 pop
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
setCurrentStackFrameSize	TokenNameIdentifier	 set Current Stack Frame Size
(	TokenNameLPAREN	
mark	TokenNameIdentifier	 mark
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Get the Vector of the current params and QNames to be collected * within the current template. * @return A reference to the vector of variable names. The reference * returned is owned by this class, and so should not really be mutated, or * stored anywhere. */	TokenNameCOMMENT_JAVADOC	 Get the Vector of the current params and QNames to be collected within the current template. @return A reference to the vector of variable names. The reference returned is owned by this class, and so should not really be mutated, or stored anywhere. 
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Vector	TokenNameIdentifier	 Vector
getVariableNames	TokenNameIdentifier	 get Variable Names
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_variableNames	TokenNameIdentifier	 m variable Names
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
int	TokenNameint	
m_maxStackFrameSize	TokenNameIdentifier	 m max Stack Frame Size
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @return Optimization flag */	TokenNameCOMMENT_JAVADOC	 @return Optimization flag 
public	TokenNamepublic	
boolean	TokenNameboolean	
getOptimizer	TokenNameIdentifier	 get Optimizer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_optimizer	TokenNameIdentifier	 m optimizer
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @param b Optimization flag */	TokenNameCOMMENT_JAVADOC	 @param b Optimization flag 
public	TokenNamepublic	
void	TokenNamevoid	
setOptimizer	TokenNameIdentifier	 set Optimizer
(	TokenNameLPAREN	
boolean	TokenNameboolean	
b	TokenNameIdentifier	 b
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_optimizer	TokenNameIdentifier	 m optimizer
=	TokenNameEQUAL	
b	TokenNameIdentifier	 b
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @return Incremental flag */	TokenNameCOMMENT_JAVADOC	 @return Incremental flag 
public	TokenNamepublic	
boolean	TokenNameboolean	
getIncremental	TokenNameIdentifier	 get Incremental
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_incremental	TokenNameIdentifier	 m incremental
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @return source location flag */	TokenNameCOMMENT_JAVADOC	 @return source location flag 
public	TokenNamepublic	
boolean	TokenNameboolean	
getSource_location	TokenNameIdentifier	 get Source location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
m_source_location	TokenNameIdentifier	 m source location
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @param b Incremental flag */	TokenNameCOMMENT_JAVADOC	 @param b Incremental flag 
public	TokenNamepublic	
void	TokenNamevoid	
setIncremental	TokenNameIdentifier	 set Incremental
(	TokenNameLPAREN	
boolean	TokenNameboolean	
b	TokenNameIdentifier	 b
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_incremental	TokenNameIdentifier	 m incremental
=	TokenNameEQUAL	
b	TokenNameIdentifier	 b
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * @param b Source location flag */	TokenNameCOMMENT_JAVADOC	 @param b Source location flag 
public	TokenNamepublic	
void	TokenNamevoid	
setSource_location	TokenNameIdentifier	 set Source location
(	TokenNameLPAREN	
boolean	TokenNameboolean	
b	TokenNameIdentifier	 b
)	TokenNameRPAREN	
{	TokenNameLBRACE	
m_source_location	TokenNameIdentifier	 m source location
=	TokenNameEQUAL	
b	TokenNameIdentifier	 b
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
