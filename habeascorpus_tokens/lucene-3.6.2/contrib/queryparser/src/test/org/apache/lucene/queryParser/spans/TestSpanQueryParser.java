package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
queryParser	TokenNameIdentifier	 query Parser
.	TokenNameDOT	
spans	TokenNameIdentifier	 spans
;	TokenNameSEMICOLON	
/** * Licensed to the Apache Software Foundation (ASF) under one or more * contributor license agreements. See the NOTICE file distributed with * this work for additional information regarding copyright ownership. * The ASF licenses this file to You under the Apache License, Version 2.0 * (the "License"); you may not use this file except in compliance with * the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_JAVADOC	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
queryParser	TokenNameIdentifier	 query Parser
.	TokenNameDOT	
core	TokenNameIdentifier	 core
.	TokenNameDOT	
QueryNodeException	TokenNameIdentifier	 Query Node Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
queryParser	TokenNameIdentifier	 query Parser
.	TokenNameDOT	
core	TokenNameIdentifier	 core
.	TokenNameDOT	
nodes	TokenNameIdentifier	 nodes
.	TokenNameDOT	
OrQueryNode	TokenNameIdentifier	 Or Query Node
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
queryParser	TokenNameIdentifier	 query Parser
.	TokenNameDOT	
core	TokenNameIdentifier	 core
.	TokenNameDOT	
nodes	TokenNameIdentifier	 nodes
.	TokenNameDOT	
QueryNode	TokenNameIdentifier	 Query Node
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
queryParser	TokenNameIdentifier	 query Parser
.	TokenNameDOT	
core	TokenNameIdentifier	 core
.	TokenNameDOT	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
SyntaxParser	TokenNameIdentifier	 Syntax Parser
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
queryParser	TokenNameIdentifier	 query Parser
.	TokenNameDOT	
core	TokenNameIdentifier	 core
.	TokenNameDOT	
processors	TokenNameIdentifier	 processors
.	TokenNameDOT	
QueryNodeProcessorPipeline	TokenNameIdentifier	 Query Node Processor Pipeline
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
queryParser	TokenNameIdentifier	 query Parser
.	TokenNameDOT	
standard	TokenNameIdentifier	 standard
.	TokenNameDOT	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
StandardSyntaxParser	TokenNameIdentifier	 Standard Syntax Parser
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
queryParser	TokenNameIdentifier	 query Parser
.	TokenNameDOT	
standard	TokenNameIdentifier	 standard
.	TokenNameDOT	
processors	TokenNameIdentifier	 processors
.	TokenNameDOT	
WildcardQueryNodeProcessor	TokenNameIdentifier	 Wildcard Query Node Processor
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
spans	TokenNameIdentifier	 spans
.	TokenNameDOT	
SpanOrQuery	TokenNameIdentifier	 Span Or Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
spans	TokenNameIdentifier	 spans
.	TokenNameDOT	
SpanQuery	TokenNameIdentifier	 Span Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
spans	TokenNameIdentifier	 spans
.	TokenNameDOT	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
search	TokenNameIdentifier	 search
.	TokenNameDOT	
Query	TokenNameIdentifier	 Query
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
lucene	TokenNameIdentifier	 lucene
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
LuceneTestCase	TokenNameIdentifier	 Lucene Test Case
;	TokenNameSEMICOLON	
/** * This test case demonstrates how the new query parser can be used.<br/> * <br/> * * It tests queries likes "term", "field:term" "term1 term2" "term1 OR term2", * which are all already supported by the current syntax parser ( * {@link StandardSyntaxParser}).<br/> * <br/> * * The goals is to create a new query parser that supports only the pair * "field:term" or a list of pairs separated or not by an OR operator, and from * this query generate {@link SpanQuery} objects instead of the regular * {@link Query} objects. Basically, every pair will be converted to a * {@link SpanTermQuery} object and if there are more than one pair they will be * grouped by an {@link OrQueryNode}.<br/> * <br/> * * Another functionality that will be added is the ability to convert every * field defined in the query to an unique specific field.<br/> * <br/> * * The query generation is divided in three different steps: parsing (syntax), * processing (semantic) and building.<br/> * <br/> * * The parsing phase, as already mentioned will be performed by the current * query parser: {@link StandardSyntaxParser}.<br/> * <br/> * * The processing phase will be performed by a processor pipeline which is * compound by 2 processors: {@link SpansValidatorQueryNodeProcessor} and * {@link UniqueFieldQueryNodeProcessor}. * * <pre> * * {@link SpansValidatorQueryNodeProcessor}: as it's going to use the current * query parser to parse the syntax, it will support more features than we want, * this processor basically validates the query node tree generated by the parser * and just let got through the elements we want, all the other elements as * wildcards, range queries, etc...if found, an exception is thrown. * * {@link UniqueFieldQueryNodeProcessor}: this processor will take care of reading * what is the &quot;unique field&quot; from the configuration and convert every field defined * in every pair to this &quot;unique field&quot;. For that, a {@link SpansQueryConfigHandler} is * used, which has the {@link UniqueFieldAttribute} defined in it. * </pre> * * The building phase is performed by the {@link SpansQueryTreeBuilder}, which * basically contains a map that defines which builder will be used to generate * {@link SpanQuery} objects from {@link QueryNode} objects.<br/> * <br/> * * @see SpansQueryConfigHandler * @see SpansQueryTreeBuilder * @see SpansValidatorQueryNodeProcessor * @see SpanOrQueryNodeBuilder * @see SpanTermQueryNodeBuilder * @see StandardSyntaxParser * @see UniqueFieldQueryNodeProcessor * @see UniqueFieldAttribute */	TokenNameCOMMENT_JAVADOC	 This test case demonstrates how the new query parser can be used.<br/> <br/> * It tests queries likes "term", "field:term" "term1 term2" "term1 OR term2", which are all already supported by the current syntax parser ( {@link StandardSyntaxParser}).<br/> <br/> * The goals is to create a new query parser that supports only the pair "field:term" or a list of pairs separated or not by an OR operator, and from this query generate {@link SpanQuery} objects instead of the regular {@link Query} objects. Basically, every pair will be converted to a {@link SpanTermQuery} object and if there are more than one pair they will be grouped by an {@link OrQueryNode}.<br/> <br/> * Another functionality that will be added is the ability to convert every field defined in the query to an unique specific field.<br/> <br/> * The query generation is divided in three different steps: parsing (syntax), processing (semantic) and building.<br/> <br/> * The parsing phase, as already mentioned will be performed by the current query parser: {@link StandardSyntaxParser}.<br/> <br/> * The processing phase will be performed by a processor pipeline which is compound by 2 processors: {@link SpansValidatorQueryNodeProcessor} and {@link UniqueFieldQueryNodeProcessor}. * <pre> * {@link SpansValidatorQueryNodeProcessor}: as it's going to use the current query parser to parse the syntax, it will support more features than we want, this processor basically validates the query node tree generated by the parser and just let got through the elements we want, all the other elements as wildcards, range queries, etc...if found, an exception is thrown. * {@link UniqueFieldQueryNodeProcessor}: this processor will take care of reading what is the &quot;unique field&quot; from the configuration and convert every field defined in every pair to this &quot;unique field&quot;. For that, a {@link SpansQueryConfigHandler} is used, which has the {@link UniqueFieldAttribute} defined in it. </pre> * The building phase is performed by the {@link SpansQueryTreeBuilder}, which basically contains a map that defines which builder will be used to generate {@link SpanQuery} objects from {@link QueryNode} objects.<br/> <br/> * @see SpansQueryConfigHandler @see SpansQueryTreeBuilder @see SpansValidatorQueryNodeProcessor @see SpanOrQueryNodeBuilder @see SpanTermQueryNodeBuilder @see StandardSyntaxParser @see UniqueFieldQueryNodeProcessor @see UniqueFieldAttribute 
public	TokenNamepublic	
class	TokenNameclass	
TestSpanQueryParser	TokenNameIdentifier	 Test Span Query Parser
extends	TokenNameextends	
LuceneTestCase	TokenNameIdentifier	 Lucene Test Case
{	TokenNameLBRACE	
private	TokenNameprivate	
QueryNodeProcessorPipeline	TokenNameIdentifier	 Query Node Processor Pipeline
spanProcessorPipeline	TokenNameIdentifier	 span Processor Pipeline
;	TokenNameSEMICOLON	
private	TokenNameprivate	
SpansQueryConfigHandler	TokenNameIdentifier	 Spans Query Config Handler
spanQueryConfigHandler	TokenNameIdentifier	 span Query Config Handler
;	TokenNameSEMICOLON	
private	TokenNameprivate	
SpansQueryTreeBuilder	TokenNameIdentifier	 Spans Query Tree Builder
spansQueryTreeBuilder	TokenNameIdentifier	 spans Query Tree Builder
;	TokenNameSEMICOLON	
private	TokenNameprivate	
SyntaxParser	TokenNameIdentifier	 Syntax Parser
queryParser	TokenNameIdentifier	 query Parser
=	TokenNameEQUAL	
new	TokenNamenew	
StandardSyntaxParser	TokenNameIdentifier	 Standard Syntax Parser
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
TestSpanQueryParser	TokenNameIdentifier	 Test Span Query Parser
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// empty constructor 	TokenNameCOMMENT_LINE	empty constructor 
}	TokenNameRBRACE	
@	TokenNameAT	
Override	TokenNameIdentifier	 Override
public	TokenNamepublic	
void	TokenNamevoid	
setUp	TokenNameIdentifier	 set Up
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
super	TokenNamesuper	
.	TokenNameDOT	
setUp	TokenNameIdentifier	 set Up
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
spanProcessorPipeline	TokenNameIdentifier	 span Processor Pipeline
=	TokenNameEQUAL	
new	TokenNamenew	
QueryNodeProcessorPipeline	TokenNameIdentifier	 Query Node Processor Pipeline
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
spanQueryConfigHandler	TokenNameIdentifier	 span Query Config Handler
=	TokenNameEQUAL	
new	TokenNamenew	
SpansQueryConfigHandler	TokenNameIdentifier	 Spans Query Config Handler
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
spansQueryTreeBuilder	TokenNameIdentifier	 spans Query Tree Builder
=	TokenNameEQUAL	
new	TokenNamenew	
SpansQueryTreeBuilder	TokenNameIdentifier	 Spans Query Tree Builder
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// set up the processor pipeline 	TokenNameCOMMENT_LINE	set up the processor pipeline 
this	TokenNamethis	
.	TokenNameDOT	
spanProcessorPipeline	TokenNameIdentifier	 span Processor Pipeline
.	TokenNameDOT	
setQueryConfigHandler	TokenNameIdentifier	 set Query Config Handler
(	TokenNameLPAREN	
this	TokenNamethis	
.	TokenNameDOT	
spanQueryConfigHandler	TokenNameIdentifier	 span Query Config Handler
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
spanProcessorPipeline	TokenNameIdentifier	 span Processor Pipeline
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
WildcardQueryNodeProcessor	TokenNameIdentifier	 Wildcard Query Node Processor
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
spanProcessorPipeline	TokenNameIdentifier	 span Processor Pipeline
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
SpansValidatorQueryNodeProcessor	TokenNameIdentifier	 Spans Validator Query Node Processor
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
spanProcessorPipeline	TokenNameIdentifier	 span Processor Pipeline
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
UniqueFieldQueryNodeProcessor	TokenNameIdentifier	 Unique Field Query Node Processor
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
SpanQuery	TokenNameIdentifier	 Span Query
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
CharSequence	TokenNameIdentifier	 Char Sequence
query	TokenNameIdentifier	 query
)	TokenNameRPAREN	
throws	TokenNamethrows	
QueryNodeException	TokenNameIdentifier	 Query Node Exception
{	TokenNameLBRACE	
return	TokenNamereturn	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
""	TokenNameStringLiteral	 
,	TokenNameCOMMA	
query	TokenNameIdentifier	 query
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
SpanQuery	TokenNameIdentifier	 Span Query
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
uniqueField	TokenNameIdentifier	 unique Field
,	TokenNameCOMMA	
CharSequence	TokenNameIdentifier	 Char Sequence
query	TokenNameIdentifier	 query
)	TokenNameRPAREN	
throws	TokenNamethrows	
QueryNodeException	TokenNameIdentifier	 Query Node Exception
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
spanQueryConfigHandler	TokenNameIdentifier	 span Query Config Handler
.	TokenNameDOT	
set	TokenNameIdentifier	 set
(	TokenNameLPAREN	
SpansQueryConfigHandler	TokenNameIdentifier	 Spans Query Config Handler
.	TokenNameDOT	
UNIQUE_FIELD	TokenNameIdentifier	 UNIQUE  FIELD
,	TokenNameCOMMA	
uniqueField	TokenNameIdentifier	 unique Field
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
QueryNode	TokenNameIdentifier	 Query Node
queryTree	TokenNameIdentifier	 query Tree
=	TokenNameEQUAL	
this	TokenNamethis	
.	TokenNameDOT	
queryParser	TokenNameIdentifier	 query Parser
.	TokenNameDOT	
parse	TokenNameIdentifier	 parse
(	TokenNameLPAREN	
query	TokenNameIdentifier	 query
,	TokenNameCOMMA	
"defaultField"	TokenNameStringLiteral	defaultField
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
queryTree	TokenNameIdentifier	 query Tree
=	TokenNameEQUAL	
this	TokenNamethis	
.	TokenNameDOT	
spanProcessorPipeline	TokenNameIdentifier	 span Processor Pipeline
.	TokenNameDOT	
process	TokenNameIdentifier	 process
(	TokenNameLPAREN	
queryTree	TokenNameIdentifier	 query Tree
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
this	TokenNamethis	
.	TokenNameDOT	
spansQueryTreeBuilder	TokenNameIdentifier	 spans Query Tree Builder
.	TokenNameDOT	
build	TokenNameIdentifier	 build
(	TokenNameLPAREN	
queryTree	TokenNameIdentifier	 query Tree
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testTermSpans	TokenNameIdentifier	 test Term Spans
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"field:term"	TokenNameStringLiteral	field:term
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
"term"	TokenNameStringLiteral	term
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"term"	TokenNameStringLiteral	term
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
"term"	TokenNameStringLiteral	term
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"field:term"	TokenNameStringLiteral	field:term
)	TokenNameRPAREN	
instanceof	TokenNameinstanceof	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"term"	TokenNameStringLiteral	term
)	TokenNameRPAREN	
instanceof	TokenNameinstanceof	
SpanTermQuery	TokenNameIdentifier	 Span Term Query
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testUniqueField	TokenNameIdentifier	 test Unique Field
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"field"	TokenNameStringLiteral	field
,	TokenNameCOMMA	
"term"	TokenNameStringLiteral	term
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
"field:term"	TokenNameStringLiteral	field:term
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"field"	TokenNameStringLiteral	field
,	TokenNameCOMMA	
"field:term"	TokenNameStringLiteral	field:term
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
"field:term"	TokenNameStringLiteral	field:term
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"field"	TokenNameStringLiteral	field
,	TokenNameCOMMA	
"anotherField:term"	TokenNameStringLiteral	anotherField:term
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
"field:term"	TokenNameStringLiteral	field:term
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testOrSpans	TokenNameIdentifier	 test Or Spans
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
Exception	TokenNameIdentifier	 Exception
{	TokenNameLBRACE	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"term1 term2"	TokenNameStringLiteral	term1 term2
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
"spanOr([term1, term2])"	TokenNameStringLiteral	spanOr([term1, term2])
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertEquals	TokenNameIdentifier	 assert Equals
(	TokenNameLPAREN	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"term1 OR term2"	TokenNameStringLiteral	term1 OR term2
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
"spanOr([term1, term2])"	TokenNameStringLiteral	spanOr([term1, term2])
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"term1 term2"	TokenNameStringLiteral	term1 term2
)	TokenNameRPAREN	
instanceof	TokenNameinstanceof	
SpanOrQuery	TokenNameIdentifier	 Span Or Query
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
assertTrue	TokenNameIdentifier	 assert True
(	TokenNameLPAREN	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"term1 term2"	TokenNameStringLiteral	term1 term2
)	TokenNameRPAREN	
instanceof	TokenNameinstanceof	
SpanOrQuery	TokenNameIdentifier	 Span Or Query
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
testQueryValidator	TokenNameIdentifier	 test Query Validator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
QueryNodeException	TokenNameIdentifier	 Query Node Exception
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"term*"	TokenNameStringLiteral	term*
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fail	TokenNameIdentifier	 fail
(	TokenNameLPAREN	
"QueryNodeException was expected, wildcard queries should not be supported"	TokenNameStringLiteral	QueryNodeException was expected, wildcard queries should not be supported
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
QueryNodeException	TokenNameIdentifier	 Query Node Exception
ex	TokenNameIdentifier	 ex
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// expected exception 	TokenNameCOMMENT_LINE	expected exception 
}	TokenNameRBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"[a TO z]"	TokenNameStringLiteral	[a TO z]
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fail	TokenNameIdentifier	 fail
(	TokenNameLPAREN	
"QueryNodeException was expected, range queries should not be supported"	TokenNameStringLiteral	QueryNodeException was expected, range queries should not be supported
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
QueryNodeException	TokenNameIdentifier	 Query Node Exception
ex	TokenNameIdentifier	 ex
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// expected exception 	TokenNameCOMMENT_LINE	expected exception 
}	TokenNameRBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"a~0.5"	TokenNameStringLiteral	a~0.5
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fail	TokenNameIdentifier	 fail
(	TokenNameLPAREN	
"QueryNodeException was expected, boost queries should not be supported"	TokenNameStringLiteral	QueryNodeException was expected, boost queries should not be supported
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
QueryNodeException	TokenNameIdentifier	 Query Node Exception
ex	TokenNameIdentifier	 ex
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// expected exception 	TokenNameCOMMENT_LINE	expected exception 
}	TokenNameRBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"a^0.5"	TokenNameStringLiteral	a^0.5
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fail	TokenNameIdentifier	 fail
(	TokenNameLPAREN	
"QueryNodeException was expected, fuzzy queries should not be supported"	TokenNameStringLiteral	QueryNodeException was expected, fuzzy queries should not be supported
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
QueryNodeException	TokenNameIdentifier	 Query Node Exception
ex	TokenNameIdentifier	 ex
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// expected exception 	TokenNameCOMMENT_LINE	expected exception 
}	TokenNameRBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
""a b""	TokenNameStringLiteral	"a b"
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fail	TokenNameIdentifier	 fail
(	TokenNameLPAREN	
"QueryNodeException was expected, quoted queries should not be supported"	TokenNameStringLiteral	QueryNodeException was expected, quoted queries should not be supported
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
QueryNodeException	TokenNameIdentifier	 Query Node Exception
ex	TokenNameIdentifier	 ex
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// expected exception 	TokenNameCOMMENT_LINE	expected exception 
}	TokenNameRBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"(a b)"	TokenNameStringLiteral	(a b)
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fail	TokenNameIdentifier	 fail
(	TokenNameLPAREN	
"QueryNodeException was expected, parenthesized queries should not be supported"	TokenNameStringLiteral	QueryNodeException was expected, parenthesized queries should not be supported
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
QueryNodeException	TokenNameIdentifier	 Query Node Exception
ex	TokenNameIdentifier	 ex
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// expected exception 	TokenNameCOMMENT_LINE	expected exception 
}	TokenNameRBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
getSpanQuery	TokenNameIdentifier	 get Span Query
(	TokenNameLPAREN	
"a AND b"	TokenNameStringLiteral	a AND b
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
fail	TokenNameIdentifier	 fail
(	TokenNameLPAREN	
"QueryNodeException was expected, and queries should not be supported"	TokenNameStringLiteral	QueryNodeException was expected, and queries should not be supported
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
QueryNodeException	TokenNameIdentifier	 Query Node Exception
ex	TokenNameIdentifier	 ex
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// expected exception 	TokenNameCOMMENT_LINE	expected exception 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
