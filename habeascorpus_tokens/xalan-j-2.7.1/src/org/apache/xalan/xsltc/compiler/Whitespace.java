/* * Licensed to the Apache Software Foundation (ASF) under one * or more contributor license agreements. See the NOTICE file * distributed with this work for additional information * regarding copyright ownership. The ASF licenses this file * to you under the Apache License, Version 2.0 (the "License"); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to you under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
/* * $Id: Whitespace.java 468650 2006-10-28 07:03:30Z minchau $ */	TokenNameCOMMENT_BLOCK	 $Id: Whitespace.java 468650 2006-10-28 07:03:30Z minchau $ 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
compiler	TokenNameIdentifier	 compiler
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Vector	TokenNameIdentifier	 Vector
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
ALOAD	TokenNameIdentifier	 ALOAD
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
BranchHandle	TokenNameIdentifier	 Branch Handle
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
ConstantPoolGen	TokenNameIdentifier	 Constant Pool Gen
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
IF_ICMPEQ	TokenNameIdentifier	 IF  ICMPEQ
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
ILOAD	TokenNameIdentifier	 ILOAD
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
INVOKEINTERFACE	TokenNameIdentifier	 INVOKEINTERFACE
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
INVOKEVIRTUAL	TokenNameIdentifier	 INVOKEVIRTUAL
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
InstructionList	TokenNameIdentifier	 Instruction List
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
PUSH	TokenNameIdentifier	 PUSH
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
compiler	TokenNameIdentifier	 compiler
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ClassGenerator	TokenNameIdentifier	 Class Generator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
compiler	TokenNameIdentifier	 compiler
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ErrorMsg	TokenNameIdentifier	 Error Msg
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
compiler	TokenNameIdentifier	 compiler
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
MethodGenerator	TokenNameIdentifier	 Method Generator
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
compiler	TokenNameIdentifier	 compiler
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
compiler	TokenNameIdentifier	 compiler
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
TypeCheckError	TokenNameIdentifier	 Type Check Error
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
xalan	TokenNameIdentifier	 xalan
.	TokenNameDOT	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
compiler	TokenNameIdentifier	 compiler
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Util	TokenNameIdentifier	 Util
;	TokenNameSEMICOLON	
/** * @author Morten Jorgensen */	TokenNameCOMMENT_JAVADOC	 @author Morten Jorgensen 
final	TokenNamefinal	
class	TokenNameclass	
Whitespace	TokenNameIdentifier	 Whitespace
extends	TokenNameextends	
TopLevelElement	TokenNameIdentifier	 Top Level Element
{	TokenNameLBRACE	
// Three possible actions for the translet: 	TokenNameCOMMENT_LINE	Three possible actions for the translet: 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
USE_PREDICATE	TokenNameIdentifier	 USE  PREDICATE
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
STRIP_SPACE	TokenNameIdentifier	 STRIP  SPACE
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
PRESERVE_SPACE	TokenNameIdentifier	 PRESERVE  SPACE
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// The 3 different categories of strip/preserve rules (order important) 	TokenNameCOMMENT_LINE	The 3 different categories of strip/preserve rules (order important) 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
RULE_NONE	TokenNameIdentifier	 RULE  NONE
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
RULE_ELEMENT	TokenNameIdentifier	 RULE  ELEMENT
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// priority 0 	TokenNameCOMMENT_LINE	priority 0 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
RULE_NAMESPACE	TokenNameIdentifier	 RULE  NAMESPACE
=	TokenNameEQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// priority -1/4 	TokenNameCOMMENT_LINE	priority -1/4 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
RULE_ALL	TokenNameIdentifier	 RULE  ALL
=	TokenNameEQUAL	
3	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// priority -1/2 	TokenNameCOMMENT_LINE	priority -1/2 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
_elementList	TokenNameIdentifier	 element List
;	TokenNameSEMICOLON	
private	TokenNameprivate	
int	TokenNameint	
_action	TokenNameIdentifier	 action
;	TokenNameSEMICOLON	
private	TokenNameprivate	
int	TokenNameint	
_importPrecedence	TokenNameIdentifier	 import Precedence
;	TokenNameSEMICOLON	
/** * Auxillary class for encapsulating a single strip/preserve rule */	TokenNameCOMMENT_JAVADOC	 Auxillary class for encapsulating a single strip/preserve rule 
private	TokenNameprivate	
final	TokenNamefinal	
static	TokenNamestatic	
class	TokenNameclass	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
{	TokenNameLBRACE	
private	TokenNameprivate	
final	TokenNamefinal	
int	TokenNameint	
_action	TokenNameIdentifier	 action
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
_namespace	TokenNameIdentifier	 namespace
;	TokenNameSEMICOLON	
// Should be replaced by NS type (int) 	TokenNameCOMMENT_LINE	Should be replaced by NS type (int) 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
_element	TokenNameIdentifier	 element
;	TokenNameSEMICOLON	
// Should be replaced by node type (int) 	TokenNameCOMMENT_LINE	Should be replaced by node type (int) 
private	TokenNameprivate	
int	TokenNameint	
_type	TokenNameIdentifier	 type
;	TokenNameSEMICOLON	
private	TokenNameprivate	
int	TokenNameint	
_priority	TokenNameIdentifier	 priority
;	TokenNameSEMICOLON	
/** * Strip/preserve rule constructor */	TokenNameCOMMENT_JAVADOC	 Strip/preserve rule constructor 
public	TokenNamepublic	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
(	TokenNameLPAREN	
int	TokenNameint	
action	TokenNameIdentifier	 action
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
element	TokenNameIdentifier	 element
,	TokenNameCOMMA	
int	TokenNameint	
precedence	TokenNameIdentifier	 precedence
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Determine the action (strip or preserve) for this rule 	TokenNameCOMMENT_LINE	Determine the action (strip or preserve) for this rule 
_action	TokenNameIdentifier	 action
=	TokenNameEQUAL	
action	TokenNameIdentifier	 action
;	TokenNameSEMICOLON	
// Get the namespace and element name for this rule 	TokenNameCOMMENT_LINE	Get the namespace and element name for this rule 
final	TokenNamefinal	
int	TokenNameint	
colon	TokenNameIdentifier	 colon
=	TokenNameEQUAL	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
lastIndexOf	TokenNameIdentifier	 last Index Of
(	TokenNameLPAREN	
':'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
colon	TokenNameIdentifier	 colon
>=	TokenNameGREATER_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
_namespace	TokenNameIdentifier	 namespace
=	TokenNameEQUAL	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
colon	TokenNameIdentifier	 colon
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
_element	TokenNameIdentifier	 element
=	TokenNameEQUAL	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
colon	TokenNameIdentifier	 colon
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
element	TokenNameIdentifier	 element
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
_namespace	TokenNameIdentifier	 namespace
=	TokenNameEQUAL	
Constants	TokenNameIdentifier	 Constants
.	TokenNameDOT	
EMPTYSTRING	TokenNameIdentifier	 EMPTYSTRING
;	TokenNameSEMICOLON	
_element	TokenNameIdentifier	 element
=	TokenNameEQUAL	
element	TokenNameIdentifier	 element
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Determine the initial priority for this rule 	TokenNameCOMMENT_LINE	Determine the initial priority for this rule 
_priority	TokenNameIdentifier	 priority
=	TokenNameEQUAL	
precedence	TokenNameIdentifier	 precedence
<<	TokenNameLEFT_SHIFT	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// Get the strip/preserve type; either "NS:EL", "NS:*" or "*" 	TokenNameCOMMENT_LINE	Get the strip/preserve type; either "NS:EL", "NS:*" or "*" 
if	TokenNameif	
(	TokenNameLPAREN	
_element	TokenNameIdentifier	 element
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
"*"	TokenNameStringLiteral	*
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
_namespace	TokenNameIdentifier	 namespace
==	TokenNameEQUAL_EQUAL	
Constants	TokenNameIdentifier	 Constants
.	TokenNameDOT	
EMPTYSTRING	TokenNameIdentifier	 EMPTYSTRING
)	TokenNameRPAREN	
{	TokenNameLBRACE	
_type	TokenNameIdentifier	 type
=	TokenNameEQUAL	
RULE_ALL	TokenNameIdentifier	 RULE  ALL
;	TokenNameSEMICOLON	
// Strip/preserve _all_ elements 	TokenNameCOMMENT_LINE	Strip/preserve _all_ elements 
_priority	TokenNameIdentifier	 priority
+=	TokenNamePLUS_EQUAL	
2	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// Lowest priority 	TokenNameCOMMENT_LINE	Lowest priority 
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
_type	TokenNameIdentifier	 type
=	TokenNameEQUAL	
RULE_NAMESPACE	TokenNameIdentifier	 RULE  NAMESPACE
;	TokenNameSEMICOLON	
// Strip/reserve elements within NS 	TokenNameCOMMENT_LINE	Strip/reserve elements within NS 
_priority	TokenNameIdentifier	 priority
+=	TokenNamePLUS_EQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// Medium priority 	TokenNameCOMMENT_LINE	Medium priority 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
_type	TokenNameIdentifier	 type
=	TokenNameEQUAL	
RULE_ELEMENT	TokenNameIdentifier	 RULE  ELEMENT
;	TokenNameSEMICOLON	
// Strip/preserve single element 	TokenNameCOMMENT_LINE	Strip/preserve single element 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * For sorting rules depending on priority */	TokenNameCOMMENT_JAVADOC	 For sorting rules depending on priority 
public	TokenNamepublic	
int	TokenNameint	
compareTo	TokenNameIdentifier	 compare To
(	TokenNameLPAREN	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
other	TokenNameIdentifier	 other
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
_priority	TokenNameIdentifier	 priority
<	TokenNameLESS	
other	TokenNameIdentifier	 other
.	TokenNameDOT	
_priority	TokenNameIdentifier	 priority
?	TokenNameQUESTION	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
:	TokenNameCOLON	
_priority	TokenNameIdentifier	 priority
>	TokenNameGREATER	
other	TokenNameIdentifier	 other
.	TokenNameDOT	
_priority	TokenNameIdentifier	 priority
?	TokenNameQUESTION	
1	TokenNameIntegerLiteral	
:	TokenNameCOLON	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
int	TokenNameint	
getAction	TokenNameIdentifier	 get Action
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
_action	TokenNameIdentifier	 action
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
int	TokenNameint	
getStrength	TokenNameIdentifier	 get Strength
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
_type	TokenNameIdentifier	 type
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
int	TokenNameint	
getPriority	TokenNameIdentifier	 get Priority
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
_priority	TokenNameIdentifier	 priority
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getElement	TokenNameIdentifier	 get Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
_element	TokenNameIdentifier	 element
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
String	TokenNameIdentifier	 String
getNamespace	TokenNameIdentifier	 get Namespace
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
_namespace	TokenNameIdentifier	 namespace
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Parse the attributes of the xsl:strip/preserve-space element. * The element should have not contents (ignored if any). */	TokenNameCOMMENT_JAVADOC	 Parse the attributes of the xsl:strip/preserve-space element. The element should have not contents (ignored if any). 
public	TokenNamepublic	
void	TokenNamevoid	
parseContents	TokenNameIdentifier	 parse Contents
(	TokenNameLPAREN	
Parser	TokenNameIdentifier	 Parser
parser	TokenNameIdentifier	 parser
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Determine if this is an xsl:strip- or preserve-space element 	TokenNameCOMMENT_LINE	Determine if this is an xsl:strip- or preserve-space element 
_action	TokenNameIdentifier	 action
=	TokenNameEQUAL	
_qname	TokenNameIdentifier	 qname
.	TokenNameDOT	
getLocalPart	TokenNameIdentifier	 get Local Part
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
endsWith	TokenNameIdentifier	 ends With
(	TokenNameLPAREN	
"strip-space"	TokenNameStringLiteral	strip-space
)	TokenNameRPAREN	
?	TokenNameQUESTION	
STRIP_SPACE	TokenNameIdentifier	 STRIP  SPACE
:	TokenNameCOLON	
PRESERVE_SPACE	TokenNameIdentifier	 PRESERVE  SPACE
;	TokenNameSEMICOLON	
// Determine the import precedence 	TokenNameCOMMENT_LINE	Determine the import precedence 
_importPrecedence	TokenNameIdentifier	 import Precedence
=	TokenNameEQUAL	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
getCurrentImportPrecedence	TokenNameIdentifier	 get Current Import Precedence
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Get the list of elements to strip/preserve 	TokenNameCOMMENT_LINE	Get the list of elements to strip/preserve 
_elementList	TokenNameIdentifier	 element List
=	TokenNameEQUAL	
getAttribute	TokenNameIdentifier	 get Attribute
(	TokenNameLPAREN	
"elements"	TokenNameStringLiteral	elements
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
_elementList	TokenNameIdentifier	 element List
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
_elementList	TokenNameIdentifier	 element List
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
reportError	TokenNameIdentifier	 report Error
(	TokenNameLPAREN	
this	TokenNamethis	
,	TokenNameCOMMA	
parser	TokenNameIdentifier	 parser
,	TokenNameCOMMA	
ErrorMsg	TokenNameIdentifier	 Error Msg
.	TokenNameDOT	
REQUIRED_ATTR_ERR	TokenNameIdentifier	 REQUIRED  ATTR  ERR
,	TokenNameCOMMA	
"elements"	TokenNameStringLiteral	elements
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
final	TokenNamefinal	
SymbolTable	TokenNameIdentifier	 Symbol Table
stable	TokenNameIdentifier	 stable
=	TokenNameEQUAL	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
getSymbolTable	TokenNameIdentifier	 get Symbol Table
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
list	TokenNameIdentifier	 list
=	TokenNameEQUAL	
new	TokenNamenew	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
(	TokenNameLPAREN	
_elementList	TokenNameIdentifier	 element List
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
StringBuffer	TokenNameIdentifier	 String Buffer
elements	TokenNameIdentifier	 elements
=	TokenNameEQUAL	
new	TokenNamenew	
StringBuffer	TokenNameIdentifier	 String Buffer
(	TokenNameLPAREN	
Constants	TokenNameIdentifier	 Constants
.	TokenNameDOT	
EMPTYSTRING	TokenNameIdentifier	 EMPTYSTRING
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
list	TokenNameIdentifier	 list
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
token	TokenNameIdentifier	 token
=	TokenNameEQUAL	
list	TokenNameIdentifier	 list
.	TokenNameDOT	
nextToken	TokenNameIdentifier	 next Token
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
prefix	TokenNameIdentifier	 prefix
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
namespace	TokenNameIdentifier	 namespace
;	TokenNameSEMICOLON	
int	TokenNameint	
col	TokenNameIdentifier	 col
=	TokenNameEQUAL	
token	TokenNameIdentifier	 token
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
':'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
col	TokenNameIdentifier	 col
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
namespace	TokenNameIdentifier	 namespace
=	TokenNameEQUAL	
lookupNamespace	TokenNameIdentifier	 lookup Namespace
(	TokenNameLPAREN	
token	TokenNameIdentifier	 token
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
col	TokenNameIdentifier	 col
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
namespace	TokenNameIdentifier	 namespace
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
elements	TokenNameIdentifier	 elements
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
namespace	TokenNameIdentifier	 namespace
+	TokenNamePLUS	
":"	TokenNameStringLiteral	:
+	TokenNamePLUS	
token	TokenNameIdentifier	 token
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
col	TokenNameIdentifier	 col
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
token	TokenNameIdentifier	 token
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
elements	TokenNameIdentifier	 elements
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
token	TokenNameIdentifier	 token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
elements	TokenNameIdentifier	 elements
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
token	TokenNameIdentifier	 token
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
list	TokenNameIdentifier	 list
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
elements	TokenNameIdentifier	 elements
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
" "	TokenNameStringLiteral	 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
_elementList	TokenNameIdentifier	 element List
=	TokenNameEQUAL	
elements	TokenNameIdentifier	 elements
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * De-tokenize the elements listed in the 'elements' attribute and * instanciate a set of strip/preserve rules. */	TokenNameCOMMENT_JAVADOC	 De-tokenize the elements listed in the 'elements' attribute and instanciate a set of strip/preserve rules. 
public	TokenNamepublic	
Vector	TokenNameIdentifier	 Vector
getRules	TokenNameIdentifier	 get Rules
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
Vector	TokenNameIdentifier	 Vector
rules	TokenNameIdentifier	 rules
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Go through each element and instanciate strip/preserve-object 	TokenNameCOMMENT_LINE	Go through each element and instanciate strip/preserve-object 
final	TokenNamefinal	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
list	TokenNameIdentifier	 list
=	TokenNameEQUAL	
new	TokenNamenew	
StringTokenizer	TokenNameIdentifier	 String Tokenizer
(	TokenNameLPAREN	
_elementList	TokenNameIdentifier	 element List
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
list	TokenNameIdentifier	 list
.	TokenNameDOT	
hasMoreElements	TokenNameIdentifier	 has More Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
new	TokenNamenew	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
(	TokenNameLPAREN	
_action	TokenNameIdentifier	 action
,	TokenNameCOMMA	
list	TokenNameIdentifier	 list
.	TokenNameDOT	
nextToken	TokenNameIdentifier	 next Token
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
_importPrecedence	TokenNameIdentifier	 import Precedence
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
rules	TokenNameIdentifier	 rules
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Scans through the rules vector and looks for a rule of higher * priority that contradicts the current rule. */	TokenNameCOMMENT_JAVADOC	 Scans through the rules vector and looks for a rule of higher priority that contradicts the current rule. 
private	TokenNameprivate	
static	TokenNamestatic	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
findContradictingRule	TokenNameIdentifier	 find Contradicting Rule
(	TokenNameLPAREN	
Vector	TokenNameIdentifier	 Vector
rules	TokenNameIdentifier	 rules
,	TokenNameCOMMA	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
rule	TokenNameIdentifier	 rule
)	TokenNameRPAREN	
{	TokenNameLBRACE	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Get the next rule in the prioritized list 	TokenNameCOMMENT_LINE	Get the next rule in the prioritized list 
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
currentRule	TokenNameIdentifier	 current Rule
=	TokenNameEQUAL	
(	TokenNameLPAREN	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
)	TokenNameRPAREN	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// We only consider rules with higher priority 	TokenNameCOMMENT_LINE	We only consider rules with higher priority 
if	TokenNameif	
(	TokenNameLPAREN	
currentRule	TokenNameIdentifier	 current Rule
==	TokenNameEQUAL_EQUAL	
rule	TokenNameIdentifier	 rule
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* * See if there is a contradicting rule with higher priority. * If the rules has the same action then this rule is redundant, * if they have different action then this rule will never win. */	TokenNameCOMMENT_BLOCK	 See if there is a contradicting rule with higher priority. If the rules has the same action then this rule is redundant, if they have different action then this rule will never win. 
switch	TokenNameswitch	
(	TokenNameLPAREN	
currentRule	TokenNameIdentifier	 current Rule
.	TokenNameDOT	
getStrength	TokenNameIdentifier	 get Strength
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
case	TokenNamecase	
RULE_ALL	TokenNameIdentifier	 RULE  ALL
:	TokenNameCOLON	
return	TokenNamereturn	
currentRule	TokenNameIdentifier	 current Rule
;	TokenNameSEMICOLON	
case	TokenNamecase	
RULE_ELEMENT	TokenNameIdentifier	 RULE  ELEMENT
:	TokenNameCOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
rule	TokenNameIdentifier	 rule
.	TokenNameDOT	
getElement	TokenNameIdentifier	 get Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
currentRule	TokenNameIdentifier	 current Rule
.	TokenNameDOT	
getElement	TokenNameIdentifier	 get Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// intentional fall-through 	TokenNameCOMMENT_LINE	intentional fall-through 
case	TokenNamecase	
RULE_NAMESPACE	TokenNameIdentifier	 RULE  NAMESPACE
:	TokenNameCOLON	
if	TokenNameif	
(	TokenNameLPAREN	
rule	TokenNameIdentifier	 rule
.	TokenNameDOT	
getNamespace	TokenNameIdentifier	 get Namespace
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
currentRule	TokenNameIdentifier	 current Rule
.	TokenNameDOT	
getNamespace	TokenNameIdentifier	 get Namespace
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
currentRule	TokenNameIdentifier	 current Rule
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Orders a set or rules by priority, removes redundant rules and rules * that are shadowed by stronger, contradicting rules. */	TokenNameCOMMENT_JAVADOC	 Orders a set or rules by priority, removes redundant rules and rules that are shadowed by stronger, contradicting rules. 
private	TokenNameprivate	
static	TokenNamestatic	
int	TokenNameint	
prioritizeRules	TokenNameIdentifier	 prioritize Rules
(	TokenNameLPAREN	
Vector	TokenNameIdentifier	 Vector
rules	TokenNameIdentifier	 rules
)	TokenNameRPAREN	
{	TokenNameLBRACE	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
currentRule	TokenNameIdentifier	 current Rule
;	TokenNameSEMICOLON	
int	TokenNameint	
defaultAction	TokenNameIdentifier	 default Action
=	TokenNameEQUAL	
PRESERVE_SPACE	TokenNameIdentifier	 PRESERVE  SPACE
;	TokenNameSEMICOLON	
// Sort all rules with regard to priority 	TokenNameCOMMENT_LINE	Sort all rules with regard to priority 
quicksort	TokenNameIdentifier	 quicksort
(	TokenNameLPAREN	
rules	TokenNameIdentifier	 rules
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Check if there are any "xsl:strip-space" elements at all. 	TokenNameCOMMENT_LINE	Check if there are any "xsl:strip-space" elements at all. 
// If there are no xsl:strip elements we can ignore all xsl:preserve 	TokenNameCOMMENT_LINE	If there are no xsl:strip elements we can ignore all xsl:preserve 
// elements and signal that all whitespaces should be preserved 	TokenNameCOMMENT_LINE	elements and signal that all whitespaces should be preserved 
boolean	TokenNameboolean	
strip	TokenNameIdentifier	 strip
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentRule	TokenNameIdentifier	 current Rule
=	TokenNameEQUAL	
(	TokenNameLPAREN	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
)	TokenNameRPAREN	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
currentRule	TokenNameIdentifier	 current Rule
.	TokenNameDOT	
getAction	TokenNameIdentifier	 get Action
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
STRIP_SPACE	TokenNameIdentifier	 STRIP  SPACE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
strip	TokenNameIdentifier	 strip
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Return with default action: PRESERVE_SPACE 	TokenNameCOMMENT_LINE	Return with default action: PRESERVE_SPACE 
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
strip	TokenNameIdentifier	 strip
)	TokenNameRPAREN	
{	TokenNameLBRACE	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
removeAllElements	TokenNameIdentifier	 remove All Elements
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
PRESERVE_SPACE	TokenNameIdentifier	 PRESERVE  SPACE
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Remove all rules that are contradicted by rules with higher priority 	TokenNameCOMMENT_LINE	Remove all rules that are contradicted by rules with higher priority 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
idx	TokenNameIdentifier	 idx
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
idx	TokenNameIdentifier	 idx
<	TokenNameLESS	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
currentRule	TokenNameIdentifier	 current Rule
=	TokenNameEQUAL	
(	TokenNameLPAREN	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
)	TokenNameRPAREN	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
idx	TokenNameIdentifier	 idx
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Remove this single rule if it has no purpose 	TokenNameCOMMENT_LINE	Remove this single rule if it has no purpose 
if	TokenNameif	
(	TokenNameLPAREN	
findContradictingRule	TokenNameIdentifier	 find Contradicting Rule
(	TokenNameLPAREN	
rules	TokenNameIdentifier	 rules
,	TokenNameCOMMA	
currentRule	TokenNameIdentifier	 current Rule
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
remove	TokenNameIdentifier	 remove
(	TokenNameLPAREN	
idx	TokenNameIdentifier	 idx
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// Remove all following rules if this one overrides all 	TokenNameCOMMENT_LINE	Remove all following rules if this one overrides all 
if	TokenNameif	
(	TokenNameLPAREN	
currentRule	TokenNameIdentifier	 current Rule
.	TokenNameDOT	
getStrength	TokenNameIdentifier	 get Strength
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
RULE_ALL	TokenNameIdentifier	 RULE  ALL
)	TokenNameRPAREN	
{	TokenNameLBRACE	
defaultAction	TokenNameIdentifier	 default Action
=	TokenNameEQUAL	
currentRule	TokenNameIdentifier	 current Rule
.	TokenNameDOT	
getAction	TokenNameIdentifier	 get Action
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
idx	TokenNameIdentifier	 idx
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
removeElementAt	TokenNameIdentifier	 remove Element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Skip to next rule (there might not be any)... 	TokenNameCOMMENT_LINE	Skip to next rule (there might not be any)... 
idx	TokenNameIdentifier	 idx
++	TokenNamePLUS_PLUS	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// The rules vector could be empty if first rule has strength RULE_ALL 	TokenNameCOMMENT_LINE	The rules vector could be empty if first rule has strength RULE_ALL 
if	TokenNameif	
(	TokenNameLPAREN	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
defaultAction	TokenNameIdentifier	 default Action
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Now work backwards and strip away all rules that have the same 	TokenNameCOMMENT_LINE	Now work backwards and strip away all rules that have the same 
// action as the default rule (no reason the check them at the end). 	TokenNameCOMMENT_LINE	action as the default rule (no reason the check them at the end). 
do	TokenNamedo	
{	TokenNameLBRACE	
currentRule	TokenNameIdentifier	 current Rule
=	TokenNameEQUAL	
(	TokenNameLPAREN	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
)	TokenNameRPAREN	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
lastElement	TokenNameIdentifier	 last Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
currentRule	TokenNameIdentifier	 current Rule
.	TokenNameDOT	
getAction	TokenNameIdentifier	 get Action
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
defaultAction	TokenNameIdentifier	 default Action
)	TokenNameRPAREN	
{	TokenNameLBRACE	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
removeElementAt	TokenNameIdentifier	 remove Element At
(	TokenNameLPAREN	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Signal that whitespace detection predicate must be used. 	TokenNameCOMMENT_LINE	Signal that whitespace detection predicate must be used. 
return	TokenNamereturn	
defaultAction	TokenNameIdentifier	 default Action
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
public	TokenNamepublic	
static	TokenNamestatic	
void	TokenNamevoid	
compileStripSpace	TokenNameIdentifier	 compile Strip Space
(	TokenNameLPAREN	
BranchHandle	TokenNameIdentifier	 Branch Handle
strip	TokenNameIdentifier	 strip
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
int	TokenNameint	
sCount	TokenNameIdentifier	 s Count
,	TokenNameCOMMA	
InstructionList	TokenNameIdentifier	 Instruction List
il	TokenNameIdentifier	 il
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
target	TokenNameIdentifier	 target
=	TokenNameEQUAL	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
ICONST_1	TokenNameIdentifier	 ICONST 1
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
IRETURN	TokenNameIdentifier	 IRETURN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
sCount	TokenNameIdentifier	 s Count
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
strip	TokenNameIdentifier	 strip
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
setTarget	TokenNameIdentifier	 set Target
(	TokenNameLPAREN	
target	TokenNameIdentifier	 target
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
public	TokenNamepublic	
static	TokenNamestatic	
void	TokenNamevoid	
compilePreserveSpace	TokenNameIdentifier	 compile Preserve Space
(	TokenNameLPAREN	
BranchHandle	TokenNameIdentifier	 Branch Handle
preserve	TokenNameIdentifier	 preserve
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
,	TokenNameCOMMA	
int	TokenNameint	
pCount	TokenNameIdentifier	 p Count
,	TokenNameCOMMA	
InstructionList	TokenNameIdentifier	 Instruction List
il	TokenNameIdentifier	 il
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
InstructionHandle	TokenNameIdentifier	 Instruction Handle
target	TokenNameIdentifier	 target
=	TokenNameEQUAL	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
ICONST_0	TokenNameIdentifier	 ICONST 0
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
IRETURN	TokenNameIdentifier	 IRETURN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
pCount	TokenNameIdentifier	 p Count
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
preserve	TokenNameIdentifier	 preserve
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
setTarget	TokenNameIdentifier	 set Target
(	TokenNameLPAREN	
target	TokenNameIdentifier	 target
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/* private static void compileDebug(ClassGenerator classGen, InstructionList il) { final ConstantPoolGen cpg = classGen.getConstantPool(); final int prt = cpg.addMethodref("java/lang/System/out", "println", "(Ljava/lang/String;)V"); il.append(DUP); il.append(new INVOKESTATIC(prt)); } */	TokenNameCOMMENT_BLOCK	 private static void compileDebug(ClassGenerator classGen, InstructionList il) { final ConstantPoolGen cpg = classGen.getConstantPool(); final int prt = cpg.addMethodref("java/lang/System/out", "println", "(Ljava/lang/String;)V"); il.append(DUP); il.append(new INVOKESTATIC(prt)); } 
/** * Compiles the predicate method */	TokenNameCOMMENT_JAVADOC	 Compiles the predicate method 
private	TokenNameprivate	
static	TokenNamestatic	
void	TokenNamevoid	
compilePredicate	TokenNameIdentifier	 compile Predicate
(	TokenNameLPAREN	
Vector	TokenNameIdentifier	 Vector
rules	TokenNameIdentifier	 rules
,	TokenNameCOMMA	
int	TokenNameint	
defaultAction	TokenNameIdentifier	 default Action
,	TokenNameCOMMA	
ClassGenerator	TokenNameIdentifier	 Class Generator
classGen	TokenNameIdentifier	 class Gen
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
ConstantPoolGen	TokenNameIdentifier	 Constant Pool Gen
cpg	TokenNameIdentifier	 cpg
=	TokenNameEQUAL	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getConstantPool	TokenNameIdentifier	 get Constant Pool
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
InstructionList	TokenNameIdentifier	 Instruction List
il	TokenNameIdentifier	 il
=	TokenNameEQUAL	
new	TokenNamenew	
InstructionList	TokenNameIdentifier	 Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
XSLTC	TokenNameIdentifier	 XSLTC
xsltc	TokenNameIdentifier	 xsltc
=	TokenNameEQUAL	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getParser	TokenNameIdentifier	 get Parser
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getXSLTC	TokenNameIdentifier	 get XSLTC
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// private boolean Translet.stripSpace(int type) - cannot be static 	TokenNameCOMMENT_LINE	private boolean Translet.stripSpace(int type) - cannot be static 
final	TokenNamefinal	
MethodGenerator	TokenNameIdentifier	 Method Generator
stripSpace	TokenNameIdentifier	 strip Space
=	TokenNameEQUAL	
new	TokenNamenew	
MethodGenerator	TokenNameIdentifier	 Method Generator
(	TokenNameLPAREN	
ACC_PUBLIC	TokenNameIdentifier	 ACC  PUBLIC
|	TokenNameOR	
ACC_FINAL	TokenNameIdentifier	 ACC  FINAL
,	TokenNameCOMMA	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
.	TokenNameDOT	
BOOLEAN	TokenNameIdentifier	 BOOLEAN
,	TokenNameCOMMA	
new	TokenNamenew	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
Util	TokenNameIdentifier	 Util
.	TokenNameDOT	
getJCRefType	TokenNameIdentifier	 get JC Ref Type
(	TokenNameLPAREN	
DOM_INTF_SIG	TokenNameIdentifier	 DOM  INTF  SIG
)	TokenNameRPAREN	
,	TokenNameCOMMA	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
.	TokenNameDOT	
INT	TokenNameIdentifier	 INT
,	TokenNameCOMMA	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
.	TokenNameDOT	
INT	TokenNameIdentifier	 INT
}	TokenNameRBRACE	
,	TokenNameCOMMA	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"dom"	TokenNameStringLiteral	dom
,	TokenNameCOMMA	
"node"	TokenNameStringLiteral	node
,	TokenNameCOMMA	
"type"	TokenNameStringLiteral	type
}	TokenNameRBRACE	
,	TokenNameCOMMA	
"stripSpace"	TokenNameStringLiteral	stripSpace
,	TokenNameCOMMA	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getClassName	TokenNameIdentifier	 get Class Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
il	TokenNameIdentifier	 il
,	TokenNameCOMMA	
cpg	TokenNameIdentifier	 cpg
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
addInterface	TokenNameIdentifier	 add Interface
(	TokenNameLPAREN	
"org/apache/xalan/xsltc/StripFilter"	TokenNameStringLiteral	org/apache/xalan/xsltc/StripFilter
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
paramDom	TokenNameIdentifier	 param Dom
=	TokenNameEQUAL	
stripSpace	TokenNameIdentifier	 strip Space
.	TokenNameDOT	
getLocalIndex	TokenNameIdentifier	 get Local Index
(	TokenNameLPAREN	
"dom"	TokenNameStringLiteral	dom
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
paramCurrent	TokenNameIdentifier	 param Current
=	TokenNameEQUAL	
stripSpace	TokenNameIdentifier	 strip Space
.	TokenNameDOT	
getLocalIndex	TokenNameIdentifier	 get Local Index
(	TokenNameLPAREN	
"node"	TokenNameStringLiteral	node
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
paramType	TokenNameIdentifier	 param Type
=	TokenNameEQUAL	
stripSpace	TokenNameIdentifier	 strip Space
.	TokenNameDOT	
getLocalIndex	TokenNameIdentifier	 get Local Index
(	TokenNameLPAREN	
"type"	TokenNameStringLiteral	type
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BranchHandle	TokenNameIdentifier	 Branch Handle
strip	TokenNameIdentifier	 strip
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
BranchHandle	TokenNameIdentifier	 Branch Handle
[	TokenNameLBRACKET	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
BranchHandle	TokenNameIdentifier	 Branch Handle
preserve	TokenNameIdentifier	 preserve
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
new	TokenNamenew	
BranchHandle	TokenNameIdentifier	 Branch Handle
[	TokenNameLBRACKET	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
int	TokenNameint	
sCount	TokenNameIdentifier	 s Count
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
int	TokenNameint	
pCount	TokenNameIdentifier	 p Count
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
// Traverse all strip/preserve rules 	TokenNameCOMMENT_LINE	Traverse all strip/preserve rules 
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Get the next rule in the prioritised list 	TokenNameCOMMENT_LINE	Get the next rule in the prioritised list 
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
rule	TokenNameIdentifier	 rule
=	TokenNameEQUAL	
(	TokenNameLPAREN	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
)	TokenNameRPAREN	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Returns the namespace for a node in the DOM 	TokenNameCOMMENT_LINE	Returns the namespace for a node in the DOM 
final	TokenNamefinal	
int	TokenNameint	
gns	TokenNameIdentifier	 gns
=	TokenNameEQUAL	
cpg	TokenNameIdentifier	 cpg
.	TokenNameDOT	
addInterfaceMethodref	TokenNameIdentifier	 add Interface Methodref
(	TokenNameLPAREN	
DOM_INTF	TokenNameIdentifier	 DOM  INTF
,	TokenNameCOMMA	
"getNamespaceName"	TokenNameStringLiteral	getNamespaceName
,	TokenNameCOMMA	
"(I)Ljava/lang/String;"	TokenNameStringLiteral	(I)Ljava/lang/String;
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
int	TokenNameint	
strcmp	TokenNameIdentifier	 strcmp
=	TokenNameEQUAL	
cpg	TokenNameIdentifier	 cpg
.	TokenNameDOT	
addMethodref	TokenNameIdentifier	 add Methodref
(	TokenNameLPAREN	
"java/lang/String"	TokenNameStringLiteral	java/lang/String
,	TokenNameCOMMA	
"compareTo"	TokenNameStringLiteral	compareTo
,	TokenNameCOMMA	
"(Ljava/lang/String;)I"	TokenNameStringLiteral	(Ljava/lang/String;)I
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Handle elements="ns:*" type rule 	TokenNameCOMMENT_LINE	Handle elements="ns:*" type rule 
if	TokenNameif	
(	TokenNameLPAREN	
rule	TokenNameIdentifier	 rule
.	TokenNameDOT	
getStrength	TokenNameIdentifier	 get Strength
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
RULE_NAMESPACE	TokenNameIdentifier	 RULE  NAMESPACE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
ALOAD	TokenNameIdentifier	 ALOAD
(	TokenNameLPAREN	
paramDom	TokenNameIdentifier	 param Dom
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
ILOAD	TokenNameIdentifier	 ILOAD
(	TokenNameLPAREN	
paramCurrent	TokenNameIdentifier	 param Current
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
INVOKEINTERFACE	TokenNameIdentifier	 INVOKEINTERFACE
(	TokenNameLPAREN	
gns	TokenNameIdentifier	 gns
,	TokenNameCOMMA	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
PUSH	TokenNameIdentifier	 PUSH
(	TokenNameLPAREN	
cpg	TokenNameIdentifier	 cpg
,	TokenNameCOMMA	
rule	TokenNameIdentifier	 rule
.	TokenNameDOT	
getNamespace	TokenNameIdentifier	 get Namespace
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
INVOKEVIRTUAL	TokenNameIdentifier	 INVOKEVIRTUAL
(	TokenNameLPAREN	
strcmp	TokenNameIdentifier	 strcmp
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
ICONST_0	TokenNameIdentifier	 ICONST 0
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
rule	TokenNameIdentifier	 rule
.	TokenNameDOT	
getAction	TokenNameIdentifier	 get Action
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
STRIP_SPACE	TokenNameIdentifier	 STRIP  SPACE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
strip	TokenNameIdentifier	 strip
[	TokenNameLBRACKET	
sCount	TokenNameIdentifier	 s Count
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
IF_ICMPEQ	TokenNameIdentifier	 IF  ICMPEQ
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
preserve	TokenNameIdentifier	 preserve
[	TokenNameLBRACKET	
pCount	TokenNameIdentifier	 p Count
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
IF_ICMPEQ	TokenNameIdentifier	 IF  ICMPEQ
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Handle elements="ns:el" type rule 	TokenNameCOMMENT_LINE	Handle elements="ns:el" type rule 
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
rule	TokenNameIdentifier	 rule
.	TokenNameDOT	
getStrength	TokenNameIdentifier	 get Strength
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
RULE_ELEMENT	TokenNameIdentifier	 RULE  ELEMENT
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Create the QName for the element 	TokenNameCOMMENT_LINE	Create the QName for the element 
final	TokenNamefinal	
Parser	TokenNameIdentifier	 Parser
parser	TokenNameIdentifier	 parser
=	TokenNameEQUAL	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getParser	TokenNameIdentifier	 get Parser
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
QName	TokenNameIdentifier	 Q Name
qname	TokenNameIdentifier	 qname
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
rule	TokenNameIdentifier	 rule
.	TokenNameDOT	
getNamespace	TokenNameIdentifier	 get Namespace
(	TokenNameLPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
Constants	TokenNameIdentifier	 Constants
.	TokenNameDOT	
EMPTYSTRING	TokenNameIdentifier	 EMPTYSTRING
)	TokenNameRPAREN	
qname	TokenNameIdentifier	 qname
=	TokenNameEQUAL	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
getQName	TokenNameIdentifier	 get Q Name
(	TokenNameLPAREN	
rule	TokenNameIdentifier	 rule
.	TokenNameDOT	
getNamespace	TokenNameIdentifier	 get Namespace
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
rule	TokenNameIdentifier	 rule
.	TokenNameDOT	
getElement	TokenNameIdentifier	 get Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
qname	TokenNameIdentifier	 qname
=	TokenNameEQUAL	
parser	TokenNameIdentifier	 parser
.	TokenNameDOT	
getQName	TokenNameIdentifier	 get Q Name
(	TokenNameLPAREN	
rule	TokenNameIdentifier	 rule
.	TokenNameDOT	
getElement	TokenNameIdentifier	 get Element
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Register the element. 	TokenNameCOMMENT_LINE	Register the element. 
final	TokenNamefinal	
int	TokenNameint	
elementType	TokenNameIdentifier	 element Type
=	TokenNameEQUAL	
xsltc	TokenNameIdentifier	 xsltc
.	TokenNameDOT	
registerElement	TokenNameIdentifier	 register Element
(	TokenNameLPAREN	
qname	TokenNameIdentifier	 qname
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
ILOAD	TokenNameIdentifier	 ILOAD
(	TokenNameLPAREN	
paramType	TokenNameIdentifier	 param Type
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
PUSH	TokenNameIdentifier	 PUSH
(	TokenNameLPAREN	
cpg	TokenNameIdentifier	 cpg
,	TokenNameCOMMA	
elementType	TokenNameIdentifier	 element Type
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Compare current node type with wanted element type 	TokenNameCOMMENT_LINE	Compare current node type with wanted element type 
if	TokenNameif	
(	TokenNameLPAREN	
rule	TokenNameIdentifier	 rule
.	TokenNameDOT	
getAction	TokenNameIdentifier	 get Action
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
STRIP_SPACE	TokenNameIdentifier	 STRIP  SPACE
)	TokenNameRPAREN	
strip	TokenNameIdentifier	 strip
[	TokenNameLBRACKET	
sCount	TokenNameIdentifier	 s Count
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
IF_ICMPEQ	TokenNameIdentifier	 IF  ICMPEQ
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
preserve	TokenNameIdentifier	 preserve
[	TokenNameLBRACKET	
pCount	TokenNameIdentifier	 p Count
++	TokenNamePLUS_PLUS	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
new	TokenNamenew	
IF_ICMPEQ	TokenNameIdentifier	 IF  ICMPEQ
(	TokenNameLPAREN	
null	TokenNamenull	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
defaultAction	TokenNameIdentifier	 default Action
==	TokenNameEQUAL_EQUAL	
STRIP_SPACE	TokenNameIdentifier	 STRIP  SPACE
)	TokenNameRPAREN	
{	TokenNameLBRACE	
compileStripSpace	TokenNameIdentifier	 compile Strip Space
(	TokenNameLPAREN	
strip	TokenNameIdentifier	 strip
,	TokenNameCOMMA	
sCount	TokenNameIdentifier	 s Count
,	TokenNameCOMMA	
il	TokenNameIdentifier	 il
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
compilePreserveSpace	TokenNameIdentifier	 compile Preserve Space
(	TokenNameLPAREN	
preserve	TokenNameIdentifier	 preserve
,	TokenNameCOMMA	
pCount	TokenNameIdentifier	 p Count
,	TokenNameCOMMA	
il	TokenNameIdentifier	 il
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
compilePreserveSpace	TokenNameIdentifier	 compile Preserve Space
(	TokenNameLPAREN	
preserve	TokenNameIdentifier	 preserve
,	TokenNameCOMMA	
pCount	TokenNameIdentifier	 p Count
,	TokenNameCOMMA	
il	TokenNameIdentifier	 il
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
compileStripSpace	TokenNameIdentifier	 compile Strip Space
(	TokenNameLPAREN	
strip	TokenNameIdentifier	 strip
,	TokenNameCOMMA	
sCount	TokenNameIdentifier	 s Count
,	TokenNameCOMMA	
il	TokenNameIdentifier	 il
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
addMethod	TokenNameIdentifier	 add Method
(	TokenNameLPAREN	
stripSpace	TokenNameIdentifier	 strip Space
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Compiles the predicate method */	TokenNameCOMMENT_JAVADOC	 Compiles the predicate method 
private	TokenNameprivate	
static	TokenNamestatic	
void	TokenNamevoid	
compileDefault	TokenNameIdentifier	 compile Default
(	TokenNameLPAREN	
int	TokenNameint	
defaultAction	TokenNameIdentifier	 default Action
,	TokenNameCOMMA	
ClassGenerator	TokenNameIdentifier	 Class Generator
classGen	TokenNameIdentifier	 class Gen
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
ConstantPoolGen	TokenNameIdentifier	 Constant Pool Gen
cpg	TokenNameIdentifier	 cpg
=	TokenNameEQUAL	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getConstantPool	TokenNameIdentifier	 get Constant Pool
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
InstructionList	TokenNameIdentifier	 Instruction List
il	TokenNameIdentifier	 il
=	TokenNameEQUAL	
new	TokenNamenew	
InstructionList	TokenNameIdentifier	 Instruction List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
XSLTC	TokenNameIdentifier	 XSLTC
xsltc	TokenNameIdentifier	 xsltc
=	TokenNameEQUAL	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getParser	TokenNameIdentifier	 get Parser
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
getXSLTC	TokenNameIdentifier	 get XSLTC
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// private boolean Translet.stripSpace(int type) - cannot be static 	TokenNameCOMMENT_LINE	private boolean Translet.stripSpace(int type) - cannot be static 
final	TokenNamefinal	
MethodGenerator	TokenNameIdentifier	 Method Generator
stripSpace	TokenNameIdentifier	 strip Space
=	TokenNameEQUAL	
new	TokenNamenew	
MethodGenerator	TokenNameIdentifier	 Method Generator
(	TokenNameLPAREN	
ACC_PUBLIC	TokenNameIdentifier	 ACC  PUBLIC
|	TokenNameOR	
ACC_FINAL	TokenNameIdentifier	 ACC  FINAL
,	TokenNameCOMMA	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
.	TokenNameDOT	
BOOLEAN	TokenNameIdentifier	 BOOLEAN
,	TokenNameCOMMA	
new	TokenNamenew	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
Util	TokenNameIdentifier	 Util
.	TokenNameDOT	
getJCRefType	TokenNameIdentifier	 get JC Ref Type
(	TokenNameLPAREN	
DOM_INTF_SIG	TokenNameIdentifier	 DOM  INTF  SIG
)	TokenNameRPAREN	
,	TokenNameCOMMA	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
.	TokenNameDOT	
INT	TokenNameIdentifier	 INT
,	TokenNameCOMMA	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
bcel	TokenNameIdentifier	 bcel
.	TokenNameDOT	
generic	TokenNameIdentifier	 generic
.	TokenNameDOT	
Type	TokenNameIdentifier	 Type
.	TokenNameDOT	
INT	TokenNameIdentifier	 INT
}	TokenNameRBRACE	
,	TokenNameCOMMA	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"dom"	TokenNameStringLiteral	dom
,	TokenNameCOMMA	
"node"	TokenNameStringLiteral	node
,	TokenNameCOMMA	
"type"	TokenNameStringLiteral	type
}	TokenNameRBRACE	
,	TokenNameCOMMA	
"stripSpace"	TokenNameStringLiteral	stripSpace
,	TokenNameCOMMA	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
getClassName	TokenNameIdentifier	 get Class Name
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
il	TokenNameIdentifier	 il
,	TokenNameCOMMA	
cpg	TokenNameIdentifier	 cpg
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
addInterface	TokenNameIdentifier	 add Interface
(	TokenNameLPAREN	
"org/apache/xalan/xsltc/StripFilter"	TokenNameStringLiteral	org/apache/xalan/xsltc/StripFilter
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
defaultAction	TokenNameIdentifier	 default Action
==	TokenNameEQUAL_EQUAL	
STRIP_SPACE	TokenNameIdentifier	 STRIP  SPACE
)	TokenNameRPAREN	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
ICONST_1	TokenNameIdentifier	 ICONST 1
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
else	TokenNameelse	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
ICONST_0	TokenNameIdentifier	 ICONST 0
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
il	TokenNameIdentifier	 il
.	TokenNameDOT	
append	TokenNameIdentifier	 append
(	TokenNameLPAREN	
IRETURN	TokenNameIdentifier	 IRETURN
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
classGen	TokenNameIdentifier	 class Gen
.	TokenNameDOT	
addMethod	TokenNameIdentifier	 add Method
(	TokenNameLPAREN	
stripSpace	TokenNameIdentifier	 strip Space
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Takes a vector of WhitespaceRule objects and generates a predicate * method. This method returns the translets default action for handling * whitespace text-nodes: * - USE_PREDICATE (run the method generated by this method) * - STRIP_SPACE (always strip whitespace text-nodes) * - PRESERVE_SPACE (always preserve whitespace text-nodes) */	TokenNameCOMMENT_JAVADOC	 Takes a vector of WhitespaceRule objects and generates a predicate method. This method returns the translets default action for handling whitespace text-nodes: - USE_PREDICATE (run the method generated by this method) - STRIP_SPACE (always strip whitespace text-nodes) - PRESERVE_SPACE (always preserve whitespace text-nodes) 
public	TokenNamepublic	
static	TokenNamestatic	
int	TokenNameint	
translateRules	TokenNameIdentifier	 translate Rules
(	TokenNameLPAREN	
Vector	TokenNameIdentifier	 Vector
rules	TokenNameIdentifier	 rules
,	TokenNameCOMMA	
ClassGenerator	TokenNameIdentifier	 Class Generator
classGen	TokenNameIdentifier	 class Gen
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Get the core rules in prioritized order 	TokenNameCOMMENT_LINE	Get the core rules in prioritized order 
final	TokenNamefinal	
int	TokenNameint	
defaultAction	TokenNameIdentifier	 default Action
=	TokenNameEQUAL	
prioritizeRules	TokenNameIdentifier	 prioritize Rules
(	TokenNameLPAREN	
rules	TokenNameIdentifier	 rules
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// The rules vector may be empty after prioritising 	TokenNameCOMMENT_LINE	The rules vector may be empty after prioritising 
if	TokenNameif	
(	TokenNameLPAREN	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
compileDefault	TokenNameIdentifier	 compile Default
(	TokenNameLPAREN	
defaultAction	TokenNameIdentifier	 default Action
,	TokenNameCOMMA	
classGen	TokenNameIdentifier	 class Gen
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
defaultAction	TokenNameIdentifier	 default Action
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Now - create a predicate method and sequence through rules... 	TokenNameCOMMENT_LINE	Now - create a predicate method and sequence through rules... 
compilePredicate	TokenNameIdentifier	 compile Predicate
(	TokenNameLPAREN	
rules	TokenNameIdentifier	 rules
,	TokenNameCOMMA	
defaultAction	TokenNameIdentifier	 default Action
,	TokenNameCOMMA	
classGen	TokenNameIdentifier	 class Gen
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Return with the translets required action ( 	TokenNameCOMMENT_LINE	Return with the translets required action ( 
return	TokenNamereturn	
USE_PREDICATE	TokenNameIdentifier	 USE  PREDICATE
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sorts a range of rules with regard to PRIORITY only */	TokenNameCOMMENT_JAVADOC	 Sorts a range of rules with regard to PRIORITY only 
private	TokenNameprivate	
static	TokenNamestatic	
void	TokenNamevoid	
quicksort	TokenNameIdentifier	 quicksort
(	TokenNameLPAREN	
Vector	TokenNameIdentifier	 Vector
rules	TokenNameIdentifier	 rules
,	TokenNameCOMMA	
int	TokenNameint	
p	TokenNameIdentifier	 p
,	TokenNameCOMMA	
int	TokenNameint	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
{	TokenNameLBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
p	TokenNameIdentifier	 p
<	TokenNameLESS	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
int	TokenNameint	
q	TokenNameIdentifier	 q
=	TokenNameEQUAL	
partition	TokenNameIdentifier	 partition
(	TokenNameLPAREN	
rules	TokenNameIdentifier	 rules
,	TokenNameCOMMA	
p	TokenNameIdentifier	 p
,	TokenNameCOMMA	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
quicksort	TokenNameIdentifier	 quicksort
(	TokenNameLPAREN	
rules	TokenNameIdentifier	 rules
,	TokenNameCOMMA	
p	TokenNameIdentifier	 p
,	TokenNameCOMMA	
q	TokenNameIdentifier	 q
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
p	TokenNameIdentifier	 p
=	TokenNameEQUAL	
q	TokenNameIdentifier	 q
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Used with quicksort method above */	TokenNameCOMMENT_JAVADOC	 Used with quicksort method above 
private	TokenNameprivate	
static	TokenNamestatic	
int	TokenNameint	
partition	TokenNameIdentifier	 partition
(	TokenNameLPAREN	
Vector	TokenNameIdentifier	 Vector
rules	TokenNameIdentifier	 rules
,	TokenNameCOMMA	
int	TokenNameint	
p	TokenNameIdentifier	 p
,	TokenNameCOMMA	
int	TokenNameint	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
x	TokenNameIdentifier	 x
=	TokenNameEQUAL	
(	TokenNameLPAREN	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
)	TokenNameRPAREN	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
(	TokenNameLPAREN	
p	TokenNameIdentifier	 p
+	TokenNamePLUS	
r	TokenNameIdentifier	 r
)	TokenNameRPAREN	
>>>	TokenNameUNSIGNED_RIGHT_SHIFT	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
p	TokenNameIdentifier	 p
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
j	TokenNameIdentifier	 j
=	TokenNameEQUAL	
r	TokenNameIdentifier	 r
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
x	TokenNameIdentifier	 x
.	TokenNameDOT	
compareTo	TokenNameIdentifier	 compare To
(	TokenNameLPAREN	
(	TokenNameLPAREN	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
)	TokenNameRPAREN	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
--	TokenNameMINUS_MINUS	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
)	TokenNameRPAREN	
<	TokenNameLESS	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
while	TokenNamewhile	
(	TokenNameLPAREN	
x	TokenNameIdentifier	 x
.	TokenNameDOT	
compareTo	TokenNameIdentifier	 compare To
(	TokenNameLPAREN	
(	TokenNameLPAREN	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
)	TokenNameRPAREN	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
++	TokenNamePLUS_PLUS	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
)	TokenNameRPAREN	
>	TokenNameGREATER	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
{	TokenNameLBRACE	
final	TokenNamefinal	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
tmp	TokenNameIdentifier	 tmp
=	TokenNameEQUAL	
(	TokenNameLPAREN	
WhitespaceRule	TokenNameIdentifier	 Whitespace Rule
)	TokenNameRPAREN	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
setElementAt	TokenNameIdentifier	 set Element At
(	TokenNameLPAREN	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
elementAt	TokenNameIdentifier	 element At
(	TokenNameLPAREN	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
,	TokenNameCOMMA	
i	TokenNameIdentifier	 i
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
rules	TokenNameIdentifier	 rules
.	TokenNameDOT	
setElementAt	TokenNameIdentifier	 set Element At
(	TokenNameLPAREN	
tmp	TokenNameIdentifier	 tmp
,	TokenNameCOMMA	
j	TokenNameIdentifier	 j
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
return	TokenNamereturn	
j	TokenNameIdentifier	 j
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Type-check contents/attributes - nothing to do... */	TokenNameCOMMENT_JAVADOC	 Type-check contents/attributes - nothing to do... 
public	TokenNamepublic	
Type	TokenNameIdentifier	 Type
typeCheck	TokenNameIdentifier	 type Check
(	TokenNameLPAREN	
SymbolTable	TokenNameIdentifier	 Symbol Table
stable	TokenNameIdentifier	 stable
)	TokenNameRPAREN	
throws	TokenNamethrows	
TypeCheckError	TokenNameIdentifier	 Type Check Error
{	TokenNameLBRACE	
return	TokenNamereturn	
Type	TokenNameIdentifier	 Type
.	TokenNameDOT	
Void	TokenNameIdentifier	 Void
;	TokenNameSEMICOLON	
// We don't return anything. 	TokenNameCOMMENT_LINE	We don't return anything. 
}	TokenNameRBRACE	
/** * This method should not produce any code */	TokenNameCOMMENT_JAVADOC	 This method should not produce any code 
public	TokenNamepublic	
void	TokenNamevoid	
translate	TokenNameIdentifier	 translate
(	TokenNameLPAREN	
ClassGenerator	TokenNameIdentifier	 Class Generator
classGen	TokenNameIdentifier	 class Gen
,	TokenNameCOMMA	
MethodGenerator	TokenNameIdentifier	 Method Generator
methodGen	TokenNameIdentifier	 method Gen
)	TokenNameRPAREN	
{	TokenNameLBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
