/* * Licensed to the Apache Software Foundation (ASF) under one or more * contributor license agreements. See the NOTICE file distributed with * this work for additional information regarding copyright ownership. * The ASF licenses this file to You under the Apache License, Version 2.0 * (the "License"); you may not use this file except in compliance with * the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. * */	TokenNameCOMMENT_BLOCK	 Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at * http://www.apache.org/licenses/LICENSE-2.0 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 
package	TokenNamepackage	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
BufferedReader	TokenNameIdentifier	 Buffered Reader
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
BufferedWriter	TokenNameIdentifier	 Buffered Writer
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
ByteArrayOutputStream	TokenNameIdentifier	 Byte Array Output Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
File	TokenNameIdentifier	 File
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
FileWriter	TokenNameIdentifier	 File Writer
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
OutputStream	TokenNameIdentifier	 Output Stream
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
StringReader	TokenNameIdentifier	 String Reader
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
ArrayList	TokenNameIdentifier	 Array List
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
HashMap	TokenNameIdentifier	 Hash Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Iterator	TokenNameIdentifier	 Iterator
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
LinkedHashMap	TokenNameIdentifier	 Linked Hash Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Map	TokenNameIdentifier	 Map
;	TokenNameSEMICOLON	
import	TokenNameimport	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
Vector	TokenNameIdentifier	 Vector
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
BuildException	TokenNameIdentifier	 Build Exception
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
MagicNames	TokenNameIdentifier	 Magic Names
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
Project	TokenNameIdentifier	 Project
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
Task	TokenNameIdentifier	 Task
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
taskdefs	TokenNameIdentifier	 taskdefs
.	TokenNameDOT	
condition	TokenNameIdentifier	 condition
.	TokenNameDOT	
Os	TokenNameIdentifier	 Os
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
types	TokenNameIdentifier	 types
.	TokenNameDOT	
Commandline	TokenNameIdentifier	 Commandline
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
FileUtils	TokenNameIdentifier	 File Utils
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
JavaEnvUtils	TokenNameIdentifier	 Java Env Utils
;	TokenNameSEMICOLON	
import	TokenNameimport	
org	TokenNameIdentifier	 org
.	TokenNameDOT	
apache	TokenNameIdentifier	 apache
.	TokenNameDOT	
tools	TokenNameIdentifier	 tools
.	TokenNameDOT	
ant	TokenNameIdentifier	 ant
.	TokenNameDOT	
util	TokenNameIdentifier	 util
.	TokenNameDOT	
StringUtils	TokenNameIdentifier	 String Utils
;	TokenNameSEMICOLON	
/** * Runs an external program. * * @since Ant 1.2 * */	TokenNameCOMMENT_JAVADOC	 Runs an external program. * @since Ant 1.2 
public	TokenNamepublic	
class	TokenNameclass	
Execute	TokenNameIdentifier	 Execute
{	TokenNameLBRACE	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
ONE_SECOND	TokenNameIdentifier	 ONE  SECOND
=	TokenNameEQUAL	
1000	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
/** Invalid exit code. * set to {@link Integer#MAX_VALUE} */	TokenNameCOMMENT_JAVADOC	 Invalid exit code. set to {@link Integer#MAX_VALUE} 
public	TokenNamepublic	
static	TokenNamestatic	
final	TokenNamefinal	
int	TokenNameint	
INVALID	TokenNameIdentifier	 INVALID
=	TokenNameEQUAL	
Integer	TokenNameIdentifier	 Integer
.	TokenNameDOT	
MAX_VALUE	TokenNameIdentifier	 MAX  VALUE
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
final	TokenNamefinal	
FileUtils	TokenNameIdentifier	 File Utils
FILE_UTILS	TokenNameIdentifier	 FILE  UTILS
=	TokenNameEQUAL	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
getFileUtils	TokenNameIdentifier	 get File Utils
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
cmdl	TokenNameIdentifier	 cmdl
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
env	TokenNameIdentifier	 env
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
int	TokenNameint	
exitValue	TokenNameIdentifier	 exit Value
=	TokenNameEQUAL	
INVALID	TokenNameIdentifier	 INVALID
;	TokenNameSEMICOLON	
private	TokenNameprivate	
ExecuteStreamHandler	TokenNameIdentifier	 Execute Stream Handler
streamHandler	TokenNameIdentifier	 stream Handler
;	TokenNameSEMICOLON	
private	TokenNameprivate	
ExecuteWatchdog	TokenNameIdentifier	 Execute Watchdog
watchdog	TokenNameIdentifier	 watchdog
;	TokenNameSEMICOLON	
private	TokenNameprivate	
File	TokenNameIdentifier	 File
workingDirectory	TokenNameIdentifier	 working Directory
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
Project	TokenNameIdentifier	 Project
project	TokenNameIdentifier	 project
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
boolean	TokenNameboolean	
newEnvironment	TokenNameIdentifier	 new Environment
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/** Controls whether the VM is used to launch commands, where possible. */	TokenNameCOMMENT_JAVADOC	 Controls whether the VM is used to launch commands, where possible. 
private	TokenNameprivate	
boolean	TokenNameboolean	
useVMLauncher	TokenNameIdentifier	 use VM Launcher
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
String	TokenNameIdentifier	 String
antWorkingDirectory	TokenNameIdentifier	 ant Working Directory
=	TokenNameEQUAL	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
"user.dir"	TokenNameStringLiteral	user.dir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
CommandLauncher	TokenNameIdentifier	 Command Launcher
vmLauncher	TokenNameIdentifier	 vm Launcher
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
CommandLauncher	TokenNameIdentifier	 Command Launcher
shellLauncher	TokenNameIdentifier	 shell Launcher
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
private	TokenNameprivate	
static	TokenNamestatic	
Map	TokenNameIdentifier	 Map
/*<String, String>*/	TokenNameCOMMENT_BLOCK	<String, String>
procEnvironment	TokenNameIdentifier	 proc Environment
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
/** Used to destroy processes when the VM exits. */	TokenNameCOMMENT_JAVADOC	 Used to destroy processes when the VM exits. 
private	TokenNameprivate	
static	TokenNamestatic	
ProcessDestroyer	TokenNameIdentifier	 Process Destroyer
processDestroyer	TokenNameIdentifier	 process Destroyer
=	TokenNameEQUAL	
new	TokenNamenew	
ProcessDestroyer	TokenNameIdentifier	 Process Destroyer
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
/** Used for replacing env variables */	TokenNameCOMMENT_JAVADOC	 Used for replacing env variables 
private	TokenNameprivate	
static	TokenNamestatic	
boolean	TokenNameboolean	
environmentCaseInSensitive	TokenNameIdentifier	 environment Case In Sensitive
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
/* * Builds a command launcher for the OS and JVM we are running under. */	TokenNameCOMMENT_BLOCK	 Builds a command launcher for the OS and JVM we are running under. 
static	TokenNamestatic	
{	TokenNameLBRACE	
// Try using a JDK 1.3 launcher 	TokenNameCOMMENT_LINE	Try using a JDK 1.3 launcher 
try	TokenNametry	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"os/2"	TokenNameStringLiteral	os/2
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
vmLauncher	TokenNameIdentifier	 vm Launcher
=	TokenNameEQUAL	
new	TokenNamenew	
Java13CommandLauncher	TokenNameIdentifier	 Java13 Command Launcher
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
NoSuchMethodException	TokenNameIdentifier	 No Such Method Exception
exc	TokenNameIdentifier	 exc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Ignore and keep trying 	TokenNameCOMMENT_LINE	Ignore and keep trying 
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"mac"	TokenNameStringLiteral	mac
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"unix"	TokenNameStringLiteral	unix
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Mac 	TokenNameCOMMENT_LINE	Mac 
shellLauncher	TokenNameIdentifier	 shell Launcher
=	TokenNameEQUAL	
new	TokenNamenew	
MacCommandLauncher	TokenNameIdentifier	 Mac Command Launcher
(	TokenNameLPAREN	
new	TokenNamenew	
CommandLauncher	TokenNameIdentifier	 Command Launcher
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"os/2"	TokenNameStringLiteral	os/2
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// OS/2 	TokenNameCOMMENT_LINE	OS/2 
shellLauncher	TokenNameIdentifier	 shell Launcher
=	TokenNameEQUAL	
new	TokenNamenew	
OS2CommandLauncher	TokenNameIdentifier	 O S2 Command Launcher
(	TokenNameLPAREN	
new	TokenNamenew	
CommandLauncher	TokenNameIdentifier	 Command Launcher
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"windows"	TokenNameStringLiteral	windows
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
environmentCaseInSensitive	TokenNameIdentifier	 environment Case In Sensitive
=	TokenNameEQUAL	
true	TokenNametrue	
;	TokenNameSEMICOLON	
CommandLauncher	TokenNameIdentifier	 Command Launcher
baseLauncher	TokenNameIdentifier	 base Launcher
=	TokenNameEQUAL	
new	TokenNamenew	
CommandLauncher	TokenNameIdentifier	 Command Launcher
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
!	TokenNameNOT	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"win9x"	TokenNameStringLiteral	win9x
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Windows XP/2000/NT 	TokenNameCOMMENT_LINE	Windows XP/2000/NT 
shellLauncher	TokenNameIdentifier	 shell Launcher
=	TokenNameEQUAL	
new	TokenNamenew	
WinNTCommandLauncher	TokenNameIdentifier	 Win NT Command Launcher
(	TokenNameLPAREN	
baseLauncher	TokenNameIdentifier	 base Launcher
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// Windows 98/95 - need to use an auxiliary script 	TokenNameCOMMENT_LINE	Windows 98/95 - need to use an auxiliary script 
shellLauncher	TokenNameIdentifier	 shell Launcher
=	TokenNameEQUAL	
new	TokenNamenew	
ScriptCommandLauncher	TokenNameIdentifier	 Script Command Launcher
(	TokenNameLPAREN	
"bin/antRun.bat"	TokenNameStringLiteral	bin/antRun.bat
,	TokenNameCOMMA	
baseLauncher	TokenNameIdentifier	 base Launcher
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"netware"	TokenNameStringLiteral	netware
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
CommandLauncher	TokenNameIdentifier	 Command Launcher
baseLauncher	TokenNameIdentifier	 base Launcher
=	TokenNameEQUAL	
new	TokenNamenew	
CommandLauncher	TokenNameIdentifier	 Command Launcher
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
shellLauncher	TokenNameIdentifier	 shell Launcher
=	TokenNameEQUAL	
new	TokenNamenew	
PerlScriptCommandLauncher	TokenNameIdentifier	 Perl Script Command Launcher
(	TokenNameLPAREN	
"bin/antRun.pl"	TokenNameStringLiteral	bin/antRun.pl
,	TokenNameCOMMA	
baseLauncher	TokenNameIdentifier	 base Launcher
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"openvms"	TokenNameStringLiteral	openvms
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// OpenVMS 	TokenNameCOMMENT_LINE	OpenVMS 
try	TokenNametry	
{	TokenNameLBRACE	
shellLauncher	TokenNameIdentifier	 shell Launcher
=	TokenNameEQUAL	
new	TokenNamenew	
VmsCommandLauncher	TokenNameIdentifier	 Vms Command Launcher
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
NoSuchMethodException	TokenNameIdentifier	 No Such Method Exception
exc	TokenNameIdentifier	 exc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Ignore and keep trying 	TokenNameCOMMENT_LINE	Ignore and keep trying 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// Generic 	TokenNameCOMMENT_LINE	Generic 
shellLauncher	TokenNameIdentifier	 shell Launcher
=	TokenNameEQUAL	
new	TokenNamenew	
ScriptCommandLauncher	TokenNameIdentifier	 Script Command Launcher
(	TokenNameLPAREN	
"bin/antRun"	TokenNameStringLiteral	bin/antRun
,	TokenNameCOMMA	
new	TokenNamenew	
CommandLauncher	TokenNameIdentifier	 Command Launcher
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Set whether or not you want the process to be spawned. * Default is not spawned. * * @param spawn if true you do not want Ant * to wait for the end of the process. * Has no influence in here, the calling task contains * and acts accordingly * * @since Ant 1.6 * @deprecated */	TokenNameCOMMENT_JAVADOC	 Set whether or not you want the process to be spawned. Default is not spawned. * @param spawn if true you do not want Ant to wait for the end of the process. Has no influence in here, the calling task contains and acts accordingly * @since Ant 1.6 @deprecated 
public	TokenNamepublic	
void	TokenNamevoid	
setSpawn	TokenNameIdentifier	 set Spawn
(	TokenNameLPAREN	
boolean	TokenNameboolean	
spawn	TokenNameIdentifier	 spawn
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Method did not do anything to begin with 	TokenNameCOMMENT_LINE	Method did not do anything to begin with 
}	TokenNameRBRACE	
/** * Find the list of environment variables for this process. * * @return a map containing the environment variables. * @since Ant 1.8.2 */	TokenNameCOMMENT_JAVADOC	 Find the list of environment variables for this process. * @return a map containing the environment variables. @since Ant 1.8.2 
public	TokenNamepublic	
static	TokenNamestatic	
synchronized	TokenNamesynchronized	
Map	TokenNameIdentifier	 Map
/*<String,String>*/	TokenNameCOMMENT_BLOCK	<String,String>
getEnvironmentVariables	TokenNameIdentifier	 get Environment Variables
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
procEnvironment	TokenNameIdentifier	 proc Environment
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
procEnvironment	TokenNameIdentifier	 proc Environment
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
JavaEnvUtils	TokenNameIdentifier	 Java Env Utils
.	TokenNameDOT	
isAtLeastJavaVersion	TokenNameIdentifier	 is At Least Java Version
(	TokenNameLPAREN	
JavaEnvUtils	TokenNameIdentifier	 Java Env Utils
.	TokenNameDOT	
JAVA_1_5	TokenNameIdentifier	 JAVA 1 5
)	TokenNameRPAREN	
&&	TokenNameAND_AND	
!	TokenNameNOT	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"openvms"	TokenNameStringLiteral	openvms
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
procEnvironment	TokenNameIdentifier	 proc Environment
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Map	TokenNameIdentifier	 Map
)	TokenNameRPAREN	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
class	TokenNameclass	
.	TokenNameDOT	
getMethod	TokenNameIdentifier	 get Method
(	TokenNameLPAREN	
"getenv"	TokenNameStringLiteral	getenv
,	TokenNameCOMMA	
new	TokenNamenew	
Class	TokenNameIdentifier	 Class
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
.	TokenNameDOT	
invoke	TokenNameIdentifier	 invoke
(	TokenNameLPAREN	
null	TokenNamenull	
,	TokenNameCOMMA	
new	TokenNamenew	
Object	TokenNameIdentifier	 Object
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
procEnvironment	TokenNameIdentifier	 proc Environment
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
x	TokenNameIdentifier	 x
)	TokenNameRPAREN	
{	TokenNameLBRACE	
x	TokenNameIdentifier	 x
.	TokenNameDOT	
printStackTrace	TokenNameIdentifier	 print Stack Trace
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
procEnvironment	TokenNameIdentifier	 proc Environment
=	TokenNameEQUAL	
new	TokenNamenew	
LinkedHashMap	TokenNameIdentifier	 Linked Hash Map
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
ByteArrayOutputStream	TokenNameIdentifier	 Byte Array Output Stream
out	TokenNameIdentifier	 out
=	TokenNameEQUAL	
new	TokenNamenew	
ByteArrayOutputStream	TokenNameIdentifier	 Byte Array Output Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Execute	TokenNameIdentifier	 Execute
exe	TokenNameIdentifier	 exe
=	TokenNameEQUAL	
new	TokenNamenew	
Execute	TokenNameIdentifier	 Execute
(	TokenNameLPAREN	
new	TokenNamenew	
PumpStreamHandler	TokenNameIdentifier	 Pump Stream Handler
(	TokenNameLPAREN	
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
exe	TokenNameIdentifier	 exe
.	TokenNameDOT	
setCommandline	TokenNameIdentifier	 set Commandline
(	TokenNameLPAREN	
getProcEnvCommand	TokenNameIdentifier	 get Proc Env Command
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Make sure we do not recurse forever 	TokenNameCOMMENT_LINE	Make sure we do not recurse forever 
exe	TokenNameIdentifier	 exe
.	TokenNameDOT	
setNewenvironment	TokenNameIdentifier	 set Newenvironment
(	TokenNameLPAREN	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
retval	TokenNameIdentifier	 retval
=	TokenNameEQUAL	
exe	TokenNameIdentifier	 exe
.	TokenNameDOT	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
retval	TokenNameIdentifier	 retval
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Just try to use what we got 	TokenNameCOMMENT_LINE	Just try to use what we got 
}	TokenNameRBRACE	
BufferedReader	TokenNameIdentifier	 Buffered Reader
in	TokenNameIdentifier	 in
=	TokenNameEQUAL	
new	TokenNamenew	
BufferedReader	TokenNameIdentifier	 Buffered Reader
(	TokenNameLPAREN	
new	TokenNamenew	
StringReader	TokenNameIdentifier	 String Reader
(	TokenNameLPAREN	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"openvms"	TokenNameStringLiteral	openvms
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
procEnvironment	TokenNameIdentifier	 proc Environment
=	TokenNameEQUAL	
getVMSLogicals	TokenNameIdentifier	 get VMS Logicals
(	TokenNameLPAREN	
in	TokenNameIdentifier	 in
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
procEnvironment	TokenNameIdentifier	 proc Environment
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
var	TokenNameIdentifier	 var
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
line	TokenNameIdentifier	 line
,	TokenNameCOMMA	
lineSep	TokenNameIdentifier	 line Sep
=	TokenNameEQUAL	
StringUtils	TokenNameIdentifier	 String Utils
.	TokenNameDOT	
LINE_SEP	TokenNameIdentifier	 LINE  SEP
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
line	TokenNameIdentifier	 line
=	TokenNameEQUAL	
in	TokenNameIdentifier	 in
.	TokenNameDOT	
readLine	TokenNameIdentifier	 read Line
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
line	TokenNameIdentifier	 line
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
'='	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Chunk part of previous env var (UNIX env vars can 	TokenNameCOMMENT_LINE	Chunk part of previous env var (UNIX env vars can 
// contain embedded new lines). 	TokenNameCOMMENT_LINE	contain embedded new lines). 
if	TokenNameif	
(	TokenNameLPAREN	
var	TokenNameIdentifier	 var
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
var	TokenNameIdentifier	 var
=	TokenNameEQUAL	
lineSep	TokenNameIdentifier	 line Sep
+	TokenNamePLUS	
line	TokenNameIdentifier	 line
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
var	TokenNameIdentifier	 var
+=	TokenNamePLUS_EQUAL	
lineSep	TokenNameIdentifier	 line Sep
+	TokenNamePLUS	
line	TokenNameIdentifier	 line
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// New env var...append the previous one if we have it. 	TokenNameCOMMENT_LINE	New env var...append the previous one if we have it. 
if	TokenNameif	
(	TokenNameLPAREN	
var	TokenNameIdentifier	 var
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
eq	TokenNameIdentifier	 eq
=	TokenNameEQUAL	
var	TokenNameIdentifier	 var
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
"="	TokenNameStringLiteral	=
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
procEnvironment	TokenNameIdentifier	 proc Environment
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
var	TokenNameIdentifier	 var
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
eq	TokenNameIdentifier	 eq
)	TokenNameRPAREN	
,	TokenNameCOMMA	
var	TokenNameIdentifier	 var
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
eq	TokenNameIdentifier	 eq
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
var	TokenNameIdentifier	 var
=	TokenNameEQUAL	
line	TokenNameIdentifier	 line
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Since we "look ahead" before adding, there's one last env var. 	TokenNameCOMMENT_LINE	Since we "look ahead" before adding, there's one last env var. 
if	TokenNameif	
(	TokenNameLPAREN	
var	TokenNameIdentifier	 var
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
eq	TokenNameIdentifier	 eq
=	TokenNameEQUAL	
var	TokenNameIdentifier	 var
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
"="	TokenNameStringLiteral	=
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
procEnvironment	TokenNameIdentifier	 proc Environment
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
var	TokenNameIdentifier	 var
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
eq	TokenNameIdentifier	 eq
)	TokenNameRPAREN	
,	TokenNameCOMMA	
var	TokenNameIdentifier	 var
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
eq	TokenNameIdentifier	 eq
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
exc	TokenNameIdentifier	 exc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
exc	TokenNameIdentifier	 exc
.	TokenNameDOT	
printStackTrace	TokenNameIdentifier	 print Stack Trace
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Just try to see how much we got 	TokenNameCOMMENT_LINE	Just try to see how much we got 
}	TokenNameRBRACE	
return	TokenNamereturn	
procEnvironment	TokenNameIdentifier	 proc Environment
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Find the list of environment variables for this process. * * @return a vector containing the environment variables. * The vector elements are strings formatted like variable = value. * @deprecated use #getEnvironmentVariables instead */	TokenNameCOMMENT_JAVADOC	 Find the list of environment variables for this process. * @return a vector containing the environment variables. The vector elements are strings formatted like variable = value. @deprecated use #getEnvironmentVariables instead 
public	TokenNamepublic	
static	TokenNamestatic	
synchronized	TokenNamesynchronized	
Vector	TokenNameIdentifier	 Vector
getProcEnvironment	TokenNameIdentifier	 get Proc Environment
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Vector	TokenNameIdentifier	 Vector
v	TokenNameIdentifier	 v
=	TokenNameEQUAL	
new	TokenNamenew	
Vector	TokenNameIdentifier	 Vector
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Iterator	TokenNameIdentifier	 Iterator
it	TokenNameIdentifier	 it
=	TokenNameEQUAL	
getEnvironmentVariables	TokenNameIdentifier	 get Environment Variables
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
entrySet	TokenNameIdentifier	 entry Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
while	TokenNamewhile	
(	TokenNameLPAREN	
it	TokenNameIdentifier	 it
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Map	TokenNameIdentifier	 Map
.	TokenNameDOT	
Entry	TokenNameIdentifier	 Entry
entry	TokenNameIdentifier	 entry
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Map	TokenNameIdentifier	 Map
.	TokenNameDOT	
Entry	TokenNameIdentifier	 Entry
)	TokenNameRPAREN	
it	TokenNameIdentifier	 it
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
v	TokenNameIdentifier	 v
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getKey	TokenNameIdentifier	 get Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
"="	TokenNameStringLiteral	=
+	TokenNamePLUS	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
v	TokenNameIdentifier	 v
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * This is the operation to get our environment. * It is a notorious troublespot pre-Java1.5, and should be approached * with extreme caution. * @return */	TokenNameCOMMENT_JAVADOC	 This is the operation to get our environment. It is a notorious troublespot pre-Java1.5, and should be approached with extreme caution. @return 
private	TokenNameprivate	
static	TokenNamestatic	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
getProcEnvCommand	TokenNameIdentifier	 get Proc Env Command
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"os/2"	TokenNameStringLiteral	os/2
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// OS/2 - use same mechanism as Windows 2000 	TokenNameCOMMENT_LINE	OS/2 - use same mechanism as Windows 2000 
return	TokenNamereturn	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"cmd"	TokenNameStringLiteral	cmd
,	TokenNameCOMMA	
"/c"	TokenNameStringLiteral	/c
,	TokenNameCOMMA	
"set"	TokenNameStringLiteral	set
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"windows"	TokenNameStringLiteral	windows
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Determine if we're running under XP/2000/NT or 98/95 	TokenNameCOMMENT_LINE	Determine if we're running under XP/2000/NT or 98/95 
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"win9x"	TokenNameStringLiteral	win9x
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Windows 98/95 	TokenNameCOMMENT_LINE	Windows 98/95 
return	TokenNamereturn	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"command.com"	TokenNameStringLiteral	command.com
,	TokenNameCOMMA	
"/c"	TokenNameStringLiteral	/c
,	TokenNameCOMMA	
"set"	TokenNameStringLiteral	set
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// Windows XP/2000/NT/2003 	TokenNameCOMMENT_LINE	Windows XP/2000/NT/2003 
return	TokenNamereturn	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"cmd"	TokenNameStringLiteral	cmd
,	TokenNameCOMMA	
"/c"	TokenNameStringLiteral	/c
,	TokenNameCOMMA	
"set"	TokenNameStringLiteral	set
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"z/os"	TokenNameStringLiteral	z/os
)	TokenNameRPAREN	
||	TokenNameOR_OR	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"unix"	TokenNameStringLiteral	unix
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// On most systems one could use: /bin/sh -c env 	TokenNameCOMMENT_LINE	On most systems one could use: /bin/sh -c env 
// Some systems have /bin/env, others /usr/bin/env, just try 	TokenNameCOMMENT_LINE	Some systems have /bin/env, others /usr/bin/env, just try 
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
cmd	TokenNameIdentifier	 cmd
=	TokenNameEQUAL	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
"/bin/env"	TokenNameStringLiteral	/bin/env
)	TokenNameRPAREN	
.	TokenNameDOT	
canRead	TokenNameIdentifier	 can Read
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
cmd	TokenNameIdentifier	 cmd
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
"/bin/env"	TokenNameStringLiteral	/bin/env
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
"/usr/bin/env"	TokenNameStringLiteral	/usr/bin/env
)	TokenNameRPAREN	
.	TokenNameDOT	
canRead	TokenNameIdentifier	 can Read
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
cmd	TokenNameIdentifier	 cmd
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
"/usr/bin/env"	TokenNameStringLiteral	/usr/bin/env
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// rely on PATH 	TokenNameCOMMENT_LINE	rely on PATH 
cmd	TokenNameIdentifier	 cmd
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
"env"	TokenNameStringLiteral	env
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
cmd	TokenNameIdentifier	 cmd
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"netware"	TokenNameStringLiteral	netware
)	TokenNameRPAREN	
||	TokenNameOR_OR	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"os/400"	TokenNameStringLiteral	os/400
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// rely on PATH 	TokenNameCOMMENT_LINE	rely on PATH 
return	TokenNamereturn	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"env"	TokenNameStringLiteral	env
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"openvms"	TokenNameStringLiteral	openvms
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
"show"	TokenNameStringLiteral	show
,	TokenNameCOMMA	
"logical"	TokenNameStringLiteral	logical
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
// MAC OS 9 and previous 	TokenNameCOMMENT_LINE	MAC OS 9 and previous 
//TODO: I have no idea how to get it, someone must fix it 	TokenNameCOMMENT_LINE	TODO: I have no idea how to get it, someone must fix it 
return	TokenNamereturn	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * ByteArrayOutputStream#toString doesn't seem to work reliably on * OS/390, at least not the way we use it in the execution * context. * * @param bos the output stream that one wants to read. * @return the output stream as a string, read with * special encodings in the case of z/os and os/400. * * @since Ant 1.5 */	TokenNameCOMMENT_JAVADOC	 ByteArrayOutputStream#toString doesn't seem to work reliably on OS/390, at least not the way we use it in the execution context. * @param bos the output stream that one wants to read. @return the output stream as a string, read with special encodings in the case of z/os and os/400. * @since Ant 1.5 
public	TokenNamepublic	
static	TokenNamestatic	
String	TokenNameIdentifier	 String
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
ByteArrayOutputStream	TokenNameIdentifier	 Byte Array Output Stream
bos	TokenNameIdentifier	 bos
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"z/os"	TokenNameStringLiteral	z/os
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
return	TokenNamereturn	
bos	TokenNameIdentifier	 bos
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
"Cp1047"	TokenNameStringLiteral	Cp1047
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
UnsupportedEncodingException	TokenNameIdentifier	 Unsupported Encoding Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//noop default encoding used 	TokenNameCOMMENT_LINE	noop default encoding used 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"os/400"	TokenNameStringLiteral	os/400
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
return	TokenNamereturn	
bos	TokenNameIdentifier	 bos
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
"Cp500"	TokenNameStringLiteral	Cp500
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
UnsupportedEncodingException	TokenNameIdentifier	 Unsupported Encoding Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//noop default encoding used 	TokenNameCOMMENT_LINE	noop default encoding used 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
return	TokenNamereturn	
bos	TokenNameIdentifier	 bos
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Creates a new execute object using <code>PumpStreamHandler</code> for * stream handling. */	TokenNameCOMMENT_JAVADOC	 Creates a new execute object using <code>PumpStreamHandler</code> for stream handling. 
public	TokenNamepublic	
Execute	TokenNameIdentifier	 Execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
(	TokenNameLPAREN	
new	TokenNamenew	
PumpStreamHandler	TokenNameIdentifier	 Pump Stream Handler
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Creates a new execute object. * * @param streamHandler the stream handler used to handle the input and * output streams of the subprocess. */	TokenNameCOMMENT_JAVADOC	 Creates a new execute object. * @param streamHandler the stream handler used to handle the input and output streams of the subprocess. 
public	TokenNamepublic	
Execute	TokenNameIdentifier	 Execute
(	TokenNameLPAREN	
ExecuteStreamHandler	TokenNameIdentifier	 Execute Stream Handler
streamHandler	TokenNameIdentifier	 stream Handler
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
(	TokenNameLPAREN	
streamHandler	TokenNameIdentifier	 stream Handler
,	TokenNameCOMMA	
null	TokenNamenull	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Creates a new execute object. * * @param streamHandler the stream handler used to handle the input and * output streams of the subprocess. * @param watchdog a watchdog for the subprocess or <code>null</code> to * to disable a timeout for the subprocess. */	TokenNameCOMMENT_JAVADOC	 Creates a new execute object. * @param streamHandler the stream handler used to handle the input and output streams of the subprocess. @param watchdog a watchdog for the subprocess or <code>null</code> to to disable a timeout for the subprocess. 
public	TokenNamepublic	
Execute	TokenNameIdentifier	 Execute
(	TokenNameLPAREN	
ExecuteStreamHandler	TokenNameIdentifier	 Execute Stream Handler
streamHandler	TokenNameIdentifier	 stream Handler
,	TokenNameCOMMA	
ExecuteWatchdog	TokenNameIdentifier	 Execute Watchdog
watchdog	TokenNameIdentifier	 watchdog
)	TokenNameRPAREN	
{	TokenNameLBRACE	
setStreamHandler	TokenNameIdentifier	 set Stream Handler
(	TokenNameLPAREN	
streamHandler	TokenNameIdentifier	 stream Handler
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
this	TokenNamethis	
.	TokenNameDOT	
watchdog	TokenNameIdentifier	 watchdog
=	TokenNameEQUAL	
watchdog	TokenNameIdentifier	 watchdog
;	TokenNameSEMICOLON	
//By default, use the shell launcher for VMS 	TokenNameCOMMENT_LINE	By default, use the shell launcher for VMS 
// 	TokenNameCOMMENT_LINE	 
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"openvms"	TokenNameStringLiteral	openvms
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
useVMLauncher	TokenNameIdentifier	 use VM Launcher
=	TokenNameEQUAL	
false	TokenNamefalse	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Set the stream handler to use. * @param streamHandler ExecuteStreamHandler. * @since Ant 1.6 */	TokenNameCOMMENT_JAVADOC	 Set the stream handler to use. @param streamHandler ExecuteStreamHandler. @since Ant 1.6 
public	TokenNamepublic	
void	TokenNamevoid	
setStreamHandler	TokenNameIdentifier	 set Stream Handler
(	TokenNameLPAREN	
ExecuteStreamHandler	TokenNameIdentifier	 Execute Stream Handler
streamHandler	TokenNameIdentifier	 stream Handler
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
streamHandler	TokenNameIdentifier	 stream Handler
=	TokenNameEQUAL	
streamHandler	TokenNameIdentifier	 stream Handler
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns the commandline used to create a subprocess. * * @return the commandline used to create a subprocess. */	TokenNameCOMMENT_JAVADOC	 Returns the commandline used to create a subprocess. * @return the commandline used to create a subprocess. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
getCommandline	TokenNameIdentifier	 get Commandline
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
cmdl	TokenNameIdentifier	 cmdl
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the commandline of the subprocess to launch. * * @param commandline the commandline of the subprocess to launch. */	TokenNameCOMMENT_JAVADOC	 Sets the commandline of the subprocess to launch. * @param commandline the commandline of the subprocess to launch. 
public	TokenNamepublic	
void	TokenNamevoid	
setCommandline	TokenNameIdentifier	 set Commandline
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
commandline	TokenNameIdentifier	 commandline
)	TokenNameRPAREN	
{	TokenNameLBRACE	
cmdl	TokenNameIdentifier	 cmdl
=	TokenNameEQUAL	
commandline	TokenNameIdentifier	 commandline
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set whether to propagate the default environment or not. * * @param newenv whether to propagate the process environment. */	TokenNameCOMMENT_JAVADOC	 Set whether to propagate the default environment or not. * @param newenv whether to propagate the process environment. 
public	TokenNamepublic	
void	TokenNamevoid	
setNewenvironment	TokenNameIdentifier	 set Newenvironment
(	TokenNameLPAREN	
boolean	TokenNameboolean	
newenv	TokenNameIdentifier	 newenv
)	TokenNameRPAREN	
{	TokenNameLBRACE	
newEnvironment	TokenNameIdentifier	 new Environment
=	TokenNameEQUAL	
newenv	TokenNameIdentifier	 newenv
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Returns the environment used to create a subprocess. * * @return the environment used to create a subprocess. */	TokenNameCOMMENT_JAVADOC	 Returns the environment used to create a subprocess. * @return the environment used to create a subprocess. 
public	TokenNamepublic	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
getEnvironment	TokenNameIdentifier	 get Environment
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
env	TokenNameIdentifier	 env
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
newEnvironment	TokenNameIdentifier	 new Environment
)	TokenNameRPAREN	
?	TokenNameQUESTION	
env	TokenNameIdentifier	 env
:	TokenNameCOLON	
patchEnvironment	TokenNameIdentifier	 patch Environment
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the environment variables for the subprocess to launch. * * @param env array of Strings, each element of which has * an environment variable settings in format <em>key=value</em>. */	TokenNameCOMMENT_JAVADOC	 Sets the environment variables for the subprocess to launch. * @param env array of Strings, each element of which has an environment variable settings in format <em>key=value</em>. 
public	TokenNamepublic	
void	TokenNamevoid	
setEnvironment	TokenNameIdentifier	 set Environment
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
env	TokenNameIdentifier	 env
=	TokenNameEQUAL	
env	TokenNameIdentifier	 env
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Sets the working directory of the process to execute. * * <p>This is emulated using the antRun scripts unless the OS is * Windows NT in which case a cmd.exe is spawned, * or MRJ and setting user.dir works, or JDK 1.3 and there is * official support in java.lang.Runtime. * * @param wd the working directory of the process. */	TokenNameCOMMENT_JAVADOC	 Sets the working directory of the process to execute. * <p>This is emulated using the antRun scripts unless the OS is Windows NT in which case a cmd.exe is spawned, or MRJ and setting user.dir works, or JDK 1.3 and there is official support in java.lang.Runtime. * @param wd the working directory of the process. 
public	TokenNamepublic	
void	TokenNamevoid	
setWorkingDirectory	TokenNameIdentifier	 set Working Directory
(	TokenNameLPAREN	
File	TokenNameIdentifier	 File
wd	TokenNameIdentifier	 wd
)	TokenNameRPAREN	
{	TokenNameLBRACE	
workingDirectory	TokenNameIdentifier	 working Directory
=	TokenNameEQUAL	
(	TokenNameLPAREN	
wd	TokenNameIdentifier	 wd
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
||	TokenNameOR_OR	
wd	TokenNameIdentifier	 wd
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
antWorkingDirectory	TokenNameIdentifier	 ant Working Directory
)	TokenNameRPAREN	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
null	TokenNamenull	
:	TokenNameCOLON	
wd	TokenNameIdentifier	 wd
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Return the working directory. * @return the directory as a File. * @since Ant 1.7 */	TokenNameCOMMENT_JAVADOC	 Return the working directory. @return the directory as a File. @since Ant 1.7 
public	TokenNamepublic	
File	TokenNameIdentifier	 File
getWorkingDirectory	TokenNameIdentifier	 get Working Directory
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
workingDirectory	TokenNameIdentifier	 working Directory
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
?	TokenNameQUESTION	
new	TokenNamenew	
File	TokenNameIdentifier	 File
(	TokenNameLPAREN	
antWorkingDirectory	TokenNameIdentifier	 ant Working Directory
)	TokenNameRPAREN	
:	TokenNameCOLON	
workingDirectory	TokenNameIdentifier	 working Directory
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Set the name of the antRun script using the project's value. * * @param project the current project. * * @throws BuildException not clear when it is going to throw an exception, but * it is the method's signature. */	TokenNameCOMMENT_JAVADOC	 Set the name of the antRun script using the project's value. * @param project the current project. * @throws BuildException not clear when it is going to throw an exception, but it is the method's signature. 
public	TokenNamepublic	
void	TokenNamevoid	
setAntRun	TokenNameIdentifier	 set Ant Run
(	TokenNameLPAREN	
Project	TokenNameIdentifier	 Project
project	TokenNameIdentifier	 project
)	TokenNameRPAREN	
throws	TokenNamethrows	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
project	TokenNameIdentifier	 project
=	TokenNameEQUAL	
project	TokenNameIdentifier	 project
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Launch this execution through the VM, where possible, rather than through * the OS's shell. In some cases and operating systems using the shell will * allow the shell to perform additional processing such as associating an * executable with a script, etc. * * @param useVMLauncher true if exec should launch through the VM, * false if the shell should be used to launch the * command. */	TokenNameCOMMENT_JAVADOC	 Launch this execution through the VM, where possible, rather than through the OS's shell. In some cases and operating systems using the shell will allow the shell to perform additional processing such as associating an executable with a script, etc. * @param useVMLauncher true if exec should launch through the VM, false if the shell should be used to launch the command. 
public	TokenNamepublic	
void	TokenNamevoid	
setVMLauncher	TokenNameIdentifier	 set VM Launcher
(	TokenNameLPAREN	
boolean	TokenNameboolean	
useVMLauncher	TokenNameIdentifier	 use VM Launcher
)	TokenNameRPAREN	
{	TokenNameLBRACE	
this	TokenNamethis	
.	TokenNameDOT	
useVMLauncher	TokenNameIdentifier	 use VM Launcher
=	TokenNameEQUAL	
useVMLauncher	TokenNameIdentifier	 use VM Launcher
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Creates a process that runs a command. * * @param project the Project, only used for logging purposes, may be null. * @param command the command to run. * @param env the environment for the command. * @param dir the working directory for the command. * @param useVM use the built-in exec command for JDK 1.3 if available. * @return the process started. * @throws IOException forwarded from the particular launcher used. * * @since Ant 1.5 */	TokenNameCOMMENT_JAVADOC	 Creates a process that runs a command. * @param project the Project, only used for logging purposes, may be null. @param command the command to run. @param env the environment for the command. @param dir the working directory for the command. @param useVM use the built-in exec command for JDK 1.3 if available. @return the process started. @throws IOException forwarded from the particular launcher used. * @since Ant 1.5 
public	TokenNamepublic	
static	TokenNamestatic	
Process	TokenNameIdentifier	 Process
launch	TokenNameIdentifier	 launch
(	TokenNameLPAREN	
Project	TokenNameIdentifier	 Project
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
command	TokenNameIdentifier	 command
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
env	TokenNameIdentifier	 env
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
dir	TokenNameIdentifier	 dir
,	TokenNameCOMMA	
boolean	TokenNameboolean	
useVM	TokenNameIdentifier	 use VM
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
!	TokenNameNOT	
dir	TokenNameIdentifier	 dir
.	TokenNameDOT	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
dir	TokenNameIdentifier	 dir
+	TokenNamePLUS	
" doesn't exist."	TokenNameStringLiteral	 doesn't exist.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
CommandLauncher	TokenNameIdentifier	 Command Launcher
launcher	TokenNameIdentifier	 launcher
=	TokenNameEQUAL	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
useVM	TokenNameIdentifier	 use VM
&&	TokenNameAND_AND	
vmLauncher	TokenNameIdentifier	 vm Launcher
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
?	TokenNameQUESTION	
vmLauncher	TokenNameIdentifier	 vm Launcher
:	TokenNameCOLON	
shellLauncher	TokenNameIdentifier	 shell Launcher
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
launcher	TokenNameIdentifier	 launcher
.	TokenNameDOT	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
command	TokenNameIdentifier	 command
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
,	TokenNameCOMMA	
dir	TokenNameIdentifier	 dir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Runs a process defined by the command line and returns its exit status. * * @return the exit status of the subprocess or <code>INVALID</code>. * @exception java.io.IOException The exception is thrown, if launching * of the subprocess failed. */	TokenNameCOMMENT_JAVADOC	 Runs a process defined by the command line and returns its exit status. * @return the exit status of the subprocess or <code>INVALID</code>. @exception java.io.IOException The exception is thrown, if launching of the subprocess failed. 
public	TokenNamepublic	
int	TokenNameint	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
workingDirectory	TokenNameIdentifier	 working Directory
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
!	TokenNameNOT	
workingDirectory	TokenNameIdentifier	 working Directory
.	TokenNameDOT	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
workingDirectory	TokenNameIdentifier	 working Directory
+	TokenNamePLUS	
" doesn't exist."	TokenNameStringLiteral	 doesn't exist.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
final	TokenNamefinal	
Process	TokenNameIdentifier	 Process
process	TokenNameIdentifier	 process
=	TokenNameEQUAL	
launch	TokenNameIdentifier	 launch
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
getCommandline	TokenNameIdentifier	 get Commandline
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
getEnvironment	TokenNameIdentifier	 get Environment
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
workingDirectory	TokenNameIdentifier	 working Directory
,	TokenNameCOMMA	
useVMLauncher	TokenNameIdentifier	 use VM Launcher
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
streamHandler	TokenNameIdentifier	 stream Handler
.	TokenNameDOT	
setProcessInputStream	TokenNameIdentifier	 set Process Input Stream
(	TokenNameLPAREN	
process	TokenNameIdentifier	 process
.	TokenNameDOT	
getOutputStream	TokenNameIdentifier	 get Output Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
streamHandler	TokenNameIdentifier	 stream Handler
.	TokenNameDOT	
setProcessOutputStream	TokenNameIdentifier	 set Process Output Stream
(	TokenNameLPAREN	
process	TokenNameIdentifier	 process
.	TokenNameDOT	
getInputStream	TokenNameIdentifier	 get Input Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
streamHandler	TokenNameIdentifier	 stream Handler
.	TokenNameDOT	
setProcessErrorStream	TokenNameIdentifier	 set Process Error Stream
(	TokenNameLPAREN	
process	TokenNameIdentifier	 process
.	TokenNameDOT	
getErrorStream	TokenNameIdentifier	 get Error Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
process	TokenNameIdentifier	 process
.	TokenNameDOT	
destroy	TokenNameIdentifier	 destroy
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
throw	TokenNamethrow	
e	TokenNameIdentifier	 e
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
streamHandler	TokenNameIdentifier	 stream Handler
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
// add the process to the list of those to destroy if the VM exits 	TokenNameCOMMENT_LINE	add the process to the list of those to destroy if the VM exits 
// 	TokenNameCOMMENT_LINE	 
processDestroyer	TokenNameIdentifier	 process Destroyer
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
process	TokenNameIdentifier	 process
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
watchdog	TokenNameIdentifier	 watchdog
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
watchdog	TokenNameIdentifier	 watchdog
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
process	TokenNameIdentifier	 process
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
waitFor	TokenNameIdentifier	 wait For
(	TokenNameLPAREN	
process	TokenNameIdentifier	 process
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
watchdog	TokenNameIdentifier	 watchdog
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
watchdog	TokenNameIdentifier	 watchdog
.	TokenNameDOT	
stop	TokenNameIdentifier	 stop
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
streamHandler	TokenNameIdentifier	 stream Handler
.	TokenNameDOT	
stop	TokenNameIdentifier	 stop
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
closeStreams	TokenNameIdentifier	 close Streams
(	TokenNameLPAREN	
process	TokenNameIdentifier	 process
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
watchdog	TokenNameIdentifier	 watchdog
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
watchdog	TokenNameIdentifier	 watchdog
.	TokenNameDOT	
checkException	TokenNameIdentifier	 check Exception
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
getExitValue	TokenNameIdentifier	 get Exit Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
ThreadDeath	TokenNameIdentifier	 Thread Death
t	TokenNameIdentifier	 t
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// #31928: forcibly kill it before continuing. 	TokenNameCOMMENT_LINE	#31928: forcibly kill it before continuing. 
process	TokenNameIdentifier	 process
.	TokenNameDOT	
destroy	TokenNameIdentifier	 destroy
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
throw	TokenNamethrow	
t	TokenNameIdentifier	 t
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
// remove the process to the list of those to destroy if 	TokenNameCOMMENT_LINE	remove the process to the list of those to destroy if 
// the VM exits 	TokenNameCOMMENT_LINE	the VM exits 
// 	TokenNameCOMMENT_LINE	 
processDestroyer	TokenNameIdentifier	 process Destroyer
.	TokenNameDOT	
remove	TokenNameIdentifier	 remove
(	TokenNameLPAREN	
process	TokenNameIdentifier	 process
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Starts a process defined by the command line. * Ant will not wait for this process, nor log its output. * * @throws java.io.IOException The exception is thrown, if launching * of the subprocess failed. * @since Ant 1.6 */	TokenNameCOMMENT_JAVADOC	 Starts a process defined by the command line. Ant will not wait for this process, nor log its output. * @throws java.io.IOException The exception is thrown, if launching of the subprocess failed. @since Ant 1.6 
public	TokenNamepublic	
void	TokenNamevoid	
spawn	TokenNameIdentifier	 spawn
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
workingDirectory	TokenNameIdentifier	 working Directory
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
!	TokenNameNOT	
workingDirectory	TokenNameIdentifier	 working Directory
.	TokenNameDOT	
exists	TokenNameIdentifier	 exists
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
workingDirectory	TokenNameIdentifier	 working Directory
+	TokenNamePLUS	
" doesn't exist."	TokenNameStringLiteral	 doesn't exist.
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
final	TokenNamefinal	
Process	TokenNameIdentifier	 Process
process	TokenNameIdentifier	 process
=	TokenNameEQUAL	
launch	TokenNameIdentifier	 launch
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
getCommandline	TokenNameIdentifier	 get Commandline
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
getEnvironment	TokenNameIdentifier	 get Environment
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
workingDirectory	TokenNameIdentifier	 working Directory
,	TokenNameCOMMA	
useVMLauncher	TokenNameIdentifier	 use VM Launcher
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"windows"	TokenNameStringLiteral	windows
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
Thread	TokenNameIdentifier	 Thread
.	TokenNameDOT	
sleep	TokenNameIdentifier	 sleep
(	TokenNameLPAREN	
ONE_SECOND	TokenNameIdentifier	 ONE  SECOND
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
InterruptedException	TokenNameIdentifier	 Interrupted Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
project	TokenNameIdentifier	 project
.	TokenNameDOT	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"interruption in the sleep after having spawned a"	TokenNameStringLiteral	interruption in the sleep after having spawned a
+	TokenNamePLUS	
" process"	TokenNameStringLiteral	 process
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
OutputStream	TokenNameIdentifier	 Output Stream
dummyOut	TokenNameIdentifier	 dummy Out
=	TokenNameEQUAL	
new	TokenNamenew	
OutputStream	TokenNameIdentifier	 Output Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
int	TokenNameint	
b	TokenNameIdentifier	 b
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
// Method intended to swallow whatever comes at it 	TokenNameCOMMENT_LINE	Method intended to swallow whatever comes at it 
}	TokenNameRBRACE	
}	TokenNameRBRACE	
;	TokenNameSEMICOLON	
ExecuteStreamHandler	TokenNameIdentifier	 Execute Stream Handler
handler	TokenNameIdentifier	 handler
=	TokenNameEQUAL	
new	TokenNamenew	
PumpStreamHandler	TokenNameIdentifier	 Pump Stream Handler
(	TokenNameLPAREN	
dummyOut	TokenNameIdentifier	 dummy Out
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
handler	TokenNameIdentifier	 handler
.	TokenNameDOT	
setProcessErrorStream	TokenNameIdentifier	 set Process Error Stream
(	TokenNameLPAREN	
process	TokenNameIdentifier	 process
.	TokenNameDOT	
getErrorStream	TokenNameIdentifier	 get Error Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
handler	TokenNameIdentifier	 handler
.	TokenNameDOT	
setProcessOutputStream	TokenNameIdentifier	 set Process Output Stream
(	TokenNameLPAREN	
process	TokenNameIdentifier	 process
.	TokenNameDOT	
getInputStream	TokenNameIdentifier	 get Input Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
handler	TokenNameIdentifier	 handler
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
process	TokenNameIdentifier	 process
.	TokenNameDOT	
getOutputStream	TokenNameIdentifier	 get Output Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
project	TokenNameIdentifier	 project
.	TokenNameDOT	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"spawned process "	TokenNameStringLiteral	spawned process 
+	TokenNamePLUS	
process	TokenNameIdentifier	 process
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Wait for a given process. * * @param process the process one wants to wait for. */	TokenNameCOMMENT_JAVADOC	 Wait for a given process. * @param process the process one wants to wait for. 
protected	TokenNameprotected	
void	TokenNamevoid	
waitFor	TokenNameIdentifier	 wait For
(	TokenNameLPAREN	
Process	TokenNameIdentifier	 Process
process	TokenNameIdentifier	 process
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
process	TokenNameIdentifier	 process
.	TokenNameDOT	
waitFor	TokenNameIdentifier	 wait For
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
setExitValue	TokenNameIdentifier	 set Exit Value
(	TokenNameLPAREN	
process	TokenNameIdentifier	 process
.	TokenNameDOT	
exitValue	TokenNameIdentifier	 exit Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
InterruptedException	TokenNameIdentifier	 Interrupted Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
process	TokenNameIdentifier	 process
.	TokenNameDOT	
destroy	TokenNameIdentifier	 destroy
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Set the exit value. * * @param value exit value of the process. */	TokenNameCOMMENT_JAVADOC	 Set the exit value. * @param value exit value of the process. 
protected	TokenNameprotected	
void	TokenNamevoid	
setExitValue	TokenNameIdentifier	 set Exit Value
(	TokenNameLPAREN	
int	TokenNameint	
value	TokenNameIdentifier	 value
)	TokenNameRPAREN	
{	TokenNameLBRACE	
exitValue	TokenNameIdentifier	 exit Value
=	TokenNameEQUAL	
value	TokenNameIdentifier	 value
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Query the exit value of the process. * @return the exit value or Execute.INVALID if no exit value has * been received. */	TokenNameCOMMENT_JAVADOC	 Query the exit value of the process. @return the exit value or Execute.INVALID if no exit value has been received. 
public	TokenNamepublic	
int	TokenNameint	
getExitValue	TokenNameIdentifier	 get Exit Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
exitValue	TokenNameIdentifier	 exit Value
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Checks whether <code>exitValue</code> signals a failure on the current * system (OS specific). * * <p><b>Note</b> that this method relies on the conventions of * the OS, it will return false results if the application you are * running doesn't follow these conventions. One notable * exception is the Java VM provided by HP for OpenVMS - it will * return 0 if successful (like on any other platform), but this * signals a failure on OpenVMS. So if you execute a new Java VM * on OpenVMS, you cannot trust this method.</p> * * @param exitValue the exit value (return code) to be checked. * @return <code>true</code> if <code>exitValue</code> signals a failure. */	TokenNameCOMMENT_JAVADOC	 Checks whether <code>exitValue</code> signals a failure on the current system (OS specific). * <p><b>Note</b> that this method relies on the conventions of the OS, it will return false results if the application you are running doesn't follow these conventions. One notable exception is the Java VM provided by HP for OpenVMS - it will return 0 if successful (like on any other platform), but this signals a failure on OpenVMS. So if you execute a new Java VM on OpenVMS, you cannot trust this method.</p> * @param exitValue the exit value (return code) to be checked. @return <code>true</code> if <code>exitValue</code> signals a failure. 
public	TokenNamepublic	
static	TokenNamestatic	
boolean	TokenNameboolean	
isFailure	TokenNameIdentifier	 is Failure
(	TokenNameLPAREN	
int	TokenNameint	
exitValue	TokenNameIdentifier	 exit Value
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//on openvms even exit value signals failure; 	TokenNameCOMMENT_LINE	on openvms even exit value signals failure; 
// for other platforms nonzero exit value signals failure 	TokenNameCOMMENT_LINE	for other platforms nonzero exit value signals failure 
return	TokenNamereturn	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"openvms"	TokenNameStringLiteral	openvms
)	TokenNameRPAREN	
?	TokenNameQUESTION	
(	TokenNameLPAREN	
exitValue	TokenNameIdentifier	 exit Value
%	TokenNameREMAINDER	
2	TokenNameIntegerLiteral	
==	TokenNameEQUAL_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
:	TokenNameCOLON	
(	TokenNameLPAREN	
exitValue	TokenNameIdentifier	 exit Value
!=	TokenNameNOT_EQUAL	
0	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Did this execute return in a failure. * @see #isFailure(int) * @return true if and only if the exit code is interpreted as a failure * @since Ant1.7 */	TokenNameCOMMENT_JAVADOC	 Did this execute return in a failure. @see #isFailure(int) @return true if and only if the exit code is interpreted as a failure @since Ant1.7 
public	TokenNamepublic	
boolean	TokenNameboolean	
isFailure	TokenNameIdentifier	 is Failure
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
isFailure	TokenNameIdentifier	 is Failure
(	TokenNameLPAREN	
getExitValue	TokenNameIdentifier	 get Exit Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Test for an untimely death of the process. * @return true if a watchdog had to kill the process. * @since Ant 1.5 */	TokenNameCOMMENT_JAVADOC	 Test for an untimely death of the process. @return true if a watchdog had to kill the process. @since Ant 1.5 
public	TokenNamepublic	
boolean	TokenNameboolean	
killedProcess	TokenNameIdentifier	 killed Process
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
watchdog	TokenNameIdentifier	 watchdog
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
watchdog	TokenNameIdentifier	 watchdog
.	TokenNameDOT	
killedProcess	TokenNameIdentifier	 killed Process
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Patch the current environment with the new values from the user. * @return the patched environment. */	TokenNameCOMMENT_JAVADOC	 Patch the current environment with the new values from the user. @return the patched environment. 
private	TokenNameprivate	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
patchEnvironment	TokenNameIdentifier	 patch Environment
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// On OpenVMS Runtime#exec() doesn't support the environment array, 	TokenNameCOMMENT_LINE	On OpenVMS Runtime#exec() doesn't support the environment array, 
// so we only return the new values which then will be set in 	TokenNameCOMMENT_LINE	so we only return the new values which then will be set in 
// the generated DCL script, inheriting the parent process environment 	TokenNameCOMMENT_LINE	the generated DCL script, inheriting the parent process environment 
if	TokenNameif	
(	TokenNameLPAREN	
Os	TokenNameIdentifier	 Os
.	TokenNameDOT	
isFamily	TokenNameIdentifier	 is Family
(	TokenNameLPAREN	
"openvms"	TokenNameStringLiteral	openvms
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
env	TokenNameIdentifier	 env
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
Map	TokenNameIdentifier	 Map
/*<String, String>*/	TokenNameCOMMENT_BLOCK	<String, String>
osEnv	TokenNameIdentifier	 os Env
=	TokenNameEQUAL	
new	TokenNamenew	
LinkedHashMap	TokenNameIdentifier	 Linked Hash Map
(	TokenNameLPAREN	
getEnvironmentVariables	TokenNameIdentifier	 get Environment Variables
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
env	TokenNameIdentifier	 env
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
keyValue	TokenNameIdentifier	 key Value
=	TokenNameEQUAL	
env	TokenNameIdentifier	 env
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
key	TokenNameIdentifier	 key
=	TokenNameEQUAL	
keyValue	TokenNameIdentifier	 key Value
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
keyValue	TokenNameIdentifier	 key Value
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
'='	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Find the key in the current enviroment copy 	TokenNameCOMMENT_LINE	Find the key in the current enviroment copy 
// and remove it. 	TokenNameCOMMENT_LINE	and remove it. 
// Try without changing case first 	TokenNameCOMMENT_LINE	Try without changing case first 
if	TokenNameif	
(	TokenNameLPAREN	
osEnv	TokenNameIdentifier	 os Env
.	TokenNameDOT	
remove	TokenNameIdentifier	 remove
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
)	TokenNameRPAREN	
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
&&	TokenNameAND_AND	
environmentCaseInSensitive	TokenNameIdentifier	 environment Case In Sensitive
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// not found, maybe perform a case insensitive search 	TokenNameCOMMENT_LINE	not found, maybe perform a case insensitive search 
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
it	TokenNameIdentifier	 it
=	TokenNameEQUAL	
osEnv	TokenNameIdentifier	 os Env
.	TokenNameDOT	
keySet	TokenNameIdentifier	 key Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
it	TokenNameIdentifier	 it
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
String	TokenNameIdentifier	 String
osEnvItem	TokenNameIdentifier	 os Env Item
=	TokenNameEQUAL	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
)	TokenNameRPAREN	
it	TokenNameIdentifier	 it
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Nb: using default locale as key is a env name 	TokenNameCOMMENT_LINE	Nb: using default locale as key is a env name 
if	TokenNameif	
(	TokenNameLPAREN	
osEnvItem	TokenNameIdentifier	 os Env Item
.	TokenNameDOT	
toLowerCase	TokenNameIdentifier	 to Lower Case
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
equals	TokenNameIdentifier	 equals
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
.	TokenNameDOT	
toLowerCase	TokenNameIdentifier	 to Lower Case
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// Use the original casiness of the key 	TokenNameCOMMENT_LINE	Use the original casiness of the key 
key	TokenNameIdentifier	 key
=	TokenNameEQUAL	
osEnvItem	TokenNameIdentifier	 os Env Item
;	TokenNameSEMICOLON	
break	TokenNamebreak	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Add the key to the enviromnent copy 	TokenNameCOMMENT_LINE	Add the key to the enviromnent copy 
osEnv	TokenNameIdentifier	 os Env
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
,	TokenNameCOMMA	
keyValue	TokenNameIdentifier	 key Value
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
key	TokenNameIdentifier	 key
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
ArrayList	TokenNameIdentifier	 Array List
l	TokenNameIdentifier	 l
=	TokenNameEQUAL	
new	TokenNamenew	
ArrayList	TokenNameIdentifier	 Array List
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
Iterator	TokenNameIdentifier	 Iterator
it	TokenNameIdentifier	 it
=	TokenNameEQUAL	
osEnv	TokenNameIdentifier	 os Env
.	TokenNameDOT	
entrySet	TokenNameIdentifier	 entry Set
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
iterator	TokenNameIdentifier	 iterator
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
it	TokenNameIdentifier	 it
.	TokenNameDOT	
hasNext	TokenNameIdentifier	 has Next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
Map	TokenNameIdentifier	 Map
.	TokenNameDOT	
Entry	TokenNameIdentifier	 Entry
entry	TokenNameIdentifier	 entry
=	TokenNameEQUAL	
(	TokenNameLPAREN	
Map	TokenNameIdentifier	 Map
.	TokenNameDOT	
Entry	TokenNameIdentifier	 Entry
)	TokenNameRPAREN	
it	TokenNameIdentifier	 it
.	TokenNameDOT	
next	TokenNameIdentifier	 next
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
l	TokenNameIdentifier	 l
.	TokenNameDOT	
add	TokenNameIdentifier	 add
(	TokenNameLPAREN	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getKey	TokenNameIdentifier	 get Key
(	TokenNameLPAREN	
)	TokenNameRPAREN	
+	TokenNamePLUS	
"="	TokenNameStringLiteral	=
+	TokenNamePLUS	
entry	TokenNameIdentifier	 entry
.	TokenNameDOT	
getValue	TokenNameIdentifier	 get Value
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
(	TokenNameLPAREN	
l	TokenNameIdentifier	 l
.	TokenNameDOT	
toArray	TokenNameIdentifier	 to Array
(	TokenNameLPAREN	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
osEnv	TokenNameIdentifier	 os Env
.	TokenNameDOT	
size	TokenNameIdentifier	 size
(	TokenNameLPAREN	
)	TokenNameRPAREN	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * A utility method that runs an external command. Writes the output and * error streams of the command to the project log. * * @param task The task that the command is part of. Used for logging * @param cmdline The command to execute. * * @throws BuildException if the command does not exit successfully. */	TokenNameCOMMENT_JAVADOC	 A utility method that runs an external command. Writes the output and error streams of the command to the project log. * @param task The task that the command is part of. Used for logging @param cmdline The command to execute. * @throws BuildException if the command does not exit successfully. 
public	TokenNamepublic	
static	TokenNamestatic	
void	TokenNamevoid	
runCommand	TokenNameIdentifier	 run Command
(	TokenNameLPAREN	
Task	TokenNameIdentifier	 Task
task	TokenNameIdentifier	 task
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
cmdline	TokenNameIdentifier	 cmdline
)	TokenNameRPAREN	
throws	TokenNamethrows	
BuildException	TokenNameIdentifier	 Build Exception
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
task	TokenNameIdentifier	 task
.	TokenNameDOT	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
Commandline	TokenNameIdentifier	 Commandline
.	TokenNameDOT	
describeCommand	TokenNameIdentifier	 describe Command
(	TokenNameLPAREN	
cmdline	TokenNameIdentifier	 cmdline
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_VERBOSE	TokenNameIdentifier	 MSG  VERBOSE
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Execute	TokenNameIdentifier	 Execute
exe	TokenNameIdentifier	 exe
=	TokenNameEQUAL	
new	TokenNamenew	
Execute	TokenNameIdentifier	 Execute
(	TokenNameLPAREN	
new	TokenNamenew	
LogStreamHandler	TokenNameIdentifier	 Log Stream Handler
(	TokenNameLPAREN	
task	TokenNameIdentifier	 task
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_INFO	TokenNameIdentifier	 MSG  INFO
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_ERR	TokenNameIdentifier	 MSG  ERR
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
exe	TokenNameIdentifier	 exe
.	TokenNameDOT	
setAntRun	TokenNameIdentifier	 set Ant Run
(	TokenNameLPAREN	
task	TokenNameIdentifier	 task
.	TokenNameDOT	
getProject	TokenNameIdentifier	 get Project
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
exe	TokenNameIdentifier	 exe
.	TokenNameDOT	
setCommandline	TokenNameIdentifier	 set Commandline
(	TokenNameLPAREN	
cmdline	TokenNameIdentifier	 cmdline
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
int	TokenNameint	
retval	TokenNameIdentifier	 retval
=	TokenNameEQUAL	
exe	TokenNameIdentifier	 exe
.	TokenNameDOT	
execute	TokenNameIdentifier	 execute
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
isFailure	TokenNameIdentifier	 is Failure
(	TokenNameLPAREN	
retval	TokenNameIdentifier	 retval
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
cmdline	TokenNameIdentifier	 cmdline
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
+	TokenNamePLUS	
" failed with return code "	TokenNameStringLiteral	 failed with return code 
+	TokenNamePLUS	
retval	TokenNameIdentifier	 retval
,	TokenNameCOMMA	
task	TokenNameIdentifier	 task
.	TokenNameDOT	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
java	TokenNameIdentifier	 java
.	TokenNameDOT	
io	TokenNameIdentifier	 io
.	TokenNameDOT	
IOException	TokenNameIdentifier	 IO Exception
exc	TokenNameIdentifier	 exc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"Could not launch "	TokenNameStringLiteral	Could not launch 
+	TokenNamePLUS	
cmdline	TokenNameIdentifier	 cmdline
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
+	TokenNamePLUS	
": "	TokenNameStringLiteral	: 
+	TokenNamePLUS	
exc	TokenNameIdentifier	 exc
,	TokenNameCOMMA	
task	TokenNameIdentifier	 task
.	TokenNameDOT	
getLocation	TokenNameIdentifier	 get Location
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * Close the streams belonging to the given Process. * @param process the <code>Process</code>. */	TokenNameCOMMENT_JAVADOC	 Close the streams belonging to the given Process. @param process the <code>Process</code>. 
public	TokenNamepublic	
static	TokenNamestatic	
void	TokenNamevoid	
closeStreams	TokenNameIdentifier	 close Streams
(	TokenNameLPAREN	
Process	TokenNameIdentifier	 Process
process	TokenNameIdentifier	 process
)	TokenNameRPAREN	
{	TokenNameLBRACE	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
process	TokenNameIdentifier	 process
.	TokenNameDOT	
getInputStream	TokenNameIdentifier	 get Input Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
process	TokenNameIdentifier	 process
.	TokenNameDOT	
getOutputStream	TokenNameIdentifier	 get Output Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
process	TokenNameIdentifier	 process
.	TokenNameDOT	
getErrorStream	TokenNameIdentifier	 get Error Stream
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * This method is VMS specific and used by getEnvironmentVariables(). * * Parses VMS logicals from <code>in</code> and returns them as a Map. * <code>in</code> is expected to be the * output of "SHOW LOGICAL". The method takes care of parsing the output * correctly as well as making sure that a logical defined in multiple * tables only gets added from the highest order table. Logicals with * multiple equivalence names are mapped to a variable with multiple * values separated by a comma (,). */	TokenNameCOMMENT_JAVADOC	 This method is VMS specific and used by getEnvironmentVariables(). * Parses VMS logicals from <code>in</code> and returns them as a Map. <code>in</code> is expected to be the output of "SHOW LOGICAL". The method takes care of parsing the output correctly as well as making sure that a logical defined in multiple tables only gets added from the highest order table. Logicals with multiple equivalence names are mapped to a variable with multiple values separated by a comma (,). 
private	TokenNameprivate	
static	TokenNamestatic	
Map	TokenNameIdentifier	 Map
getVMSLogicals	TokenNameIdentifier	 get VMS Logicals
(	TokenNameLPAREN	
BufferedReader	TokenNameIdentifier	 Buffered Reader
in	TokenNameIdentifier	 in
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
HashMap	TokenNameIdentifier	 Hash Map
logicals	TokenNameIdentifier	 logicals
=	TokenNameEQUAL	
new	TokenNamenew	
HashMap	TokenNameIdentifier	 Hash Map
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
logName	TokenNameIdentifier	 log Name
=	TokenNameEQUAL	
null	TokenNamenull	
,	TokenNameCOMMA	
logValue	TokenNameIdentifier	 log Value
=	TokenNameEQUAL	
null	TokenNamenull	
,	TokenNameCOMMA	
newLogName	TokenNameIdentifier	 new Log Name
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
line	TokenNameIdentifier	 line
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
// CheckStyle:MagicNumber OFF 	TokenNameCOMMENT_LINE	CheckStyle:MagicNumber OFF 
while	TokenNamewhile	
(	TokenNameLPAREN	
(	TokenNameLPAREN	
line	TokenNameIdentifier	 line
=	TokenNameEQUAL	
in	TokenNameIdentifier	 in
.	TokenNameDOT	
readLine	TokenNameIdentifier	 read Line
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// parse the VMS logicals into required format ("VAR=VAL[,VAL2]") 	TokenNameCOMMENT_LINE	parse the VMS logicals into required format ("VAR=VAL[,VAL2]") 
if	TokenNameif	
(	TokenNameLPAREN	
line	TokenNameIdentifier	 line
.	TokenNameDOT	
startsWith	TokenNameIdentifier	 starts With
(	TokenNameLPAREN	
" ="	TokenNameStringLiteral	 =
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// further equivalence name of previous logical 	TokenNameCOMMENT_LINE	further equivalence name of previous logical 
if	TokenNameif	
(	TokenNameLPAREN	
logName	TokenNameIdentifier	 log Name
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
logValue	TokenNameIdentifier	 log Value
+=	TokenNamePLUS_EQUAL	
","	TokenNameStringLiteral	,
+	TokenNamePLUS	
line	TokenNameIdentifier	 line
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
4	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
line	TokenNameIdentifier	 line
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
else	TokenNameelse	
if	TokenNameif	
(	TokenNameLPAREN	
line	TokenNameIdentifier	 line
.	TokenNameDOT	
startsWith	TokenNameIdentifier	 starts With
(	TokenNameLPAREN	
" ""	TokenNameStringLiteral	 "
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// new logical? 	TokenNameCOMMENT_LINE	new logical? 
if	TokenNameif	
(	TokenNameLPAREN	
logName	TokenNameIdentifier	 log Name
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
logicals	TokenNameIdentifier	 logicals
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
logName	TokenNameIdentifier	 log Name
,	TokenNameCOMMA	
logValue	TokenNameIdentifier	 log Value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
int	TokenNameint	
eqIndex	TokenNameIdentifier	 eq Index
=	TokenNameEQUAL	
line	TokenNameIdentifier	 line
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
'='	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
newLogName	TokenNameIdentifier	 new Log Name
=	TokenNameEQUAL	
line	TokenNameIdentifier	 line
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
eqIndex	TokenNameIdentifier	 eq Index
-	TokenNameMINUS	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
logicals	TokenNameIdentifier	 logicals
.	TokenNameDOT	
containsKey	TokenNameIdentifier	 contains Key
(	TokenNameLPAREN	
newLogName	TokenNameIdentifier	 new Log Name
)	TokenNameRPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// already got this logical from a higher order table 	TokenNameCOMMENT_LINE	already got this logical from a higher order table 
logName	TokenNameIdentifier	 log Name
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
logName	TokenNameIdentifier	 log Name
=	TokenNameEQUAL	
newLogName	TokenNameIdentifier	 new Log Name
;	TokenNameSEMICOLON	
logValue	TokenNameIdentifier	 log Value
=	TokenNameEQUAL	
line	TokenNameIdentifier	 line
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
eqIndex	TokenNameIdentifier	 eq Index
+	TokenNamePLUS	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
line	TokenNameIdentifier	 line
.	TokenNameDOT	
length	TokenNameIdentifier	 length
(	TokenNameLPAREN	
)	TokenNameRPAREN	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// CheckStyle:MagicNumber ON 	TokenNameCOMMENT_LINE	CheckStyle:MagicNumber ON 
// Since we "look ahead" before adding, there's one last env var. 	TokenNameCOMMENT_LINE	Since we "look ahead" before adding, there's one last env var. 
if	TokenNameif	
(	TokenNameLPAREN	
logName	TokenNameIdentifier	 log Name
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
logicals	TokenNameIdentifier	 logicals
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
logName	TokenNameIdentifier	 log Name
,	TokenNameCOMMA	
logValue	TokenNameIdentifier	 log Value
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
logicals	TokenNameIdentifier	 logicals
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * A command launcher for a particular JVM/OS platform. This class is * a general purpose command launcher which can only launch commands in * the current working directory. */	TokenNameCOMMENT_JAVADOC	 A command launcher for a particular JVM/OS platform. This class is a general purpose command launcher which can only launch commands in the current working directory. 
private	TokenNameprivate	
static	TokenNamestatic	
class	TokenNameclass	
CommandLauncher	TokenNameIdentifier	 Command Launcher
{	TokenNameLBRACE	
/** * Launches the given command in a new process. * * @param project The project that the command is part of. * @param cmd The command to execute. * @param env The environment for the new process. If null, * the environment of the current process is used. * @return the created Process. * @throws IOException if attempting to run a command in a * specific directory. */	TokenNameCOMMENT_JAVADOC	 Launches the given command in a new process. * @param project The project that the command is part of. @param cmd The command to execute. @param env The environment for the new process. If null, the environment of the current process is used. @return the created Process. @throws IOException if attempting to run a command in a specific directory. 
public	TokenNamepublic	
Process	TokenNameIdentifier	 Process
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
Project	TokenNameIdentifier	 Project
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
project	TokenNameIdentifier	 project
.	TokenNameDOT	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Execute:CommandLauncher: "	TokenNameStringLiteral	Execute:CommandLauncher: 
+	TokenNamePLUS	
Commandline	TokenNameIdentifier	 Commandline
.	TokenNameDOT	
describeCommand	TokenNameIdentifier	 describe Command
(	TokenNameLPAREN	
cmd	TokenNameIdentifier	 cmd
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_DEBUG	TokenNameIdentifier	 MSG  DEBUG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
Runtime	TokenNameIdentifier	 Runtime
.	TokenNameDOT	
getRuntime	TokenNameIdentifier	 get Runtime
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Launches the given command in a new process, in the given working * directory. * * @param project The project that the command is part of. * @param cmd The command to execute. * @param env The environment for the new process. If null, * the environment of the current process is used. * @param workingDir The directory to start the command in. If null, * the current directory is used. * @return the created Process. * @throws IOException if trying to change directory. */	TokenNameCOMMENT_JAVADOC	 Launches the given command in a new process, in the given working directory. * @param project The project that the command is part of. @param cmd The command to execute. @param env The environment for the new process. If null, the environment of the current process is used. @param workingDir The directory to start the command in. If null, the current directory is used. @return the created Process. @throws IOException if trying to change directory. 
public	TokenNamepublic	
Process	TokenNameIdentifier	 Process
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
Project	TokenNameIdentifier	 Project
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
env	TokenNameIdentifier	 env
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
workingDir	TokenNameIdentifier	 working Dir
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
workingDir	TokenNameIdentifier	 working Dir
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
IOException	TokenNameIdentifier	 IO Exception
(	TokenNameLPAREN	
"Cannot execute a process in different "	TokenNameStringLiteral	Cannot execute a process in different 
+	TokenNamePLUS	
"directory under this JVM"	TokenNameStringLiteral	directory under this JVM
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * A command launcher for JDK/JRE 1.3 (and higher). Uses the built-in * Runtime.exec() command. */	TokenNameCOMMENT_JAVADOC	 A command launcher for JDK/JRE 1.3 (and higher). Uses the built-in Runtime.exec() command. 
private	TokenNameprivate	
static	TokenNamestatic	
class	TokenNameclass	
Java13CommandLauncher	TokenNameIdentifier	 Java13 Command Launcher
extends	TokenNameextends	
CommandLauncher	TokenNameIdentifier	 Command Launcher
{	TokenNameLBRACE	
public	TokenNamepublic	
Java13CommandLauncher	TokenNameIdentifier	 Java13 Command Launcher
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
NoSuchMethodException	TokenNameIdentifier	 No Such Method Exception
{	TokenNameLBRACE	
// Used to verify if Java13 is available, is prerequisite in ant 1.8 	TokenNameCOMMENT_LINE	Used to verify if Java13 is available, is prerequisite in ant 1.8 
}	TokenNameRBRACE	
/** * Launches the given command in a new process, in the given working * directory. * @param project the Ant project. * @param cmd the command line to execute as an array of strings. * @param env the environment to set as an array of strings. * @param workingDir the working directory where the command * should run. * @return the created Process. * @throws IOException probably forwarded from Runtime#exec. */	TokenNameCOMMENT_JAVADOC	 Launches the given command in a new process, in the given working directory. @param project the Ant project. @param cmd the command line to execute as an array of strings. @param env the environment to set as an array of strings. @param workingDir the working directory where the command should run. @return the created Process. @throws IOException probably forwarded from Runtime#exec. 
public	TokenNamepublic	
Process	TokenNameIdentifier	 Process
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
Project	TokenNameIdentifier	 Project
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
env	TokenNameIdentifier	 env
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
workingDir	TokenNameIdentifier	 working Dir
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
project	TokenNameIdentifier	 project
.	TokenNameDOT	
log	TokenNameIdentifier	 log
(	TokenNameLPAREN	
"Execute:Java13CommandLauncher: "	TokenNameStringLiteral	Execute:Java13CommandLauncher: 
+	TokenNamePLUS	
Commandline	TokenNameIdentifier	 Commandline
.	TokenNameDOT	
describeCommand	TokenNameIdentifier	 describe Command
(	TokenNameLPAREN	
cmd	TokenNameIdentifier	 cmd
)	TokenNameRPAREN	
,	TokenNameCOMMA	
Project	TokenNameIdentifier	 Project
.	TokenNameDOT	
MSG_DEBUG	TokenNameIdentifier	 MSG  DEBUG
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
Runtime	TokenNameIdentifier	 Runtime
.	TokenNameDOT	
getRuntime	TokenNameIdentifier	 get Runtime
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
,	TokenNameCOMMA	
workingDir	TokenNameIdentifier	 working Dir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
IOException	TokenNameIdentifier	 IO Exception
ioex	TokenNameIdentifier	 ioex
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
ioex	TokenNameIdentifier	 ioex
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
Exception	TokenNameIdentifier	 Exception
exc	TokenNameIdentifier	 exc
)	TokenNameRPAREN	
{	TokenNameLBRACE	
// IllegalAccess, IllegalArgument, ClassCast 	TokenNameCOMMENT_LINE	IllegalAccess, IllegalArgument, ClassCast 
throw	TokenNamethrow	
new	TokenNamenew	
BuildException	TokenNameIdentifier	 Build Exception
(	TokenNameLPAREN	
"Unable to execute command"	TokenNameStringLiteral	Unable to execute command
,	TokenNameCOMMA	
exc	TokenNameIdentifier	 exc
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * A command launcher that proxies another command launcher. * * Sub-classes override exec(args, env, workdir). */	TokenNameCOMMENT_JAVADOC	 A command launcher that proxies another command launcher. * Sub-classes override exec(args, env, workdir). 
private	TokenNameprivate	
static	TokenNamestatic	
class	TokenNameclass	
CommandLauncherProxy	TokenNameIdentifier	 Command Launcher Proxy
extends	TokenNameextends	
CommandLauncher	TokenNameIdentifier	 Command Launcher
{	TokenNameLBRACE	
private	TokenNameprivate	
CommandLauncher	TokenNameIdentifier	 Command Launcher
myLauncher	TokenNameIdentifier	 my Launcher
;	TokenNameSEMICOLON	
CommandLauncherProxy	TokenNameIdentifier	 Command Launcher Proxy
(	TokenNameLPAREN	
CommandLauncher	TokenNameIdentifier	 Command Launcher
launcher	TokenNameIdentifier	 launcher
)	TokenNameRPAREN	
{	TokenNameLBRACE	
myLauncher	TokenNameIdentifier	 my Launcher
=	TokenNameEQUAL	
launcher	TokenNameIdentifier	 launcher
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Launches the given command in a new process. Delegates this * method to the proxied launcher. * @param project the Ant project. * @param cmd the command line to execute as an array of strings. * @param env the environment to set as an array of strings. * @return the created Process. * @throws IOException forwarded from the exec method of the * command launcher. */	TokenNameCOMMENT_JAVADOC	 Launches the given command in a new process. Delegates this method to the proxied launcher. @param project the Ant project. @param cmd the command line to execute as an array of strings. @param env the environment to set as an array of strings. @return the created Process. @throws IOException forwarded from the exec method of the command launcher. 
public	TokenNamepublic	
Process	TokenNameIdentifier	 Process
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
Project	TokenNameIdentifier	 Project
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
return	TokenNamereturn	
myLauncher	TokenNameIdentifier	 my Launcher
.	TokenNameDOT	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * A command launcher for OS/2 that uses 'cmd.exe' when launching * commands in directories other than the current working * directory. * * <p>Unlike Windows NT and friends, OS/2's cd doesn't support the * /d switch to change drives and directories in one go.</p> */	TokenNameCOMMENT_JAVADOC	 A command launcher for OS/2 that uses 'cmd.exe' when launching commands in directories other than the current working directory. * <p>Unlike Windows NT and friends, OS/2's cd doesn't support the /d switch to change drives and directories in one go.</p> 
private	TokenNameprivate	
static	TokenNamestatic	
class	TokenNameclass	
OS2CommandLauncher	TokenNameIdentifier	 O S2 Command Launcher
extends	TokenNameextends	
CommandLauncherProxy	TokenNameIdentifier	 Command Launcher Proxy
{	TokenNameLBRACE	
OS2CommandLauncher	TokenNameIdentifier	 O S2 Command Launcher
(	TokenNameLPAREN	
CommandLauncher	TokenNameIdentifier	 Command Launcher
launcher	TokenNameIdentifier	 launcher
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
launcher	TokenNameIdentifier	 launcher
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Launches the given command in a new process, in the given working * directory. * @param project the Ant project. * @param cmd the command line to execute as an array of strings. * @param env the environment to set as an array of strings. * @param workingDir working directory where the command should run. * @return the created Process. * @throws IOException forwarded from the exec method of the * command launcher. */	TokenNameCOMMENT_JAVADOC	 Launches the given command in a new process, in the given working directory. @param project the Ant project. @param cmd the command line to execute as an array of strings. @param env the environment to set as an array of strings. @param workingDir working directory where the command should run. @return the created Process. @throws IOException forwarded from the exec method of the command launcher. 
public	TokenNamepublic	
Process	TokenNameIdentifier	 Process
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
Project	TokenNameIdentifier	 Project
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
env	TokenNameIdentifier	 env
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
workingDir	TokenNameIdentifier	 working Dir
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
File	TokenNameIdentifier	 File
commandDir	TokenNameIdentifier	 command Dir
=	TokenNameEQUAL	
workingDir	TokenNameIdentifier	 working Dir
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
workingDir	TokenNameIdentifier	 working Dir
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
commandDir	TokenNameIdentifier	 command Dir
=	TokenNameEQUAL	
project	TokenNameIdentifier	 project
.	TokenNameDOT	
getBaseDir	TokenNameIdentifier	 get Base Dir
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
return	TokenNamereturn	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Use cmd.exe to change to the specified drive and 	TokenNameCOMMENT_LINE	Use cmd.exe to change to the specified drive and 
// directory before running the command 	TokenNameCOMMENT_LINE	directory before running the command 
final	TokenNamefinal	
int	TokenNameint	
preCmdLength	TokenNameIdentifier	 pre Cmd Length
=	TokenNameEQUAL	
7	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
final	TokenNamefinal	
String	TokenNameIdentifier	 String
cmdDir	TokenNameIdentifier	 cmd Dir
=	TokenNameEQUAL	
commandDir	TokenNameIdentifier	 command Dir
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
newcmd	TokenNameIdentifier	 newcmd
=	TokenNameEQUAL	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
cmd	TokenNameIdentifier	 cmd
.	TokenNameDOT	
length	TokenNameIdentifier	 length
+	TokenNamePLUS	
preCmdLength	TokenNameIdentifier	 pre Cmd Length
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// CheckStyle:MagicNumber OFF - do not bother 	TokenNameCOMMENT_LINE	CheckStyle:MagicNumber OFF - do not bother 
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
"cmd"	TokenNameStringLiteral	cmd
;	TokenNameSEMICOLON	
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
"/c"	TokenNameStringLiteral	/c
;	TokenNameSEMICOLON	
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
cmdDir	TokenNameIdentifier	 cmd Dir
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
3	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
"&&"	TokenNameStringLiteral	&&
;	TokenNameSEMICOLON	
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
4	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
"cd"	TokenNameStringLiteral	cd
;	TokenNameSEMICOLON	
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
5	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
cmdDir	TokenNameIdentifier	 cmd Dir
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
2	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
6	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
"&&"	TokenNameStringLiteral	&&
;	TokenNameSEMICOLON	
// CheckStyle:MagicNumber ON 	TokenNameCOMMENT_LINE	CheckStyle:MagicNumber ON 
System	TokenNameIdentifier	 System
.	TokenNameDOT	
arraycopy	TokenNameIdentifier	 arraycopy
(	TokenNameLPAREN	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
newcmd	TokenNameIdentifier	 newcmd
,	TokenNameCOMMA	
preCmdLength	TokenNameIdentifier	 pre Cmd Length
,	TokenNameCOMMA	
cmd	TokenNameIdentifier	 cmd
.	TokenNameDOT	
length	TokenNameIdentifier	 length
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
newcmd	TokenNameIdentifier	 newcmd
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * A command launcher for Windows XP/2000/NT that uses 'cmd.exe' when * launching commands in directories other than the current working * directory. */	TokenNameCOMMENT_JAVADOC	 A command launcher for Windows XP/2000/NT that uses 'cmd.exe' when launching commands in directories other than the current working directory. 
private	TokenNameprivate	
static	TokenNamestatic	
class	TokenNameclass	
WinNTCommandLauncher	TokenNameIdentifier	 Win NT Command Launcher
extends	TokenNameextends	
CommandLauncherProxy	TokenNameIdentifier	 Command Launcher Proxy
{	TokenNameLBRACE	
WinNTCommandLauncher	TokenNameIdentifier	 Win NT Command Launcher
(	TokenNameLPAREN	
CommandLauncher	TokenNameIdentifier	 Command Launcher
launcher	TokenNameIdentifier	 launcher
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
launcher	TokenNameIdentifier	 launcher
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Launches the given command in a new process, in the given working * directory. * @param project the Ant project. * @param cmd the command line to execute as an array of strings. * @param env the environment to set as an array of strings. * @param workingDir working directory where the command should run. * @return the created Process. * @throws IOException forwarded from the exec method of the * command launcher. */	TokenNameCOMMENT_JAVADOC	 Launches the given command in a new process, in the given working directory. @param project the Ant project. @param cmd the command line to execute as an array of strings. @param env the environment to set as an array of strings. @param workingDir working directory where the command should run. @return the created Process. @throws IOException forwarded from the exec method of the command launcher. 
public	TokenNamepublic	
Process	TokenNameIdentifier	 Process
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
Project	TokenNameIdentifier	 Project
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
env	TokenNameIdentifier	 env
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
workingDir	TokenNameIdentifier	 working Dir
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
File	TokenNameIdentifier	 File
commandDir	TokenNameIdentifier	 command Dir
=	TokenNameEQUAL	
workingDir	TokenNameIdentifier	 working Dir
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
workingDir	TokenNameIdentifier	 working Dir
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
commandDir	TokenNameIdentifier	 command Dir
=	TokenNameEQUAL	
project	TokenNameIdentifier	 project
.	TokenNameDOT	
getBaseDir	TokenNameIdentifier	 get Base Dir
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
else	TokenNameelse	
{	TokenNameLBRACE	
return	TokenNamereturn	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
// Use cmd.exe to change to the specified directory before running 	TokenNameCOMMENT_LINE	Use cmd.exe to change to the specified directory before running 
// the command 	TokenNameCOMMENT_LINE	the command 
final	TokenNamefinal	
int	TokenNameint	
preCmdLength	TokenNameIdentifier	 pre Cmd Length
=	TokenNameEQUAL	
6	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
newcmd	TokenNameIdentifier	 newcmd
=	TokenNameEQUAL	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
cmd	TokenNameIdentifier	 cmd
.	TokenNameDOT	
length	TokenNameIdentifier	 length
+	TokenNamePLUS	
preCmdLength	TokenNameIdentifier	 pre Cmd Length
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
// CheckStyle:MagicNumber OFF - do not bother 	TokenNameCOMMENT_LINE	CheckStyle:MagicNumber OFF - do not bother 
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
"cmd"	TokenNameStringLiteral	cmd
;	TokenNameSEMICOLON	
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
"/c"	TokenNameStringLiteral	/c
;	TokenNameSEMICOLON	
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
"cd"	TokenNameStringLiteral	cd
;	TokenNameSEMICOLON	
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
3	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
"/d"	TokenNameStringLiteral	/d
;	TokenNameSEMICOLON	
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
4	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
commandDir	TokenNameIdentifier	 command Dir
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
5	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
"&&"	TokenNameStringLiteral	&&
;	TokenNameSEMICOLON	
// CheckStyle:MagicNumber ON 	TokenNameCOMMENT_LINE	CheckStyle:MagicNumber ON 
System	TokenNameIdentifier	 System
.	TokenNameDOT	
arraycopy	TokenNameIdentifier	 arraycopy
(	TokenNameLPAREN	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
newcmd	TokenNameIdentifier	 newcmd
,	TokenNameCOMMA	
preCmdLength	TokenNameIdentifier	 pre Cmd Length
,	TokenNameCOMMA	
cmd	TokenNameIdentifier	 cmd
.	TokenNameDOT	
length	TokenNameIdentifier	 length
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
newcmd	TokenNameIdentifier	 newcmd
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * A command launcher for Mac that uses a dodgy mechanism to change * working directory before launching commands. */	TokenNameCOMMENT_JAVADOC	 A command launcher for Mac that uses a dodgy mechanism to change working directory before launching commands. 
private	TokenNameprivate	
static	TokenNamestatic	
class	TokenNameclass	
MacCommandLauncher	TokenNameIdentifier	 Mac Command Launcher
extends	TokenNameextends	
CommandLauncherProxy	TokenNameIdentifier	 Command Launcher Proxy
{	TokenNameLBRACE	
MacCommandLauncher	TokenNameIdentifier	 Mac Command Launcher
(	TokenNameLPAREN	
CommandLauncher	TokenNameIdentifier	 Command Launcher
launcher	TokenNameIdentifier	 launcher
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
launcher	TokenNameIdentifier	 launcher
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Launches the given command in a new process, in the given working * directory. * @param project the Ant project. * @param cmd the command line to execute as an array of strings. * @param env the environment to set as an array of strings. * @param workingDir working directory where the command should run. * @return the created Process. * @throws IOException forwarded from the exec method of the * command launcher. */	TokenNameCOMMENT_JAVADOC	 Launches the given command in a new process, in the given working directory. @param project the Ant project. @param cmd the command line to execute as an array of strings. @param env the environment to set as an array of strings. @param workingDir working directory where the command should run. @return the created Process. @throws IOException forwarded from the exec method of the command launcher. 
public	TokenNamepublic	
Process	TokenNameIdentifier	 Process
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
Project	TokenNameIdentifier	 Project
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
env	TokenNameIdentifier	 env
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
workingDir	TokenNameIdentifier	 working Dir
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
workingDir	TokenNameIdentifier	 working Dir
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
getProperties	TokenNameIdentifier	 get Properties
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"user.dir"	TokenNameStringLiteral	user.dir
,	TokenNameCOMMA	
workingDir	TokenNameIdentifier	 working Dir
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
return	TokenNamereturn	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
getProperties	TokenNameIdentifier	 get Properties
(	TokenNameLPAREN	
)	TokenNameRPAREN	
.	TokenNameDOT	
put	TokenNameIdentifier	 put
(	TokenNameLPAREN	
"user.dir"	TokenNameStringLiteral	user.dir
,	TokenNameCOMMA	
antWorkingDirectory	TokenNameIdentifier	 ant Working Directory
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * A command launcher that uses an auxiliary script to launch commands * in directories other than the current working directory. */	TokenNameCOMMENT_JAVADOC	 A command launcher that uses an auxiliary script to launch commands in directories other than the current working directory. 
private	TokenNameprivate	
static	TokenNamestatic	
class	TokenNameclass	
ScriptCommandLauncher	TokenNameIdentifier	 Script Command Launcher
extends	TokenNameextends	
CommandLauncherProxy	TokenNameIdentifier	 Command Launcher Proxy
{	TokenNameLBRACE	
ScriptCommandLauncher	TokenNameIdentifier	 Script Command Launcher
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
script	TokenNameIdentifier	 script
,	TokenNameCOMMA	
CommandLauncher	TokenNameIdentifier	 Command Launcher
launcher	TokenNameIdentifier	 launcher
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
launcher	TokenNameIdentifier	 launcher
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
myScript	TokenNameIdentifier	 my Script
=	TokenNameEQUAL	
script	TokenNameIdentifier	 script
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Launches the given command in a new process, in the given working * directory. * @param project the Ant project. * @param cmd the command line to execute as an array of strings. * @param env the environment to set as an array of strings. * @param workingDir working directory where the command should run. * @return the created Process. * @throws IOException forwarded from the exec method of the * command launcher. */	TokenNameCOMMENT_JAVADOC	 Launches the given command in a new process, in the given working directory. @param project the Ant project. @param cmd the command line to execute as an array of strings. @param env the environment to set as an array of strings. @param workingDir working directory where the command should run. @return the created Process. @throws IOException forwarded from the exec method of the command launcher. 
public	TokenNamepublic	
Process	TokenNameIdentifier	 Process
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
Project	TokenNameIdentifier	 Project
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
env	TokenNameIdentifier	 env
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
workingDir	TokenNameIdentifier	 working Dir
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
workingDir	TokenNameIdentifier	 working Dir
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
IOException	TokenNameIdentifier	 IO Exception
(	TokenNameLPAREN	
"Cannot locate antRun script: "	TokenNameStringLiteral	Cannot locate antRun script: 
+	TokenNamePLUS	
"No project provided"	TokenNameStringLiteral	No project provided
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Locate the auxiliary script 	TokenNameCOMMENT_LINE	Locate the auxiliary script 
String	TokenNameIdentifier	 String
antHome	TokenNameIdentifier	 ant Home
=	TokenNameEQUAL	
project	TokenNameIdentifier	 project
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
MagicNames	TokenNameIdentifier	 Magic Names
.	TokenNameDOT	
ANT_HOME	TokenNameIdentifier	 ANT  HOME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
antHome	TokenNameIdentifier	 ant Home
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
IOException	TokenNameIdentifier	 IO Exception
(	TokenNameLPAREN	
"Cannot locate antRun script: "	TokenNameStringLiteral	Cannot locate antRun script: 
+	TokenNamePLUS	
"Property '"	TokenNameStringLiteral	Property '
+	TokenNamePLUS	
MagicNames	TokenNameIdentifier	 Magic Names
.	TokenNameDOT	
ANT_HOME	TokenNameIdentifier	 ANT  HOME
+	TokenNamePLUS	
"' not found"	TokenNameStringLiteral	' not found
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
antRun	TokenNameIdentifier	 ant Run
=	TokenNameEQUAL	
FILE_UTILS	TokenNameIdentifier	 FILE  UTILS
.	TokenNameDOT	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
.	TokenNameDOT	
getBaseDir	TokenNameIdentifier	 get Base Dir
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
antHome	TokenNameIdentifier	 ant Home
+	TokenNamePLUS	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
separator	TokenNameIdentifier	 separator
+	TokenNamePLUS	
myScript	TokenNameIdentifier	 my Script
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Build the command 	TokenNameCOMMENT_LINE	Build the command 
File	TokenNameIdentifier	 File
commandDir	TokenNameIdentifier	 command Dir
=	TokenNameEQUAL	
workingDir	TokenNameIdentifier	 working Dir
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
workingDir	TokenNameIdentifier	 working Dir
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
commandDir	TokenNameIdentifier	 command Dir
=	TokenNameEQUAL	
project	TokenNameIdentifier	 project
.	TokenNameDOT	
getBaseDir	TokenNameIdentifier	 get Base Dir
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
newcmd	TokenNameIdentifier	 newcmd
=	TokenNameEQUAL	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
cmd	TokenNameIdentifier	 cmd
.	TokenNameDOT	
length	TokenNameIdentifier	 length
+	TokenNamePLUS	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
antRun	TokenNameIdentifier	 ant Run
;	TokenNameSEMICOLON	
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
commandDir	TokenNameIdentifier	 command Dir
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
arraycopy	TokenNameIdentifier	 arraycopy
(	TokenNameLPAREN	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
newcmd	TokenNameIdentifier	 newcmd
,	TokenNameCOMMA	
2	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
cmd	TokenNameIdentifier	 cmd
.	TokenNameDOT	
length	TokenNameIdentifier	 length
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
newcmd	TokenNameIdentifier	 newcmd
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
myScript	TokenNameIdentifier	 my Script
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * A command launcher that uses an auxiliary perl script to launch commands * in directories other than the current working directory. */	TokenNameCOMMENT_JAVADOC	 A command launcher that uses an auxiliary perl script to launch commands in directories other than the current working directory. 
private	TokenNameprivate	
static	TokenNamestatic	
class	TokenNameclass	
PerlScriptCommandLauncher	TokenNameIdentifier	 Perl Script Command Launcher
extends	TokenNameextends	
CommandLauncherProxy	TokenNameIdentifier	 Command Launcher Proxy
{	TokenNameLBRACE	
private	TokenNameprivate	
String	TokenNameIdentifier	 String
myScript	TokenNameIdentifier	 my Script
;	TokenNameSEMICOLON	
PerlScriptCommandLauncher	TokenNameIdentifier	 Perl Script Command Launcher
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
script	TokenNameIdentifier	 script
,	TokenNameCOMMA	
CommandLauncher	TokenNameIdentifier	 Command Launcher
launcher	TokenNameIdentifier	 launcher
)	TokenNameRPAREN	
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
launcher	TokenNameIdentifier	 launcher
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
myScript	TokenNameIdentifier	 my Script
=	TokenNameEQUAL	
script	TokenNameIdentifier	 script
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Launches the given command in a new process, in the given working * directory. * @param project the Ant project. * @param cmd the command line to execute as an array of strings. * @param env the environment to set as an array of strings. * @param workingDir working directory where the command should run. * @return the created Process. * @throws IOException forwarded from the exec method of the * command launcher. */	TokenNameCOMMENT_JAVADOC	 Launches the given command in a new process, in the given working directory. @param project the Ant project. @param cmd the command line to execute as an array of strings. @param env the environment to set as an array of strings. @param workingDir working directory where the command should run. @return the created Process. @throws IOException forwarded from the exec method of the command launcher. 
public	TokenNamepublic	
Process	TokenNameIdentifier	 Process
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
Project	TokenNameIdentifier	 Project
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
env	TokenNameIdentifier	 env
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
workingDir	TokenNameIdentifier	 working Dir
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
if	TokenNameif	
(	TokenNameLPAREN	
workingDir	TokenNameIdentifier	 working Dir
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
return	TokenNamereturn	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
IOException	TokenNameIdentifier	 IO Exception
(	TokenNameLPAREN	
"Cannot locate antRun script: "	TokenNameStringLiteral	Cannot locate antRun script: 
+	TokenNamePLUS	
"No project provided"	TokenNameStringLiteral	No project provided
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// Locate the auxiliary script 	TokenNameCOMMENT_LINE	Locate the auxiliary script 
String	TokenNameIdentifier	 String
antHome	TokenNameIdentifier	 ant Home
=	TokenNameEQUAL	
project	TokenNameIdentifier	 project
.	TokenNameDOT	
getProperty	TokenNameIdentifier	 get Property
(	TokenNameLPAREN	
MagicNames	TokenNameIdentifier	 Magic Names
.	TokenNameDOT	
ANT_HOME	TokenNameIdentifier	 ANT  HOME
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
antHome	TokenNameIdentifier	 ant Home
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
throw	TokenNamethrow	
new	TokenNamenew	
IOException	TokenNameIdentifier	 IO Exception
(	TokenNameLPAREN	
"Cannot locate antRun script: "	TokenNameStringLiteral	Cannot locate antRun script: 
+	TokenNamePLUS	
"Property '"	TokenNameStringLiteral	Property '
+	TokenNamePLUS	
MagicNames	TokenNameIdentifier	 Magic Names
.	TokenNameDOT	
ANT_HOME	TokenNameIdentifier	 ANT  HOME
+	TokenNamePLUS	
"' not found"	TokenNameStringLiteral	' not found
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
String	TokenNameIdentifier	 String
antRun	TokenNameIdentifier	 ant Run
=	TokenNameEQUAL	
FILE_UTILS	TokenNameIdentifier	 FILE  UTILS
.	TokenNameDOT	
resolveFile	TokenNameIdentifier	 resolve File
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
.	TokenNameDOT	
getBaseDir	TokenNameIdentifier	 get Base Dir
(	TokenNameLPAREN	
)	TokenNameRPAREN	
,	TokenNameCOMMA	
antHome	TokenNameIdentifier	 ant Home
+	TokenNamePLUS	
File	TokenNameIdentifier	 File
.	TokenNameDOT	
separator	TokenNameIdentifier	 separator
+	TokenNamePLUS	
myScript	TokenNameIdentifier	 my Script
)	TokenNameRPAREN	
.	TokenNameDOT	
toString	TokenNameIdentifier	 to String
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// Build the command 	TokenNameCOMMENT_LINE	Build the command 
File	TokenNameIdentifier	 File
commandDir	TokenNameIdentifier	 command Dir
=	TokenNameEQUAL	
workingDir	TokenNameIdentifier	 working Dir
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
workingDir	TokenNameIdentifier	 working Dir
==	TokenNameEQUAL_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
commandDir	TokenNameIdentifier	 command Dir
=	TokenNameEQUAL	
project	TokenNameIdentifier	 project
.	TokenNameDOT	
getBaseDir	TokenNameIdentifier	 get Base Dir
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
// CheckStyle:MagicNumber OFF 	TokenNameCOMMENT_LINE	CheckStyle:MagicNumber OFF 
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
newcmd	TokenNameIdentifier	 newcmd
=	TokenNameEQUAL	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
cmd	TokenNameIdentifier	 cmd
.	TokenNameDOT	
length	TokenNameIdentifier	 length
+	TokenNamePLUS	
3	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
;	TokenNameSEMICOLON	
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
"perl"	TokenNameStringLiteral	perl
;	TokenNameSEMICOLON	
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
1	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
antRun	TokenNameIdentifier	 ant Run
;	TokenNameSEMICOLON	
newcmd	TokenNameIdentifier	 newcmd
[	TokenNameLBRACKET	
2	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
=	TokenNameEQUAL	
commandDir	TokenNameIdentifier	 command Dir
.	TokenNameDOT	
getAbsolutePath	TokenNameIdentifier	 get Absolute Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
System	TokenNameIdentifier	 System
.	TokenNameDOT	
arraycopy	TokenNameIdentifier	 arraycopy
(	TokenNameLPAREN	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
newcmd	TokenNameIdentifier	 newcmd
,	TokenNameCOMMA	
3	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
cmd	TokenNameIdentifier	 cmd
.	TokenNameDOT	
length	TokenNameIdentifier	 length
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// CheckStyle:MagicNumber ON 	TokenNameCOMMENT_LINE	CheckStyle:MagicNumber ON 
return	TokenNamereturn	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
newcmd	TokenNameIdentifier	 newcmd
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
/** * A command launcher for VMS that writes the command to a temporary DCL * script before launching commands. This is due to limitations of both * the DCL interpreter and the Java VM implementation. */	TokenNameCOMMENT_JAVADOC	 A command launcher for VMS that writes the command to a temporary DCL script before launching commands. This is due to limitations of both the DCL interpreter and the Java VM implementation. 
private	TokenNameprivate	
static	TokenNamestatic	
class	TokenNameclass	
VmsCommandLauncher	TokenNameIdentifier	 Vms Command Launcher
extends	TokenNameextends	
Java13CommandLauncher	TokenNameIdentifier	 Java13 Command Launcher
{	TokenNameLBRACE	
public	TokenNamepublic	
VmsCommandLauncher	TokenNameIdentifier	 Vms Command Launcher
(	TokenNameLPAREN	
)	TokenNameRPAREN	
throws	TokenNamethrows	
NoSuchMethodException	TokenNameIdentifier	 No Such Method Exception
{	TokenNameLBRACE	
super	TokenNamesuper	
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Launches the given command in a new process. * @param project the Ant project. * @param cmd the command line to execute as an array of strings. * @param env the environment to set as an array of strings. * @return the created Process. * @throws IOException forwarded from the exec method of the * command launcher. */	TokenNameCOMMENT_JAVADOC	 Launches the given command in a new process. @param project the Ant project. @param cmd the command line to execute as an array of strings. @param env the environment to set as an array of strings. @return the created Process. @throws IOException forwarded from the exec method of the command launcher. 
public	TokenNamepublic	
Process	TokenNameIdentifier	 Process
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
Project	TokenNameIdentifier	 Project
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
File	TokenNameIdentifier	 File
cmdFile	TokenNameIdentifier	 cmd File
=	TokenNameEQUAL	
createCommandFile	TokenNameIdentifier	 create Command File
(	TokenNameLPAREN	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Process	TokenNameIdentifier	 Process
p	TokenNameIdentifier	 p
=	TokenNameEQUAL	
super	TokenNamesuper	
.	TokenNameDOT	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
cmdFile	TokenNameIdentifier	 cmd File
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
deleteAfter	TokenNameIdentifier	 delete After
(	TokenNameLPAREN	
cmdFile	TokenNameIdentifier	 cmd File
,	TokenNameCOMMA	
p	TokenNameIdentifier	 p
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
p	TokenNameIdentifier	 p
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/** * Launches the given command in a new process, in the given working * directory. Note that under Java 1.4.0 and 1.4.1 on VMS this * method only works if <code>workingDir</code> is null or the logical * JAVA$FORK_SUPPORT_CHDIR needs to be set to TRUE. * @param project the Ant project. * @param cmd the command line to execute as an array of strings. * @param env the environment to set as an array of strings. * @param workingDir working directory where the command should run. * @return the created Process. * @throws IOException forwarded from the exec method of the * command launcher. */	TokenNameCOMMENT_JAVADOC	 Launches the given command in a new process, in the given working directory. Note that under Java 1.4.0 and 1.4.1 on VMS this method only works if <code>workingDir</code> is null or the logical JAVA$FORK_SUPPORT_CHDIR needs to be set to TRUE. @param project the Ant project. @param cmd the command line to execute as an array of strings. @param env the environment to set as an array of strings. @param workingDir working directory where the command should run. @return the created Process. @throws IOException forwarded from the exec method of the command launcher. 
public	TokenNamepublic	
Process	TokenNameIdentifier	 Process
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
Project	TokenNameIdentifier	 Project
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
env	TokenNameIdentifier	 env
,	TokenNameCOMMA	
File	TokenNameIdentifier	 File
workingDir	TokenNameIdentifier	 working Dir
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
File	TokenNameIdentifier	 File
cmdFile	TokenNameIdentifier	 cmd File
=	TokenNameEQUAL	
createCommandFile	TokenNameIdentifier	 create Command File
(	TokenNameLPAREN	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
Process	TokenNameIdentifier	 Process
p	TokenNameIdentifier	 p
=	TokenNameEQUAL	
super	TokenNamesuper	
.	TokenNameDOT	
exec	TokenNameIdentifier	 exec
(	TokenNameLPAREN	
project	TokenNameIdentifier	 project
,	TokenNameCOMMA	
new	TokenNamenew	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
{	TokenNameLBRACE	
cmdFile	TokenNameIdentifier	 cmd File
.	TokenNameDOT	
getPath	TokenNameIdentifier	 get Path
(	TokenNameLPAREN	
)	TokenNameRPAREN	
}	TokenNameRBRACE	
,	TokenNameCOMMA	
env	TokenNameIdentifier	 env
,	TokenNameCOMMA	
workingDir	TokenNameIdentifier	 working Dir
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
deleteAfter	TokenNameIdentifier	 delete After
(	TokenNameLPAREN	
cmdFile	TokenNameIdentifier	 cmd File
,	TokenNameCOMMA	
p	TokenNameIdentifier	 p
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
return	TokenNamereturn	
p	TokenNameIdentifier	 p
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
/* * Writes the command into a temporary DCL script and returns the * corresponding File object. The script will be deleted on exit. * @param cmd the command line to execute as an array of strings. * @param env the environment to set as an array of strings. * @return the command File. * @throws IOException if errors are encountered creating the file. */	TokenNameCOMMENT_BLOCK	 Writes the command into a temporary DCL script and returns the corresponding File object. The script will be deleted on exit. @param cmd the command line to execute as an array of strings. @param env the environment to set as an array of strings. @return the command File. @throws IOException if errors are encountered creating the file. 
private	TokenNameprivate	
File	TokenNameIdentifier	 File
createCommandFile	TokenNameIdentifier	 create Command File
(	TokenNameLPAREN	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
cmd	TokenNameIdentifier	 cmd
,	TokenNameCOMMA	
String	TokenNameIdentifier	 String
[	TokenNameLBRACKET	
]	TokenNameRBRACKET	
env	TokenNameIdentifier	 env
)	TokenNameRPAREN	
throws	TokenNamethrows	
IOException	TokenNameIdentifier	 IO Exception
{	TokenNameLBRACE	
File	TokenNameIdentifier	 File
script	TokenNameIdentifier	 script
=	TokenNameEQUAL	
FILE_UTILS	TokenNameIdentifier	 FILE  UTILS
.	TokenNameDOT	
createTempFile	TokenNameIdentifier	 create Temp File
(	TokenNameLPAREN	
"ANT"	TokenNameStringLiteral	ANT
,	TokenNameCOMMA	
".COM"	TokenNameStringLiteral	.COM
,	TokenNameCOMMA	
null	TokenNamenull	
,	TokenNameCOMMA	
true	TokenNametrue	
,	TokenNameCOMMA	
true	TokenNametrue	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
BufferedWriter	TokenNameIdentifier	 Buffered Writer
out	TokenNameIdentifier	 out
=	TokenNameEQUAL	
null	TokenNamenull	
;	TokenNameSEMICOLON	
try	TokenNametry	
{	TokenNameLBRACE	
out	TokenNameIdentifier	 out
=	TokenNameEQUAL	
new	TokenNamenew	
BufferedWriter	TokenNameIdentifier	 Buffered Writer
(	TokenNameLPAREN	
new	TokenNamenew	
FileWriter	TokenNameIdentifier	 File Writer
(	TokenNameLPAREN	
script	TokenNameIdentifier	 script
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
// add the environment as logicals to the DCL script 	TokenNameCOMMENT_LINE	add the environment as logicals to the DCL script 
if	TokenNameif	
(	TokenNameLPAREN	
env	TokenNameIdentifier	 env
!=	TokenNameNOT_EQUAL	
null	TokenNamenull	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
int	TokenNameint	
eqIndex	TokenNameIdentifier	 eq Index
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
0	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
env	TokenNameIdentifier	 env
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
eqIndex	TokenNameIdentifier	 eq Index
=	TokenNameEQUAL	
env	TokenNameIdentifier	 env
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
indexOf	TokenNameIdentifier	 index Of
(	TokenNameLPAREN	
'='	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
if	TokenNameif	
(	TokenNameLPAREN	
eqIndex	TokenNameIdentifier	 eq Index
!=	TokenNameNOT_EQUAL	
-	TokenNameMINUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
"$ DEFINE/NOLOG "	TokenNameStringLiteral	$ DEFINE/NOLOG 
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
env	TokenNameIdentifier	 env
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
0	TokenNameIntegerLiteral	
,	TokenNameCOMMA	
eqIndex	TokenNameIdentifier	 eq Index
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
" ""	TokenNameStringLiteral	 "
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
env	TokenNameIdentifier	 env
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
.	TokenNameDOT	
substring	TokenNameIdentifier	 substring
(	TokenNameLPAREN	
eqIndex	TokenNameIdentifier	 eq Index
+	TokenNamePLUS	
1	TokenNameIntegerLiteral	
)	TokenNameRPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
'\"'	TokenNameCharacterLiteral	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
newLine	TokenNameIdentifier	 new Line
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
"$ "	TokenNameStringLiteral	$ 
+	TokenNamePLUS	
cmd	TokenNameIdentifier	 cmd
[	TokenNameLBRACKET	
0	TokenNameIntegerLiteral	
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
for	TokenNamefor	
(	TokenNameLPAREN	
int	TokenNameint	
i	TokenNameIdentifier	 i
=	TokenNameEQUAL	
1	TokenNameIntegerLiteral	
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
<	TokenNameLESS	
cmd	TokenNameIdentifier	 cmd
.	TokenNameDOT	
length	TokenNameIdentifier	 length
;	TokenNameSEMICOLON	
i	TokenNameIdentifier	 i
++	TokenNamePLUS_PLUS	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
" -"	TokenNameStringLiteral	 -
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
newLine	TokenNameIdentifier	 new Line
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
out	TokenNameIdentifier	 out
.	TokenNameDOT	
write	TokenNameIdentifier	 write
(	TokenNameLPAREN	
cmd	TokenNameIdentifier	 cmd
[	TokenNameLBRACKET	
i	TokenNameIdentifier	 i
]	TokenNameRBRACKET	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
finally	TokenNamefinally	
{	TokenNameLBRACE	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
close	TokenNameIdentifier	 close
(	TokenNameLPAREN	
out	TokenNameIdentifier	 out
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
return	TokenNamereturn	
script	TokenNameIdentifier	 script
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
private	TokenNameprivate	
void	TokenNamevoid	
deleteAfter	TokenNameIdentifier	 delete After
(	TokenNameLPAREN	
final	TokenNamefinal	
File	TokenNameIdentifier	 File
f	TokenNameIdentifier	 f
,	TokenNameCOMMA	
final	TokenNamefinal	
Process	TokenNameIdentifier	 Process
p	TokenNameIdentifier	 p
)	TokenNameRPAREN	
{	TokenNameLBRACE	
new	TokenNamenew	
Thread	TokenNameIdentifier	 Thread
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
public	TokenNamepublic	
void	TokenNamevoid	
run	TokenNameIdentifier	 run
(	TokenNameLPAREN	
)	TokenNameRPAREN	
{	TokenNameLBRACE	
try	TokenNametry	
{	TokenNameLBRACE	
p	TokenNameIdentifier	 p
.	TokenNameDOT	
waitFor	TokenNameIdentifier	 wait For
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
catch	TokenNamecatch	
(	TokenNameLPAREN	
InterruptedException	TokenNameIdentifier	 Interrupted Exception
e	TokenNameIdentifier	 e
)	TokenNameRPAREN	
{	TokenNameLBRACE	
//ignore 	TokenNameCOMMENT_LINE	ignore 
}	TokenNameRBRACE	
FileUtils	TokenNameIdentifier	 File Utils
.	TokenNameDOT	
delete	TokenNameIdentifier	 delete
(	TokenNameLPAREN	
f	TokenNameIdentifier	 f
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
.	TokenNameDOT	
start	TokenNameIdentifier	 start
(	TokenNameLPAREN	
)	TokenNameRPAREN	
;	TokenNameSEMICOLON	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
}	TokenNameRBRACE	
